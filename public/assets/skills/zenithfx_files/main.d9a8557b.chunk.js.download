(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,a,t){e.exports=t(255)},173:function(e,a,t){},190:function(e,a,t){},191:function(e,a,t){},254:function(e,a,t){},255:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(154),c=t.n(r),o=t(14),m=(t(173),t(174),t(16)),u=t(276),s=t(274),i=t(158),E=[];E.ERR0000="Unidentified Error. Please contact to administrator",E.MSG0000="SUCCESS",E.MSG0001="Invalid username or password.",E.MSG0002="Session has been expired. Please login again.",E.MSG0003="User is inactive.",E.MSG0004="User is blocked by Admin or Head office.",E.MSG0005="Please check password policy.",E.MSG0006="Please fill mandatory feilds.",E.MSG0007="Date of birth sould be less than today.",E.MSG0008="Payment does not tally. Please check.",E.MSG0009="New password and confirm password does not match.",E.MSG0010="Date should be within financial year.",E.WRN0000="Do you really want to discard the changes.",E.MSG0011="Entry can't be made for Future date.";const d=e=>E[e],p="/api/picklist_a.php",b="/api/login_a.php",g="/api/user_a.php",h="/api/country_a.php",S="/api/state_a.php",y="/api/city_a.php",O="/api/isd_a.php",N="/api/issuer_a.php",v="/api/entity_a.php",C="/api/right_group_a.php",_="/api/right_a.php",f="/api/purpose_a.php",j="/api/idtype_a.php",T="/api/dealer_a.php",k="/api/voucher_a.php",D="/api/ledger_a.php",L="/api/region_a.php",x="/api/country_class_a.php",A="/api/division_a.php",I="/api/risk_a.php",w="/api/business_nature_a.php",M="/api/legal_entity_a.php",F="/api/district_a.php",R="/api/cost_center_a.php",G="/api/gst_classification_a.php",P="/api/msme_a.php",J="/api/designation_a.php",B="/api/executive_a.php",q="/api/voucher_type_a.php",z="/api/individual_profile_a.php",V="/api/doc_link_a.php",Q="/api/report_a.php",U="/api/document_a.php",Y="/api/finyear_a.php",K="/api/tran_pp_a.php",H="/api/tran_opn_trial_a.php",W="/api/residential_status_a.php",X="/api/opn_bank_statement_a.php",Z="/api/vtm_encashment_a.php",$="/api/tran_book_entry_a.php",ee="/api/tran_pb_a.php",ae="/api/tran_sp_a.php",te="/api/tran_trf_vtc_a.php",le="/api/cheque_deposit_a.php",ne="/api/bank_cheque_book_out_a.php",re="/api/download_format_a.php",ce="/api/print_a.php",oe="/api/sample_checkbox_a.php",me="/api/tran_trf_manual_book_a.php",ue="/api/calc_invoice_a.php",se="/api/tran_transfer_out_vtc_a.php",ie="/api/tran_sb_a.php",Ee="/api/ledger_link_a.php",de="/api/inter_branch_entry_a.php",pe="/api/IBR_a.php",be="/api/tran_data_unlock_a.php",ge="/api/currency_write_off_a.php",he="/api/tran_pi_a.php",Se="/api/unlock_a.php",ye="/api/glb_vtm_settlement_a.php",Oe="/api/fund_request_a.php",Ne="/api/tran_module_payment_a.php",ve="/api/commission_a.php",Ce="/api/creditlimit_a.php",_e=1,fe=10,je=new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,20}$");function Te(e){return"number"!=typeof e&&null!=e&&(e=(e=(e=(e=(e=e.replace(/\#/g,"^^hash^^")).replace(/\+/g,"^^plus^^")).replace(/\%/g,"^^mod^^")).replace(/\&amp;/g,"^^and^^")).replace(/\&/g,"^^and^^")),e}function ke(){if(window.XMLHttpRequest)return new XMLHttpRequest}const De=(e,a,t)=>{var l="";if("undefined"!=typeof a)for(let r=0;r<a.length;r++)l.length>0&&(l+="&"),l=l+(r+1)+"="+Te(a[r]);var n=new ke;n.onreadystatechange=function(){if(4===n.readyState){var e=n.responseText.replace(/[\r\n\s]*</g,"<").replace(/[\r\n\s]*$/g,"");if(e.indexOf(".php")>=0)alert(e);else if('{"status": "MSG0002"}'===e.trim()){sessionStorage.clear();const e=window.location.href.split("/");window.location.replace(e[0]+"//"+e[2]+"/")}else t(e)}},n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(l)},Le=new RegExp("^([a-zA-Z ]+)$"),xe=(e,a)=>{if(""!==e&&!Le.test(e))return!1;a(e)},Ae=new RegExp("^([0-9]+)$"),Ie=(e,a)=>{if(""!==e&&!Ae.test(e))return!1;a(e)},we=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$"),Me=(e,a)=>{if(""!==e&&!we.test(e))return!1;a(e)},Fe=new RegExp("^([0-9a-zA-Z]+)$"),Re=(e,a)=>{if(""!==e&&!Fe.test(e))return!1;a(e)},Ge=new RegExp("^([0-9a-zA-Z ]+)$"),Pe=(e,a)=>{if(""!==e&&!Ge.test(e))return!1;a(e)},Je=(new RegExp("^([0-9a-zA-Z- ]+)$"),new RegExp("^([0-9a-zA-Z/-_!@$^*()#%& ]+)$")),Be=(e,a)=>{if(""!==e&&!Je.test(e))return!1;a(e)},qe=new RegExp("^[a-zA-Z0-9_.-]+@[a-zA-Z0-9]+[.]+[A-Za-z]+$"),ze=(e,a)=>{""===e||qe.test(e)?a(e):a("")},Ve=new RegExp("^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$"),Qe=(e,a)=>{var t=(e=e.toUpperCase()).substring(3,4);(""===e||Ve.test(e))&&/([A,B,C,F,G,H,J,L,P,T])/.test(t)?a(e):a("")},Ue=e=>{if(""===e||null===e)return e;var a=e.toString();return a=a.replace("00:00:00 GMT+0530","05:30:00 GMT+0530"),(e=new Date(a)).toJSON().slice(0,10)},Ye=e=>""===e||null===e?e:e.toJSON().slice(0,10).split("-").reverse().join("/"),Ke=e=>""===e||null===e?e:e.slice(0,10).split("-").reverse().join("/"),He=(e,a,t)=>{if(e.length>0)for(var l=0;l<e.length;++l)e[l][a]===t&&e.splice(l,1);return e},We=(e,a)=>(e.push(a),e),Xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return((Math.random()+1).toString(36).substring(2)+(Math.random()+1).toString(36).substring(2)).substring(0,e)},Ze=(e,a,t)=>{var l=document.getElementById(a).files[0],n=new FormData;n.append("1",e),n.append("file",l,l.name);var r=new XMLHttpRequest;r.open("POST","/api/upload_a.php",!0),r.onload=function(){if(200===r.status){var e=r.responseText.replace(/[\r\n\s]*</g,"<").replace(/[\r\n\s]*$/g,"");if(e.indexOf(".php")>=0)alert(e);else if('{"status": "MSG0002"}'===e.trim()){sessionStorage.clear();const e=window.location.href.split("/");window.location.replace(e[0]+"//"+e[2]+"/")}else t(e)}else t("Upload error. Try again.")},r.send(n)},$e=(e,a,t)=>{var l=document.createElement("form");l.setAttribute("method",a),l.setAttribute("action",e),l._submit_function_=l.submit;for(var n=1;n<=t.length;n++){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",n),r.setAttribute("value",t[n-1]),l.appendChild(r)}document.body.appendChild(l),l._submit_function_()},ea=(e,a,t)=>{var l="";if("undefined"!=typeof a)for(let r=0;r<a.length;r++)l.length>0&&(l+="&"),l=l+(r+1)+"="+Te(a[r]);var n=new ke;n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(l)},aa=(e,a)=>{var t=e.length;2!==t&&5!==t||(a.value=e+"/")},ta=e=>{var a="",t=0;if("undefined"!=typeof e)for(;t<e.length;t++)""!==e[t]&&(a=a+"<div class='row'><div class='col-sm-12'>"+e[t]+"</div></div>");return a};const la=new RegExp("^[A-Z][1-9]\\d\\s?\\d{4}[1-9]$"),na=(e,a)=>{""===e||la.test(e)?a(e):a("")},ra=new RegExp("^[2-9]{1}[0-9]{3}[0-9]{4}[0-9]{4}$"),ca=(e,a)=>{""===(e=e.toUpperCase())||ra.test(e)?a(e):a("")};function oa(){return new Promise((e,a)=>{const t=sessionStorage.getItem("sessionId"),l=sessionStorage.getItem("activeBranch");De(v,[t,"activelocation",l],a=>{const t=JSON.parse(a);e(t)})})}const ma=new RegExp("^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$"),ua=(e,a)=>{""===(e=e.toUpperCase())||ma.test(e)?a(e):a("")},sa=new RegExp("^[A-Z]{4}0[A-Z0-9]{6}$");const ia=new RegExp("^[6-9]{1}[0-9]{9}$"),Ea=(e,a)=>{""===e||ia.test(e)?a(e):a("")};var da=t(78),pa=t(3),ba=t(7);let ga={width:"500px",maxWidth:"100%",margin:"0 auto",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)",zindex:"999",backgroundColor:"#fff",padding:"10px 20px 40px",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 0 40px 20px rgba(0,0,0,0.26)"},ha={marginBottom:"15px",padding:"3px 8px",cursor:"pointer",borderRadius:"50%",border:"none",width:"30px",height:"30px",fontWeight:"bold",alignSelf:"flex-end"};var Sa=function(e){let a=n.a.createElement("div",{style:ga},n.a.createElement("button",{style:ha,onClick:e.onClose},n.a.createElement(pa.a,{icon:ba.g})),n.a.createElement("div",null,Object(da.a)(e.children)),n.a.createElement("br",null),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:e.onClose},"OK")));return e.isOpen||(a=null),n.a.createElement("div",null,a)},ya=t(265),Oa=t(266),Na=t(159),va=t(267);let Ca={marginBottom:"1px"},_a={height:"80px"};var fa=function(){var e,a;const t=Object(m.n)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{xs:4},n.a.createElement(va.a,{style:_a,src:"img/logo.png",fluid:!0,onClick:e=>t("/home")})),n.a.createElement(Na.a,{xs:8},n.a.createElement("div",{className:"divContentRight",style:Ca},"Zenith Leisure Holidays Limited",n.a.createElement("br",null),"Financial Year : ",sessionStorage.getItem("finyear"),"\xa0(",null===(e=sessionStorage.getItem("startDate"))||void 0===e?void 0:e.split("-").reverse().join("/")," \xa0",null===(a=sessionStorage.getItem("endDate"))||void 0===a?void 0:a.split("-").reverse().join("/"),")",n.a.createElement("br",null),sessionStorage.getItem("userId"),":",sessionStorage.getItem("userName")))))))},ja=t(8),Ta=t(130);t(190);var ka=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]);function u(a){switch(clearInterval(sessionStorage.myInterval),a){case 0:sessionStorage.clear(),e("/");break;case"home":e("/home");break;case"userlist":e("/user-list");break;case"right":e("/right-list");break;case"country":e("/country-list");break;case"city":e("/city-list");break;case"state":e("/state-list");break;case"district":e("/district-list");break;case"issuer":e("/issuer-list");break;case"purpose":e("/purpose-list");break;case"currency":e("/isd-list");break;case"idtype":e("/id-type");break;case"dealer":e("/dealer-list");break;case"vouchergroup":e("/voucher-group");break;case"voucherledger":e("/voucher-ledger");break;case"region":e("/region-list");break;case"countryclass":e("/country-class");break;case"division":e("/division-list");break;case"risk":e("/risk-list");break;case"businessnature":e("/business-nature");break;case"legalentity":e("/legal-entity");break;case"costcenter":e("/cost-center");break;case"gstclassification":e("/gst-classification");break;case"msme":e("/msme");break;case"designation":e("/designation");break;case"executive":e("/executive");break;case"vouchertype":e("/voucher-type");break;case"purchasepublic":e("/purchase-from-public");break;case"purchasebulk":e("/purchase-bulk");break;case"individualprofile":e("/individual-profile");break;case"groupdoc":e("/group-doc");break;case"finyear":e("/financial-year");break;case"sampleform":e("/sampleform");break;case"trial":e("/tran-opn-trial");break;case"residentialstatus":e("/residential-status");break;case"cmrcmp":e("/tran-opn-cmrcmp");break;case"stock":e("/tran-currency-stock");break;case"vtc":e("/tran-opn-vtc");break;case"bankstatement":e("/opn-bank-statement");break;case"tc":e("/tran-opn-tc");break;case"etc":e("/tran-opn-etc");break;case"vtmencash":e("/vtm-encashment");break;case"evtm":e("/tran-opn-evtm");break;case"tc-settlement":e("/tc-settlement");break;case"vtm-settlement":e("/vtm-settlement");break;case"chequebookin":e("/cheque-book-in");break;case"fa-book-entry":e("/fa-book-entry");break;case"salespublic":e("/sale-public");break;case"transfer-vtc":e("/transfer-vtc");break;case"chequedeposit":e("/cheque-deposit");break;case"chequebookout":e("/cheque-book-out");break;case"chequebounce":e("/received-cheque-bounce");break;case"issuechequebounce":e("/issue-cheque-bounce");break;case"bankreconciliation":e("/bank-reconciliation");break;case"testing":e("/testing");break;case"manual-book":e("/manual-book");break;case"ledger":e("/ledger");break;case"salebulk":e("/sale-bulk");break;case"trialbalance":e("/trial-balance");break;case"transferoutvtc":e("/out-vtc");break;case"transeroutcurrency":e("/out-currency");break;case"acceptinterbranch":e("/accept-interbranch");break;case"repfinrecvbillwisedetail":e("/rep-fin-recv-bill-wise-detail");break;case"ledgerlink":e("/ledger-link");break;case"chequeinhandreport":e("/cheque-in-hand-report");break;case"chequeusedreport":e("/cheque-used-report");break;case"ib-entry":e("/ib-entry");break;case"margin":e("/margin");break;case"ibr":e("/ibr");break;case"dataunlock":e("/data-unlock");break;case"transactionreport":e("/transaction-report");break;case"currencywriteoff":e("/currency-writeoff");break;case"purchaseinvoice":e("/purchase-invoice");break;case"globalvtmsettle":e("/global-vtm-settlement");break;case"currencychange":e("/currency-change");break;case"cancellation":e("/cancellation");break;case"entity":e("/entity");break;case"settlement-vtm":e("/settlement-vtm");break;case"expense-transfer":e("/expense-transfer");break;case"fund-transfer":e("/fund-transfer");break;case"stockinhandreport":e("/stock-in-hand-report");break;case"manualbookreport":e("/manual-book-report");break;case"fundRequest":e("/fund-request");break;case"masterdsr":e("/master-dsr");break;case"flmreport":e("/flm-report");break;case"fxdocument":e("/fx-document");break;case"evtmsurrender":e("/evtm-surrender");break;case"commission":e("/commission-module");break;case"conveyance":e("/conveyance-module");break;case"tranmodulepayment":e("/tran-module-payment");break;case"agentlinking":e("/agent-linking");break;case"chngpass":e("/changepassword");break;case"billwisedetailpayable":e("/bill-wise-detail-payable");break;case"commissiontds":e("/commission-tds");break;case"tranpaymentreport":e("/tran-payment-report");break;case"activityreport":e("/activity-log-report");break;case"additionallimit":e("/additional-limit");break;case"ratecard":e("/rate-card");break;case"repcommissionstatus":e("/commission-status");break;default:e("/")}}return Object(l.useEffect)(()=>{t||(De(_,[a,"allrightquery"],function(a){let t,l,n;try{t=Ta.Buffer.from(a,"base64").toString(),l=JSON.parse(t)}catch(r){l=JSON.parse('{"LOGOUT": ""}')}try{n=JSON.parse(a)}catch(r){n=JSON.parse('{"status": ""}')}o(l),console.log(l),"0"!==l.LOGOUT&&"MSG0002"!==n.status||e("/")}),r(!0))},[t,a]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"textRight mt-0 p-0 userStrip"}),n.a.createElement("div",{className:"menuBar"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:e=>u("home")},n.a.createElement("div",{className:"menuHomeIcon"},n.a.createElement(pa.a,{icon:ja.k,className:"menuIcon"}),"\xa0")),n.a.createElement("li",{style:{display:"1"===c.MASTER?"block":"none"}},n.a.createElement("div",null,n.a.createElement(pa.a,{icon:ja.m,className:"menuIcon"}),"\xa0Master"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.INDIVIDUALPROFILE?"block":"none"},onClick:e=>u("individualprofile")},n.a.createElement("div",null,"Individual Profile")),n.a.createElement("li",{style:{display:"1"===c.MASTER_RATE?"block":"none"}},n.a.createElement("div",null,"Rate\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.MARGIN?"block":"none"},onClick:e=>u("margin")},n.a.createElement("div",null,"Margin")),n.a.createElement("li",{style:{display:"1"===c.IBR?"block":"none"},onClick:e=>u("ibr")},n.a.createElement("div",null,"IBR"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_FINANCIAL?"block":"none"}},n.a.createElement("div",null,"Financial\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.MASTER_FINANCIAL_PARAMETER?"block":"none"}},n.a.createElement("div",null,"Parameters\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.VOUCHERTYPE?"block":"none"},onClick:e=>u("vouchertype")},n.a.createElement("div",null,"Voucher Type")),n.a.createElement("li",{style:{display:"1"===c.DOCUMENTLINK?"block":"none"},onClick:e=>u("groupdoc")},n.a.createElement("div",null,"Group Document")),n.a.createElement("li",{style:{display:"1"===c.DEALERLIST?"block":"none"},onClick:e=>u("dealer")},n.a.createElement("div",null,"Dealer Category")),n.a.createElement("li",{style:{display:"1"===c.RISK?"block":"none"},onClick:e=>u("risk")},n.a.createElement("div",null,"Risk")),n.a.createElement("li",{style:{display:"1"===c.BUSINESSNATURE?"block":"none"},onClick:e=>u("businessnature")},n.a.createElement("div",null,"Business Nature")),n.a.createElement("li",{style:{display:"1"===c.LEGALSTATUS?"block":"none"},onClick:e=>u("legalentity")},n.a.createElement("div",null,"Legal Entity")),n.a.createElement("li",{style:{display:"1"===c.GSTCLASSIFICATION?"block":"none"},onClick:e=>u("gstclassification")},n.a.createElement("div",null,"GST Cassification")),n.a.createElement("li",{style:{display:"1"===c.MSME?"block":"none"},onClick:e=>u("msme")},n.a.createElement("div",null,"MSME"))))),n.a.createElement("li",{style:{display:"1"===c.VOUCHERGROUP?"block":"none"},onClick:e=>u("vouchergroup")},n.a.createElement("div",null,"Voucher Group")),n.a.createElement("li",{style:{display:"1"===c.VOUCHERLEDGER?"block":"none"},onClick:e=>u("voucherledger")},n.a.createElement("div",null,"Voucher Ledger")),n.a.createElement("li",{style:{display:"1"===c.MASTER_LEDGER_LINK?"block":"none"},onClick:e=>u("ledgerlink")},n.a.createElement("div",null,"Ledger Link")),n.a.createElement("li",{style:{display:"1"===c.MASTER_AGENT_LINK?"block":"none"},onClick:e=>u("agentlinking")},n.a.createElement("div",null,"Agent Link"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_ACCESS?"block":"none"}},n.a.createElement("div",null,"Access\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.RIGHT?"block":"none"},onClick:e=>u("right")},n.a.createElement("div",null,"Right")),n.a.createElement("li",{style:{display:"1"===c.USER?"block":"none"},onClick:e=>u("userlist")},n.a.createElement("div",null,"User"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_AREA?"block":"none"}},n.a.createElement("div",null,"Area\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REGION?"block":"none"},onClick:e=>u("region")},n.a.createElement("div",null,"Region")),n.a.createElement("li",{style:{display:"1"===c.COUNTRYCLASS?"block":"none"},onClick:e=>u("countryclass")},n.a.createElement("div",null,"Country class")),n.a.createElement("li",{style:{display:"1"===c.COUNTRY?"block":"none"},onClick:e=>u("country")},n.a.createElement("div",null,"Country")),n.a.createElement("li",{style:{display:"1"===c.STATE?"block":"none"},onClick:e=>u("state")},n.a.createElement("div",null,"State")),n.a.createElement("li",{style:{display:"1"===c.DISTRICT?"block":"none"},onClick:e=>u("district")},n.a.createElement("div",null,"District")),n.a.createElement("li",{style:{display:"1"===c.CITY?"block":"none"},onClick:e=>u("city")},n.a.createElement("div",null,"City"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_PARAMETER?"block":"none"}},n.a.createElement("div",null,"Parameter\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.DIVISION?"block":"none"},onClick:e=>u("division")},n.a.createElement("div",null,"Division")),n.a.createElement("li",{style:{display:"1"===c.COSTCENTER?"block":"none"},onClick:e=>u("costcenter")},n.a.createElement("div",null,"Cost Center")),n.a.createElement("li",{style:{display:"1"===c.DESIGNATION?"block":"none"},onClick:e=>u("designation")},n.a.createElement("div",null,"Designation")),n.a.createElement("li",{style:{display:"1"===c.EXECUTIVE?"block":"none"},onClick:e=>u("executive")},n.a.createElement("div",null,"Executive")),n.a.createElement("li",{style:{display:"1"===c.MASTER_RESIDENTIAL?"block":"none"},onClick:e=>u("residentialstatus")},n.a.createElement("div",null,"Residential Status")),n.a.createElement("li",{style:{display:"1"===c.CURRENCY?"block":"none"},onClick:e=>u("currency")},n.a.createElement("div",null,"Currency")),n.a.createElement("li",{style:{display:"1"===c.ISSUER?"block":"none"},onClick:e=>u("issuer")},n.a.createElement("div",null,"Issuer")),n.a.createElement("li",{style:{display:"1"===c.PURPOSE?"block":"none"},onClick:e=>u("purpose")},n.a.createElement("div",null,"Purpose")),n.a.createElement("li",{style:{display:"1"===c.IDTYPE?"block":"none"},onClick:e=>u("idtype")},n.a.createElement("div",null,"ID type"))))),n.a.createElement("li",{style:{display:"1"===c.ENTITY?"block":"none"},onClick:e=>u("entity")},n.a.createElement("div",null,"Entity")),n.a.createElement("li",{style:{display:"1"===c.USER?"block":"none"},onClick:e=>u("finyear")},n.a.createElement("div",null,"Fin Year")),n.a.createElement("li",{style:{display:"1"===c.USER?"block":"none"},onClick:e=>u("sampleform")},n.a.createElement("div",null,"Sample")),n.a.createElement("li",{style:{display:"1"===c.MASTER_DSR?"block":"none"},onClick:e=>u("masterdsr")},n.a.createElement("div",null,"DSR"))))),n.a.createElement("li",{style:{display:"1"===c.TRANSACTION?"block":"none"}},n.a.createElement("div",null,n.a.createElement(pa.a,{icon:ja.n,className:"menuIcon"}),"\xa0Transaction"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_PURCHASES?"block":"none"}},n.a.createElement("div",null,"Purchases\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_PP?"block":"none"},onClick:e=>u("purchasepublic")},n.a.createElement("div",null,"From public")),n.a.createElement("li",{style:{display:"1"===c.TRAN_VTM_REQUEST?"block":"none"},onClick:e=>u("vtmencash")},n.a.createElement("div",null,"VTM Encashment")),n.a.createElement("li",{style:{display:"1"===c.TRAN_PB?"block":"none"},onClick:e=>u("purchasebulk")},n.a.createElement("div",null,"Bulk")),n.a.createElement("li",{style:{display:"1"===c.TRAN_PI?"block":"none"},onClick:e=>u("purchaseinvoice")},n.a.createElement("div",null,"Invoice")),n.a.createElement("li",{style:{display:"1"===c.TRAN_SETTLEMENT_VTM?"block":"none"},onClick:e=>u("settlement-vtm")},n.a.createElement("div",null,"Settlement VTM")),n.a.createElement("li",{style:{display:"1"===c.TRAN_GL_SETTLEMENT_VTM?"block":"none"},onClick:e=>u("globalvtmsettle")},n.a.createElement("div",null,"Global Settl. VTM"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_SALES?"block":"none"}},n.a.createElement("div",null,"Sales\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_SP?"block":"none"},onClick:e=>u("salespublic")},n.a.createElement("div",null,"Public")),n.a.createElement("li",{style:{display:"1"===c.TRAN_SB?"block":"none"},onClick:e=>u("salebulk")},n.a.createElement("div",null,"Bulk")),n.a.createElement("li",{style:{display:"1"===c.TRAN_EVTM_SURRENDER?"block":"none"},onClick:e=>u("evtmsurrender")},n.a.createElement("div",null,"EVTM Surrender"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_VOUCHER?"block":"none"}},n.a.createElement("div",null,"Voucher\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_BOOK_ENTRY?"block":"none"},onClick:e=>u("fa-book-entry")},n.a.createElement("div",null,"FA Book")),n.a.createElement("li",{style:{display:"1"===c.INTER_BRANCH_ENTRY?"block":"none"},onClick:e=>u("ib-entry")},n.a.createElement("div",null,"IB Entry"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF?"block":"none"}},n.a.createElement("div",null,"Transfer In \xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_VTC?"block":"none"},onClick:e=>u("transfer-vtc")},n.a.createElement("div",null,"VTC")),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_MANUAL_BOOK?"block":"none"},onClick:e=>u("manual-book")},n.a.createElement("div",null,"Manual Book"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_OUT?"block":"none"}},n.a.createElement("div",null,"Transfer Out \xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_OUT_VTC?"block":"none"},onClick:e=>u("transferoutvtc")},n.a.createElement("div",null,"VTC")),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_OUT_CURRENCY?"block":"none"},onClick:e=>u("transeroutcurrency")},n.a.createElement("div",null,"Currency")),n.a.createElement("li",{style:{display:"1"===c.TRAN_ACCEPT_BRANCH?"block":"none"},onClick:e=>u("acceptinterbranch")},n.a.createElement("div",null,"Accept Inter Branch"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPENING?"block":"none"}},n.a.createElement("div",null,"Opening\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_FINANCIAL?"block":"none"}},n.a.createElement("div",null,"Financial\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_TRIAL?"block":"none"},onClick:e=>u("trial")},n.a.createElement("div",null,"Trial")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_CMRCMP?"block":"none"},onClick:e=>u("cmrcmp")},n.a.createElement("div",null,"CMR/CMP")),n.a.createElement("li",{style:{display:"1"===c.OPN_BANK_STATEMENT?"block":"none"},onClick:e=>u("bankstatement")},n.a.createElement("div",null,"Bank Statement"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_STOCK?"block":"none"}},n.a.createElement("div",null,"Stock\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_CURRENCY_STOCK?"block":"none"},onClick:e=>u("stock")},n.a.createElement("div",null,"Currency Stock")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_VTC?"block":"none"},onClick:e=>u("vtc")},n.a.createElement("div",null,"VTC In Stock")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_TC?"block":"none"},onClick:e=>u("tc")},n.a.createElement("div",null,"TC")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_ETC?"block":"none"},onClick:e=>u("etc")},n.a.createElement("div",null,"ETC")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_EVTM?"block":"none"},onClick:e=>u("evtm")},n.a.createElement("div",null,"EVTM"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_LIABILITY?"block":"none"}},n.a.createElement("div",null,"Liability\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_TC_SETTLEMENT?"block":"none"},onClick:e=>u("tc-settlement")},n.a.createElement("div",null,"TC Settlement")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_VTM_SETTLEMENT?"block":"none"},onClick:e=>u("vtm-settlement")},n.a.createElement("div",null,"VTM Settlement")))))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_UTILITY?"block":"none"}},n.a.createElement("div",null,"Utility\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_DATA_UNLOCK?"block":"none"},onClick:e=>u("dataunlock")},n.a.createElement("div",null,"Data Unlock")),n.a.createElement("li",{style:{display:"1"===c.CANCELLATION?"block":"none"},onClick:e=>u("cancellation")},n.a.createElement("div",null,"Cancellation"))))),n.a.createElement("li",{style:{display:"1"===c.OTHERS?"block":"none"}},n.a.createElement("div",null,"Others\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.CURRENCY_WRITE_OFF?"block":"none"},onClick:e=>u("currencywriteoff")},n.a.createElement("div",null,"Currency Write Off")),n.a.createElement("li",{style:{display:"1"===c.CURRENCY_CHANGE?"block":"none"},onClick:e=>u("currencychange")},n.a.createElement("div",null,"Currency Change")),n.a.createElement("li",{style:{display:"1"===c.EXPENSE_TRANSFER?"block":"none"},onClick:e=>u("expense-transfer")},n.a.createElement("div",null,"Expense Transfer")),n.a.createElement("li",{style:{display:"1"===c.FUND_TRANSFER?"block":"none"},onClick:e=>u("fund-transfer")},n.a.createElement("div",null,"Fund Transfer")),n.a.createElement("li",{style:{display:"1"===c.TRAN_COMMISSION?"block":"none"},onClick:e=>u("commission")},n.a.createElement("div",null,"Commission")),n.a.createElement("li",{style:{display:"1"===c.TRAN_CONVEYANCE?"block":"none"},onClick:e=>u("conveyance")},n.a.createElement("div",null,"Conveyance Entry")),n.a.createElement("li",{style:{display:"1"===c.TRAN_MODULE_PAYMENT?"block":"none"},onClick:e=>u("tranmodulepayment")},n.a.createElement("div",null,"Payment Module")),n.a.createElement("li",{style:{display:"1"===c.TRAN_ADDITIONAL_CREDIT?"block":"none"},onClick:e=>u("additionallimit")},n.a.createElement("div",null,"Additional Limit"))))),n.a.createElement("li",{style:{display:"1"===c.FUND_REQUEST?"block":"none"},onClick:e=>u("fundRequest")},n.a.createElement("div",null,"Fund Request")),n.a.createElement("li",{style:{display:"1"===c.FX_DOCUMENT_UPLOAD?"block":"none"},onClick:e=>u("fxdocument")},n.a.createElement("div",null,"Fx Document Upload"))))),n.a.createElement("li",{style:{display:"1"===c.BANK?"block":"none"}},n.a.createElement("div",null,n.a.createElement(pa.a,{icon:ja.a,className:"menuIcon"}),"\xa0Bank"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.BANK_CHEQUES?"block":"none"}},n.a.createElement("div",null,"Cheques\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.BANK_TRANSFER_IN?"block":"none"},onClick:e=>u("chequebookin")},n.a.createElement("div",null,"Book Transfer In")),n.a.createElement("li",{style:{display:"1"===c.BANK_TRANSFER_OUT?"block":"none"},onClick:e=>u("chequebookout")},n.a.createElement("div",null,"Transfer Out")),n.a.createElement("li",{style:{display:"1"===c.CHEQUE_DEPOSIT?"block":"none"},onClick:e=>u("chequedeposit")},n.a.createElement("div",null,"Cheque Deposit ")),n.a.createElement("li",{style:{display:"1"===c.RECEIVED_CHEQUE_BOUNCE?"block":"none"},onClick:e=>u("chequebounce")},n.a.createElement("div",null,"Received Cheque Bounce")),n.a.createElement("li",{style:{display:"1"===c.ISSUE_CHEQUE_BOUNCE?"block":"none"},onClick:e=>u("issuechequebounce")},n.a.createElement("div",null,"Issue Cheque Bounce")),n.a.createElement("li",{style:{display:"1"===c.BANK_RECONCILIATION?"block":"none"},onClick:e=>u("bankreconciliation")},n.a.createElement("div",null,"Bank Reconciliation")))))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS?"block":"none"}},n.a.createElement("div",null,n.a.createElement(pa.a,{icon:ja.d,className:"menuIcon"}),"\xa0Reports"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS_MIS?"block":"none"}},n.a.createElement("div",null,"MIS\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRANSACTION_REPORT?"block":"none"},onClick:e=>u("transactionreport")},n.a.createElement("div",null,"Transaction")),n.a.createElement("li",{style:{display:"1"===c.MANUAL_BOOK_REPORT?"block":"none"},onClick:e=>u("manualbookreport")},n.a.createElement("div",null,"Manual Book Report")),n.a.createElement("li",{style:{display:"1"===c.REPORTS?"block":"none"},onClick:e=>u("testing")},n.a.createElement("div",null,"Testing")),n.a.createElement("li",{style:{display:"1"===c.REPORTS_MIS_CURRENCY?"block":"none"}},n.a.createElement("div",null,"Currency\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.STOCK_IN_HAND_REPORT?"block":"none"},onClick:e=>u("stockinhandreport")},n.a.createElement("div",null,"Stock in Hand Report"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_PAYMENT_REPORT?"block":"none"},onClick:e=>u("tranpaymentreport")},n.a.createElement("div",null,"Tran Payment Report")),n.a.createElement("li",{style:{display:"1"===c.REPORTS?"block":"none"},onClick:e=>u("activityreport")},n.a.createElement("div",null,"Audit Report"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_RBI?"block":"none"}},n.a.createElement("div",null,"RBI\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS_RBI_FLM?"block":"none"},onClick:e=>u("flmreport")},n.a.createElement("div",null,"FLMs"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_FINANCIAL?"block":"none"}},n.a.createElement("div",null,"Financial\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.LEDGER?"block":"none"},onClick:e=>u("ledger")},n.a.createElement("div",null,"Ledger")),n.a.createElement("li",{style:{display:"1"===c.TRIAL_BALANCE?"block":"none"},onClick:e=>u("trialbalance")},n.a.createElement("div",null,"Trial Balance")),n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"}},n.a.createElement("div",null,"Receivable\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REP_FIN_RECV_BILL_WISE_DETAIL?"block":"none"},onClick:e=>u("repfinrecvbillwisedetail")},n.a.createElement("div",null,"Bill Wise Detail"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"}},n.a.createElement("div",null,"Payable\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.BILL_WISE_DETAIL_PAYABLE?"block":"none"},onClick:e=>u("billwisedetailpayable")},n.a.createElement("div",null,"Bill Wise Detail"))))),n.a.createElement("li",{style:{display:"1"===c.CHEQUE_IN_HAND_REPORT?"block":"none"},onClick:e=>u("chequeinhandreport")},n.a.createElement("div",null,"Cheque In Hand")),n.a.createElement("li",{style:{display:"1"===c.CHEQUE_IN_HAND_REPORT?"block":"none"},onClick:e=>u("chequeusedreport")},n.a.createElement("div",null,"Cheque Used Report")),n.a.createElement("li",{style:{display:"1"===c.REPORTS_TDS?"block":"none"}},n.a.createElement("div",null,"Commission\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS_TDS_COMMISSION?"block":"none"},onClick:e=>u("commissiontds")},n.a.createElement("div",null,"TDS")),n.a.createElement("li",{style:{display:"1"===c.REP_COMMISSION_VIEW?"block":"none"},onClick:e=>u("repcommissionstatus")},n.a.createElement("div",null,"Status Report")))))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_STATUTORY?"block":"none"}},n.a.createElement("div",null,"Statutory\xa0",n.a.createElement(pa.a,{className:"arrowIcon",icon:ja.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"},onClick:e=>u("home")},n.a.createElement("div",null,"Dummy")),n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"},onClick:e=>u("home")},n.a.createElement("div",null,"Dummy"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_STATUTORY?"block":"none"},onClick:e=>u("ratecard")},n.a.createElement("div",null," Rate Card"),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null)))))),n.a.createElement("li",{style:{display:"block",right:"0",position:"absolute"}},n.a.createElement("div",{className:"menuProfileIcon"},n.a.createElement(pa.a,{icon:ja.p})),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"block"},onClick:e=>u(0)},n.a.createElement("div",null,"Log Out")),n.a.createElement("li",{style:{display:"block"},onClick:e=>u("chngpass")},n.a.createElement("div",null,"Change Password"))))))))},Da=t(1),La=t.n(Da);let xa={width:"650px",maxWidth:"100%"};var Aa=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,E]=Object(l.useState)(""),[p,b]=Object(l.useState)(""),[h,S]=Object(l.useState)("");return n.a.createElement(n.a.Fragment,null,"0"===sessionStorage.chngPassOnLogin?n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null)),n.a.createElement("div",{className:"divContentCenter d-flex justify-content-center"},n.a.createElement("div",{style:xa,className:"Shadow"},n.a.createElement(u.a,null,n.a.createElement(u.a.Header,null,n.a.createElement("h6",null,"Change Password")),n.a.createElement(u.a.Body,null,n.a.createElement(s.a,null,n.a.createElement(s.a.Group,{className:"mb-3"},n.a.createElement(s.a.Label,null,"New Password"),n.a.createElement(s.a.Control,{type:"Password",maxLength:"20",autoComplete:"off",onChange:e=>b(e.target.value.trim())})),n.a.createElement(s.a.Group,{className:"mb-3"},n.a.createElement(s.a.Label,null,"Confirm Password"),n.a.createElement(s.a.Control,{type:"Password",maxLength:"20",autoComplete:"off",onChange:e=>S(e.target.value.trim())})),n.a.createElement(s.a.Group,{className:"mb-3"},n.a.createElement(s.a.Label,null,"Old Password"),n.a.createElement(s.a.Control,{type:"Password",maxLength:"20",autoComplete:"off",onChange:e=>E(e.target.value.trim())})),n.a.createElement(s.a.Group,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){La()(".loader").show();let a=0;if(c(""),je.test(p)?""===o||""===p||""===h?(c(d("MSG0005")),a++):p!==h&&(c(d("MSG0009")),a++):(a++,c(d("MSG0005"))),a>0)La()(".loader").hide(),t(!0);else{let a={old:o,new:p,rnew:h};De(g,[sessionStorage.sessionId,"chngpass",JSON.stringify(a)],function(a){La()(".loader").hide();let l=JSON.parse(a);""===l.msg?(c(l.err),t(!0)):(c(l.msg),t(!0),console.log(l,"chngps"),"1"==l.newr&&"1"===sessionStorage.chngPassOnLogin?(sessionStorage.chngPassOnLogin=0,e("/home")):"0"===sessionStorage.chngPassOnLogin&&"1"==l.newr?(c("Password Change Succesfully"),t(!0)):e("/"))})}}},"Change Password"),"\xa0"),n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("ul",{style:{listStyleType:"none"}},n.a.createElement("li",null,"Password can not be blank"),n.a.createElement("li",null,"Minimum 8 characters"),n.a.createElement("li",null,"Atleast 1 capital character"),n.a.createElement("li",null,"Atleast 1 small character"),n.a.createElement("li",null,"Atleast 1 numeric character")))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r)))};var Ia=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null))},wa=t(128);t(191);let Ma={height:"100px"};var Fa=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!0),[s,i]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(""),O=sessionStorage.getItem("activeBranch");sessionStorage.clear(),sessionStorage.setItem("activeBranch",O);const N=()=>{i(!1),u(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(ya.a,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},"\xa0")),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-12 col-lg-12 align-middle",style:{height:"100vh"}},n.a.createElement("div",{className:"wrap d-md-flex"},n.a.createElement("div",{className:"login-wrap"},n.a.createElement(va.a,{src:"img/loginpage.png",fluid:!0})),n.a.createElement("div",{className:"login-wrap p-4 p-md-5"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col",align:"center"},n.a.createElement(va.a,{style:Ma,src:"img/logo.png",fluid:!0}))),n.a.createElement("div",{className:"d-flex"},n.a.createElement("div",{className:"w-100"},n.a.createElement("h3",{className:"mb-4"},o?"Sign In":"Reset Password")),n.a.createElement("div",{className:"w-100"},n.a.createElement("p",{className:"social-media d-flex justify-content-end"},n.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/zenithfinserv/",className:"social-icon d-flex align-items-center justify-content-center"},n.a.createElement(pa.a,{icon:wa.a})),n.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://twitter.com/ZenithFinserv",className:"social-icon d-flex align-items-center justify-content-center"},n.a.createElement(pa.a,{icon:wa.c})),n.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.instagram.com/zenithfinserv/",className:"social-icon d-flex align-items-center justify-content-center"},n.a.createElement(pa.a,{icon:wa.b}))))),n.a.createElement("form",{className:"signin-form"},n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{className:"label text-uppercase mb-1"},"Username"),n.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",required:"",maxLength:"20",value:E,onChange:e=>Be(e.target.value.trim(),p),autoComplete:"off"})),o?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{className:"label text-uppercase mb-1"},"Password"),n.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",required:"",maxLength:"20",value:g,onChange:e=>Be(e.target.value.trim(),h),autoComplete:"off"})),n.a.createElement("div",{className:"form-group pt-2"},n.a.createElement("button",{type:"button",className:"form-control btn btn-lg btn-primary rounded px-3",onClick:a=>void(""===E||""===g?(c(d("MSG0001")),t(!0)):De(b,["validate",E,g],function(a){let l=JSON.parse(a);if(console.log(a),"MSG0000"===l.status){sessionStorage.sessionId=l.session,sessionStorage.userName=l.name.toUpperCase(),sessionStorage.entityId=l.entityid,sessionStorage.entityType=l.entitytype,sessionStorage.dbname=l.dbname,sessionStorage.branchallowed=l.entitybranchallowed,sessionStorage.userSrno=l.srno,sessionStorage.startDate=l.fystart_date,sessionStorage.endDate=l.fyend_date,sessionStorage.myInterval="",sessionStorage.finyear=l.finyear,sessionStorage.userId=l.id.toUpperCase();const a=l.entitybranchallowed.split(",").map(Number);sessionStorage.branchDisable=!1,1==a.length&&(sessionStorage.branchDisable=!0);const n=sessionStorage.getItem("activeBranch");n&&a.includes(1*n)||(sessionStorage.activeBranch=l.activeBranch),console.log("Inside Sign In "),"0"===l.chg_pw_on_logon||0===l.chg_pw_on_logon?(sessionStorage.chngPassOnLogin=0,e("/home")):"1"===l.chg_pw_on_logon||1===l.chg_pw_on_logon?(sessionStorage.chngPassOnLogin=1,e("/changepassword")):(c(d("ERR0000")),t(!0))}else c(d(l.status)),t(!0)}))},"Sign In"))):null,s?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{className:"label text-uppercase mb-1"},"Email Id"),n.a.createElement("input",{type:"email",className:"form-control form-control-lg",placeholder:"Email",required:"",onChange:e=>y(e.target.value.trim()),autoComplete:"off",onBlur:e=>ze(e.target.value.trim(),y)})),n.a.createElement("div",{className:"form-group pt-2"},n.a.createElement("button",{type:"button",className:"form-control btn btn-lg btn-primary rounded px-3",onClick:e=>(La()(".loader").show(),void(""===E||""===S?(La()(".loader").hide(),c("Invalid User Id or Email Id."),t(!0)):De(b,["reset",E,S],function(e){let a=JSON.parse(e);La()(".loader").hide(),c(a.msg),t(!0),N()})))},"Reset"),"\xa0",n.a.createElement("button",{type:"button",className:"form-control btn btn-lg btn-primary rounded px-3",onClick:e=>N()},"Back"))):null,o?n.a.createElement("div",{className:"form-group d-flex my-3"},n.a.createElement("div",{className:"w-50 text-start"}),n.a.createElement("div",{className:"w-50 text-end"},n.a.createElement("span",{onClick:()=>{u(!1),i(!0)},className:"handCursor colorBlue"},"Forgot Password"))):null),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col",align:"center"},n.a.createElement(pa.a,{icon:ba.e}),"\xa0appsupport@zenithforex.com\xa0\xa0"))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r)))},Ra=t(268);let Ga={width:"500px",maxWidth:"100%",margin:"0 auto",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)",zindex:"999",backgroundColor:"#fff",padding:"10px 20px 40px",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 0 40px 20px rgba(0,0,0,0.26)"},Pa={marginBottom:"15px",padding:"3px 8px",cursor:"pointer",borderRadius:"50%",border:"none",width:"30px",height:"30px",fontWeight:"bold",alignSelf:"flex-end"};var Ja=function(e){let a=n.a.createElement("div",{style:Ga},n.a.createElement("button",{style:Pa,onClick:e.onNo},n.a.createElement(pa.a,{icon:ba.g})),n.a.createElement("div",null,Object(da.a)(e.children)),n.a.createElement("br",null),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:e.onYes},"Yes"),"\xa0\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:e.onNo},"No"),"\xa0\xa0"));return e.isOpen||(a=null),n.a.createElement("div",null,a)},Ba=t(273);var qa=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[m,u]=Object(l.useState)(!1),[s,E]=Object(l.useState)([]),[d,p]=Object(l.useState)(0);Object(l.useEffect)(()=>{e.show&&De("/api/activitylog_a.php",[a,"getlog",JSON.stringify(e.logObject)],e=>{let a=JSON.parse(e);r(a)})},[e.show]);return n.a.createElement("div",null,n.a.createElement(Ba.a,Object.assign({},e,{animation:!1,size:"xl",centered:!0}),n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Activity Log")),n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Timestamp"),n.a.createElement("th",null,"Activity"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,t.map((t,l)=>n.a.createElement("tr",{key:l},n.a.createElement("td",null,t.lg_usersrno),n.a.createElement("td",null,t.lg_remark),n.a.createElement("td",null,t.date_time),n.a.createElement("td",null,t.lg_activity_type),n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((t,l)=>{e.onHide(),La()(".loader").show(),u(!0);const n={logno:t,branch:l};De("/api/activitylog_a.php",[a,"getaudittrail",JSON.stringify(n)],e=>{La()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),E("")):E(a)})})(t.lg_logno,t.lg_branch),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"OK"))),n.a.createElement(Ba.a,{show:m,size:"xl",onHide:()=>u(!1),scrollable:!0,backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"Audit Trail Info"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>{u(!1)},variant:"outline-danger",size:"sm",className:"buttonStyle"},"Back")),n.a.createElement(Na.a,null),n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Activity Type"),n.a.createElement("th",null,"Tab Type"),n.a.createElement("th",null,"Description"))),n.a.createElement("tbody",null,s.map((e,a)=>{const t=(e=>{const a=e.split("^"),t={};return a.forEach(e=>{const[a,l]=e.split(":");t[a]=l}),t})(e.tat_description),l=Object.keys(t);return n.a.createElement("tr",{key:a},n.a.createElement("td",null,"A"==e.tat_activity_type?"Add":"Delete"),n.a.createElement("td",null,e.tat_tab),n.a.createElement("td",null,n.a.createElement(Ra.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("th",{key:a},e)))),n.a.createElement("tbody",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("td",{key:a},t[e])))))))})))))))};var za=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[g,O]=Object(l.useState)(!0),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(0),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)(0),[R,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(0),[B,q]=Object(l.useState)([]),[z,V]=Object(l.useState)(0),[U,Y]=Object(l.useState)([]),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)(0),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)([]),[me,ue]=Object(l.useState)("Q"),[se,ie]=Object(l.useState)(!1),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)(!1),[ge,he]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Se,ye]=Object(l.useState)([]);function Oe(e){J(e),De(S,[o,"ddlistjson",e],function(e){G(JSON.parse(e))})}function Ne(e){M(e),De(F,[o,"ddlistjson",e],function(e){Y(JSON.parse(e)),te(0)})}function ve(e){le(e),De(y,[o,"listjson",e],function(e){b(JSON.parse(e))})}Object(l.useEffect)(()=>{u||(I([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),De(_,[o,"all","CITY"],function(a){let t=JSON.parse(a);"1"===t.query?oe(t):e("/")}),De(h,[o,"ddlistjson"],function(e){X(JSON.parse(e)),q(JSON.parse(e)),H(0)}),De(S,[o,"ddlistjson",K],function(e){G(JSON.parse(e)),ae(JSON.parse(e)),$(0)}),De(F,[o,"ddlistjson",Z],function(e){Y(JSON.parse(e)),re(JSON.parse(e)),le(0)}),E(!0))},[u,o,e,K,Z]);const Ce=()=>{ie(!1),v(!1),O(!0),be(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"City Master "))),g?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===ce.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){f(0),x(1),ue("A"),T(""),V(0),M(0),J(0),v(!0),O(!1)}},"Add New"):null,"1"===ce.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"CITY"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:C,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"City",maxLength:50,value:j,onChange:e=>xe(e.target.value,T),autoComplete:"off",disabled:"Q"===me})))),n.a.createElement(Oa.a,null,"A"===me?n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:P,onChange:e=>Oe(e.target.value),disabled:"Q"===me},B.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))):null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:w,onChange:e=>Ne(e.target.value),disabled:"Q"===me},R.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:z,onChange:e=>V(e.target.value),disabled:"Q"===me},U.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:L,onChange:e=>x(e.target.value),disabled:"Q"===me},A.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),"E"===me?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:k,onChange:e=>xe(e.target.value,D),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===me||"E"===me?(de("Do you really want to exit ?"),ie(!0)):Ce())},"Back"),"\xa0\xa0","1"===ce.edit&&"Q"===me?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void ue("E")},"Edit"),"\xa0"):null,"1"===ce.edit&&"E"===me||"1"===ce.add&&"A"===me?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){var e=[],a=0;if(""===j||"0"==z||"0"==w||"0"==P)e[a++]=d("MSG0006"),e[a++]=""===j?"City.":"",e[a++]="0"==z?"District.":"",e[a++]="0"==w?"State.":"",e[a++]="0"==P?"Country.":"",c(ta(e)),t(!0);else if("E"===me&&""===k)c("Please fill Remark!"),t(!0);else{var l={srno:C,city:j,dist:z,state:w,act:L,branch:0,activitytype:1*C>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCITY",trannumber:C,subtranno:0,remark:k},n={TabType:"Edit",ALineNo:Se.length+1,AType:"A",TType:"MCITY",City:j,District:z,State:w,Status:L,remark:k},r=We(Se,n);ye(r),De(y,[o,"save",C,JSON.stringify(l),JSON.stringify(r)],function(e){let a=JSON.parse(e);""===a.err?(v(!1),O(!0),D(""),ve(te)):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==ce.query||"E"!==me&&"Q"!==me?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(be(!0),void he({trantype:"MCITY",trannumber:C,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,pe&&n.a.createElement(n.a.Fragment,null,n.a.createElement(qa,{logObject:ge,show:pe,onHide:()=>be(!1)})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(s.a.Select,{value:K,onChange:e=>(function(e){H(e),De(S,[o,"ddlistjson",e],function(e){ae(JSON.parse(e)),Z(0)})})(e.target.value)},W.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State"),n.a.createElement(s.a.Select,{value:Z,onChange:e=>(function(e){$(e),De(F,[o,"ddlistjson",e],function(e){re(JSON.parse(e)),te(0)})})(e.target.value)},ee.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District"),n.a.createElement(s.a.Select,{value:te,onChange:e=>(function(e){le(e),ve(e),te(0)})(e.target.value)},ne.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===ce.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"City"),n.a.createElement("th",null,"District"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.city_id},"1"===ce.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){ue("Q"),be(!1),De(y,[o,"detail",e],function(e){let a=JSON.parse(e);f(a.srno),T(a.city),Oe(a.cntsrno),x(a.active),M(a.statesrno),V(a.dist),v(!0),Ne(a.statesrno),O(!1)})})(e.city_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.city_id),n.a.createElement("td",null,e.city_name),n.a.createElement("td",null,e.dist_district_name),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.city_active))))))))),n.a.createElement(qa,{logObject:ge,show:pe,onHide:()=>be(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:se,onYes:e=>Ce(),onNo:e=>ie(!1)},Ee)))};var Va=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(!0),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(0),[w,M]=Object(l.useState)([]),[F,R]=Object(l.useState)(0),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)([]),[q,z]=Object(l.useState)([]),[V,U]=Object(l.useState)(0),[Y,K]=Object(l.useState)("Q"),[H,W]=Object(l.useState)(!1),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(!1),[ae,te]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[le,ne]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(M([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),P([{name:"YES",value:"1"},{name:"No",value:"0"}]),De(h,[o,"listjson"],function(e){b(JSON.parse(e))}),De(_,[o,"all","COUNTRY"],function(a){let t=JSON.parse(a);"1"===t.query?B(t):e("/")}),De(h,[o,"listclass"],function(e){z(JSON.parse(e))}),E(!0))},[u,o,e]);const re=()=>{var e=[],a=0;if(""===C||""===j||""===k)e[a++]=d("MSG0006"),e[a++]=""===C?"Country.":"",e[a++]=""===j?"Nationality.":"",e[a++]=""===k?"Swift Code.":"",c(ta(e)),t(!0);else if("E"===Y&&""===L)c("Please fill Remark!"),t(!0);else{var l={srNo:N,cnt:C,act:A,cls:V,nat:j,swtcd:k,fatf:F,branch:0,activitytype:1*N>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCNT",trannumber:N,subtranno:0,remark:L},n={TabType:"Edit",ALineNo:le.length+1,AType:"A",TType:"MCNT",Country:C,Status:A,Class:V,Nationality:j,SwiftCode:k,remark:L},r=We(le,n);ne(r),De(h,[o,"save",N,JSON.stringify(l),JSON.stringify(r)],function(e){let a=JSON.parse(e);""===a.err?(S(!1),O(!0),x(""),De(h,[o,"listjson"],function(e){b(JSON.parse(e))}),ne([])):(c(a.err),t(!0))})}},ce=()=>{W(!1),S(!1),O(!0),ee(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Country Master"))),y?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===J.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){v(0),f(""),T(""),D(""),R(0),I(1),K("A"),U(0),S(!0),O(!1)}},"Add New"):null,"1"===J.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"COUNTRY"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:N,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Country",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",disabled:"Q"===Y})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nationality",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Nationality",maxLength:50,value:j,onChange:e=>xe(e.target.value,T),autoComplete:"off",disabled:"Q"===Y}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Swift Code",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Swift Code",maxLength:10,value:k,onChange:e=>Pe(e.target.value,D),autoComplete:"off",disabled:"Q"===Y})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FATF"),n.a.createElement(s.a.Select,{value:F,onChange:e=>R(e.target.value),disabled:"Q"===Y},G.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:A,onChange:e=>I(e.target.value),disabled:"Q"===Y},w.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Class"),n.a.createElement(s.a.Select,{value:V,onChange:e=>U(e.target.value),disabled:"Q"===Y},q.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),"E"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:L,onChange:e=>xe(e.target.value,x),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===Y||"E"===Y?(Z("Do you really want to exit ?"),W(!0)):ce())},"Back"),"\xa0\xa0","1"===J.edit&&"Q"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void K("E")},"Edit"),"\xa0"):null,"1"===J.edit&&"E"===Y||"1"===J.add&&"A"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>re()},"Save"),"\xa0"):null,"1"!==J.query||"E"!==Y&&"Q"!==Y?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ee(!0),void te({trantype:"MCNT",trannumber:N,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0"))))))):n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===J.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Nationality"),n.a.createElement("th",null,"Swift Code"),n.a.createElement("th",null,"FATF"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",{id:"tblBody"},p.map(e=>n.a.createElement("tr",{key:e.cnt_srno},"1"===J.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){K("Q"),ee(!1),De(h,[o,"detail",e],function(e){let a=JSON.parse(e);v(a.srno),f(a.country),T(a.natlty),D(a.swift),R(a.fatf),I(a.active),U(a.cclass),S(!0),O(!1)})})(e.cnt_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.cnt_srno),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.cnt_nationality),n.a.createElement("td",null,e.cnt_swiftcode),n.a.createElement("td",null,e.cnt_fatf),n.a.createElement("td",null,e.cnt_active)))))))),n.a.createElement(qa,{logObject:ae,show:$,onHide:()=>ee(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:H,onYes:e=>ce(),onNo:e=>W(!1)},X)))};var Qa=function(){const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)([]),o=Object(m.n)(),[u,s]=Object(l.useState)([]);return Object(l.useEffect)(()=>{a||(De(_,[e,"all","DEALERLIST"],function(a){let t=JSON.parse(a);"1"===t.query?(s(t),De(T,[e,"listdealer"],e=>{c(JSON.parse(e))})):o("/")}),t(!0))},[a]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Dealer Category"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===u.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[e,JSON.stringify({right:"DEALERLIST"})])}},"Export")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Expirable"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,r.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.md_code),n.a.createElement("td",null,e.md_desc),n.a.createElement("td",null,1==e.md_tax_applicable?"Yes":"No"),n.a.createElement("td",null,1==e.md_active?"ACTIVE":"INACTIVE")))))))))},Ua=t(30);var Ya=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)("Q"),[g,h]=Object(l.useState)([]),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(!1),[v,f]=Object(l.useState)(!0),[j,T]=Object(l.useState)(0),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(0),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)(1),[F,R]=Object(l.useState)(1),[G,P]=Object(l.useState)(1),[J,B]=Object(l.useState)(1),[q,z]=Object(l.useState)([]);function V(){N(!1),f(!0),b("Q")}function Q(){if(""===k)c("Plese fill Group!."),t(!0);else{var e={srno:j,group:k};De(C,[o,"save",j,JSON.stringify(e)],function(e){let a=JSON.parse(e);""===a.err?(b("Q"),N(!1),f(!0),De(C,[o,"listjson"],function(e){h(JSON.parse(e))})):(c(a.err),t(!0))})}}function U(e){De(C,[o,"detail",e],function(e){let a=JSON.parse(e);T(a.srno),D(a.group),y(a.detail),N(!0),f(!1),b("E")})}return Object(l.useEffect)(()=>{u||(De(_,[o,"all","RIGHT"],function(a){let t=JSON.parse(a);"1"===t.query?z(t):e("/")}),De(_,[o,"ddlistjson"],function(e){console.log(JSON.parse(e)),I(JSON.parse(e))}),De(C,[o,"listjson"],function(e){h(JSON.parse(e))}),E(!0))},[u,o,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Right Group Master"))),v?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===q.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){T(0),D(""),y([]),N(!0),f(!1),b("A")}},"Add New"):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),O?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:j,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Group",value:k,onChange:e=>D(e.target.value),autoComplete:"off",disabled:"E"===p||"Q"===p})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),"A"===p?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Q()},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>V()},"Back"))):null,"E"===p?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Right",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(Ua.a,{options:A,value:L,onChange:e=>x(e)}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Query",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:w,onChange:e=>M(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Add",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:F,onChange:e=>R(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Edit",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Delete",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:J,onChange:e=>B(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Na.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){if(0===L)c(d("MSG0006")),t(!0);else{var e={srno:j,right:L.value,rightQuery:w,rightAdd:F,rightEdit:G,rightDelete:J};De(C,[o,"saveright",JSON.stringify(e)],function(e){U(j)})}})()},"Change"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>V()},"Cancel"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Key"),n.a.createElement("th",null,"Right"),n.a.createElement("th",null,"Query"),n.a.createElement("th",null,"Add"),n.a.createElement("th",null,"Edit"),n.a.createElement("th",null,"Delete"))),n.a.createElement("tbody",{id:"tblBody"},S.map(e=>n.a.createElement("tr",{key:e.right_srno},n.a.createElement("td",{className:"textRight"},e.right_srno),n.a.createElement("td",null,e.right_key),n.a.createElement("td",null,e.right_desc),n.a.createElement("td",null,e.right_query),n.a.createElement("td",null,e.right_add),n.a.createElement("td",null,e.right_edit),n.a.createElement("td",null,e.right_delete)))))))):null,"Q"===p?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===q.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Group"))),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",{key:e.group_srno},"1"===q.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>U(e.group_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.group_srno),n.a.createElement("td",null,e.group_name))))))):null),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r)))};var Ka=function(){const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)([]),o=Object(m.n)(),[u,s]=Object(l.useState)([]);return Object(l.useEffect)(()=>{a||(De(_,[e,"all","IDTYPE"],function(a){let t=JSON.parse(a);"1"===t.query?(s(t),De(j,[e,"listidtype"],e=>{c(JSON.parse(e))})):o("/")}),t(!0))},[a]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"ID Type"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===u.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[e,JSON.stringify({right:"IDTYPE"})])}},"Export")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Expirable"),n.a.createElement("th",null,"Active"))),n.a.createElement("tbody",null,r.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.id_code),n.a.createElement("td",null,e.id_desc),n.a.createElement("td",null,1==e.id_expirable?"Yes":"No"),n.a.createElement("td",null,1==e.id_active?"Yes":"No")))))))))};var Ha=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[g,S]=Object(l.useState)(!0),[y,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(0),[D,L]=Object(l.useState)([]),[x,A]=Object(l.useState)(0),[I,w]=Object(l.useState)([]),[M,F]=Object(l.useState)([]),[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)(!1),[z,V]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(!1),[K,H]=Object(l.useState)("Q"),[W,X]=Object(l.useState)(!1),[Z,$]=Object(l.useState)("");function ee(){var e=[],a=0;if(""===v||""===f)e[a++]=d("MSG0006"),e[a++]=""===v?"Currency Code.":"",e[a++]=""===f?" Currency Name .":"",c(ta(e)),t(!0);else{var l={isd:v,isdName:f,countrySrno:x,act:T,cnCheck:R?1:0,ttCheck:z?1:0,tcCheck:P?1:0,vtcCheck:B?1:0,ddCheck:U?1:0};De(O,[o,"save",JSON.stringify(l)],function(e){N(!1),S(!0),De(O,[o,"listjson"],function(e){b(JSON.parse(e))})})}}Object(l.useEffect)(()=>{u||(De(_,[o,"all","CURRENCY"],function(a){let t=JSON.parse(a);"1"===t.query?F(t):e("/")}),L([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),De(O,[o,"listjson"],function(e){b(JSON.parse(e))}),De(h,[o,"ddlistjson"],function(e){w(JSON.parse(e))}),E(!0))},[u,o,e]);const ae=()=>{X(!1),N(!1),S(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"ISD Master "))),g?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===M.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){C(""),j(""),k(1),H("A"),A(0),G(!1),V(!1),J(!1),q(!1),Y(!1),N(!0),S(!1)}},"Add New"):null,"1"===M.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"CURRENCY"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),y?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency Code",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Currency Code",maxLength:3,value:v,onChange:e=>xe(e.target.value,C),autoComplete:"off",disabled:"Q"===K}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Currency Name",maxLength:50,value:f,onChange:e=>xe(e.target.value,j),autoComplete:"off",disabled:"Q"===K})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(s.a.Select,{value:x,onChange:e=>A(e.target.value),disabled:"Q"===K},I.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:T,onChange:e=>k(e.target.value),disabled:"Q"===K},D.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4",style:{display:"flex"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:R,label:"CN",value:R,onChange:e=>G(e.target.checked),disabled:"Q"===K})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:P,label:"TC",value:P,onChange:e=>J(e.target.checked),disabled:"Q"===K})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:B,label:"VTC",value:B,onChange:e=>q(e.target.checked),disabled:"Q"===K})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:z,label:"TT",value:z,onChange:e=>V(e.target.checked),disabled:"Q"===K})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:U,label:"DD",value:U,onChange:e=>Y(e.target.checked),disabled:"Q"===K})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===K||"E"===K?($("Do you really want to exit ?"),X(!0)):ae())},"Back"),"\xa0\xa0","1"===M.edit&&"Q"===K?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void H("E")},"Edit"),"\xa0"):null,"1"===M.edit&&"E"===K||"1"===M.add&&"A"===K?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ee()},"Save"),"\xa0"):null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===M.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Code"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.isd_code},"1"===M.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){H("Q"),De(O,[o,"detail",e],function(e){let a=JSON.parse(e);C(a.isd),j(a.isdName),A(a.countrySrno),k(a.active),G("1"===a.cn),V("1"===a.tt),J("1"===a.tc),q("1"===a.vtc),Y("1"===a.dd),N(!0),S(!1)})})(e.isd_code)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.isd_code),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.isd_active))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:W,onYes:e=>ae(),onNo:e=>X(!1)},Z)))};var Wa=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(!0),[y,O]=Object(l.useState)(0),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(1),[D,L]=Object(l.useState)([]),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)("Q"),[M,F]=Object(l.useState)(!1),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[z,V]=Object(l.useState)([]);function U(){if(""===v)c("Please fill Issuer!"),t(!0);else if("E"===I&&""===f)c("Please fill remark!"),t(!0);else{var e={srno:y,issuer:v,act:T,branch:0,activitytype:1*y>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MISUR",trannumber:y,subtranno:0,remark:f},a={TabType:"Edit",ALineNo:z.length+1,AType:"A",TType:"MISUR",Issuer:v,Act:T,Remark:f},l=We(z,a);V(l),De(N,[o,"save",y,JSON.stringify(e),JSON.stringify(l)],function(e){let a=JSON.parse(e);""===a.err?(g(!1),S(!0),j(""),De(N,[o,"listjson"],function(e){p(JSON.parse(e))}),V([])):(c(a.err),t(!0))})}}Object(l.useEffect)(()=>{u||(L([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),De(_,[o,"all","ISSUER"],function(a){let t=JSON.parse(a);"1"===t.query?A(t):e("/")}),De(N,[o,"listjson"],function(e){p(JSON.parse(e))}),E(!0))},[u,o,e]);const Y=()=>{F(!1),g(!1),S(!0),J(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Issuer Master"))),h?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===x.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){O(0),C(""),k(1),w("A"),g(!0),S(!1)}},"Add New"):null,"1"===x.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"ISSUER"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:y,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"issuer",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Issuer",maxLength:50,value:v,onChange:e=>xe(e.target.value,C),autoComplete:"off",disabled:"Q"===I})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:T,onChange:e=>k(e.target.value),disabled:"Q"===I},D.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,"\xa0")),"E"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:f,onChange:e=>xe(e.target.value,j),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===I||"E"===I?(G("Do you really want to exit ?"),F(!0)):Y())},"Back"),"\xa0\xa0","1"===x.edit&&"Q"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void w("E")},"Edit"),"\xa0"):null,"1"===x.edit&&"E"===I||"1"===x.add&&"A"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>U()},"Save"),"\xa0"):null,"1"!==x.query||"E"!==I&&"Q"!==I?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(J(!0),void q({trantype:"MISUR",trannumber:y,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,P&&n.a.createElement(qa,{logObject:B,show:P,onHide:()=>J(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===x.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",{id:"tblBody"},d.map(e=>n.a.createElement("tr",{key:e.issuer_id},"1"===x.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){w("Q"),J(!1),De(N,[o,"detail",e],function(e){let a=JSON.parse(e);O(a.srno),C(a.issuer),k(a.active),g(!0),S(!1)})})(e.issuer_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.issuer_id),n.a.createElement("td",null,e.issuer_name),n.a.createElement("td",null,e.issuer_active))))))))),n.a.createElement(qa,{logObject:B,show:P,onHide:()=>J(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:M,onYes:e=>Y(),onNo:e=>F(!1)},R)))};var Xa=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)([]),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(0),[C,j]=Object(l.useState)([]),[T,k]=Object(l.useState)(0),[D,L]=Object(l.useState)([]),[x,A]=Object(l.useState)("0");return Object(l.useEffect)(()=>{t||(j([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),De(_,[a,"all","PURPOSE"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),De(f,[a,"listjson"],function(e){let a=JSON.parse(e);E(a)}),De(f,[a,"ddlistjsondoc"],function(e){let a=JSON.parse(e);L(a)}),r(!0))},[t,a,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Purpose Master"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===c.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[a,JSON.stringify({right:"PURPOSE"})])}},"Export")):null)),n.a.createElement(Oa.a,null,"\xa0"),b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purpose",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"purpose",maxLength:50,value:y,onChange:e=>O(e.target.value),autoComplete:"off",disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:!0},C.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:T,onChange:e=>k(e.target.value)},D.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Required",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:x,onChange:e=>A(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Na.a,{xs:6},n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){var e={srno:h,document:T,docRequired:x};De(f,[a,"docchange",JSON.stringify(e)],function(e){let a=JSON.parse(e);S(a.purpose_id),O(a.purpose_name),v(a.purpose_tt),p(a.doc_list)})})()},"Change"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void g(!1)},"Cancel"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"Required")),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.docm_id},n.a.createElement("td",{className:"textRight"},e.docm_id),n.a.createElement("td",null,e.docm_desc),n.a.createElement("td",null,e.doc_required)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===c.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Purpose"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,u.map(e=>n.a.createElement("tr",{key:e.purpose_id},"1"===c.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){De(f,[a,"detail",e],function(e){let a=JSON.parse(e);S(a.purpose_id),O(a.purpose_name),v(a.purpose_tt),p(a.doc_list),g(!0)})})(e.purpose_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.d})))):null,n.a.createElement("td",{className:"textRight"},e.purpose_id),n.a.createElement("td",null,e.purpose_name),n.a.createElement("td",null,e.purpose_activedesc))))))))))};var Za=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[E,d]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(1),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!0),[x,A]=Object(l.useState)(!1),[I,w]=Object(l.useState)(!1),[M,F]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[R,G]=Object(l.useState)([]),[P,J]=Object(l.useState)("Q"),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{b||(De(_,[p,"all","REGION"],function(a){let t=JSON.parse(a);"1"===t.query?G(t):e("/")}),De(L,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),g(!0))},[b,p,e]);const z=()=>{u(!1),A(!1),D(!0),w(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null," Master Region List"))),k?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===R.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{O(0),v(""),f(1),J("A"),A(!0),D(!1)}}," Add New"),"\xa0"):null,"1"===R.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[p,JSON.stringify({right:"REGION"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),x?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:y,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Region",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Region",maxLength:50,value:N,onChange:e=>xe(e.target.value,v),disabled:"Q"===P,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:C,onChange:e=>f(e.target.value),disabled:"Q"===P,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===P?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:j,onChange:e=>xe(e.target.value,T),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===P||"E"===P?(d("Do you really want to exit ?"),u(!0)):z())},"Back"),"\xa0\xa0","1"===R.edit&&"Q"===P?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void J("E")},"Edit"),"\xa0"):null,"1"===R.edit&&"E"===P||"1"===R.add&&"A"===P?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===N)c("Please fill Region!"),t(!0);else if("E"===P&&""===j)c("Please fill Remark!"),t(!0);else{var e={srno:y,region:N,status:C,branch:0,activitytype:1*y>0?"MODIFY":"CREATE",trancategory:"M",trantype:"REGN",trannumber:y,subtranno:0,remark:j},a={TabType:"Edit",ALineNo:B.length+1,AType:"A",TType:"REGN",Region:N,Status:C,Remark:j},l=We(B,a);q(l),De(L,[p,"savelistData",y,JSON.stringify(e),JSON.stringify(l)],e=>{let a=JSON.parse(e);""===a.err?(A(!1),D(!0),T(""),De(L,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==R.query||"E"!==P&&"Q"!==P?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(w(!0),void F({trantype:"REGN",trannumber:y,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,I&&n.a.createElement(n.a.Fragment,null))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===R.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Region"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,h.map(e=>n.a.createElement("tr",{key:e.mr_srno},n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{J("Q"),w(!1),De(L,[p,"editdata",e],e=>{let a=JSON.parse(e);O(a.srno),v(a.region),f(a.status),A(!0),D(!1)})})(e.mr_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))),n.a.createElement("td",{className:"textRight"},e.mr_srno),n.a.createElement("td",null,e.mr_region),n.a.createElement("td",null,1==e.mr_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(qa,{logObject:M,show:I,onHide:()=>w(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:o,onYes:e=>z(),onNo:e=>u(!1)},E)))};var $a=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[g,y]=Object(l.useState)(!0),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(0),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(0),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)(0),[M,F]=Object(l.useState)([]),[R,G]=Object(l.useState)("S"),[P,J]=Object(l.useState)(0),[B,q]=Object(l.useState)([]),[z,V]=Object(l.useState)([]),[U,Y]=Object(l.useState)("Q"),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(!1),[ee,ae]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""});function te(e){J(e),De(S,[o,"listjson",e],function(e){b(JSON.parse(e))})}Object(l.useEffect)(()=>{u||(A([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),De(h,[o,"ddlistjson"],function(e){F(JSON.parse(e)),q(JSON.parse(e)),J(0)}),De(_,[o,"all","STATE"],function(a){let t=JSON.parse(a);"1"===t.query?V(t):e("/")}),E(!0))},[u,o,e]);const le=()=>{H(!1),N(!1),y(!0),$(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"State Master "))),g?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===z.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){C(0),L(1),Y("A"),j(""),G("S"),w(0),N(!0),y(!1)}},"Add New"):null,"1"===z.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"STATE"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),O?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:v,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"State",maxLength:50,value:f,onChange:e=>xe(e.target.value,j),autoComplete:"off",disabled:"Q"===U})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:I,onChange:e=>w(e.target.value),disabled:"Q"===U},M.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State Type"),n.a.createElement(s.a.Select,{value:R,onChange:e=>G(e.target.value),disabled:"Q"===U,required:!0},n.a.createElement("option",{value:"S"},"State"),n.a.createElement("option",{value:"U"},"Union Territory"))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),disabled:"Q"===U},x.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,"\xa0")),"E"===U?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:T,onChange:e=>xe(e.target.value,k),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===U||"E"===U?(X("Do you really want to exit ?"),H(!0)):le())},"Back"),"\xa0\xa0","1"===z.edit&&"Q"===U?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void Y("E")},"Edit"),"\xa0"):null,"1"===z.edit&&"E"===U||"1"===z.add&&"A"===U?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){if(""===f||0===I)c(d("MSG0006")),t(!0);else if("E"===U&&""===T)c("Please fill remark!"),t(!0);else{var e={state:f,cnt:I,act:D,type:R,branch:0,activitytype:1*v>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MSTAT",trannumber:v,subtranno:0,remark:T};De(S,[o,"save",v,JSON.stringify(e)],function(e){let a=JSON.parse(e);""===a.err?(N(!1),y(!0),k(""),te(P)):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==z.query||"E"!==U&&"Q"!==U?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>($(!0),void ae({trantype:"MSTAT",trannumber:v,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,Z&&n.a.createElement(n.a.Fragment,null,n.a.createElement(qa,{logObject:ee,show:Z,onHide:()=>$(!1)})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Select,{value:P,onChange:e=>(function(e){J(e),te(e)})(e.target.value)},B.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===z.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.state_id},"1"===z.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){Y("Q"),$(!1),De(S,[o,"detail",e],function(e){let a=JSON.parse(e);C(a.srno),j(a.state),w(a.countrysrno),L(a.active),N(!0),y(!1)})})(e.state_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.state_id),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.state_active))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:K,onYes:e=>le(),onNo:e=>H(!1)},W)))},et=t(275),at=t(277),tt=t(2),lt=t(31),nt=t(272);const rt=e=>{},ct=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"locationallowed",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},ot=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"ledgerallowed",srch:e,location:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},mt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"additionalCreditledgerallowed",srch:e,location:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},ut=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PURCHASE";var t={sid:sessionStorage.getItem("sessionId"),type:"individual",srch:e,trantype:a,a:"b"};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},st=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"ledgerfromtype",srch:e,grouptype:a,location:t};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},it=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"currencyallowed",srch:e,product:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Et=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"vtmencashment",srch:e,status:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},dt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"executive",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},pt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"purpose",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},bt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"country",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},gt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"individualList",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},ht=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"state",srch:e,country:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},St=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"district",srch:e,state:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},yt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"city",srch:e,district:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Ot=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"groupfromtype",srch:e,grouptype:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Nt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"bank",srch:e,location:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},vt=(e,a,t,l)=>{var n={sid:sessionStorage.getItem("sessionId"),type:"chequebookbank",srch:e,groupCode:a,bankCode:t,location:l};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))},Ct=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"manualall",srch:e,location:a};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},_t=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"manualtype",srch:e,location:a,trantype:t};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},ft=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"dealertype",srch:e,location:a,dealertype:t};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},jt=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"knockoff",srch:e,location:a,data:t};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},Tt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"vtcinlist",srch:e,location:a.location,group:a.group,isd:a.isd,account:a.account};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},kt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"vtcbilllist",srch:e,location:a.location,group:a.group,isd:a.isd,account:a.account};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Dt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"vtsettled",srch:e,location:a.location,group:a.group,isd:a.isd,account:a.account};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Lt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"location",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},xt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"countryIssue",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},At=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"bankDetails",srch:e,location:a,bank:t};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},It=e=>{let{ID:a,label:t,desc:l}=e;const r=l.split("^"),c=r.length;return n.a.createElement("div",{style:{width:"100%",display:"flex",borderRight:"2px solid black",paddingBottom:"0px"}},r.map(e=>n.a.createElement("div",{style:{display:"table-cell",width:"".concat(100/c,"%"),paddingLeft:"1%"}},e)))},wt=e=>n.a.createElement(lt.p.Menu,e,n.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},n.a.createElement("thead",{style:{width:"100%"}},n.a.createElement("tr",{style:{width:"100%",display:"flex",fontWeight:"bold",backgroundColor:"#f8f9fa"}},n.a.createElement("div",{style:{width:"28%",paddingLeft:"3%"}},"Name"),n.a.createElement("div",{style:{width:"22%",paddingLeft:"3%"}},"Pancard no"),n.a.createElement("div",{style:{width:"35%",paddingLeft:"3%"}},"Id"),n.a.createElement("div",{style:{width:"15%",paddingLeft:"3%"}},"Country"))),n.a.createElement("tbody",null,e.children)));var Mt=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)("Q"),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(!0),[f,j]=Object(l.useState)(0),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(""),[M,F]=Object(l.useState)(0),[R,G]=Object(l.useState)([]),[P,J]=Object(l.useState)("0"),[B,q]=Object(l.useState)("0"),[z,V]=Object(l.useState)([]),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)([]),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)(0),[me,ue]=Object(l.useState)(0),[se,ie]=Object(l.useState)([]),[Ee,de]=Object(l.useState)([]),[pe,be]=Object(l.useState)([]),[ge,he]=Object(l.useState)(!1),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)([]),[ve,Ce]=Object(l.useState)(!1),[_e,fe]=Object(l.useState)(null),[je,Te]=Object(l.useState)(0),[ke,Le]=Object(l.useState)([]),[Ae,we]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Me,Fe]=Object(l.useState)(!1);function Re(){var e=[],a=0;if(""===T||""===D||""===x||""===I||null===_e)e[a++]=d("MSG0006"),e[a++]=""===T?"User Name.":"",e[a++]=""===D?" User ID.":"",e[a++]=""===x?" Mobile.":"",e[a++]=""===I?" Email.":"",e[a++]=null===_e?" Executive.":"",c(ta(e)),t(!0);else if("E"!==p||W){var l={umSrNo:f,umUserName:T,umId:D,umMob:x,umEml:I,umEnable:M,umEntityType:B,umEntityCode:P,umActive:U,umRightGroup:me,umExecutive:je,branch:0,activitytype:1*f>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MUSER",trannumber:f,subtranno:0,remark:W},n={TabType:"Info",ALineNo:ke.length+1,AType:"A",TType:"MUSER",Id:D,UserName:T,Mobile:x,Email:I,Enable:M,EntityType:B,EntityCode:P,Active:U,RightGroup:me,Executive:je,Remark:W},r=We(ke,n);Le(r),De(g,[o,"save",f,JSON.stringify(l),JSON.stringify(r)],function(e){let a=JSON.parse(e);""===a.err?(b("Q"),O(!1),v(!0),X(""),De(g,[o,"listjson"],function(e){S(JSON.parse(e))}),Ce(!1),Le([])):(Ce(!1),c(a.err),t(!0))})}else Ce(!0)}Object(l.useEffect)(()=>{u||($([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),G([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),V([{name:"Select",value:"0"},{name:"Agent",value:"A"},{name:"Branch",value:"B"}]),ae([{name:"Select",value:"0"}]),De(_,[o,"all","USER"],function(a){let t=JSON.parse(a);"1"===t.query?be(t):e("/")}),De(g,[o,"listjson"],function(e){S(JSON.parse(e))}),De(g,[o,"ddlistjson","B"],function(e){re(JSON.parse(e))}),De(C,[o,"ddlistjson"],function(e){ie(JSON.parse(e))}),E(!0))},[u,o,e]);const Ge=()=>{he(!1),O(!1),v(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"User Master"))),N?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===pe.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){j(0),k(""),L(""),A(""),w(""),F(1),q("0"),J(0),b("A"),Y(1),le(0),ue(0),H([]),fe(null),O(!0),v(!1)}},"Add New"):null,"1"===pe.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"USER"})])}},"Export")):null)):n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===p||"E"===p?(ye("Do you really want to exit ?"),he(!0)):Ge())},"Back"),"\xa0\xa0","1"===pe.edit&&"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void b("E")},"Edit"),"\xa0"):null,"1"===pe.edit&&"E"===p||"1"===pe.add&&"A"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Re()},"Save"),"\xa0"):null,"1"!==pe.query||"E"!==p&&"Q"!==p?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Fe(!0),void we({trantype:"MUSER",trannumber:f,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),y?n.a.createElement(n.a.Fragment,null,n.a.createElement(et.a,null,n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:f,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"User Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"User",maxLength:50,value:T,onChange:e=>xe(e.target.value,k),autoComplete:"off",disabled:"Q"===p}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"User ID",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"User ID",maxLength:50,disabled:"A"!==p,value:D,onChange:e=>Pe(e.target.value,L),autoComplete:"off"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:50,value:x,onChange:e=>Ie(e.target.value,A),autoComplete:"off",disabled:"Q"===p}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"email",placeholder:"Email",maxLength:50,autoComplete:"off",value:I,onChange:e=>w(e.target.value),onBlur:e=>ze(e.target.value,w),disabled:"Q"===p}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Enable"),n.a.createElement(s.a.Select,{value:M,onChange:e=>F(e.target.value),disabled:"Q"===p},R.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:U,onChange:e=>Y(e.target.value),disabled:"Q"===p},Z.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{disabled:"Q"===p,value:B,onChange:e=>(function(e){q(e),De(g,[o,"ddlistjson",e],function(e){ae(JSON.parse(e))})})(e.target.value)},z.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),"A"===B?n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Master Head",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:P,onChange:e=>J(e.target.value)},ee.map(e=>n.a.createElement("option",{value:e.value},e.name))))):n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:_e,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:dt,onInputChange:rt,onChange:e=>{console.log(e),fe(e);const a=e.id.split("^");Te(a[1])}})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),"E"===p||"Q"===p?n.a.createElement(at.a,{eventKey:"LOCATION",title:"Location"},"B"===B?n.a.createElement(n.a.Fragment,null,"E"===p?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value)},ne.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Allowed"),n.a.createElement(s.a.Select,{value:ce,onChange:e=>oe(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"YES"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"\xa0"),n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>(function(){if(0===te)c(d("MSG0006")),t(!0);else{var e={umSrNo:f,umRightBranch:te,umRightBranchAllow:ce},a={TabType:"Location",ALineNo:ke.length+1,AType:"A",TType:"MUSER",RightBranch:te,RightBranchAllowed:ce};if("1"===pe.edit&&"E"===p){var l=We(ke,a);Le(l)}De(g,[o,"saveright",JSON.stringify(e)],function(e){""===e?De(g,[o,"locationright",f],function(e){H(JSON.parse(e))}):(c(e),t(!0))})}})()},"Change Right")))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Branch Name"),n.a.createElement("th",null,"Allowed"))),n.a.createElement("tbody",null,K.map(e=>n.a.createElement("tr",{key:e.entity_id},n.a.createElement("td",{className:"textRight"},e.entity_id),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.entity_right))))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0"))):null):null,"E"===p||"Q"===p?n.a.createElement(at.a,{eventKey:"GROUP",title:"Group"},"E"===p?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:me,onChange:e=>ue(e.target.value)},se.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(i.a,{size:"sm",style:{marginTop:"33px"},className:"buttonStyle",variant:"outline-primary",onClick:()=>(function(){if(0!=me){var e={TabType:"Group",ALineNo:ke.length+1,AType:"A",TType:"MUSER",Group:me},a=We(ke,e);Le(a),De(g,[o,"addgroup",f,me],e=>{de(JSON.parse(e)),ue(0)})}})()},"Add"))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,Ee.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.um_id),n.a.createElement("td",null,e.group_name),n.a.createElement("td",null,"E"===p&&1==pe.add?n.a.createElement("span",{className:"colorThemeBlue handCursor",onClick:()=>(function(e,a){const t=Ee.find(a=>a.delgroup===e);if(t){const e={TabType:"Group",ALineNo:ke.length+1,AType:"D",TType:"MUSER",Group:t.group_name};"1"===pe.edit&&"E"===p&&Le(a=>[...a,e])}De(g,[o,"delgroup",e,a],e=>{de(JSON.parse(e))})})(e.rgtgrp_userno,e.rgtgrp_grpno)},n.a.createElement(pa.a,{icon:ja.o})):null)))))):null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===pe.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",{id:"tblBody"},h.map(e=>n.a.createElement("tr",{key:e.um_srno},"1"===pe.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e,a){De(g,[o,"detail",e,a],function(e){b("Q");let a=JSON.parse(e);j(a.umSrNo),console.log("serial number is ",a.umSrNo),k(a.umUserName),L(a.umId),A(a.umMob),w(a.umEml),F(a.umEnable),q(a.umEntityType),Y(a.umActive),H(a.umDetail),fe({id:a.umExecutive,label:a.umExecutive}),De(g,[o,"ddlistjson",a.umEntityType],function(e){ae(JSON.parse(e)),J(a.umEntityCode)}),"B"===a.umEntityType&&le(0),de(a.grouplist),O(!0),v(!1)})})(e.um_srno,e.um_executive)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.um_srno),n.a.createElement("td",null,e.um_username),n.a.createElement("td",null,e.um_id),n.a.createElement("td",null,e.um_active))))))))),n.a.createElement(qa,{logObject:Ae,show:Me,onHide:()=>Fe(!1)}),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:ve,onHide:()=>Ce(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,"E"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:499,value:W,onChange:e=>xe(e.target.value,X),autoComplete:"off",required:!0}))):null),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Re()},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Ce(!1)},"Cancel")))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:ge,onYes:e=>Ge(),onNo:e=>he(!1)},Se)))};var Ft=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(""),[p,b]=Object(l.useState)(!1),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)({value:0,label:"None"}),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)("G"),[f,j]=Object(l.useState)("1"),[T,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)({value:0,label:"Select"}),[w,M]=Object(l.useState)([]),[F,R]=Object(l.useState)([{value:0,label:"NONE"},{value:"DEALER",label:"DEALER"},{value:"CORPORATE",label:"CORPORATE"},{value:"AGENT",label:"AGENT"},{value:"BANK",label:"BANK"},{value:"CASH",label:"CASH"}]),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(!1),[q,z]=Object(l.useState)({value:0,label:"All"}),[V,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)("1"),[X,Z]=Object(l.useState)("1"),[$,ee]=Object(l.useState)([]),[ae,te]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[le,ne]=Object(l.useState)(!1);Object(l.useEffect)(()=>{t||(De(_,[e,"all","VOUCHERGROUP"],function(t){let l=JSON.parse(t);"1"===l.query?(o(l),De(k,[e,"parentgrpjson"],e=>{M(JSON.parse(e))}),re()):a("/")}),r(!0))},[t]);const re=()=>{const a={srchParentGrp:q.value};De(k,[e,"listdata",JSON.stringify(a)],e=>{N(JSON.parse(e))})},ce=()=>{U(!1),E("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Voucher Group"))),""===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Parent Group"),n.a.createElement(Ua.a,{options:w,value:q,onChange:e=>z(e)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===c.add?n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(De(k,[e,"parentgrpjson"],e=>{M(JSON.parse(e))}),E("A"),C("G"),x(""),I(""),j("1"),y({value:0,label:"NONE"}),D(0),Z("1"),void W("1"))},"Add New"):null,"\xa0",n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-success",onClick:()=>re()},"List")," \xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a={right:"VOUCHERGROUP",srchParentGrp:q.value};$e(Q,"post",[e,JSON.stringify(a)])})()},"Export"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Parent Group"),n.a.createElement("th",null,"Category"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,O.map((a,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,"1"===c.edit?n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>(a=>{La()(".loader").show(),E("Q"),De(k,[e,"parentgrpjson"],e=>{M(JSON.parse(e))}),De(k,[e,"details",a],e=>{let t=JSON.parse(e);1===t.msg&&(La()(".loader").hide(),x(t.groupname),C(t.category),D(a),j(t.status),I({value:t.parentgroup,label:t.parentname}),y({value:t.type,label:t.type}),W(t.debtorallow),Z(t.creditorallow),t.parentexist?B(!0):B(!1))})})(a.mvg_srno)},n.a.createElement(pa.a,{icon:ja.i})):null),n.a.createElement("td",null,a.mvg_srno),n.a.createElement("td",null,a.mvg_group_name),n.a.createElement("td",null,a.mvg_parent_group),n.a.createElement("td",null,"G"===a.mvg_category?"Group":"Ledger"),n.a.createElement("td",null,1==a.mvg_status?"Active":"Inactive")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Srno"),n.a.createElement(s.a.Control,{disabled:!0,value:T,onChange:e=>D(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:80,value:L,onChange:e=>Pe(e.target.value,x),disabled:"Q"===u}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Parent Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(Ua.a,{options:w,isDisabled:"E"===u||"Q"===u,value:A,onChange:e=>I(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Category"),n.a.createElement(s.a.Select,{value:v,disabled:"Q"===u,onChange:e=>C(e.target.value)},n.a.createElement("option",{value:"G"},"Group"),n.a.createElement("option",{value:"L"},"Ledger")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(Ua.a,{options:F,value:S,onChange:e=>y(e),isDisabled:"Q"===u}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:f,onChange:e=>j(e.target.value),disabled:"Q"===u},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Debtor"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:H,onChange:e=>W(e.target.value),disabled:"Q"===u},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No"))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Creditor"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:X,onChange:e=>Z(e.target.value),disabled:"Q"===u},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),"E"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"remark",maxLength:50,value:G,onChange:e=>xe(e.target.value,P),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===u||"E"===u?(K("Do you really want to exit ?"),U(!0)):ce())},"Back"),"\xa0\xa0","1"===c.edit&&"Q"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void E("E")},"Edit"),"\xa0"):null,"1"===c.edit?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ne(!0),void te({trantype:"MVGRP",trannumber:T,trancategory:"M"}))},"Activity Log"),"\xa0"):null,"1"===c.edit&&"E"===u||"1"===c.add&&"A"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a={srno:T,vgName:L,vgCategory:v,vgParentGrpCode:A.value,vgStatus:f,vgType:S.value,branch:0,activitytype:1*T>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MVGRP",trannumber:T,subtranno:0,debtor:H,creditor:X,remark:G};const t={TabType:"Product",ALineNo:$.length+1,AType:"A",TType:"MVGRP",VoucherName:L,vgCategory:v,VoucherParentCode:A.value,VoucherStatus:f,VoucherType:S.value,Branch:0,Debtor:H,Creditor:X,Remark:G};var l=We($,t);ee(l);var n=[],r=0;""===L||"0"==A.value?(n[r++]=d("MSG0006"),n[r++]=""===L?" Please fill group name.":"",n[r++]="0"==A.value?" Please select parent.":"",h(ta(n)),b(!0)):"E"===u&&""===G?(h("Please fill remark!"),b(!0)):De(k,[e,"savevgroup",JSON.stringify(a),JSON.stringify(l)],e=>{N(JSON.parse(e)),E(""),P(""),ee([])})})()},"Save"),"\xa0"):null)))),n.a.createElement(qa,{logObject:ae,show:le,onHide:()=>ne(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:p,onClose:e=>b(!1)},g),n.a.createElement(Ja,{isOpen:V,onYes:e=>ce(),onNo:e=>U(!1)},Y)))},Rt=t(4),Gt=t.n(Rt);t(210);var Pt=function(e){const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(""),[c,o]=Object(l.useState)(""),[m,u]=Object(l.useState)(""),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(""),[C,_]=Object(l.useState)({value:"",label:"Select"});return Object(l.useEffect)(()=>{O(e.commissionList)},[]),n.a.createElement("div",null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Commission"))),"Q"===e.visiblePg?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===e.visiblePg,value:t,onChange:e=>(e=>{r(e),De(D,[a,"getisd",e],e=>{v(JSON.parse(e))})})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CN"},"Currency"),n.a.createElement("option",{value:"TT"},"TT"),n.a.createElement("option",{value:"TC"},"TC"),n.a.createElement("option",{value:"VTC"},"VTC"),n.a.createElement("option",{value:"DD"},"DD")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===e.visiblePg,value:c,onChange:e=>o(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paise"),n.a.createElement("option",{value:"R"},"Percentage")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Ua.a,{isDisabled:"Q"===e.visiblePg,options:N,value:C,onChange:e=>_(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Value",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===e.visiblePg,type:"text",placeholder:"Value",value:m,onChange:e=>Me(e.target.value,u)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var l=[],n=0;if(""===t||""===c||""===C.value||""===m)l[n++]=d("MSG0006"),l[n++]=""===t?" Product.":"",l[n++]=""===c?" Type.":"",l[n++]=""===C.value?" ISD.":"",l[n++]=""===m?" Value.":"",S(ta(l)),g(!0);else{const l={commProduct:t,commType:c,commValue:m,isd:C.value,ldgsrno:e.ldgsrno,ldggroupsrno:e.ldggrpsrno};De(D,[a,"addcommission",JSON.stringify(l)],e=>{O(JSON.parse(e))})}})()},"Add"))),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,y.map((t,l)=>n.a.createElement("tr",{key:l},n.a.createElement("td",null,t.vlc_product),n.a.createElement("td",null,t.vlc_type),n.a.createElement("td",null,t.vlc_isd),n.a.createElement("td",null,t.vlc_value),n.a.createElement("td",null,"Q"===e.visiblePg||"0"===e.deleteRight?null:n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>((e,t,l)=>{De(D,[a,"deletecomm",e,t,l],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(r(""),o(""),u(""),O(a.commlist)):(g(!0),S(d(a.msg)))})})(t.vlc_srno,t.vlc_ldgsrno,t.vlc_group)},n.a.createElement(pa.a,{icon:ja.o}))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:b,onClose:e=>g(!1)},h)))};var Jt=function(e){const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(""),[m,u]=Object(l.useState)({value:0,label:"Select"}),[E,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)([]),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[_,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,L]=Object(l.useState)("");return Object(l.useEffect)(()=>{h(e.ledgerDocument),De(D,[a,"getalldocs",e.listType],e=>{r(JSON.parse(e))})},[e.ledgerDocument]),console.log(e.ledgerDocument),n.a.createElement(n.a.Fragment,null,n.a.createElement(ya.a,{fluid:!0},"Q"===e.visiblePg?null:n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(Ua.a,{options:t,value:m,onChange:e=>u(e)}))),0!=m.value?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"uploadGroupDoc"},n.a.createElement(s.a.Label,null,"File",n.a.createElement("span",{className:"mandatory text-danger"},"*")," MAX(10MB)"),n.a.createElement(s.a.Control,{type:"file",value:c,onChange:e=>o(e.target.value)}))):null,n.a.createElement(Na.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",onClick:()=>(()=>{const t={uploadType:"linkdocument",pageright:"VOUCHERLEDGER",sid:a,docsrno:m.value,ldgsrno:e.ldgsrno,ldggrpsrno:e.ldggrpsrno,groupType:e.listType};Ze(JSON.stringify(t),"uploadGroupDoc",e=>{console.log(e);let a=JSON.parse(e);h(a.docdetail)})})()},"Add"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"File Name"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,g.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.docm_desc),n.a.createElement("td",null,e.mvld_filename),n.a.createElement("td",null,"png"==e.mvld_ext||"pdf"==e.mvld_ext||"jpg"==e.mvld_ext||"jpeg"==e.mvld_ext||"jfif"==e.mvld_ext||"gif"==e.mvld_ext||"bmp"==e.mvld_ext?n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>((e,t,l)=>{const n={name:"ledgerdoc",lineno:e,filename:t,pageright:"VOUCHERLEDGER"};ea(U,[a,"docView",JSON.stringify(n)],function(e){let a=JSON.parse(e);La()(".loader").hide(),C(a.bs64),f(a.typ),T(a.desc),L(a.fname),N(!0)})})(e.mvld_lineno,e.mvld_filename,e.mvld_ext)},n.a.createElement(pa.a,{icon:ba.f})):null,"\xa0",n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>((e,t,l)=>{const n={name:"ledgerdoc",lineno:e,filename:t,pageright:"VOUCHERLEDGER"};$e(U,"post",[a,"docdownload",JSON.stringify(n)])})(e.mvld_lineno,e.mvld_filename,e.mvld_ext)},n.a.createElement(pa.a,{icon:ja.h})))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:E,onClose:e=>d(!1)},p)),n.a.createElement(Ba.a,{show:O,onHide:()=>N(!1),size:"xl",centered:!0},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,{id:"example-custom-modal-styling-title"},j.toUpperCase()+" : "+k)),n.a.createElement(Ba.a.Body,null,n.a.createElement("embed",{src:v,type:_,style:{minHeight:"100vh",minWidth:"100%"}}))))};var Bt=function(e){const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)({value:0,label:"Select"}),[m,u]=Object(l.useState)("1"),[E,d]=Object(l.useState)([]),[p,b]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{p||(De(v,[a,"listjson"],e=>{r(JSON.parse(e))}),d(e.locationLink),b(!0))},[p]),Object(l.useEffect)(()=>{d(e.locationLink)},[e.locationLink]),n.a.createElement(n.a.Fragment,null,"Q"===e.visiblePg?null:n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location"),n.a.createElement(Ua.a,{isDisabled:"Q"===e.visiblePg,options:t,value:c,onChange:e=>o(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{disabled:"Q"===e.visiblePg,value:m,onChange:e=>u(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),n.a.createElement(Na.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const t={location:c.value,status:m,ldgsrno:e.ldgsrno,ldggroupsrno:e.ldggrpsrno};0!=c.value&&De(D,[a,"isdstatus",JSON.stringify(t)],e=>{d(JSON.parse(e))})})()},"Save"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Active"))),n.a.createElement("tbody",null,E.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_id),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.active))))))};var qt=function(){const e=[{value:0,label:"Select"},{value:1,label:"Gst"},{value:2,label:"Unregistered"},{value:3,label:"Gst Excluded"}],a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),u=Object(m.n)(),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(new Date),[M,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)("1"),[V,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)("1"),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(new Date),[ue,se]=Object(l.useState)(0),[ie,Ee]=Object(l.useState)(""),[de,pe]=Object(l.useState)(""),[be,ge]=Object(l.useState)(""),[he,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(""),[Ae,we]=Object(l.useState)(""),[Fe,Re]=Object(l.useState)(""),[Ge,Je]=Object(l.useState)(""),[Be,qe]=Object(l.useState)(""),[Ve,Ke]=Object(l.useState)(""),[He,Xe]=Object(l.useState)(""),[Ze,ea]=Object(l.useState)(""),[la,na]=Object(l.useState)({value:0,label:"Select"}),[ra,ca]=Object(l.useState)({value:0,label:"Select"}),[oa,ma]=Object(l.useState)({value:0,label:"Select"}),[ia,Ea]=Object(l.useState)({value:0,label:"Select"}),[da,ga]=Object(l.useState)({value:0,label:"Select"}),[ha,va]=Object(l.useState)({value:0,label:"Select"}),[Ca,_a]=Object(l.useState)(e),[Ta,Da]=Object(l.useState)([{value:0,label:"Select"},{value:1,label:"Dummy"}]),[xa,Aa]=Object(l.useState)([]),[Ia,wa]=Object(l.useState)([{value:0,label:"Select"},{value:1,label:"Dummy"}]),[Ma,Fa]=Object(l.useState)([]),[Ga,Pa]=Object(l.useState)([{value:0,label:"Select"},{value:1,label:"Dummy"}]),[Ba,za]=Object(l.useState)([]),[Va,Qa]=Object(l.useState)([]),[Ya,Ka]=Object(l.useState)([]),[Ha,Wa]=Object(l.useState)([]),[Xa,Za]=Object(l.useState)([]),[$a,lt]=Object(l.useState)([]),[nt,ot]=Object(l.useState)({value:0,label:"Select"}),[mt,ut]=Object(l.useState)({value:0,label:"Select"}),[st,it]=Object(l.useState)({value:0,label:"Select"}),[Et,dt]=Object(l.useState)({value:0,label:"Select"}),[pt,bt]=Object(l.useState)({value:0,label:"Select"}),[gt,ht]=Object(l.useState)({value:0,label:"Select"}),[St,yt]=Object(l.useState)([]),[Nt,vt]=Object(l.useState)(!1),[Ct,_t]=Object(l.useState)([]),[ft,jt]=Object(l.useState)(""),[Tt,kt]=Object(l.useState)({value:"ALL",label:"All"}),[Dt,Lt]=Object(l.useState)(!1),[xt,At]=Object(l.useState)(""),[It,wt]=Object(l.useState)([]),[Mt,Ft]=Object(l.useState)([]),[Rt,qt]=Object(l.useState)([]),[zt,Vt]=Object(l.useState)(""),[Qt,Ut]=Object(l.useState)(""),[Yt,Kt]=Object(l.useState)([]),[Ht,Wt]=Object(l.useState)({value:0,label:"Select"}),[Xt,Zt]=Object(l.useState)(""),[$t,el]=Object(l.useState)(""),[al,tl]=Object(l.useState)([]),[ll,nl]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[rl,cl]=Object(l.useState)(!1),[ol,ml]=Object(l.useState)(),[ul,sl]=Object(l.useState)(),[il,El]=Object(l.useState)(0),[dl,pl]=Object(l.useState)(),[bl,gl]=Object(l.useState)([]),[hl,Sl]=Object(l.useState)(0);Object(l.useEffect)(()=>{t||(De(_,[a,"all","VOUCHERLEDGER"],function(e){let t=JSON.parse(e);"1"===t.query?(o(t),De(D,[a,"getoptions"],e=>{let a=JSON.parse(e);Za(a.dealer),za(a.country),Fa(a.businessnature),Aa(a.risk),wa(a.legal),Da(a.msme)}),De(D,[a,"distinctgrouptype"],e=>{_t(JSON.parse(e))})):u("/")}),r(!0))},[t]);const yl=()=>{La()(".loader").show();const e={type:Tt.value};De(D,[a,"getlist",JSON.stringify(e)],e=>{La()(".loader").hide(),yt(JSON.parse(e))})},Ol=()=>{"ALL"==Tt.value?(g(!0),S("Please select list type.")):(p("A"),De(D,[a,"getgroupval",Tt.value],e=>{let a=JSON.parse(e);lt(a),a.length>1?(vt(!1),va({id:"^0^SELECT^0^SELECT^",label:"Select"}),f(0)):(va(a),vt(!0),f(a[0].id.split("^")[1]))})),O(0),T(""),v(""),w(new Date),P(new Date),L(""),A(""),R(""),B(""),z("1"),Z(""),W(""),U(""),ce(""),me(new Date),K(""),te(""),ee(""),ut({value:0,label:"Select"}),ne("1"),se(0),Ee(""),pe(""),it({value:0,label:"Select"}),dt({value:0,label:"Select"}),bt({value:0,label:"Select"}),Oe(""),Se(""),ge(""),ve(""),_e(""),Te(""),Le(""),we(""),Re(""),qe(""),Je(""),Ke(""),Xe(""),ea(""),ma({value:0,label:"Select"}),na({value:0,label:"Select"}),Ea({value:0,label:"Select"}),ca({value:0,label:"Select"}),ga({value:0,label:"Select"}),ot({value:0,label:"Select"}),ht({value:0,label:"Select"}),Wt({value:0,label:"Select"}),el(""),Zt(""),Vt(""),Ut(""),"BANK"==Tt.value&&(console.log("bank"),Nl()),"WALKIN"==Tt.value&&(Sl(0),gl([]))},Nl=async()=>{console.log("bank option"),await De(D,[a,"getBank"],e=>{Kt(JSON.parse(e))})},vl=()=>{Lt(!1),p("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Voucher Ledger"))),n.a.createElement(Oa.a,null,"\xa0"),""===E?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{xs:3},n.a.createElement(s.a.Group,null,n.a.createElement(Ua.a,{options:Ct,value:Tt,onChange:e=>kt(e)}))),n.a.createElement(Na.a,{xs:9},n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>yl()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===c.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>Ol()},"Add New"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e={right:"VOUCHERLEDGER",type:Tt.value};$e(Q,"post",[a,JSON.stringify(e)])})()},"Export")):null,"\xa0")),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Ledger Name"),n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Group Name"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,St.map((t,l)=>n.a.createElement("tr",{key:l},n.a.createElement("td",null,n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>((t,l)=>{O(t),p("Q"),vt(!0),De(D,[a,"details",t,l],a=>{let t=JSON.parse(a);if("MSG0000"===t.msg&&(v(t.name),T(t.address),na({value:t.country,label:t.cntname}),Ea({value:t.city,label:t.cityname}),ma({value:t.district,label:t.distname}),ca({value:t.state,label:t.statename}),ga({value:t.dealer,label:t.dealername}),A(t.rbilic),P(new Date(t.validity)),w(new Date(t.lastreview)),R(t.website),B(t.scope),z(t.status),ne(t.servicecharge),se(t.creditallowed),Ee(t.creditlimit),pe(t.creditperiod),ge(t.expvolumelow),Se(t.expvolumemed),Oe(t.expvolumehigh),ve(t.phone),_e(t.mobile),Te(t.email),Le(t.listedin),we(t.beneowner),Re(t.benemobile),ht({value:t.amtmanager,label:"Select"}),va({value:t.group,label:t.group+" "+t.groupname}),qe(t.bankname),Je(t.accountnum),Ke(t.fundsource),Xe(t.paymentmode),ea(t.socialstatus),f(t.group),kt({value:t.grouptype,label:t.grouptype}),ut({value:t.msme,label:t.msmedesc}),Z(t.pancard),W(t.tds),ot(e.filter(e=>e.value==t.taxclass)[0]),U(t.gst),ce(t.gstin),""!==t.exemptiondate&&me(new Date(t.exemptiondate)),K(t.arn),te(t.uin),ee(t.aadhar),ne(t.servicecharge),L(t.pin),dt({value:t.legalstatus,label:t.legalstatusdesc}),bt({value:t.businessnature,label:t.businessnaturedesc}),it({value:t.risk,label:t.riskdesc}),r(!1),Vt(t.accountnum),Ut(t.bankIfsc),el(t.fxAccount),Zt(t.fxGroup),wt(t.ledgerdocument),Ft(t.commissiondetail),qt(t.locationlist),console.log("details",t.locationlist),"BANK"==Tt.value&&(console.log("bank"),Nl(),Wt({value:t.bankCode,label:t.bankName})),"WALKIN"==Tt.value)){const e=t.walkincreditlist;Sl(e.length),gl(e.map((e,a)=>({srno:e.srno,branch:{id:"^"+e.branch.split(" ").join("^")+"^",label:e.branch},creditdays:e.creditdays,creditamount:e.creditamount,creditdate:new Date(e.date),tempsrno:a+1,isActive:1})))}})})(t.mvli_srno,t.mvli_group)},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,t.mvli_srno),n.a.createElement("td",null,t.mvli_ledger_name),n.a.createElement("td",null,t.mvli_group),n.a.createElement("td",null,t.mvg_group_name),n.a.createElement("td",null,1==t.mvli_status?"ACTIVE":"INACTIVE")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{size:"sm",className:"buttonStyle",variant:"outline-primary",onClick:()=>void("A"===E||"E"===E?(At("Do you really want to exit ?"),Lt(!0)):vl())},"Back"),"\xa0","1"===c.edit&&"E"===E||"1"===c.add&&"A"===E?n.a.createElement(i.a,{size:"sm",className:"buttonStyle",variant:"outline-primary",onClick:()=>(()=>{var e=[],t=0;if("AGENT"===Tt.value||"CORPORATE"===Tt.value||"DEALER"===Tt.value?(""===N||0==ha.value||"DEALER"===Tt.value&&(0==da.value||""==x)||""==I||""==G||""===J||0==nt.value||""===X||""===j||0==la.value||0==ra.value||0==oa.value||""==k||"CORPORATE"===Tt.value&&(0==mt.value||0==Et.value||0==pt.value)||"GST"===nt.value&&""===re||"GSTEXEMPTED"===nt.value&&""===oe||1==ue&&(""==ie||""==de)||0==st.value)&&(e[t++]=d("MSG0006"),e[t++]="^0^SELECT^0^SELECT^"==ha.id?" Group.":"",e[t++]=""===N?" Ledger name.":"",e[t++]=""===j?"Address.":"",e[t++]=0==la.value?"Country.":"",1==la.value&&(e[t++]=0==ra.value?"State.":"",e[t++]=0==oa.value?"District.":""),e[t++]=""===k?"Pincode.":"",e[t++]=""===I?" Last review date.":"",e[t++]=""===G?" Validity.":"",e[t++]=""===J?" Scope.":"",e[t++]="0"==nt.value?" Tax class.":"",e[t++]=""===X?" Pancard.":"",e[t++]=0==st.value?" Risk.":"","DEALER"===Tt.value?(e[t++]=0==da.value?" Dealer Type.":"",e[t++]=""===x?" RBI License.":""):"CORPORATE"===Tt.value&&(e[t++]="0"==mt.value?" MSME.":"",e[t++]="0"==Et.value?" Legal Status.":"",e[t++]="0"==pt.value?" Nature of business.":""),1==nt.value&&(e[t++]=""===re?" GSTIN.":""),"0"===V&&(e[t++]=""===oe?" GST Exemption date.":""),1==ue&&(e[t++]=""==ie?" Credit limit.":"",e[t++]=""==de?" Credit Period.":""),g(!0),S(ta(e))):"WALKIN"!==Tt.value||""!==N&&""!==J?"BANK"!==Tt.value||""!=zt&&""!=Qt&&""!==N&&""!==J?""!==N&&"^0^SELECT^0^SELECT^"!=ha.id&&""!==I&&""!==G&&""!==J||(e[t++]=d("MSG0006"),e[t++]="^0^SELECT^0^SELECT^"==ha.id?" Group.":"",e[t++]=""===N?" Ledger name.":"",e[t++]=""===I?" Last review date.":"",e[t++]=""===G?" Validity.":"",e[t++]=""===J?" Scope.":"",g(!0),S(ta(e))):(e[t++]=d("MSG0006"),e[t++]=""===N?" Ledger name.":"",e[t++]=""==zt?" Account Number.":"",e[t++]=""==Qt?" Bank IFSC Code.":"",e[t++]=""===J?" Scope.":"",g(!0),S(ta(e))):(e[t++]=d("MSG0006"),e[t++]=""===N?" Ledger name.":"",e[t++]=""===J?" Scope.":"",g(!0),S(ta(e))),X&&re&&(re.includes(X)||(e[t++]="GSTIN is not matching with PAN Number ",g(!0),S(ta(e)))),0==e.length){const e={ldgName:N,ldgAddress:j,ldgSrno:y,ldgCity:ia.value,ldgCountry:la.value,ldgState:ra.value,ldgDistrict:oa.value,ldgDealer:da.value,ldgGroup:C,ldgPinCode:k,ldgValidity:Ue(G),ldgLastReviewDate:Ue(I),ldgWebsite:M,ldgStatus:q,ldgScope:J,ldgRbiLicense:x,ldgPan:X,ldgTaxclass:nt.value,ldgServiceCharge:le,ldgTds:H,ldgGst:V,ldgGstin:re,ldgGstExemptionDate:Ue(oe),ldgARN:Y,ldgUIN:ae,ldgAadhar:$,ldgMSME:mt.value,ldgCreditAllow:ue,ldgCreditLimit:ie,ldgCreditPeriod:de,ldgRisk:st.value,ldgLegalStatus:Et.value,ldgNatureStatus:pt.value,ldgExpectedVolLow:be,ldgExpectedVolMedium:he,ldgExpectedVolHigh:ye,ldgPhone:Ne,ldgMobile:Ce,ldgEmail:je,ldgListedIn:ke,ldgBeneOwner:Ae,ldgBeneMobile:Fe,ldgAmtManager:gt.value,ldgBankName:Be,ldgBankAccNum:"BANK"===Tt.value?zt:Ge,ldgFundSource:Ve,ldgPaymentMode:He,ldgSocialStatus:Ze,bankIfsc:Qt,fxGroup:Xt||0,fxAccount:$t||0,bankCode:Ht||{value:"",label:"Select"},TabType:"Product",ALineNo:al.length+1,AType:"A",TType:"MVLGD"};"WALKIN"===Tt.value&&(e.walkinCreditLimitList=bl);var l=We(al,e);tl(l),De(D,[a,"savedata",JSON.stringify(e),JSON.stringify(l)],e=>{console.log(e);let a=JSON.parse(e);"MSG0000"===a.msg?(p(""),yl(),tl([]),gl([]),Sl(0)):(g(!0),S(d(a.err)))})}})()},"Save"):null,"\xa0","1"===c.edit?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(cl(!0),void nl({trantype:"MVLGD",trannumber:y,trancategory:"M"}))},"Activity Log"),"\xa0"):null,"\xa0","1"===c.edit&&"Q"===E?n.a.createElement(i.a,{size:"sm",className:"buttonStyle",variant:"danger",onClick:()=>void p("E")},"Edit"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(et.a,null,n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo"),n.a.createElement(s.a.Control,{disabled:!0,value:y,onChange:e=>O(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:Nt,cacheOptions:!1,defaultOptions:!1,value:ha,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ot(e,Tt.value),onInputChange:rt,onChange:e=>{va(e);const a=e.id.split("^");f(a[1])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Name",maxLength:"100",value:N,onChange:e=>Pe(e.target.value,v)})))),"BANK"==Tt.value&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank"),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Yt,value:Ht,onChange:e=>(e=>{console.log("hello"),Wt(e)})(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Account Number",maxLength:"20",value:zt,onChange:e=>Vt(e.target.value),onBlur:e=>Ie(e.target.value,Vt)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IFSC Code",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"IFSC Code",value:Qt,maxLength:11,onBlur:e=>(function(e,a){if(e=e.toUpperCase(),console.log("hello",e),!sa.test(e)&&""!==e)return a("");a(e)})(e.target.value,Ut),onChange:e=>Ut(e.target.value)}))),n.a.createElement(Na.a,null),n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address","CORPORATE"===Tt.value||"DEALER"===Tt.value||"AGENT"===Tt.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Address",maxLength:"200",value:j,onChange:e=>T(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country","CORPORATE"===Tt.value||"DEALER"===Tt.value||"AGENT"===Tt.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ba,value:la,onChange:e=>(e=>{na(e),De(D,[a,"getstate",e.value],e=>{Qa(JSON.parse(e))})})(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",1!=la.value||"CORPORATE"!==Tt.value&&"DEALER"!==Tt.value&&"AGENT"!==Tt.value?null:n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Va,value:ra,onChange:e=>(e=>{ca(e),De(D,[a,"getcity",e.value],e=>{Wa(JSON.parse(e))}),De(F,[a,"getdistrict",e.value],e=>{Ka(JSON.parse(e))})})(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",1!=la.value||"CORPORATE"!==Tt.value&&"DEALER"!==Tt.value&&"AGENT"!==Tt.value?null:n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ya,value:oa,onChange:e=>ma(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City"),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ha,value:ia,onChange:e=>Ea(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Pin Code","CORPORATE"===Tt.value||"DEALER"===Tt.value||"AGENT"===Tt.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===E,placeholder:"Pin Code",type:"text",maxLength:6,value:k,onChange:e=>Ie(e.target.value,L)}))),"DEALER"===Tt.value?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Xa,value:da,onChange:e=>ga(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"RBI License",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",maxLength:100,value:x,onChange:e=>A(e.target.value)})))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Last Review",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:I,onChange:e=>w(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===E,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Website"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Website",maxLength:"100",value:M,onChange:e=>R(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Validity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===E,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Scope",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:J,disabled:"Q"===E,onChange:e=>B(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"S"},"Selective")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:q,disabled:"Q"===E,onChange:e=>z(e.target.value)},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Fx Group"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"number",placeholder:"Fx Group Number",maxLength:"20",value:Xt,onChange:e=>Zt(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Fx Account"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Fx Account Number",maxLength:"20",value:$t,onChange:e=>el(e.target.value)}))))),"DEALER"===Tt.value||"CORPORATE"===Tt.value||"AGENT"===Tt.value?n.a.createElement(at.a,{eventKey:"TAXATION",title:"Taxation"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Tax Class",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ca,value:nt,onChange:e=>ot(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Service Charge"),n.a.createElement(s.a.Select,{disabled:"Q"===E,value:le,onChange:e=>ne(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN Card",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",maxLength:"10",placeholder:"Pan",value:X,onChange:e=>Z(e.target.value),onBlur:e=>Qe(e.target.value,Z)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},"CORPORATE"!==Tt.value&&n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS(%)"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",value:H,onChange:e=>Me(e.target.value,W)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST"),n.a.createElement(s.a.Select,{disabled:"Q"===E,value:V,onChange:e=>U(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIN",1==nt.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",maxLength:"15",placeholder:"GstIn",value:re,onChange:e=>ce(e.target.value),onBlur:e=>ua(e.target.value,ce)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Gst Exemption Till","0"===V?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(Gt.a,{className:"form-control",selected:oe,onChange:e=>me(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===E,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ARN"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",maxLength:"23",placeholder:"ARN",value:Y,onChange:e=>K(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"UIN"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",maxLength:"15",placeholder:"UIN",value:ae,onChange:e=>te(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Aadhar Card"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",maxLength:"12",placeholder:"Aadhar Num",value:$,onChange:e=>Ie(e.target.value,ee)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"MSME","CORPORATE"===Tt.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ta,value:mt,onChange:e=>ut(e)}))))):null,"DEALER"===Tt.value||"CORPORATE"===Tt.value||"AGENT"===Tt.value?n.a.createElement(at.a,{eventKey:"RISK",title:"Risk"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credited Allowed"),n.a.createElement(s.a.Select,{disabled:"Q"===E,value:ue,onChange:e=>se(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),"1"===ue?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Limit"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Limit",maxLength:"10",value:ie,onChange:e=>Ie(e.target.value,Ee)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Period"),n.a.createElement(s.a.Control,{disabled:"Q"===E,placeholder:"Credit Period",type:"text",maxLength:"10",value:de,onChange:e=>Ie(e.target.value,pe)})))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Risk",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:xa,value:st,onChange:e=>it(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expected volume low"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Volume low",value:be,onChange:e=>Me(e.target.value,ge)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expected volume medium"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Volume medium",value:he,onChange:e=>Me(e.target.value,Se)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expected volume high"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Volume high",value:ye,onChange:e=>Me(e.target.value,Oe)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Legal Status","CORPORATE"===Tt.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ia,value:Et,onChange:e=>dt(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nature of Business","CORPORATE"===Tt.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ma,value:pt,onChange:e=>bt(e)}))))):null,"DEALER"===Tt.value||"CORPORATE"===Tt.value||"AGENT"===Tt.value?n.a.createElement(at.a,{eventKey:"ADDITIONAL",title:"Additional"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Phone"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Phone",maxLength:10,value:Ne,onChange:e=>Me(e.target.value,ve)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Mobile",maxLength:10,value:Ce,onChange:e=>Me(e.target.value,_e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Email",maxLength:100,value:je,onChange:e=>Te(e.target.value.trim()),onBlur:e=>ze(e.target.value.trim(),Te)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Listed In"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Listed In",maxLength:100,value:ke,onChange:e=>xe(e.target.value,Le)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Beneficiary Owner"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Bene Owner",maxLength:100,value:Ae,onChange:e=>xe(e.target.value,we)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Beneficiary Mobile"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Bene Mobile",maxLength:10,value:Fe,onChange:e=>Ie(e.target.value,Re)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount Manager"),n.a.createElement(Ua.a,{isDisabled:"Q"===E,options:Ga,value:gt,onChange:e=>ht(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Bank Name",maxLength:100,value:Be,onChange:e=>xe(e.target.value,qe)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Account Number"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Bank acc num",maxLength:100,value:Ge,onChange:e=>Ie(e.target.value,Je)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Source of Fund"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Source of fund",maxLength:100,value:Ve,onChange:e=>xe(e.target.value,Ke)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Mode"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Payment Mode",maxLength:50,value:He,onChange:e=>xe(e.target.value,Xe)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Social Status"),n.a.createElement(s.a.Control,{disabled:"Q"===E,type:"text",placeholder:"Social Status",maxLength:100,value:Ze,onChange:e=>xe(e.target.value,ea)}))))):null,"S"===J?n.a.createElement(at.a,{eventKey:"LOCATION",title:"Location"},n.a.createElement(Bt,{ldggrpsrno:ha.value,ldgsrno:y,visiblePg:E,locationLink:Rt})):null,"AGENT"===Tt.value?n.a.createElement(at.a,{eventKey:"COMMISSION",title:"Commission"},n.a.createElement(Pt,{deleteRight:c.delete,ldggrpsrno:ha.value,ldgsrno:y,visiblePg:E,commissionList:Mt})):null,y>0?n.a.createElement(at.a,{eventKey:"DOCUMENTS",title:"Documents"},n.a.createElement(Jt,{ldggrpsrno:ha.value,ldgsrno:y,visiblePg:E,listType:Tt.value,ledgerDocument:It})):null,"WALKIN"===Tt.value?n.a.createElement(at.a,{eventKey:"CREDITLIMIT",title:"Credit Limit"},n.a.createElement(n.a.Fragment,null,"Q"!=E&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ol,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:ml}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Amount"),n.a.createElement(s.a.Control,{value:ul,maxLength:fe,onChange:e=>Ie(e.target.value,sl),placeholder:"Credit Amount"}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Days"),n.a.createElement(s.a.Control,{value:dl,maxLength:3,onChange:e=>Ie(e.target.value,pl),placeholder:"Credit Days"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){let e=0,a=[];a[e++]=d("MSG0006"),!ol&&(a[e++]=" Branch."),!ul&&(a[e++]=" Credit Amount."),!dl&&(a[e++]=" Credit Days."),e>1?(g(!0),S(ta(a))):(gl([...bl,{srno:0,tempsrno:hl+1,branch:ol,creditamount:ul,creditdays:dl,creditdate:new Date,isActive:1}]),Sl(e=>e+1),sl(0),ml({id:"",label:""}),pl(0))}},"Add"))),"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Credit Amount"),n.a.createElement("th",null,"Credit  Days"),n.a.createElement("th",null,"Created Date"))),n.a.createElement("tbody",null,null===bl||void 0===bl?void 0:bl.map((e,a)=>0!==(null===e||void 0===e?void 0:e.isActive)?n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(function(e){const a=bl.map(a=>a.tempsrno===e?0!=a.srno?{...a,isActive:0}:void 0:a.tempsrno>e?{...a,tempsrno:a.tempsrno-1}:a).filter(Boolean);console.log(a),gl(a),Sl(e=>e-1)})(e.tempsrno)},"Q"!=E&&n.a.createElement(pa.a,{icon:ja.o}))," "," ",e.tempsrno),n.a.createElement("td",null,e.branch.label),n.a.createElement("td",null,e.creditamount),n.a.createElement("td",null,e.creditdays),n.a.createElement("td",null,Ye(e.creditdate)+" "+e.creditdate.toTimeString().split(" ")[0])):null))))))):null),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(qa,{logObject:ll,show:rl,onHide:()=>cl(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:b,onClose:e=>g(!1)},h)),n.a.createElement(Ja,{isOpen:Dt,onYes:e=>vl(),onNo:e=>Lt(!1)},xt))};var zt=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)("");Object(l.useEffect)(()=>{if(e.show)if(e.hdrNotExist){let a=e.logObject;r([{hdr_type:a.trantype,hdr_srno:a.trannumber,entity_name:a.entity_name,hdr_date:a.trandate,tdu_status:a.tdu_status}])}else De("/api/tran_data_unlock_request_a.php",[a,"getData",JSON.stringify(e.logObject)],e=>{r(JSON.parse(e)),o(d("MSG0012"))})},[e.show]);const m=()=>{De("/api/tran_data_unlock_request_a.php",[a,"sendRequest",JSON.stringify(e.logObject)],e=>{console.log(e)}),e.onHide()};return n.a.createElement("div",null,n.a.createElement(Ba.a,Object.assign({},e,{animation:!1,size:"lg",centered:!0}),n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Data Unlock")),n.a.createElement(s.a.Label,null,c),n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),t.map(e=>null==e.tdu_status?n.a.createElement("th",null):n.a.createElement("th",null,"Status")))),n.a.createElement("tbody",null,t.map((a,t)=>n.a.createElement("tr",{key:a.hdr_srno},n.a.createElement("td",null,a.hdr_srno),n.a.createElement("td",null,a.hdr_type),n.a.createElement("td",null,a.entity_name),""==a.tdu_status||null==a.tdu_status||"R"==a.tdu_status||"E"==a.tdu_status?n.a.createElement("td",null,n.a.createElement(s.a.Label,null,"Do you want to send request ?"),n.a.createElement("br",null),n.a.createElement(i.a,{variant:"primary",onClick:m},"Yes")," ",n.a.createElement(i.a,{variant:"primary",onClick:()=>e.onHide()},"No")):n.a.createElement("td",null,"P"==a.tdu_status?"Pending":"A"==a.tdu_status?"Approved":"R"==a.tdu_status?"Rejected":""))))),n.a.createElement(Ba.a.Footer,null)))};var Vt=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(null),[w,M]=Object(l.useState)(null),[F,R]=Object(l.useState)("N"),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(new Date),[q,z]=Object(l.useState)(new Date),[V,Q]=Object(l.useState)(0),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(0),[pe,be]=Object(l.useState)(0),[ge,he]=Object(l.useState)(0),[ye,Oe]=Object(l.useState)(0),[Ne,ve]=Object(l.useState)(""),Ce=new Date,[fe,je]=Object(l.useState)(!1),[Te,ke]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""});var Le=[],xe=0;Object(l.useEffect)(()=>{o||(oa().then(e=>{I(e),null!=e&&Ae(e)}),De(_,[e,"all","BANK_TRANSFER_IN"],function(e){let t=JSON.parse(e);"1"===t.query?p(t):a("/")}),u(!0))},[o,e,a]);const Ae=e=>{I(e),e.id;var a=e.id.split("^");Q(a[1]),Y(a[2]),M(null),sessionStorage.activeBranch=a[1]},we=()=>{S(!1),g(""),M(null)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Cheque Book Transfer In",n.a.createElement("span",{style:{color:"white"}},pe)))),n.a.createElement(Oa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Ae,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===F,onChange:()=>R("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===F,onChange:()=>R("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===F,onChange:()=>R("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:q,minDate:new Date(t),maxDate:new Date(r),onChange:e=>z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"BANK",V),onInputChange:rt,onChange:e=>{M(e);const a=e.id.split("^");H(a[5])}})))):"S"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:W,maxLength:20,onChange:e=>Ie(e.target.value,X),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Z,maxLength:20,onChange:e=>Ie(e.target.value,$),placeholder:"To"})))):"D"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===E.add&&"N"===F?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(q);A&&w&&q?e>r||e<t?(v(!0),f(d("MSG0010"))):(g("A"),oe(""),ue(""),ie("")):(Le[xe++]=d("MSG0006"),Le[xe++]=A?"":"Location.",Le[xe++]=w?"":"Bank.",Le[xe++]=q?"":"Date.",f(ta(Le)),v(!0))})()},"Add New"):null,"\xa0","1"!==E.query||"S"!==F&&"D"!==F?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!A||"S"===F&&!W||"S"===F&&!Z||"D"===F&&!G||"D"===F&&!J)Le[xe++]=d("MSG0006"),Le[xe++]=A?"":"Location.",Le[xe++]="S"!==F||W?"":"From Srno.",Le[xe++]="S"!==F||Z?"":"To Srno.",Le[xe++]="D"!==F||G?"":"From Date.",Le[xe++]="D"!==F||J?"":"To Date.",f(ta(Le)),v(!0);else{const a={radioType:F,location:V,fromDate:Ue(G),toDate:Ue(J),fromSrno:W,toSrno:Z};De("/api/bank_cheque_book_in_a.php",[e,"list",JSON.stringify(a)],e=>{let a=JSON.parse(e);ae(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===E.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,ee.map(a=>n.a.createElement("tr",{key:a.hdr_srno},"1"===E.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{g("Q"),de(a),Oe(a),ve(n);const r={srno:a,location:t,type:l};De("/api/bank_cheque_book_in_a.php",[e,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(le(a.chequeList),he(a.maxlineno),Y(a.locationname),H(a.ledgername),M({id:a.bank}))})})(a.hdr_srno,a.hdr_location,a.hdr_type,a.new_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,a.hdr_srno),n.a.createElement("td",null,a.hdr_date),n.a.createElement("td",null,a.hdr_bank))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):we())},"Back")," ","1"===E.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const a=new Date,t=Ne.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(a),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:ye,type:"CHQIN",pageright:"BANK_TRANSFER_IN"};De(Se,[e,"checkUnlock",JSON.stringify(m)],e=>{let t=JSON.parse(e);_e==o||"unlock"==t?(g("E"),oe(""),ue(""),ie("")):(je(!0),ke({trantype:"CHQIN",trannumber:ye,location:V,tranDate:Ue(a)}))})})()},"Edit"),"\xa0"):null,"1"===E.edit&&"E"===b||"1"===E.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(te.length<1)f("Empty List!"),v(!0);else{const a=w.id.split("^"),t={group:a[1],bank:a[2],location:V,srno:Ee,date:Ue(q),data:te,radioType:F,location:V,fromDate:Ue(G),toDate:Ue(J),fromSrno:W,toSrno:Z};if(De("/api/bank_cheque_book_in_a.php",[e,"save",JSON.stringify(t)],e=>{let a=JSON.parse(e);ae(a),M(null),le([]),g("")}),"E"==b){const a={srno:Ee,type:"CHQIN",status:"E",currentDate:Ue(Ce),pageright:"BANK_TRANSFER_IN"};De(Se,[e,"expireUnlock",JSON.stringify(a)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Sr No : ",Ee)),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location : ",U)),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",K))),n.a.createElement(Oa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,onChange:e=>(e=>{Ie(e.target.value,oe),""===e.target.value||""===me?ie(""):ie(1*e.target.value+(1*me-1))})(e),placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:me,maxLength:20,onChange:e=>(e=>{Ie(e.target.value,ue),""===ce||""===e.target.value?ie(""):ie(1*ce+(1*e.target.value-1))})(e),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:se,maxLength:20,onChange:e=>ie(e.target.value),placeholder:"To",disabled:!0})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===E.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(""===ce||""===me)e[a++]=d("MSG0006"),e[a++]=""===ce?"Quantity":"",e[a++]=""===me?"From":"",f(ta(e)),v(!0);else if(ce>=101)f("Quantity Should be less than 101!"),v(!0);else{console.log(w);const e=w.id.split("^"),a=e[1],t=e[2],l={unique_no:Xe(5),tcb_srno:Ee,tcb_account:t,tcb_group:a,tcb_bankname:K,tcb_location:V,tcb_quantity:ce,tcb_from:me,tcb_to:se,tcb_date:Ye(q),tcb_line_no:1*ge+1,del:"Y"};le(We(te,l)),console.log(te),oe(""),ue(""),ie(""),he(ge+1)}})()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===E.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,te.map((a,t)=>n.a.createElement("tr",{key:t},"1"===E.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===a.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{le(He(te,"unique_no",e)),be(pe+1)})(a.unique_no)},n.a.createElement(pa.a,{icon:ja.o}))," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{const r={srno:a,lineno:t,location:l,type:n};De("/api/bank_cheque_book_in_a.php",[e,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);re(a)}),x(!0)})(a.tcb_srno,a.tcb_line_no,a.tcb_location,a.tcb_type)},n.a.createElement(pa.a,{icon:ba.f})):null):null,n.a.createElement("td",null,a.tcb_srno),n.a.createElement("td",null,a.tcb_quantity),n.a.createElement("td",null,a.tcb_from),n.a.createElement("td",null,a.tcb_to),n.a.createElement("td",null,a.tcb_date),n.a.createElement("td",null,a.tcb_group," ",a.tcb_account," ",a.tcb_bankname)))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(Ja,{isOpen:h,onYes:e=>we(),onNo:e=>S(!1)},y),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(zt,{logObject:Te,show:fe,onHide:()=>je(!1)})),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:L,onHide:()=>x(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,ne.map(e=>n.a.createElement("tr",{key:e.tcb_line_no},n.a.createElement("td",null,e.tcbb_from),n.a.createElement("td",null,e.tcbb_out_srno),n.a.createElement("td",null,e.tcbb_out_type),n.a.createElement("td",null,e.tcbb_out_line_no),n.a.createElement("td",null,e.tcbb_out_location),n.a.createElement("td",null))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>x(!1)},"Close")))))};var Qt=function(){const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)("0"),[r,c]=Object(l.useState)(!1),[o,m]=Object(l.useState)("");return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Financial Year"),n.a.createElement(s.a.Select,{value:a,onChange:e=>t(e.target.value)},n.a.createElement("option",{value:"0"},"Select"),n.a.createElement("option",{value:"2324"},"2324"),n.a.createElement("option",{value:"2425"},"2425"),n.a.createElement("option",{value:"2526"},"2526")))),n.a.createElement(Na.a,{style:{marginTop:"31px"}},n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>void("0"===a?(c(!0),m("Please select financial year!")):De(Y,[e,"changefinyr",a],e=>{console.log(e);let a=JSON.parse(e);c(!0),m(a.msg),sessionStorage.dbname=a.dbname,sessionStorage.startDate=a.startdate,sessionStorage.endDate=a.enddate}))},"Save")))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:r,onClose:e=>c(!1)},o)))};var Ut=e=>{let{onDataFromChild:a}=e;const t=sessionStorage.getItem("sessionId"),r=sessionStorage.getItem("branchDisable"),c=Object(m.n)(),[o,u]=Object(l.useState)([]),[i,E]=Object(l.useState)([]),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)("A"),[h,S]=Object(l.useState)(null),[y,O]=Object(l.useState)(0);Object(l.useEffect)(()=>{oa().then(e=>{S(e),null!=e&&v(e)}),De(_,[t,"all","REPORTS"],function(e){let a=JSON.parse(e);"1"===a.query?u(a):c("/")}),De(oe,[t,"location"],e=>{let a=JSON.parse(e);E(a)}),a(y,d.toString(),b),"true"===r&&g("O")},[d]);const N=e=>{g(e),S(null),O(0),p([]),a(y,d,e)},v=e=>{S(e);var t=e.id.split("^");O(t[1]),a(t[1],d,b),sessionStorage.activeBranch=t[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{disabled:"true"===r,checked:"A"===b,onChange:()=>N("A"),type:"radio",label:"All"}),"\xa0",n.a.createElement(s.a.Check,{checked:"O"===b,onChange:()=>N("O"),type:"radio",label:"One"}),"\xa0",n.a.createElement(s.a.Check,{disabled:"true"===r,checked:"S"===b,onChange:()=>N("S"),type:"radio",label:"Selective"}))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},"A"===b?n.a.createElement(n.a.Fragment,null):"O"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:h,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:v,isDisabled:"true"===r}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{height:"250px",border:"1px solid black"}},n.a.createElement("div",{style:{backgroundColor:"lightblue",color:"white",padding:"0 0 0 10px"}},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Locations List")))),n.a.createElement("div",{style:{height:"195px",overflow:"hidden scroll",padding:"5px 10px"}},i.map((e,a)=>n.a.createElement("div",{key:a,className:"mb-3"},n.a.createElement(s.a.Check,{label:e.entity,type:"checkbox",value:e.entity_id,onChange:e=>(e=>{let a=e.target.checked,t=e.target.value;p(e=>a?[...e,t]:e.filter(e=>e!==t))})(e)})))))))))};var Yt=e=>{let{onDataFromChild2:a}=e;const t=sessionStorage.getItem("sessionId"),r=Object(m.n)(),[c,o]=Object(l.useState)([]),[u,i]=Object(l.useState)([]),[E,d]=Object(l.useState)([]),[p,b]=Object(l.useState)("A"),[g,h]=Object(l.useState)(null),[S,y]=Object(l.useState)(0);Object(l.useEffect)(()=>{De(_,[t,"all","REPORTS"],function(e){let a=JSON.parse(e);"1"===a.query?o(a):r("/")}),De(oe,[t,"currency"],e=>{let a=JSON.parse(e);i(a)}),a(S,E.toString(),p)},[E]);const O=e=>{b(e),h(null),y(0),d([]),a(S,E,e)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"A"===p,onChange:()=>O("A"),type:"radio",label:"All"}),n.a.createElement(s.a.Check,{checked:"O"===p,onChange:()=>O("O"),type:"radio",label:"One"}),n.a.createElement(s.a.Check,{checked:"S"===p,onChange:()=>O("S"),type:"radio",label:"Selective"}))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},"A"===p?n.a.createElement(n.a.Fragment,null):"O"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:g,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"CN"),onInputChange:rt,onChange:e=>{h(e);var t=e.id.split("^");y(t[1]),a(t[1],E,p)}}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{height:"250px",border:"1px solid black"}},n.a.createElement("div",{style:{backgroundColor:"lightblue",color:"white",padding:"0 0 0 10px"}},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Locations List")))),n.a.createElement("div",{style:{height:"195px",overflow:"hidden scroll",padding:"5px 10px"}},u.map((e,a)=>n.a.createElement("div",{key:a,className:"mb-3"},n.a.createElement(s.a.Check,{label:e.isd,type:"checkbox",value:e.isd_code,onChange:e=>(e=>{let a=e.target.checked,t=e.target.value;d(e=>a?[...e,t]:e.filter(e=>e!==t))})(e)})))))))))};var Kt=()=>{const[e,a]=Object(l.useState)(0),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)("A"),[m,u]=Object(l.useState)(0),[s,i]=Object(l.useState)([]),[E,d]=Object(l.useState)("A");return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ut,{onDataFromChild:(e,t,l)=>{a(e),r(t),o(l)}}))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Location from Picklist: ",e),n.a.createElement("h4",null,"Location from Dropdown: ",t),n.a.createElement("h4",null,"Radio Button : ",c))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Yt,{onDataFromChild2:(e,a,t)=>{u(e),i(a),d(t)}}))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Currency from Picklist: ",m),n.a.createElement("h4",null,"Currency from Dropdown: ",s),n.a.createElement("h4",null,"Radio Button : ",E))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")))};var Ht=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),[c,o]=Object(l.useState)(0),[u,E]=Object(l.useState)("N"),[p,b]=Object(l.useState)(null),[g,h]=Object(l.useState)(new Date),[S,y]=Object(l.useState)(null),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)(new Date),[T,k]=Object(l.useState)(new Date),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(""),[M,F]=Object(l.useState)(!1),[R,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(!1),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)([]);var le=[],ne=0;Object(l.useEffect)(()=>{M||(De(_,[e,"all","CHEQUE_CANCELLATION"],function(e){let t=JSON.parse(e);"1"===t.query?G(t):a("/")}),F(!0))},[M,e,a]);const re=()=>{K(!1),J("")};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Cheque Book Cancellation"))),"\xa0",""==P?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:p,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{b(e);var a=e.id.split("^");o(a[1]),w(a[1]),L(a[2])}}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===u,onChange:()=>E("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===u,onChange:()=>E("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===u,onChange:()=>E("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:g,minDate:new Date(t),maxDate:new Date(r),onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:S,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"BANK",c),onInputChange:rt,onChange:e=>{console.log(e),y(e);const a=e.id.split("^");console.log(a),A(a[5])}})))):"S"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:O,maxLength:20,onChange:e=>N(e.target.value),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:v,maxLength:20,onChange:e=>C(e.target.value),placeholder:"To"})))):"D"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:f,onChange:e=>j(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:T,onChange:e=>k(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>a("/cancellation")},"Back"),"\xa0","1"===R.add&&"N"==u?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void(!p||"N"==u&&!S||"N"==u&&!g?(le[ne++]=d("MSG0006"),le[ne++]=p?"":"Please select location",le[ne++]="N"!=u||S?"":"Please select bank",le[ne++]="N"!=u||g?"":"Please select date",ee(ta(le)),Z(!0)):J("A"))},"Add New"):null,"\xa0","1"===R.query&&"N"!==u?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!p||"S"==u&&""==O||"S"==u&&!v||"D"==u&&!f||"D"==u&&!T)le[ne++]=d("MSG0006"),le[ne++]=p?"":"Please select location",le[ne++]="S"==u&&""==O?"Please enter from srno":"",le[ne++]="S"!=u||v?"":"Please enter to srno",le[ne++]="D"!=u||f?"":"Please select from date",le[ne++]="D"!=u||T?"":"Please select to date",ee(ta(le)),Z(!0);else{const a={location:c,fromSrno:O,toSrno:v,fromDate:f,toDate:T,radioType:u};De("/api/bank_cheque_book_caancellation_a.php",[e,"getCancelledCheque",JSON.stringify(a)],e=>{console.log(e);let a=JSON.parse(e);te(a)})}})()},"List"):null)),"\xa0",ae.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===R.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Cheque No."))),n.a.createElement("tbody",null,ae.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===R.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.tcbb_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tcbb_from))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===P||"E"===P?(W("Do you really want to exit ?"),K(!0)):re())},"Back")," ")),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",D)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",x))),"\xa0","E"===P||"A"===P?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:B,onChange:e=>(e=>{Ie(e.target.value,q),""===e.target.value||""===z?U(""):U(1*e.target.value+(1*z-1))})(e),placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:z,maxLength:20,onChange:e=>(e=>{Ie(e.target.value,V),""===B||""===e.target.value?U(""):U(1*B+(1*e.target.value-1))})(e),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:Q,maxLength:20,onChange:e=>U(e.target.value),placeholder:"To",disabled:!0})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===R.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(B&&z&&Q){const a={quantity:B,from:z,to:Q,date:Ue(g),location:c,radioType:u};De("/api/bank_cheque_book_caancellation_a.php",[e,"cancelChequeBook",JSON.stringify(a)],e=>{console.log(e);let a=JSON.parse(e);te(a)}),J(""),b(""),y(""),h("")}else le[ne++]=d("MSG0006"),le[ne++]=B?"":"Please enter quantity",le[ne++]=z?"":"Please enter from",ee(ta(le)),Z(!0)})()},"Cancel Cheque Book"):null))):null)),n.a.createElement(n.a.Fragment,null,n.a.createElement(Sa,{isOpen:X,onClose:e=>Z(!1)},$),n.a.createElement(Ja,{isOpen:Y,onYes:e=>re(),onNo:e=>K(!1)},H)))};var Wt=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(null),[w,M]=Object(l.useState)(null),[F,R]=Object(l.useState)(null),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(new Date),[q,z]=Object(l.useState)(0),[V,Q]=Object(l.useState)(0),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(new Date),[te,le]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(0),[ue,se]=Object(l.useState)(0),[ie,Ee]=Object(l.useState)([]),[de,pe]=Object(l.useState)([]),[be,ge]=Object(l.useState)([]),[he,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[fe,je]=Object(l.useState)(0),[Te,ke]=Object(l.useState)(0),[Le,xe]=Object(l.useState)(0),[Ae,we]=Object(l.useState)(""),[Me,Fe]=Object(l.useState)(0),[Re,Ge]=Object(l.useState)(""),Pe=new Date,[Je,Be]=Object(l.useState)(!1),[qe,ze]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""});Object(l.useEffect)(()=>{o||(oa().then(e=>{I(e),null!=e&&Ve(e)}),De(_,[e,"all","BANK_TRANSFER_OUT"],function(e){let t=JSON.parse(e);"1"===t.query?p(t):a("/")}),u(!0))},[o,e,a]);const Ve=e=>{I(e);var a=e.id.split("^");z(a[1]),Y(a[2]),M(null),R(null),sessionStorage.activeBranch=a[1]},Qe=()=>{S(!1),g(""),R(null)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Cheque Book Transfer Out"))),n.a.createElement(Oa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Ve,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:J,minDate:new Date(t),maxDate:new Date(r),onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:F,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"BANK",q),onInputChange:rt,onChange:e=>{R(e);const a=e.id.split("^");me(a[1]),se(a[2]),X(a[5])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Lt(e),onInputChange:rt,onChange:e=>{M(e);var a=e.id.split("^");Q(a[1]),H(a[2])}})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:te,maxLength:20,onChange:e=>Ie(e.target.value,le),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:re,maxLength:20,onChange:e=>Ie(e.target.value,ce),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:Z,onChange:e=>$(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:ee,onChange:e=>ae(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===E.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(J),a=[],l=0;null===A||null===F||null===w?(a[l++]=d("MSG0006"),a[l++]=null===A?" From Location.":"",a[l++]=null===F?"Bank.":"",a[l++]=null===w?" To Location.":"",f(ta(a)),v(!0)):U===K?(f("From location and To location should not be same!."),v(!0)):e>r||e<t?(v(!0),f(d("MSG0010"))):(pe([]),ye(""),we(""),Ce(""),g("A"))})()},"Add New"):null,"\xa0","1"!==E.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a=[],t=0;if(null===A||"S"===G&&!te||"S"===G&&!re||"D"===G&&!Z||"D"===G&&!ee)a[t++]=d("MSG0006"),a[t++]=null===A?" Location.":"",a[t++]="S"!==G||te?"":" From Srno.",a[t++]="S"!==G||re?"":" To Srno.",a[t++]="D"!==G||Z?"":" From Date.",a[t++]="D"!==G||ee?"":" To Date.",f(ta(a)),v(!0);else{const a={filterRadioType:G,filterLocation:q,filterFromDate:Ue(Z),filterToDate:Ue(ee),filterFromSrno:te,filterToSrno:re};De(ne,[e,"list",JSON.stringify(a)],e=>{let a=JSON.parse(e);Ee(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===E.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,ie.map(a=>n.a.createElement("tr",{key:a.hdr_srno},"1"===E.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{g("Q"),je(a),Ge(n),Fe(a);const r={srno:a,location:t,type:l};De(ne,[e,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(pe(a.chequeList),xe(a.maxlineno),Y(a.locationname),H(a.tolocationname),X(a.ledgername),se(a.ledgercode),me(a.groupcode),Q(a.tolocation),R({id:a.bank}))}),console.log(F)})(a.hdr_srno,a.hdr_location,a.hdr_type,a.new_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,a.hdr_srno),n.a.createElement("td",null,a.hdr_date),n.a.createElement("td",null,a.hdr_bank))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):Qe())},"Back")," ","1"===E.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const a=new Date,t=Re.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(a),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:Me,type:"CHQOUT",pageright:"BANK_TRANSFER_OUT"};De(Se,[e,"checkUnlock",JSON.stringify(m)],e=>{let t=JSON.parse(e);_e==o||"unlock"==t?(g("E"),ye(""),Ne(""),Ce("")):(Be(!0),ze({trantype:"CHQOUT",trannumber:Me,location:q,tranDate:Ue(a)}))})})()},"Edit"),"\xa0"):null,"1"===E.edit&&"E"===b||"1"===E.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(de.length<1)f("Empty List!"),v(!0);else{const a=F.id.split("^"),t={group:a[1],bank:a[2],fromLocation:q,toLocation:V,srno:fe,date:Ue(J),data:de,status:"P",type:"CHQOUT",filterRadioType:G,filterLocation:q,filterFromDate:Ue(Z),filterToDate:Ue(ee),filterFromSrno:te,filterToSrno:re};if(De(ne,[e,"save",JSON.stringify(t)],e=>{let a=JSON.parse(e);Ee(a),M(null),R(null),pe([]),g("")}),"E"==b){const a={srno:fe,type:"CHQOUT",status:"E",currentDate:Ue(Pe),pageright:"BANK_TRANSFER_OUT"};De(Se,[e,"expireUnlock",JSON.stringify(a)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial No : ",fe)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"From Location : ",U)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"To Location : ",K)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",W))),n.a.createElement(Oa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:he,onChange:e=>(e=>{Ie(e.target.value,ye),""===e.target.value||""===Ae?Ce(""):Ce(1*e.target.value+(1*Ae-1))})(e),placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>vt(e,oe,ue,q),onInputChange:rt,onChange:e=>{Ne(e);const a=e.id.split("^");we(a[4]),""===he||""===a[4]?Ce(""):Ce(1*he+(1*a[4]-1))}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:ve,maxLength:20,onChange:e=>Ce(e.target.value),placeholder:"To",disabled:!0})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===E.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a=[],t=0;if(""===he||""===Oe)a[t++]=d("MSG0006"),a[t++]=""===he?"Quantity":"",a[t++]=""===Oe?"From":"",f(ta(a)),v(!0);else if(he>=101)f("Quantity Should be less than 101!"),v(!0);else{const a={group:oe,bank:ue,location:q,from:Ae,to:ve};De(ne,[e,"chequebook",JSON.stringify(a)],e=>{if(JSON.parse(e)===he){const e={unique_no:Xe(5),tcb_srno:fe,tcb_account:ue,tcb_group:oe,tcb_bankname:W,tcb_location:q,tcb_quantity:he,tcb_from:Ae,tcb_to:ve,tcb_date:Ye(J),tcb_line_no:1*Le+1,del:"Y"};pe(We(de,e)),console.log(de),ye(""),Ne(""),Ce(""),xe(Le+1)}else f("Doesn't exist!"),v(!0)})}})()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===E.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,de.map((a,t)=>n.a.createElement("tr",{key:t},"1"===E.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===a.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{pe(He(de,"unique_no",e)),ke(Te+1)})(a.unique_no)},n.a.createElement(pa.a,{icon:ja.o}))," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{const r={srno:a,lineno:t,location:l,type:n};De(ne,[e,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);ge(a)}),x(!0)})(a.tcb_srno,a.tcb_line_no,a.tcb_location,a.tcb_type)},n.a.createElement(pa.a,{icon:ba.f})):null):null,n.a.createElement("td",null,a.tcb_srno),n.a.createElement("td",null,a.tcb_quantity),n.a.createElement("td",null,a.tcb_from),n.a.createElement("td",null,a.tcb_to),n.a.createElement("td",null,a.tcb_date),n.a.createElement("td",null,a.tcb_group," ",a.tcb_account," ",a.tcb_bankname)))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(Ja,{isOpen:h,onYes:e=>Qe(),onNo:e=>S(!1)},y),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(zt,{logObject:qe,show:Je,onHide:()=>Be(!1)})),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:L,onHide:()=>x(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,be.map(e=>n.a.createElement("tr",{key:e.tcb_line_no},n.a.createElement("td",null,e.tcbb_from),n.a.createElement("td",null,e.tcbb_out_srno),n.a.createElement("td",null,e.tcbb_out_type),n.a.createElement("td",null,e.tcbb_out_line_no),n.a.createElement("td",null,e.tcbb_out_location),n.a.createElement("td",null))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>x(!1)},"Close")))))},Xt=t(269);var Zt=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{e.show&&De("/api/reconciliation_activity_a.php",[a,"getlog",JSON.stringify(e.logObject)],e=>{r(JSON.parse(e))})},[e.show]),n.a.createElement("div",null,n.a.createElement(Ba.a,Object.assign({},e,{animation:!1,size:"lg",centered:!0}),n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Activity Log")),n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Timestamp"),n.a.createElement("th",null,"Activity"))),n.a.createElement("tbody",null,t.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.lg_usersrno),n.a.createElement("td",null,e.lg_remark),n.a.createElement("td",null,e.date_time),n.a.createElement("td",null,e.lg_activity_type))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"OK"))))};var $t=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(null),[u,E]=Object(l.useState)(new Date),[p,b]=Object(l.useState)(new Date),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(!1),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(!1),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(""),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(""),B=new Date,q=sessionStorage.getItem("startDate"),z=sessionStorage.getItem("endDate"),[V,Q]=Object(l.useState)([]),[U,Y]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[K,H]=Object(l.useState)(!1);var W=[],X=0;Object(l.useEffect)(()=>{D||(De(_,[a,"all","BANK_RECONCILIATION"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),L(!0))},[D,a,e]);return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Bank Reconciliation"))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:c,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Nt(e,1),onInputChange:rt,onChange:e=>{o(e);const a=e.id.split("^");console.log(a),w(a[1]),F(a[2]);const t=a[3];A(t)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:u,onChange:e=>E(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:p,onChange:e=>b(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Realisation",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:S,onChange:e=>{const a=e.target.value;y(a),console.log("Selected value:",a)}},n.a.createElement("option",{value:"",disabled:!0},"Select"),n.a.createElement("option",{value:"1"},"Realised"),n.a.createElement("option",{value:"2"},"Not Realised"),n.a.createElement("option",{value:"3"},"Both"))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Limit",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:g,onChange:e=>{const a=e.target.value;h(a),console.log("Selected value:",a)}},n.a.createElement("option",{value:"",disabled:!0},"Select"),n.a.createElement("option",{value:"5"},"5"),n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"0"},"All"))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Ref/Cheque Number"),n.a.createElement(s.a.Control,{value:R,maxLength:100,onChange:e=>Be(e.target.value,G),placeholder:"Ref/Cheque Number"})),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:P,maxLength:15,onChange:e=>Me(e.target.value,J),placeholder:"Amount"}))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"==t.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(N([]),null==c||""==u||""==p||""==S||""==g||u&&u>B||Ue(u)<q||Ue(p)>z||u>p)W[X++]=d("MSG0006"),W[X++]=null==c?"Please select bank.":"",W[X++]=""==u?"Please select from date.":"",W[X++]=""==p?"Please select to date.":"",W[X++]=""==S?"Please select realisation.":"",W[X++]=""==g?"Please select limit.":"",W[X++]=u&&u>B?"From Date can't be selected as future date.":"",W[X++]=Ue(u)<q?"From Date should be within financial year.":"",W[X++]=p&&p>B?"To Date can't be selected as future date.":"",W[X++]=u>p?"From Date should be less than To Date.":"",k(ta(W)),j(!0);else{const e={bankGroup:I,bankAccount:M,fromDate:Ue(u),toDate:Ue(p),realisation_date:S,limit:g,chequeNum:R,amount:P};De("/api/bank_reconciliation_a.php",[a,"showList",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),N(a)}),C(!0)}}},"List"):null)),"\xa0",v&&n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Voucher"),n.a.createElement("th",{style:{textAlign:"right"}},"Ref/Cheque Number"),n.a.createElement("th",{style:{textAlign:"right"}},"Deposit"),n.a.createElement("th",{style:{textAlign:"right"}},"Withdraw"),n.a.createElement("th",null,"Realisation Date"),n.a.createElement("th",null,"Log"))),n.a.createElement("tbody",null,O.map((e,l)=>n.a.createElement("tr",{key:e.index},n.a.createElement("td",null,e.tfd_location),n.a.createElement("td",null,e.tfd_location,"   ",e.entity_name),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_srno,"   ",e.tfd_type),n.a.createElement("td",{style:{textAlign:"right"}},e.tfd_cheque_no),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&-1*e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},null!=e.realised_date?n.a.createElement(n.a.Fragment,null,e.realised_date,n.a.createElement("h6",null,n.a.createElement(Xt.a,{bg:"danger",style:{cursor:"pointer"},onClick:()=>((e,t,l,n)=>{const r={activitytype:"Removed",subtranno:n,trannumber:l,trantype:t,branch:e,remark:"Date removed",location:e,type:t,srno:l,line:n,realisedDate:null,bankGroup:I,bankAccount:M,fromDate:Ue(u),toDate:Ue(p),realisation_date:S,limit:g,chequeNum:R,amount:P};console.log(r),De("/api/bank_reconciliation_a.php",[a,"setRealised",JSON.stringify(r)],e=>{let a=JSON.parse(e);console.log(a),N(a),Q([])})})(e.tfd_location,e.tfd_type,e.tfd_srno,e.tfd_line_no)},"Remove"))):n.a.createElement(Gt.a,{className:"form-control",selected:V[l],onChange:t=>((e,t,l,n,r,c)=>{const o=[...V];o[e]=t,Q(o),console.log("Date Picker States:",o),console.log("value: ",t);const m="".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")),s=m.split("-").reverse().join("-");console.log(m);const i={activitytype:"Added",subtranno:c,trannumber:r,trantype:n,branch:l,remark:"Date added ".concat(s),location:l,type:n,srno:r,line:c,realisedDate:m,bankGroup:I,bankAccount:M,fromDate:Ue(u),toDate:Ue(p),realisation_date:S,limit:g,chequeNum:R,amount:P};console.log(i),De("/api/bank_reconciliation_a.php",[a,"setRealised",JSON.stringify(i)],e=>{let a=JSON.parse(e);console.log(a),N(a),Q([])})})(l,t,e.tfd_location,e.tfd_type,e.tfd_srno,e.tfd_line_no),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})),n.a.createElement("td",null,"1"===t.query?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",style:{cursor:"pointer"},onClick:()=>((e,a,t,l)=>{console.log("activity"),H(!0),Y({branch:e,trannumber:t,trantype:a,subtranno:l})})(e.tfd_location,e.tfd_type,e.tfd_srno,e.tfd_line_no)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.c})))):null))))),n.a.createElement(Sa,{isOpen:f,onClose:e=>j(!1)},T),n.a.createElement(Zt,{logObject:U,show:K,onHide:()=>H(!1)})),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var el=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{e.show&&De("/api/fa_view_a.php",[a,"getlog",JSON.stringify(e.faViewObject)],e=>{let a=JSON.parse(e);console.log(a),r(a)})},[e.show]),n.a.createElement("div",null,n.a.createElement(Ba.a,Object.assign({},e,{size:"lg",centered:!0,dialogClassName:"custom-modal-width"}),n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"FA View")),n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Tran No"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Cr/Dr"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,t.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.location),n.a.createElement("td",null,e.tranno),n.a.createElement("td",null,e.data),n.a.createElement("td",null,e.tfd_flag),n.a.createElement("td",null,e.tfd_amount>0?e.tfd_amount:-1*e.tfd_amount))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"OK"))))};var al=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("userSrno"),r=sessionStorage.getItem("startDate"),c=sessionStorage.getItem("endDate"),o=sessionStorage.getItem("branchDisable"),[u,E]=Object(l.useState)([]),[b,g]=Object(l.useState)("0"),[h,S]=Object(l.useState)("0"),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(null),[j,T]=Object(l.useState)(new Date),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(new Date),[w,M]=Object(l.useState)(new Date),F=new Date,[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)([]),[B,q]=Object(l.useState)(!1),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)("N"),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)("0"),[ne,re]=Object(l.useState)("0"),[ce,oe]=Object(l.useState)("0"),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(!1),[Ee,de]=Object(l.useState)([]),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)("0"),[Ne,ve]=Object(l.useState)(""),[Ce,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(""),[Ae,we]=Object(l.useState)(null),[Me,Fe]=Object(l.useState)(null),[Re,Ge]=Object(l.useState)(!1),[Pe,Je]=Object(l.useState)(""),[Be,qe]=Object(l.useState)(""),[ze,Ve]=Object(l.useState)(""),[Qe,Ke]=Object(l.useState)(""),[Ze,$e]=Object(l.useState)(""),[ea,la]=Object(l.useState)(""),[na,ra]=Object(l.useState)(""),[ca,ma]=Object(l.useState)([]),[ua,sa]=Object(l.useState)(!1),[ia,Ea]=Object(l.useState)([]),[da,ga]=Object(l.useState)(""),[ha,va]=Object(l.useState)(""),[Ca,_a]=Object(l.useState)(""),[Ta,Da]=Object(l.useState)(""),[xa,Aa]=Object(l.useState)(""),[Ia,wa]=Object(l.useState)(!1),[Ma,Fa]=Object(l.useState)(""),[Ga,Pa]=Object(l.useState)(0),[za,Va]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Qa,Ua]=Object(l.useState)(!1),[Ya,Ka]=Object(l.useState)({location:"",trannumber:"",type:""}),[Ha,Wa]=Object(l.useState)(!1),[Xa,Za]=Object(l.useState)(0),[$a,et]=Object(l.useState)(0),at=()=>sa(!1),[lt,ot]=Object(l.useState)(!1),[mt,ut]=Object(l.useState)(""),[st,it]=Object(l.useState)(""),[Et,dt]=Object(l.useState)(!1),[pt,bt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""});Object(l.useEffect)(()=>{Re||(oa().then(e=>{f(e),null!=e&&ht(e)}),De(_,[a,"all","CHEQUE_DEPOSIT"],function(a){let t=JSON.parse(a);"1"===t.query?E(t):e("/")}),Ge(!0))},[Re,a,e]);const gt=()=>{if("0"==ye)V("You can't save without adding data"),q(!0);else if("E"===N&&""===Ma)wa(!0),La()(".loader").hide();else{const e={remark:Ma,activitytype:1==Ga?"MODIFY":"CREATE",subtranno:Ga,trannumber:b,trantype:"CHKDP",trancategory:"T",branch:$,location:$,date:Ue(j),type:"CHKDP",bookList:Ee,radioType:H,scrMode:N,srNo:b,totalCredit:ne,totalDebit:ae,random:Qe,group:da,account:ha,delClicked:lt,tfd_cheque_status:"I",tfd_cheque_deposit_date:null,uniquekey:mt};if(De(le,[a,"saveChequeDeposit",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),"N"==H?(J(a),ie(!1),v(""),G(!0)):(de(a.resarray),Za(a.maxlineno),v("Q")),Oe(0),Fa("")}),"E"==N){const e={srno:b,type:"CHKDP",status:"E",currentDate:Ue(F),pageright:"CHEQUE_DEPOSIT"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}},ht=e=>{f(e);const a=e.id.split("^");ee(a[1]),Z(a[2]),sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Cheque Deposit ",n.a.createElement("span",{style:{color:"white"}},y)))),"\xa0",""==N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:C,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>ht(e),isDisabled:"true"===o}))),"N"==H?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Nt(e,1),onInputChange:rt,onChange:e=>{ue(e);const a=e.id.split("^");console.log(a),ga(a[1]),va(a[2]);const t=a[4],l=a[3];Le(l),Te(t)}}))):null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===H,onChange:()=>W("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===H,onChange:()=>W("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===H,onChange:()=>W("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Oa.a,null,"N"===H?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Deposit Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:j,onChange:e=>T(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:k,onChange:e=>Ie(e.target.value,D)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:L,onChange:e=>Ie(e.target.value,x)})))):"D"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:w,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"N"==H?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ue(j);null!==C&&null!==me&&j?l>c||l<r?(V(d("MSG0010")),q(!0)):(Za(0),v("A"),g(0),ra(t+"_CHKDP_"+Xe(15)),G(!1),ie(!0),de([]),re("0"),te("0"),oe("0"),be(ke),we("D"),he(Ye(j))):(e[a++]=d("MSG0006"),e[a++]=null===C?"Location.":"",e[a++]=null===me?" Bank.":"",e[a++]=j?"":"Date.",V(ta(e)),q(!0)),Oe(0),Pa(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(null===C||"S"===H&&""===k||"S"===H&&""===L||"D"===H&&!A||"D"===H&&!w)e[t++]=d("MSG0006"),e[t++]=null===C?" Location.":"",e[t++]="S"!==H||k?"":" From Srno.",e[t++]="S"!==H||L?"":" To Srno.",e[t++]="D"!==H||A?"":" From Date.",e[t++]="D"!==H||w?"":" To Date.",V(ta(e)),q(!0);else{const e={date:Ue(j),type:"CHKDP",location:$,radioType:H,fromSrno:k,toSrno:L,fromDate:Ue(A),toDate:Ue(w)};De(le,[a,"showChequeDepositHeader",JSON.stringify(e)],e=>{let a=JSON.parse(e);J(a),G(!0)})}}},"List"))),"\xa0",R&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===u.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Bank Name"))),n.a.createElement("tbody",null,P.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===u.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l,n)=>{La()(".loader").show(),it(n),"N"==H&&W("A"),g(e);const r={srNo:e,location:$,date:t,scrMode:N,lineNum:Ze,type:"CHKDP"};De(le,[a,"showChequeDeposit",JSON.stringify(r)],a=>{let n=JSON.parse(a);de(n.resarray),Za(n.maxlineno),La()(".loader").hide(),v("Q"),G(!1),ie(!0),fe(e),he(t),be(l)})})(e.hdr_srno,e.formatted_date,e.mvli_ledger_name,e.hdr_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_group),n.a.createElement("td",null,e.hdr_ledger),n.a.createElement("td",null,e.mvli_ledger_name)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"A"==N||"E"==N?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{U(!0),K("Do you really want to exit")}},"Cancel"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{v(""),W("N"),ue(null),f(null)}},"Back"),"\xa0","1"===u.edit&&"Q"===N?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,l=ge.split("/"),n=l[2]+"-"+l[1]+"-"+l[0],r=Ue(e),c=new Date(n),o=new Date(r)-c,m=Math.ceil(o/864e5),u={srno:Ce,type:"CHKDP",pageright:"CHEQUE_DEPOSIT"};De(Se,[a,"checkUnlock",JSON.stringify(u)],a=>{let l=JSON.parse(a);_e==m||"unlock"==l?(Pa(1),v("E"),Oe(1),ra(t+"_CHKDP_"+Xe(15))):(dt(!0),bt({trantype:"CHKDP",trannumber:Ce,location:$,tranDate:Ue(e)}))})})()},"Edit"):null,"\xa0","1"===u.edit&&"E"===N||"1"===u.add&&"A"===N?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:gt},"Save"):null,"\xa0","1"!==u.query||"E"!==N&&"Q"!==N?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ua(!0),void Va({trantype:"CHKDP",trannumber:b,trancategory:"T"}))},"Activity Log")),"\xa0","1"===u.query&&"Q"===N?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Wa(!0),void Ka({location:$,trannumber:Ce,type:"CHKDP"}))},"View")):null)),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",b))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank : ",pe))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",X))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",ge)))),"\xa0","E"==N||"A"==N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:Me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l)=>{console.log(t);var n={sid:sessionStorage.getItem("sessionId"),type:"cheque",srch:e,location:a,randomString:t,date:l};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))})(e,1,na,Ue(j)),onInputChange:rt,onChange:e=>{Fe(e);const a=e.id.split("^");console.log(a),Je(a[1]),qe(a[4]),Ve(a[2]),Ke(a[5]),S(a[6]),$e(a[7]),la(a[8]),_a(a[9]),Da(a[10]),Aa(a[11]);const t=a[3];ve(t)}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),null==Me)La()(".loader").hide(),V("Please Select Cheque."),q(!0);else{Oe(ye+1),La()(".loader").hide(),ra(na);const e={type:ea,randomString:na,line:Ze,srno:h,location:xa};De(le,[a,"addRandom",JSON.stringify(e)],e=>{JSON.parse(e)});const t={uniquekey:Xe(15),tfd_line_no:1*Xa+1,tfd_cheque_deposit_date:Ue(j),tfd_amount:Ne,srno:b,tfd_cheque_status:"D",tfd_cheque_no:Pe,formatted_date:Be,tfd_cheque_bank_name:ze,tcd_ref_line_no:Ze,tfd_type:ea,tfd_srno:h,tfd_group:Ca,tfd_account:Ta,tcd_ref_location:xa,delny:"Y"};console.log(t.deposit_line_no),de(We(Ee,t)),O(y+1),ie(!0),Fe(null),Za(1*Xa+1)}}},"Add")," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{De(le,[a,"showChequeSelective",JSON.stringify({})],e=>{let a=JSON.parse(e);ma(a),sa(!0)})}},"Selective")," ")),"\xa0"):null,se&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===u.delete?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Cheque No."),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Ee.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===u.delete?n.a.createElement("td",{className:"textCenter"},"E"!=N&&"A"!=N||"Y"!=e.delny?null:n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{de(He(Ee,"uniquekey",e)),O(y-1),ot(!0),ut(e)})(e.uniquekey)},n.a.createElement(pa.a,{icon:ja.o}))):null,n.a.createElement("td",null,e.tfd_line_no),n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.tfd_cheque_bank_name),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_amount))))))))),n.a.createElement(Sa,{isOpen:B,onClose:e=>q(!1)},z),n.a.createElement(Ja,{isOpen:Q,onYes:e=>(v(""),W("N"),U(!1),ue(null),void f(null)),onNo:e=>U(!1)},Y),n.a.createElement(zt,{logObject:pt,show:Et,onHide:()=>dt(!1)}),n.a.createElement(Ba.a,{show:ua,onHide:at},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Modal heading ",$a)),n.a.createElement(Ba.a.Body,null,"\xa0",n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",onChange:e=>(function(e){e?La()(".selectorChkBox").attr("checked",!0):(La()(".selectorChkBox").attr("checked",!1),ma([])),et($a+1)})(e.target.checked)})),n.a.createElement("th",null,"Cheque No"),n.a.createElement("th",null,"Bank Name"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,ca.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",value:e.tfd_srno,id:"id_"+e.tfd_line_no+"_"+e.tfd_srno,className:"selectorChkBox",onChange:a=>((e,a,t,l,n)=>{n?La()("#id_"+e+"_"+a).attr("checked",!0):La()("#id_"+e+"_"+a).removeAttr("checked"),et($a+1)})(e.tfd_line_no,e.tfd_srno,e.tcd_ref_location,e.tfd_type,a.target.checked)})),n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.tfd_cheque_bank_name),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_amount)))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:at},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{Oe(ye+1),Ue(j),ca.map(e=>{de(We(Ee,{tfd_cheque_bank_name:e.tfd_cheque_bank_name,tfd_cheque_no:e.tfd_cheque_no,formatted_date:e.formatted_date,tfd_amount:e.tfd_amount,tfd_cheque_status:Ae,tfd_line_no:e.tfd_line_no,tfd_type:e.tfd_type,tfd_srno:e.tfd_srno,srno:b,tcd_ref_location:e.tcd_ref_location,tfd_cheque_deposit_date:Ue(j),tfd_group:e.tfd_group,tfd_account:e.tfd_account}))}),at()}},"Add"))),n.a.createElement(qa,{logObject:za,show:Qa,onHide:()=>Ua(!1)}),n.a.createElement(el,{faViewObject:Ya,show:Ha,onHide:()=>Wa(!1)}),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:Ia,onHide:()=>wa(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,"E"===N?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:Ma,onChange:e=>xe(e.target.value,Fa),autoComplete:"off",required:!0}))):null),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===N&&""===Ma?(wa(!1),V("Please fill Activity Remark!"),q(!0)):(gt(),wa(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>sa(!1)},"Cancel")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var tl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[E,b]=Object(l.useState)([]),g=sessionStorage.getItem("userSrno"),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)("N"),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)(null),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(new Date),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(new Date),[q,z]=Object(l.useState)(new Date),[V,Q]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Z,$]=Object(l.useState)(!1),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(!1),[me,ue]=Object(l.useState)([]),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)(null),[_e,je]=Object(l.useState)(""),[Te,ke]=Object(l.useState)(""),[Le,xe]=Object(l.useState)(""),[Ae,we]=Object(l.useState)(""),[Fe,Re]=Object(l.useState)(""),[Ge,Pe]=Object(l.useState)(""),[Je,Be]=Object(l.useState)(""),[qe,ze]=Object(l.useState)(""),[Ve,Qe]=Object(l.useState)("0"),[Ke,He]=Object(l.useState)(""),[We,Ze]=Object(l.useState)(""),[$e,ea]=Object(l.useState)(null),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(""),[ma,ua]=Object(l.useState)(""),[sa,ia]=Object(l.useState)(""),[Ea,da]=Object(l.useState)(""),[ga,ha]=Object(l.useState)([]),[va,Ca]=Object(l.useState)(""),[_a,ja]=Object(l.useState)({location:"",trannumber:"",type:""}),[Ta,Da]=Object(l.useState)(!1);Object(l.useEffect)(()=>{o||(oa().then(e=>{f(e),null!=e&&xa(e)}),De(_,[a,"all","ISSUE_CHEQUE_BOUNCE"],function(a){let t=JSON.parse(a);"1"===t.query?b(t):e("/")}),u(!0))},[o,a,e]);const xa=e=>{f(e);const a=e.id.split("^");xe(a[1]),ke(a[2]),sessionStorage.activeBranch=a[1]},Aa=()=>{var e=[],t=0;if(null===C||null===N||"S"===y&&!F||"S"===y&&!G||"D"===y&&!J||"D"===y&&!q)e[t++]=d("MSG0006"),e[t++]=null===C?" Location.":"",e[t++]=null===N?" Bank.":"",e[t++]="S"!==y||F?"":" From Srno.",e[t++]="S"!==y||G?"":" To Srno.",e[t++]="D"!==y||J?"":" From Date.",e[t++]="D"!==y||q?"":" To Date.",D(ta(e)),T(!0);else{const e={date:Ue(w),type:"ISSUECHQ",location:Le,radioType:y,fromSrno:F,toSrno:G,fromDate:Ue(J),toDate:Ue(q)};De("/api/issue_cheque_bounce_a.php",[a,"showIssueChequeBounceHeader",JSON.stringify(e)],e=>{let a=JSON.parse(e);ha(a),re(!0)})}},Ia=()=>{x(!0),I("Do you really want to exit")};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Issue Cheque Bounce "))),"\xa0",""==h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:C,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>xa(e),isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Nt(e,1),onInputChange:rt,onChange:e=>{v(e);const a=e.id.split("^");console.log(a),de(a[1]),be(a[2]);const t=a[3];we(t),he(t)}}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===y,onChange:()=>O("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===y,onChange:()=>O("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===y,onChange:()=>O("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===y?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Deposit Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:w,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:F,onChange:e=>Ie(e.target.value,R)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:G,onChange:e=>Ie(e.target.value,P)})))):"D"===y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:q,onChange:e=>z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"N"==y?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ue(w);null!==C&&null!==N&&w?l>r||l<t?(D(d("MSG0010")),T(!0)):(S("A"),ae(0),le(g+"_CHKDP_"+Xe(15)),re(!1),oe(!0),ue([]),he(Ae),ye(Ye(w))):(e[a++]=d("MSG0006"),e[a++]=null===C?" Location.":"",e[a++]=null===N?" Bank.":"",e[a++]=null===w?" Date.":"",D(ta(e)),T(!0)),je("AGENT,CORPORATE,DEALER,OTHER,ISSUER,WALKIN"),H(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:Aa},"List"))),"\xa0",ne&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===E.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,ga.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===E.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l)=>{La()(".loader").show(),ae(e);const n={srno:e,location:Le,scrMode:h,type:t};De("/api/issue_cheque_bounce_a.php",[a,"showIssueChequeBounce",JSON.stringify(n)],a=>{let t=JSON.parse(a);console.log(t),La()(".loader").hide(),ue(t),S("Q"),oe(!0),Ca(e),ye(l)})})(e.tfh_srno,e.tfh_type,e.tfh_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"A"==h||"Q"==h?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:Ia},"Back"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:Ia},"Cancel"),"\xa0","1"===E.edit&&"E"===h||"1"===E.add&&"A"===h?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(null===Oe||null===ve)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]=null===ve?" Party.":"",e[t++]=null===Oe?" Cheque.":"",D(ta(e)),T(!0);else if("E"===h&&""===U)Q(!0),La()(".loader").hide();else{const e={remark:U,activitytype:1==K?"MODIFY":"CREATE",subtranno:K,trannumber:ee,trantype:"ISSUECHQ",trancategory:"T",branch:Le,uniquekey:Xe(15),date:Ue(w),amount:se,location:Le,srno:ee,cheque_status:$e,cheque_no:qe,chequeDate:la,cheque_bank_name:ra,line_no:Ke,tfd_type:We,tfd_srno:Ve,radioType:y,type:"ISSUECHQ",partyGroup:Fe,partyAccount:Ge,ref_location:ma,chequeGroup:sa,chequeAccount:Ea,bankGroup:Ee,bankAccount:pe};De("/api/issue_cheque_bounce_a.php",[a,"saveIssueChequeBounce",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a.resarray),S(""),Ne(null),Ce(null),ie(""),ha(a),re(!0)})}}},"Save"):null,"\xa0","1"!==E.query||"E"!==h&&"Q"!==h?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>($(!0),void X({trantype:"ISSUECHQ",trannumber:ee,trancategory:"T"}))},"Activity Log"),"\xa0","1"===E.query&&"Q"===h?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Da(!0),void ja({location:Le,trannumber:ee,type:"ISSUECHQ"}))},"View"):null)),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",ee))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank : ",ge))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",Te))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",Se)))),"E"==h||"A"==h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l)=>{var n={sid:sessionStorage.getItem("sessionId"),type:"issuecheque",srch:e,location:a,bankGroup:t,bankAccount:l};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))})(e,1,Ee,pe),onInputChange:rt,onChange:e=>{Ne(e);const a=e.id.split("^");console.log(a),ze(a[1]),Qe(a[6]),He(a[7]),Ze(a[8]),ua(a[9]),ia(a[10]),da(a[11]);let t=a[3];console.log(t),t<0&&(t*=-1,console.log(t)),ie(t)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ve,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,_e,1),onInputChange:rt,onChange:e=>{Ce(e);const a=e.id.split("^");console.log(a),Re(a[1]),Pe(a[2]),Be(a[4])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:se,maxLength:fe,onChange:e=>Me(e.target.value,ie),placeholder:"Amount",disabled:!0}))))," \xa0"):null,ce&&me.map(e=>n.a.createElement(Oa.a,null,n.a.createElement(n.a.Fragment,{key:e.tfd_line_no},n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No. : ",e.tcd_cheque_no))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Bank : ",e.tfd_cheque_bank_name))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date : ",e.formatted_date))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount : ",e.tcd_amount))))," ")))),n.a.createElement(qa,{logObject:W,show:Z,onHide:()=>$(!1)}),n.a.createElement(el,{faViewObject:_a,show:Ta,onHide:()=>Da(!1)}),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(Ja,{isOpen:L,onYes:e=>("A"==h||"Q"==h?(S(""),re(!0),Aa()):S("Q"),x(!1),void v(null)),onNo:e=>x(!1)},A))};var ll=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[E,b]=Object(l.useState)([]),g=sessionStorage.getItem("userSrno"),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(new Date),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(new Date),[A,I]=Object(l.useState)(new Date),[w,M]=Object(l.useState)(!1),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)("N"),[U,Y]=Object(l.useState)(null),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(null),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(!1),[me,ue]=Object(l.useState)([]),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)([]),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(null),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[_e,je]=Object(l.useState)(""),[Te,ke]=Object(l.useState)("0"),[Le,Ae]=Object(l.useState)(""),[we,Fe]=Object(l.useState)(""),[Re,Ge]=Object(l.useState)(0),[Pe,Je]=Object(l.useState)(null),[Be,qe]=Object(l.useState)(""),[ze,Ve]=Object(l.useState)(""),[Qe,Ke]=Object(l.useState)(""),[He,We]=Object(l.useState)("0"),[Ze,$e]=Object(l.useState)(""),[ea,la]=Object(l.useState)(""),[na,ra]=Object(l.useState)(""),[ca,ma]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(""),[ia,Ea]=Object(l.useState)(""),[da,ga]=Object(l.useState)(!1),[ha,va]=Object(l.useState)(""),[Ca,_a]=Object(l.useState)(0),[ja,Ta]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Da,xa]=Object(l.useState)(!1),[Aa,Ia]=Object(l.useState)({location:"",trannumber:"",type:""}),[wa,Ma]=Object(l.useState)(!1),[Fa,Ga]=Object(l.useState)(0);Object(l.useEffect)(()=>{o||(oa().then(e=>{H(e),null!=e&&Pa(e)}),De(_,[a,"all","RECEIVED_CHEQUE_BOUNCE"],function(a){let t=JSON.parse(a);"1"===t.query?b(t):e("/")}),u(!0))},[o,a,e]);const Pa=e=>{H(e);const a=e.id.split("^");v(a[1]),O(a[2]),sessionStorage.activeBranch=a[1]},za=()=>{var e=[],t=0;if(null===Se||null===Pe)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]=null===Pe?" Party.":"",e[t++]=null===Se?" Cheque.":"",R(ta(e)),M(!0);else if("E"===q&&""===ha)ga(!0),La()(".loader").hide();else{const e={remark:ha,activitytype:1==Ca?"MODIFY":"CREATE",subtranno:Ca,trannumber:W,trantype:"CHKBOUNCE",trancategory:"T",branch:N,uniquekey:Xe(15),tfd_line_no:1*Fa+1,date:Ue(C),amount:ge,location:N,srno:W,cheque_status:te,cheque_no:pe,chequeDate:ve,cheque_bank_name:Oe,line_no:Le,tfd_type:we,tfd_srno:Te,radioType:V,type:"CHKBOUNCE",partyGroup:Be,partyAccount:ze,ref_location:ea,chequeGroup:na,chequeAccount:ca,bankGroup:ua,bankAccount:ia};De("/api/received_cheque_bounce_a.php",[a,"saveReceivedChequeBounce",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a.resarray),z(""),ye(null),Je(null),he(""),de(a),S(!0)})}},Va=()=>{var e=[],t=0;if(null===K||null===U||"S"===V&&!j||"S"===V&&!k||"D"===V&&!L||"D"===V&&!A)e[t++]=d("MSG0006"),e[t++]=null===K?" Location.":"",e[t++]=null===U?" Bank.":"",e[t++]="S"!==V||j?"":" From Srno.",e[t++]="S"!==V||k?"":" To Srno.",e[t++]="D"!==V||L?"":" From Date.",e[t++]="D"!==V||A?"":" To Date.",R(ta(e)),M(!0);else{const e={date:Ue(C),type:"CHKBOUNCE",location:N,radioType:V,fromSrno:j,toSrno:k,fromDate:Ue(L),toDate:Ue(A)};De("/api/received_cheque_bounce_a.php",[a,"showChequeBounceHeader",JSON.stringify(e)],e=>{let a=JSON.parse(e);de(a),S(!0)})}},Qa=()=>{P(!0),B("Do you really want to exit")};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Received Cheque Bounce ",n.a.createElement("span",{style:{color:"white"}},Re)))),"\xa0",""==q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>Pa(e),isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:U,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Nt(e,1),onInputChange:rt,onChange:e=>{Y(e);const a=e.id.split("^");console.log(a),sa(a[1]),Ea(a[2]);const t=a[3];re(t),ie(t)}}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===V,onChange:()=>Q("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===V,onChange:()=>Q("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===V,onChange:()=>Q("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Oa.a,null,"N"===V?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:C,onChange:e=>f(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===V?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:j,onChange:e=>Ie(e.target.value,T)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:k,onChange:e=>Ie(e.target.value,D)})))):"D"===V?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:L,onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"N"==V?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ue(C);null!==K&&null!==U&&C?l>r||l<t?(R(d("MSG0010")),M(!0)):(Ga(0),z("A"),X(0),$(g+"_CHKDP_"+Xe(15)),S(!1),oe(!0),ue([]),ie(ne),le("B"),ae(Ye(C))):(e[a++]=d("MSG0006"),e[a++]=null===K?" Location.":"",e[a++]=null===U?" Bank.":"",e[a++]=C?"":" Date.",R(ta(e)),M(!0)),We(0),$e("AGENT,CORPORATE,DEALER,OTHER,ISSUER,WALKIN"),_a(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:Va},"List"))),"\xa0",h&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===E.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,Ee.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===E.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l)=>{La()(".loader").show(),X(e);const n={srno:e,location:N,scrMode:q,type:t};De("/api/received_cheque_bounce_a.php",[a,"showChequeBounce",JSON.stringify(n)],a=>{let t=JSON.parse(a);console.log(t),La()(".loader").hide(),ue(t),z("Q"),oe(!0),je(e),ae(l)})})(e.tfh_srno,e.tfh_type,e.tfh_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"A"==q||"Q"==q?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:Qa},"Back"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:Qa},"Cancel"),"\xa0","1"===E.edit&&"E"===q||"1"===E.add&&"A"===q?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:za},"Save"):null,"\xa0","1"!==E.query||"E"!==q&&"Q"!==q?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(xa(!0),void Ta({trantype:"CHKBOUNCE",trannumber:W,trancategory:"T"}))},"Activity Log"),"\xa0","1"===E.query&&"Q"===q?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ma(!0),void Ia({location:N,trannumber:W,type:"CHKBOUNCE"}))},"View"):null)),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",W))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank : ",se))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",y))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",ee))))," ",n.a.createElement("hr",null),"\xa0","E"==q||"A"==q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Se,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l)=>{var n={sid:sessionStorage.getItem("sessionId"),type:"receivedcheque",srch:e,location:a,bankGroup:t,bankAccount:l};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))})(e,1,ua,ia),onInputChange:rt,onChange:e=>{ye(e);const a=e.id.split("^");console.log(a),be(a[1]),Ce(a[4]),Ne(a[2]),ke(a[6]),Ae(a[7]),Fe(a[8]),la(a[9]),ra(a[10]),ma(a[11]);const t=a[3];he(t)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Pe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,Ze,1),onInputChange:rt,onChange:e=>{Je(e);const a=e.id.split("^");console.log(a),qe(a[1]),Ve(a[2]),Ke(a[4])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ge,maxLength:fe,onChange:e=>Me(e.target.value,he),placeholder:"Amount",disabled:!0}))))," \xa0"):null,ce&&me.map(e=>n.a.createElement(Oa.a,null,n.a.createElement(n.a.Fragment,{key:e.tfd_line_no},n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No. : ",e.tcd_cheque_no))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date : ",e.formatted_date))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount : ",e.tcd_amount))))," ")))),n.a.createElement(qa,{logObject:ja,show:Da,onHide:()=>xa(!1)}),n.a.createElement(el,{faViewObject:Aa,show:wa,onHide:()=>Ma(!1)}),n.a.createElement(Sa,{isOpen:w,onClose:e=>M(!1)},F),n.a.createElement(Ja,{isOpen:G,onYes:e=>("A"==q||"Q"==q?(z(""),S(!0),Va()):z("Q"),P(!1),void Y(null)),onNo:e=>P(!1)},J),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:da,onHide:()=>ga(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,"E"===q?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:ha,onChange:e=>xe(e.target.value,va),autoComplete:"off",required:!0}))):null),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===q&&""===ha?(ga(!1),R("Please fill Activity Remark!"),M(!0)):(za(),ga(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>ga(!1)},"Cancel")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var nl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)(!1),[S,y]=Object(l.useState)(null),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)("1"),[D,L]=Object(l.useState)(new Date),[x,A]=Object(l.useState)(new Date),[I,w]=Object(l.useState)("");Object(l.useEffect)(()=>{c||(De(_,[a,"all","IBR"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Master IBR"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"1"===t.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:D,onChange:e=>L(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:x,onChange:e=>A(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Limit",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:T,onChange:e=>k(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"10"},"50"),n.a.createElement("option",{value:"50"},"100")))),n.a.createElement(Na.a,{style:{marginTop:"34px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={filterLimit:T,filterFromDate:Ue(D),filterToDate:Ue(x)};De(pe,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);C(a)})})()},"List"))):null),n.a.createElement(Oa.a,null,"1"===t.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:S,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"CN"),onInputChange:rt,onChange:e=>{y(e);const a=e.id.split("^");N(a[1])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:f,onChange:e=>Me(e.target.value,j),maxLength:20,placeholder:"Rate"}))),n.a.createElement(Na.a,{style:{marginTop:"34px"}},n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],t=0;if(null===S||""===f)e[t++]=d("MSG0006"),e[t++]=null===S?" Currency.":"",e[t++]=""===f?"Rate.":"",b(ta(e)),E(!0);else{const e={filterLimit:T,filterFromDate:Ue(D),filterToDate:Ue(x),isd:O,rate:f};De(pe,[a,"add",JSON.stringify(e)],e=>{let a=JSON.parse(e);C(a),y(null),j("")})}})()},"Add"))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===t.query||"1"===t.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void h(!0)},"Upload"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void De(pe,[a,"ratecard"],e=>{console.log(e)})},"Generate Rate Card"),n.a.createElement("br",null),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Xt.a,{bg:"primary",onClick:()=>void $e(Q,"post",[a,JSON.stringify({right:"IBR"})])},"Download"))):null)),n.a.createElement(Oa.a,null,"\xa0"),g&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:I,onChange:e=>w(e.target.value)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),La()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])La()(".loader").hide(),b("Please select a file to upload."),E(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)La()(".loader").hide(),b("(.) not allowed in file name."),E(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)La()(".loader").hide(),b("Please select a file with in 10 MB size."),E(!0);else if("xlsx"!=e[1])La()(".loader").hide(),b("File extension should be in xlsx format"),E(!0);else{const e={sid:a,srno:6666,isd:O,ibrFile:I,uploadType:"uploadIbr",pageright:"UPLOADIBR",filterLimit:T,filterFromDate:Ue(D),filterToDate:Ue(x)};Ze(JSON.stringify(e),"fileExcel",e=>{let a=JSON.parse(e);La()(".loader").hide(),b(a.msg),E(!0),h(!1),w("")})}}})()},"Submit")," "))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Rate"))),n.a.createElement("tbody",null,null===v||void 0===v?void 0:v.map(e=>n.a.createElement("tr",{key:e.ibr_srno},n.a.createElement("td",null,e.ibr_isd),n.a.createElement("td",null,e.ibr_rate)))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:u,onClose:e=>E(!1)},p)))};var rl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[E,d]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(1),[L,x]=Object(l.useState)(!0),[A,I]=Object(l.useState)(!1),[M,F]=Object(l.useState)("Q"),[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{b||(De(_,[p,"all","BUSINESSNATURE"],function(a){let t=JSON.parse(a);"1"===t.query?O(t):e("/")}),De(w,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),g(!0))},[b,p,e]);const z=()=>{u(!1),I(!1),x(!0),G(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master Business Nature "))),L?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===y.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{v(0),f(""),D(1),F("A"),x(!1),I(!0)}}," Add New"):null,"1"===y.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[p,JSON.stringify({right:"BUSINESSNATURE"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:N,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Business Nature",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Business Nature",maxLength:100,value:C,onChange:e=>xe(e.target.value,f),disabled:"Q"===M,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:k,onChange:e=>D(e.target.value),required:!0,disabled:"Q"===M},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:j,onChange:e=>xe(e.target.value,T),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===M||"E"===M?(d("Do you really want to exit ?"),u(!0)):z())},"Back"),"\xa0\xa0","1"===y.edit&&"Q"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void F("E")},"Edit"),"\xa0"):null,"1"===y.edit&&"E"===M||"1"===y.add&&"A"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===C)c("Please fill Business!"),t(!0);else if("E"===M&&""===j)c("Please fill Remark!"),t(!0);else{var e={business:C,status:k,branch:0,activitytype:1*N>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MBN",trannumber:N,subtranno:0,remark:j};const l={ALineNo:B.length+1,AType:"A",TType:"MBN",BusinessNature:C,Status:k};var a=We(B,l);q(a),De(w,[p,"savelist",N,JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a.err?(I(!1),x(!0),T(""),De(w,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==y.query||"E"!==M&&"Q"!==M?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MBN",trannumber:N,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,R&&n.a.createElement(qa,{logObject:P,show:R,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===y.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Business Nature"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,h.map(e=>n.a.createElement("tr",{key:e.mn_srno},"1"===y.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{F("Q"),G(!1),De(w,[p,"editList",e],e=>{let a=JSON.parse(e);v(a.srno),f(a.business),D(a.status),I(!0),x(!1)})})(e.mn_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.mn_srno),n.a.createElement("td",null,e.mn_business_name),n.a.createElement("td",null,1==e.mn_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:o,onYes:e=>z(),onNo:e=>u(!1)},E)))};var cl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)("Q"),[A,I]=Object(l.useState)(!1),[w,M]=Object(l.useState)(""),[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","COSTCENTER"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(R,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const z=()=>{I(!1),D(!1),T(!0),G(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master Cost Center "))),j?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),D(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"COSTCENTER"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cost Center",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Cost center",maxLength:100,disabled:"Q"===L,value:y,onChange:e=>xe(e.target.value,O),autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===L,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===L||"E"===L?(M("Do you really want to exit ?"),I(!0)):z())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===L||"1"===b.add&&"A"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Cost Center!"),t(!0);else if("E"===L&&""===C)c("Please fill Remark!"),t(!0);else{var e={costcenter:y,status:N,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCSC",trannumber:h,subtranno:0,remark:C},a={TabType:"Edit",ALineNo:B.length+1,AType:"A",TType:"MCSC",Costcenter:y,Status:N,Remark:C},l=We(B,a);q(l),De(R,[o,"savelist",h,JSON.stringify(e),JSON.stringify(l)],e=>{let a=JSON.parse(e);""===a.err?(D(!1),T(!0),f(""),De(R,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==L&&"Q"!==L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MCSC",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,F&&n.a.createElement(qa,{logObject:P,show:F,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Cost Center"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.cc_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{x("Q"),G(!1),De(R,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.costcenter),v(a.status),D(!0),T(!1)})})(e.cc_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.cc_srno),n.a.createElement("td",null,e.cc_cost_center),n.a.createElement("td",null,1==e.cc_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(qa,{logObject:P,show:F,onHide:()=>G(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:A,onYes:e=>z(),onNo:e=>I(!1)},w)))};var ol=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,A]=Object(l.useState)(!1),[I,w]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[M,F]=Object(l.useState)("Q"),[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(1),[z,V]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","COUNTRYCLASS"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(x,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const U=()=>{G(!1),D(!1),T(!0),A(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Country Class "))),j?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),F("A"),T(!1),D(!0),q("")}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"COUNTRYCLASS"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Class Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Class Name",maxLength:50,value:y,onChange:e=>Pe(e.target.value,O),autoComplete:"off",disabled:"Q"===M}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===M,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Class Value",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Class Value",maxLength:50,value:B,onChange:e=>Ie(e.target.value,q),autoComplete:"off",disabled:"Q"===M})))),"E"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"remark",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===M||"E"===M?(J("Do you really want to exit ?"),G(!0)):U())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void F("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===M||"1"===b.add&&"A"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Class Name!"),t(!0);else if(""===B)c("Please fill Class Value"),t(!0);else if("E"===M&&""===C)c("Please fill remark!"),t(!0);else{var e={srno:h,classname:y,status:N,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCC",trannumber:h,subtranno:0,remark:C,classValue:B},a={TabType:"Edit",ALineNo:z.length+1,AType:"A",TType:"MCC",classname:y,classValue:B,status:N,Remark:C},l=We(z,a);V(l),De(x,[o,"savelist",h,JSON.stringify(e),JSON.stringify(l)],e=>{let a=JSON.parse(e);""===a.err?(D(!1),T(!0),f(""),De(x,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),V([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==M&&"Q"!==M?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(A(!0),void w({trantype:"MCC",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0"))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Class Name"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Class Value"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.class_id},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{F("Q"),A(!1),De(x,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.className),v(a.status),q(a.classValue),D(!0),T(!1)})})(e.class_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.class_id),n.a.createElement("td",null,e.class_name),n.a.createElement("td",null,1==e.class_active?"ACTIVE":"INACTIVE"),n.a.createElement("td",null,e.class_value))))))))),n.a.createElement(qa,{logObject:I,show:L,onHide:()=>A(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:R,onYes:e=>U(),onNo:e=>G(!1)},P)))};var ml=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(""),[r,c]=Object(l.useState)(!1),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)("Q"),[A,I]=Object(l.useState)(!1),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(!1),[G,P]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","DESIGNATION"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(J,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const z=()=>{I(!1),D(!1),T(!0),R(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master Designation"))),j?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),D(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"DESIGNATION"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Designation",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Designation",maxLength:100,value:y,onChange:e=>xe(e.target.value,O),autoComplete:"off",disabled:"Q"===L}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===L,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===L||"E"===L?(M("Do you really want to exit ?"),I(!0)):z())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===L||"1"===b.add&&"A"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)t("Please fill Designation!"),c(!0);else if("E"===L&&""===C)t("Please fill Remark!"),c(!0);else{var e={designation:y,status:N,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MDESG",trannumber:h,subtranno:0,remark:C},a={TabType:"Edit",ALineNo:B.length+1,AType:"A",TType:"MDESG",Designation:y,Status:N,Remark:C},l=We(B,a);q(l),De(J,[o,"savelist",h,JSON.stringify(e),JSON.stringify(l)],e=>{let a=JSON.parse(e);""===a.err?(T(!0),D(!1),f(""),De(J,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(t(a.err),c(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==L&&"Q"!==L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(R(!0),void P({trantype:"MDESG",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,F&&n.a.createElement(qa,{logObject:G,show:F,onHide:()=>R(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Designation"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.md_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{x("Q"),R(!1),De(J,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.designation),v(a.status),D(!0),T(!1)})})(e.md_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.md_srno),n.a.createElement("td",null,e.md_designation),n.a.createElement("td",null,1==e.md_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(qa,{logObject:G,show:F,onHide:()=>R(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:r,onClose:e=>c(!1)},a),n.a.createElement(Ja,{isOpen:A,onYes:e=>z(),onNo:e=>I(!1)},w)))};var ul=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[g,y]=Object(l.useState)(!0),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(0),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(0),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)(0),[M,R]=Object(l.useState)([]),[G,P]=Object(l.useState)(0),[J,B]=Object(l.useState)([]),[q,z]=Object(l.useState)(0),[V,U]=Object(l.useState)([]),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)([]),[X,Z]=Object(l.useState)([]),[$,ee]=Object(l.useState)("Q"),[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(!1),[oe,me]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ue,se]=Object(l.useState)([]);function ie(e){P(e),De(S,[o,"ddlistjson",e],function(e){R(JSON.parse(e))})}function Ee(e){K(e),De(F,[o,"listjson",e],function(e){b(JSON.parse(e))})}Object(l.useEffect)(()=>{u||(A([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),De(_,[o,"all","DISTRICT"],function(a){let t=JSON.parse(a);"1"===t.query?Z(t):e("/")}),De(h,[o,"ddlistjson"],function(e){U(JSON.parse(e)),B(JSON.parse(e)),z(0)}),De(S,[o,"ddlistjson",q],function(e){R(JSON.parse(e)),W(JSON.parse(e))}),E(!0))},[u,o,e,q]);const de=()=>{te(!1),N(!1),y(!0),ce(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"District Master "))),g?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===X.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){C(0),L(1),ee("A"),j(""),w(0),P(0),N(!0),y(!1)}},"Add New"):null,"1"===X.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"DISTRICT"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),O?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:v,onChange:e=>C(e.target.value),disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"District",maxLength:100,value:f,onChange:e=>xe(e.target.value,j),autoComplete:"off",disabled:"Q"===$})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>ie(e.target.value),disabled:"Q"===$},J.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:I,onChange:e=>w(e.target.value),disabled:"Q"===$},M.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),disabled:"Q"===$},x.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null)),"E"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:T,onChange:e=>xe(e.target.value,k),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===$||"E"===$?(ne("Do you really want to exit ?"),te(!0)):de())},"Back"),"\xa0\xa0","1"===X.edit&&"Q"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void ee("E")},"Edit"),"\xa0"):null,"1"===X.edit&&"E"===$||"1"===X.add&&"A"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){var e=[],a=0;if(""===f||"0"==G||"0"==I)e[a++]=d("MSG0006"),e[a++]=""===f?"District.":"",e[a++]="0"==I?"State.":"",e[a++]="0"==G?"Country.":"",c(ta(e)),t(!0);else if("E"===$&&""===T)c("Please fill remark!"),t(!0);else{var l={srno:v,state:I,country:G,district:f,act:D,branch:0,activitytype:1*v>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MDST",trannumber:v,subtranno:0,remark:T},n={TabType:"Edit",ALineNo:ue.length+1,AType:"A",TType:"MDST",State:I,Country:G,District:f,Act:D,remark:T},r=We(ue,n);se(r),De(F,[o,"save",v,JSON.stringify(l),JSON.stringify(r)],function(e){let a=JSON.parse(e);""===a.err?(La()(".loader").hide(),N(!1),y(!0),Ee(Y),se([])):(La()(".loader").hide(),c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==X.query||"E"!==$&&"Q"!==$?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ce(!0),void me({trantype:"MDST",trannumber:v,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,re&&n.a.createElement(n.a.Fragment,null,n.a.createElement(qa,{logObject:oe,show:re,onHide:()=>ce(!1)})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(s.a.Select,{value:q,onChange:e=>(function(e){z(e),De(S,[o,"ddlistjson",e],function(e){W(JSON.parse(e)),Y(0)})})(e.target.value)},V.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State"),n.a.createElement(s.a.Select,{value:Y,onChange:e=>(function(e){K(e),Ee(e)})(e.target.value)},H.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===X.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"District"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.city_id},"1"===X.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){ee("Q"),ce(!1),La()(".loader").show(),De(F,[o,"detail",e],function(e){let a=JSON.parse(e);La()(".loader").hide(),C(a.srno),j(a.district),L(a.active),ie(a.country),w(a.statesrno),N(!0),y(!1)})})(e.dist_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.dist_srno),n.a.createElement("td",null,e.dist_district_name),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.dist_active))))))))),n.a.createElement(qa,{logObject:oe,show:re,onHide:()=>ce(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:ae,onYes:e=>de(),onNo:e=>te(!1)},le)))};var sl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,E]=Object(l.useState)(""),[p,b]=Object(l.useState)([]),[g,h]=Object(l.useState)(!1),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(new Date),[v,C]=Object(l.useState)(new Date),[f,j]=Object(l.useState)("N");var T=[],k=0;Object(l.useEffect)(()=>{c||(De(_,[a,"all","MASTER_DSR"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);return console.log(p),n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Master DSR"))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===f,onChange:()=>j("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===f,onChange:()=>j("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Oa.a,null,"N"===f?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"importExcel"},n.a.createElement(s.a.Label,null,"Upload File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:u,onChange:e=>E(e.target.value)})))):"D"===f?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:O,onChange:e=>N(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:v,onChange:e=>C(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===t.add&&"N"===f?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(La()(".loader").show(),void 0===document.getElementById("importExcel").files[0])La()(".loader").hide(),y("Please select a file to upload."),h(!0);else{var e=document.getElementById("importExcel").files[0].name.split(".");if(e.length>2)La()(".loader").hide(),y("(.) not allowed in file name."),h(!0);else if(document.getElementById("importExcel").files[0].size>10485760)La()(".loader").hide(),y("Please select a file with in 10 MB size."),h(!0);else if("xlsx"!=e[1])La()(".loader").hide(),y("File extension should be in xlsx format"),h(!0);else{const e={srno:8888,uploadType:"uploadDSR",pageright:"MASTER_DSR",sid:a,file:u,fromDate:Ue(O),toDate:Ue(v),radioType:f};Ze(JSON.stringify(e),"importExcel",e=>{let a=JSON.parse(e);console.log(a),La()(".loader").hide(),h(!0),y(a.msg),b(a.docdetail),E("")})}}})()},"Submit"):null,"\xa0","1"===t.query&&"D"===f?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(O&&v){const e={fromDate:Ue(O),toDate:Ue(v),radioType:f};De("/api/master_dsr_a.php",[a,"showDSR",JSON.stringify(e)],e=>{let a=JSON.parse(e);b(a)})}else T[k++]=d("MSG0006"),T[k++]=O?"":"Select from date",T[k++]=v?"":"Select to date",y(ta(T)),h(!0)})()},"List"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Rate"))),n.a.createElement("tbody",null,p.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,e.md_product),n.a.createElement("td",null,e.md_isd),n.a.createElement("td",null,e.md_rate)))))))),n.a.createElement(Sa,{isOpen:g,onClose:e=>h(!1)},S))};var il=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),Object(l.useState)([])),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)(!1),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)("B"),[A,I]=Object(l.useState)(0),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)("1"),[J,B]=Object(l.useState)(null),[q,z]=Object(l.useState)(0),[V,Q]=Object(l.useState)(null),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)(0),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)(0),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(!1),[Se,ye]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Oe,Ne]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[a,"all","ENTITY"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),E(!0),De(v,[a,"list",L],e=>{let a=JSON.parse(e);r(a)}))},[u,a,e]);const ve=()=>{h(!1),b("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Master Entity"))),n.a.createElement(Oa.a,null,"\xa0"),""===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(b("A"),x("B"),I(0),M(""),R(""),P("1"),B(null),Q(null),H(null),$(null),le(""),re(""),oe(""),ue(""),ie(""),de(""),void be(""))},"Add New"),"\xa0")),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===c.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Entity"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,t.map(e=>n.a.createElement("tr",{key:e.entity_id},"1"===c.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{I(e),b("Q"),De(v,[a,"view",e],e=>{let a=JSON.parse(e);I(a.srno),M(a.entName),be(a.entAlphaCode),R(a.entPan),le(a.entAddress1),re(a.entAddress2),oe(a.entAddress3),B({value:a.entCountry,label:a.country}),Q({value:a.entState,label:a.state}),$({value:a.entCity,label:a.city}),H({value:a.entDistrict,label:a.district}),z(a.entCountry),Y(a.entState),ae(a.entCity),X(a.entDistrict),ue(a.entPhone),ie(a.entMobile),de(a.entEmail),P(a.entActive)})})(e.entity_id)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.entity_type),n.a.createElement("td",null,e.entity_id),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,"1"===e.entity_active?"ACTIVE":"INACTIVE")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===p||"E"===p?(y("Do you really want to exit ?"),h(!0)):ve())},"Back")," ","1"===c.edit&&"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void b("E")},"Edit")):null,"1"===c.edit&&"E"===p||"1"===c.add&&"A"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(function(){var e=[],t=0;if(""===w||""===te||null===J||null===K||null===V||null===Z)e[t++]=d("MSG0006"),e[t++]=""===w?" Name.":"",e[t++]=""===te?" Address1.":"",e[t++]=null===J?" Country.":"",e[t++]=null===V?" State.":"",e[t++]=null===Z?" City.":"",e[t++]=null===K?" District.":"",f(ta(e)),N(!0);else{const e={trancategory:"M",trantype:"MENTI",srno:A,enType:L,enId:A,enName:w,enPan:F,enActive:G,enCountry:q,enState:U,enDistrict:W,enCity:ee,enAddress1:te,enAddress2:ne,enAddress3:ce,enPhoneno:me,enMobileno:se,enEmail:Ee,enAlphaCode:pe};var l={TabType:"Edit",ALineNo:Oe.length+1,AType:"A",TType:"MENTI",EntityType:L,ID:A,Name:w,PanCard:F,AlphaCode:pe,Active:G,Country:q,State:U,District:W,City:ee,Address1:te,Address2:ne,Address3:ce,Phoneno:me,Mobileno:se,Email:Ee},n=We(Oe,l);Ne(n),De(v,[a,"save",A,JSON.stringify(e),JSON.stringify(n)],function(e){let a=JSON.parse(e);r(a),b("")})}})()},"Save")):null,"1"===c.query&&"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(he(!0),void ye({trantype:"MENTI",trannumber:A,trancategory:"M"}))},"Activity Log"),"\xa0"):null)),n.a.createElement(Oa.a,null,"\xa0"),"E"===p||"A"===p||"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:L,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"B"},"Branch")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",value:A,disabled:!0}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Name",maxLength:100,value:w,disabled:"Q"===p,onChange:e=>xe(e.target.value,M)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Alpha code"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Alpha Code",maxLength:100,value:pe,disabled:"Q"===p,onChange:e=>xe(e.target.value,be)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN",maxLength:10,value:F,disabled:"Q"===p,onChange:e=>R(e.target.value),onBlur:e=>Qe(e.target.value,R)})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address Line 1",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Line 1",maxLength:100,value:te,disabled:"Q"===p,onChange:e=>le(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address Line 2"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Line 2",maxLength:100,value:ne,disabled:"Q"===p,onChange:e=>re(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address Line 3"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Line 3",maxLength:100,value:ce,disabled:"Q"===p,onChange:e=>oe(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>bt(e,""),onInputChange:rt,onChange:e=>{B(e);const a=e.id.split("^");z(a[1]),Q(null),H(null),$(null)}})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:V,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ht(e,q),onInputChange:rt,onChange:e=>{Q(e);const a=e.id.split("^");Y(a[1]),H(null),$(null)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>St(e,U),onInputChange:rt,onChange:e=>{H(e);const a=e.id.split("^");X(a[1]),$(null)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>yt(e,W),onInputChange:rt,onChange:e=>{$(e);const a=e.id.split("^");ae(a[1])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Phone No "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Phone",maxLength:50,value:me,disabled:"Q"===p,onChange:e=>Ie(e.target.value,ue)})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile No "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:50,value:se,disabled:"Q"===p,onChange:e=>Ie(e.target.value,ie)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email "),n.a.createElement(s.a.Control,{type:"email",placeholder:"Email",maxLength:100,value:Ee,disabled:"Q"===p,onChange:e=>de(e.target.value),onBlur:e=>ze(e.target.value,de)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),disabled:"Q"===p,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(qa,{logObject:Se,show:ge,onHide:()=>he(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:O,onClose:e=>N(!1)},C),n.a.createElement(Ja,{isOpen:g,onYes:e=>ve(),onNo:e=>h(!1)},S),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k)))};var El=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[O,N]=Object(l.useState)(0),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)({value:0,label:"Select"}),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)({value:0,label:"Select"}),[x,A]=Object(l.useState)({value:0,label:"Select"}),[I,w]=Object(l.useState)({value:0,label:"Select"}),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(""),[P,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(1),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)([]),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(!0),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)("Q"),[me,ue]=Object(l.useState)(!1),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(!1),[pe,be]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ge,he]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","EXECUTIVE"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(B,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),De(J,[o,"getSelect"],e=>{let a=JSON.parse(e);ae(a)}),De(h,[o,"getCnt"],function(e){H(JSON.parse(e))}),E(!0))},[u,o,e]);const Se=()=>{ue(!1),re(!1),le(!0),de(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null," Executive "))),te?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{N(0),C(""),j({value:0,label:"Select"}),k(""),L({value:0,label:"Select"}),A({value:0,label:"Select"}),w({value:0,label:"Select"}),F(""),G(""),q(""),V(1),oe("A"),le(!1),re(!0)}},"Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"EXECUTIVE"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),ne?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:O,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Employee",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Employee",maxLength:100,value:v,onChange:e=>xe(e.target.value,C),autoComplete:"off",disabled:"Q"===ce}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Designation"),n.a.createElement(Ua.a,{options:ee,value:f,onChange:e=>j(e),isDisabled:"Q"===ce}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Address",maxLength:100,value:T,onChange:e=>k(e.target.value),autoComplete:"off",disabled:"Q"===ce})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(Ua.a,{options:K,value:D,onChange:e=>(e=>{L(e),A({value:0,label:"Select"}),w({value:0,label:"Select"}),De(S,[o,"getState",e.value],function(e){$(JSON.parse(e))})})(e),isDisabled:"Q"===ce}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State"),n.a.createElement(Ua.a,{options:Z,value:x,onChange:e=>(e=>{A(e),w({value:0,label:"Select"}),De(y,[o,"getCity",e.value],function(e){X(JSON.parse(e))})})(e),isDisabled:"Q"===ce}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City"),n.a.createElement(Ua.a,{options:W,value:I,onChange:e=>w(e),isDisabled:"Q"===ce}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:10,value:M,onChange:e=>Ie(e.target.value,F),autoComplete:"off",disabled:"Q"===ce})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN",maxLength:100,value:R,onChange:e=>G(e.target.value),onBlur:e=>Qe(e.target.value,G),autoComplete:"off",disabled:"Q"===ce}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Email",maxLength:100,value:P,onChange:e=>q(e.target.value),onBlur:e=>ze(e.target.value,q),autoComplete:"off",disabled:"Q"===ce}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:z,onChange:e=>V(e.target.value),disabled:"Q"===ce,required:!0},n.a.createElement("option",{value:"1"},"ACTIVE"),n.a.createElement("option",{value:"0"},"INACTIVE")))),n.a.createElement(Na.a,null,"\xa0")),"E"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:U,onChange:e=>xe(e.target.value,Y),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===ce||"E"===ce?(ie("Do you really want to exit ?"),ue(!0)):Se())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void oe("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===ce||"1"===b.add&&"A"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===v)c("Please fill Employee!"),t(!0);else if("E"===ce&&""===U)c("Please fill Remark!"),t(!0);else{var e={employee:v,designation:f.value,address:T,country:D.value,state:x.value,city:I.value,mobile:M,pan:R,email:P,status:z,branch:0,activitytype:1*O>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MEXEC",trannumber:O,subtranno:0,remark:U},a={TabType:"Edit",ALineNo:ge.length+1,AType:"A",TType:"MEXEC",Employee:v,Designation:f.value,Address:T,Country:D.value,State:x.value,City:I.value,Mobile:M,Pan:R,Email:P,Status:z,Branch:0,Remark:U},l=We(ge,a);he(l),De(B,[o,"savelist",O,JSON.stringify(e),JSON.stringify(l)],e=>{let a=JSON.parse(e);""===a.err?(re(!1),le(!0),Y(""),De(B,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),he([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==ce&&"Q"!==ce?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(de(!0),void be({trantype:"MEXEC",trannumber:O,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0"))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Employee"),n.a.createElement("th",null,"Designation"),n.a.createElement("th",null,"Address"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"City"),n.a.createElement("th",null,"Mobile"),n.a.createElement("th",null,"PAN"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.me_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{oe("Q"),de(!1),De(B,[o,"editList",e],e=>{let a=JSON.parse(e);N(a.srno),C(a.employee),j({value:a.designation,label:a.md_desig}),k(a.address),L({value:a.country,label:a.cnt_nm}),A({value:a.state,label:a.st_nm}),w({value:a.city,label:a.ct_nm}),F(a.mobile),G(a.pan),q(a.email),V(a.status),re(!0),le(!1)})})(e.me_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.me_srno),n.a.createElement("td",null,e.me_employee),n.a.createElement("td",null,e.md_designation),n.a.createElement("td",null,e.me_address),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.city_name),n.a.createElement("td",null,e.me_mobile),n.a.createElement("td",null,e.me_pan),n.a.createElement("td",null,e.me_email),n.a.createElement("td",null,1==e.me_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(qa,{logObject:pe,show:Ee,onHide:()=>de(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:me,onYes:e=>Se(),onNo:e=>ue(!1)},se)))};var dl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)(1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(!0),[A,I]=Object(l.useState)(!1),[w,M]=Object(l.useState)("Q"),[F,R]=Object(l.useState)(!1),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(!1),[z,V]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[U,Y]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","GSTCLASSIFICATION"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(G,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const K=()=>{R(!1),I(!1),x(!0),q(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master GST Classification "))),L?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(0),f(0),T(1),M("A"),x(!1),I(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"GSTCLASSIFICATION"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Classification",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"GST Classification",maxLength:100,value:y,onChange:e=>xe(e.target.value,O),autoComplete:"off",disabled:"Q"===w}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Applicable"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===w,required:!0},n.a.createElement("option",{value:"1"},"YES"),n.a.createElement("option",{value:"0"},"NO")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Reverse"),n.a.createElement(s.a.Select,{value:C,onChange:e=>f(e.target.value),disabled:"Q"===w,required:!0},n.a.createElement("option",{value:"1"},"YES"),n.a.createElement("option",{value:"0"},"NO")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:j,onChange:e=>T(e.target.value),disabled:"Q"===w,required:!0},n.a.createElement("option",{value:"1"},"ACTIVE"),n.a.createElement("option",{value:"0"},"INACTIVE"))))),"E"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:k,onChange:e=>xe(e.target.value,D),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===w||"E"===w?(J("Do you really want to exit ?"),R(!0)):K())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void M("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===w||"1"===b.add&&"A"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill GST Classification!"),t(!0);else if("E"===w&&""===k)c("Please fill Remark!"),t(!0);else{var e={gstclassification:y,gstapplicable:N,gstreverse:C,status:j,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MGSTC",trannumber:h,subtranno:0,remark:k};const l={ALineNo:U.length+1,AType:"A",TType:"MGSTC",GSTCLlarification:y,GSTapplicable:N,GSTreverse:C,Status:j};var a=We(U,l);Y(a),De(G,[o,"savelist",h,JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a.err?(I(!1),x(!0),D(""),De(G,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),Y([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==w&&"Q"!==w?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(q(!0),void V({trantype:"MGSTC",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,B&&n.a.createElement(qa,{logObject:z,show:B,onHide:()=>q(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"GST Classification"),n.a.createElement("th",null,"GST Applicable"),n.a.createElement("th",null,"GST Reverse"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.mgc_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{M("Q"),q(!1),De(G,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.gstclassification),v(a.gstapplicable),f(a.gstreverse),T(a.status),I(!0),x(!1)})})(e.mgc_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.mgc_srno),n.a.createElement("td",null,e.mgc_gst_classification),n.a.createElement("td",null,1==e.mgc_gst_applicable?"YES":"NO"),n.a.createElement("td",null,1==e.mgc_gst_reverse?"YES":"NO"),n.a.createElement("td",null,1==e.mgc_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:F,onYes:e=>K(),onNo:e=>R(!1)},P)))};var pl=function(e){const a=Object(m.n)(),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)(""),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),g=sessionStorage.getItem("sessionId"),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(0),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(new Date),[G,P]=Object(l.useState)("M"),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(null),[U,Y]=Object(l.useState)(null),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)(null),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)({value:1,label:"LOW"}),[pe,be]=Object(l.useState)([]),[ge,he]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[_e,fe]=Object(l.useState)(new Date),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(""),[Ae,we]=Object(l.useState)(""),[Me,Fe]=Object(l.useState)({value:0,label:"Select"}),[Re,Ge]=Object(l.useState)([]),[Je,Be]=Object(l.useState)(null),[qe,Ve]=Object(l.useState)(0),[Ye,Ze]=Object(l.useState)(""),[ea,la]=Object(l.useState)(""),[ra,oa]=Object(l.useState)(""),[ma,sa]=Object(l.useState)(new Date),[ia,da]=Object(l.useState)(!0),[ga,ha]=Object(l.useState)(!1),[va,Ca]=Object(l.useState)("Q"),[_a,Ta]=Object(l.useState)([]),[Da,xa]=Object(l.useState)(new Date),[Aa,Ia]=Object(l.useState)(""),[wa,Ma]=Object(l.useState)(""),[Fa,Ga]=Object(l.useState)(""),[Pa,za]=Object(l.useState)(10),[Va,Qa]=Object(l.useState)(""),[Ya,Ka]=Object(l.useState)(""),[Ha,Wa]=Object(l.useState)(0),[Xa,Za]=Object(l.useState)(0),[$a,lt]=Object(l.useState)(0),[nt,ct]=Object(l.useState)(0),[ot,mt]=Object(l.useState)(0),[ut,st]=Object(l.useState)(0),[it,Et]=Object(l.useState)(!1),[dt,pt]=Object(l.useState)(!1),[Ot,Nt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[vt,Ct]=Object(l.useState)(!1),[_t,ft]=Object(l.useState)("CW"),[jt,Tt]=Object(l.useState)("CD"),[kt,Dt]=Object(l.useState)(0),[Lt,At]=Object(l.useState)(0),[Mt,Ft]=Object(l.useState)(new Date),[Rt,Pt]=Object(l.useState)(new Date),[Jt,Bt]=Object(l.useState)(new Date),[qt,zt]=Object(l.useState)(0),[Vt,Qt]=Object(l.useState)(0),[Ut,Yt]=Object(l.useState)(!1),[Kt,Ht]=Object(l.useState)(null),[Wt,Xt]=Object(l.useState)(!1),[Zt,$t]=Object(l.useState)(""),[el,al]=Object(l.useState)([]);Object(l.useEffect)(()=>{if(!h){if(De(_,[g,"all","INDIVIDUALPROFILE"],function(e){let t=JSON.parse(e);"1"===t.query?v(t):a("/")}),De(I,[g,"getRisk"],function(e){be(JSON.parse(e))}),De(j,[g,"getIdType"],function(e){Ge(JSON.parse(e)),console.log(JSON.parse(e))}),"FABOOK"===e.value)ll();else if("TRAN_PP"===e.value||"TRAN_SP"===e.value)if("E"===e.reqObj.scrIndividual){const a={individualsrno:e.reqObj.nIndivualSrno};De(z,[g,"individualfrompicklist",JSON.stringify(a)],e=>{let a=JSON.parse(e);ml(a)})}else ll();"1"===sessionStorage.getItem("flag")&&(tl(),sessionStorage.removeItem("flag")),S(!0)}},[h,g,a]);const tl=()=>{La()(".loader").show(),O([]),zt(qt+1);const e={id:Va,code:C,limit:Pa,name:T,filterType:Fa};De(z,[g,"getList",JSON.stringify(e)],e=>{let a=JSON.parse(e);O(a),f(""),k(""),za(10),Qa(""),zt(qt+1),La()(".loader").hide()})},ll=()=>{La()(".loader").show(),Ia(Xe(19)),f(0),L(""),A(""),M(""),R(new Date),P("M"),B(""),lt(0),Y(null),V(null),H(null),$(null),X(null),de({value:1,label:"LOW"}),ae(""),le(""),re(""),oe(""),ue(""),ie(""),he(""),ye(""),Ne(""),Ce(""),fe(new Date),Te(""),Le(""),Fe({value:0,label:"Select"}),Be(null),Ze(""),la(""),oa(""),sa(new Date),Ca("A"),da(!1),ha(!0),zt(0),Ta([]),La()(".loader").hide()};function nl(){const e=_a.some(e=>"PASSPORT"===e.id_desc);return console.log("status",e),e}const rl=()=>{console.log("idData",_a),La()(".loader").show();var a=[],t=0;if(""===D||null==U||null===q||1==$a&&(""===ne||""===ce)||1==Ha&&(null===K||null===W)||"TRAN_PP"===e.value&&_a.length<1||"TRAN_SP"===e.value&&!nl()||"TRAN_SP"===e.value&&me)a[t++]=d("MSG0006"),a[t++]=""===D?"First Name.":"",a[t++]=null===q?"Nationality.":"",a[t++]=null===U?"Country.":"",1!=Ha||null!==K&&null!==W||(a[t++]=null===K?"State.":"",a[t++]=null===W?"District.":""),"TRAN_SP"!==e.value||me||(a[t++]=me?"":" PAN Number."),1!=$a||""!==ne&&""!==ce||(a[t++]=""===ne?"Mobile.":"",a[t++]=""===ce?"Email.":""),"TRAN_PP"===e.value&&_a.length<1&&(a[t++]=_a.length<1?" Add atleast one ID.":""),"TRAN_SP"!==e.value||nl()||(a[t++]=nl()?"":"Please add Passport."),o(ta(a)),r(!0),La()(".loader").hide();else if("E"===va&&""===Ae)Et(!0),La()(".loader").hide();else{const a=se.slice(2,12);if(""!==me&&""!==se&&a!==me)o("Invalid Gstin."),r(!0),La()(".loader").hide();else{var l={code:C,firstName:D,middleName:x,lastName:w,birthDate:Ue(F),gender:G,maiden:J,branch:0,activitytype:1*C>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MINDP",trannumber:C,subtranno:0,remark:Ae,country:Ha,nationality:$a,state:nt,city:ut,district:ot,risk:Ee.value,pin:ee,address:te,mobile:ne,email:ce,pan:me,gstin:se,bankName:ge,bankAcc:Se,sourceFund:Oe,modePayment:ve,review:Ue(_e),remark_indpro:je,socialFin:ke,profileId:qe,idType:Me.value,countryIssue:Xa,idNumber:Ye,issueBy:ea,issuePlace:ra,issueDate:Ue(ma),randNum:Aa,id:Va,limit:Pa,name:D,filterType:Fa,idData:_a,routePage:e.value?e.value:""};De(z,[g,"savelist",C,JSON.stringify(l),JSON.stringify(el)],a=>{let t=JSON.parse(a);""===t.err?("TRAN_PP"===e.value||"TRAN_SP"===e.value||"FABOOK"===e.value?(e.hideIndividualProfile(!1,t.srno),La()(".loader").hide()):(ha(!1),da(!0),we(""),O(t.data),La()(".loader").hide(),we("")),al([])):(o(t.err),r(!0),La()(".loader").hide())})}}},cl=()=>{E(!1),"TRAN_PP"===e.value||"TRAN_SP"===e.value||"FABOOK"===e.value?e.hideIndividualProfile(!1,0):(ha(!1),da(!0))},ol=e=>{La()(".loader").show(),Ca("Q"),ha(!0),da(!1),De(z,[g,"editList",e],e=>{let a=JSON.parse(e);f(a.code),L(a.firstName),A(a.middleName),M(a.lastName),R(new Date(a.birthDate)),P(a.gender),V({value:a.nationality,label:a.cnt_nat}),lt(a.nationality),B(a.maiden),Y({value:a.country,label:a.cnt_nm}),H({value:a.state,label:a.st_nm}),$({value:a.city,label:a.ct_nm}),X({value:a.district,label:a.district_nm}),Wa(a.country),ct(a.state),st(a.city),mt(a.district),ae(a.pin),le(a.address),re(a.mobile),oe(a.email),ue(a.pan),ie(a.gstin),de({value:a.risk,label:a.risk_nm}),he(a.bankName),ye(a.bankAcc),Ne(a.sourceFund),Ce(a.modePayment),Le(a.socialFin),fe(new Date(a.review)),Te(a.remark_indpro),Ta(a.iddetails);for(var t=0,l=0;l<a.iddetails.length;l++)a.iddetails[l].mpid_srno>t&&(t=a.iddetails[l].mpid_srno);Qt(t),La()(".loader").hide()})},ml=e=>{Ht(e),ol(e.id.split("^")[1]),Ca("E")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null," Individual Profile "))),ia&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Filter Type"),n.a.createElement(s.a.Select,{value:Fa,onChange:e=>Ga(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"Code"},"Code"),n.a.createElement("option",{value:"Name"},"Name"),n.a.createElement("option",{value:"ID"},"ID"),n.a.createElement("option",{value:"PAN"},"PAN"),n.a.createElement("option",{value:"Mobile"},"Mobile")))),"Code"==Fa?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Code"),n.a.createElement(s.a.Control,{value:C,onChange:e=>f(e.target.value),required:!0}))):"Name"==Fa||"Mobile"==Fa||"PAN"==Fa?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,Fa),n.a.createElement(s.a.Control,{value:T,onChange:e=>k(e.target.value),required:!0}))):"ID"==Fa?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID"),n.a.createElement(s.a.Control,{value:Va,onChange:e=>Qa(e.target.value),required:!0}))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:Pa,onChange:e=>za(e.target.value),required:!0},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"20"},"20"),n.a.createElement("option",{value:"50"},"50"))))),"\xa0"),ia?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:e=>tl()},"List")," \xa0","1"===N.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:e=>ll()},"Add New"):null,"\xa0","1"===N.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:e=>void pt(!0)},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),ga?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===va||"E"===va?(b("Do you really want to exit ?"),E(!0)):cl())},"Back"),"\xa0\xa0","1"===N.edit&&"Q"===va?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void Ca("E")},"Edit"),"\xa0"):null,"1"===N.edit&&"E"===va||"1"===N.add&&"A"===va?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>rl()},"Save"),"\xa0"):null,"1"!==N.query||"E"!==va&&"Q"!==va?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ct(!0),void Nt({trantype:"MINDP",trannumber:C,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,"\xa0"),"TRAN_PP"===e.value||"TRAN_SP"===e.value||"FABOOK"===e.value?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search.."),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Kt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:gt,onInputChange:rt,onChange:ml,formatOptionLabel:It,components:{Menu:wt}})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(et.a,{id:"controlled-tab-example",defaultActiveKey:"basic-details",className:"mb-3"},n.a.createElement(at.a,{eventKey:"basic-details",title:"Basic Details"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Code"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Code",value:C,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"First Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"First Name",maxLength:30,value:D,onChange:e=>xe(e.target.value,L),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Middle Name"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Middle Name",maxLength:30,value:x,onChange:e=>xe(e.target.value,A),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Last Name"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Last Name",maxLength:30,value:w,onChange:e=>xe(e.target.value,M),disabled:"Q"===va,autoComplete:"off"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date of Birth"),n.a.createElement(Gt.a,{className:"form-control",selected:F,onChange:e=>R(e),disabled:"Q"===va,maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Gender"),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),disabled:"Q"===va,required:!0},n.a.createElement("option",{value:"M"},"Male"),n.a.createElement("option",{value:"F"},"Female")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nationality",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===va,cacheOptions:!1,defaultOptions:!1,value:q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>bt(e,""),onInputChange:rt,onChange:e=>{V(e);const a=e.id.split("^");lt(a[1])}}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mother's maiden name "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mother's maiden name",maxLength:50,value:J,onChange:e=>xe(e.target.value,B),disabled:"Q"===va,autoComplete:"off"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===va,cacheOptions:!1,defaultOptions:!1,value:U,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>bt(e,""),onInputChange:rt,onChange:e=>{Y(e),console.log(e);const a=e.id.split("^");Wa(a[1]),H(null),X(null),$(null)}}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",1*Ha===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===va,cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ht(e,Ha),onInputChange:rt,onChange:e=>{H(e);const a=e.id.split("^");ct(a[1]),X(null),$(null)}}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",1*Ha===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===va,cacheOptions:!1,defaultOptions:!1,value:W,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>St(e,nt),onInputChange:rt,onChange:e=>{X(e);const a=e.id.split("^");mt(a[1]),$(null)}}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City"),n.a.createElement(tt.a,{isDisabled:"Q"===va,cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>yt(e,ot),onInputChange:rt,onChange:e=>{$(e);const a=e.id.split("^");st(a[1])}})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PIN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"PIN",maxLength:6,value:ee,onChange:e=>Ie(e.target.value,ae),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Address",maxLength:100,value:te,onChange:e=>le(e.target.value),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile",1*$a===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:10,value:ne,onChange:e=>re(e.target.value),onBlur:e=>Ea(e.target.value,re),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email",1*$a===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Email",maxLength:30,value:ce,onChange:e=>oe(e.target.value),onBlur:e=>ze(e.target.value,oe),disabled:"Q"===va,autoComplete:"off"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN","TRAN_SP"===e.value&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN",maxLength:10,value:me,onChange:e=>ue(e.target.value),onBlur:e=>Qe(e.target.value,ue),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"GSTIN",maxLength:15,value:se,onChange:e=>ie(e.target.value),onBlur:e=>ua(e.target.value,ie),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Risk"),n.a.createElement(Ua.a,{options:pe,value:Ee,onChange:e=>de(e),isDisabled:"Q"===va}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Bank Name",maxLength:40,value:ge,onChange:e=>xe(e.target.value,he),disabled:"Q"===va,autoComplete:"off"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Account no"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Bank Account no",maxLength:40,value:Se,onChange:e=>Ie(e.target.value,ye),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Source of Fund"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Source of Fund",maxLength:30,value:Oe,onChange:e=>xe(e.target.value,Ne),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode of Payment"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mode of Payment",maxLength:40,value:ve,onChange:e=>xe(e.target.value,Ce),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Social and Financial Status"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Social and Financial Status",maxLength:100,value:ke,onChange:e=>xe(e.target.value,Le),disabled:"Q"===va,autoComplete:"off"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Last Review"),n.a.createElement(Gt.a,{className:"form-control",selected:_e,onChange:e=>fe(e),disabled:"Q"===va,maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:je,onChange:e=>xe(e.target.value,Te),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))),n.a.createElement(at.a,{eventKey:"identity-details",title:"Identity Details"},"Q"===va?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID Type",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(Ua.a,{options:Re,value:Me,onChange:e=>(e=>{Fe(e);var a=e.value.split("^");$t(a[1]),Ma(a[2]),xa(new Date),console.log("array 2:",a[2]),1*a[1]===4?(Be({id:"^1^INDIA^INDIA^",label:"1 INDIA INDIA"}),Yt(!0)):Yt(!1)})(e),isDisabled:"Q"===va}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country of Issue",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{isDisabled:"Q"===va||Ut,cacheOptions:!1,defaultOptions:!1,value:Je,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>xt(e,""),onInputChange:rt,onChange:e=>{Be(e);const a=e.id.split("^");Za(a[1]),Ka(a[2])}}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID Number",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"ID Number",maxLength:20,value:Ye,onChange:e=>Ze(e.target.value.toUpperCase()),onBlur:e=>(e=>{var a=0;0!=Me.value&&(a=Me.value.split("^")[1]),1*a===1&&1*Xa===1?na(e,Ze):1*a===4?ca(e,Ze):Pe(e,Ze)})(e.target.value),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issue By "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Issue By",maxLength:30,value:ea,onChange:e=>xe(e.target.value,la),disabled:"Q"===va,autoComplete:"off"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issue Place "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Issue Place",maxLength:30,value:ra,onChange:e=>xe(e.target.value,oa),disabled:"Q"===va,autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issue Date "),n.a.createElement(Gt.a,{className:"form-control",selected:ma,onChange:e=>sa(e),disabled:"Q"===va,maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),"1"==wa?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expiry Date",n.a.createElement("span",{className:" text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:Da,onChange:e=>xa(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null,n.a.createElement(Na.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=[],a=0;if(null===Je||""===Ye||" "===Ye||"0"==Me.value)e[a++]=d("MSG0006"),e[a++]="0"==Me.value?"ID Type.":"",e[a++]=null===Je?"Country of Issue.":"",e[a++]=""===Ye?"ID Number.":"",e[a++]=" "===Ye?"ID Number can't have space.":"",o(ta(e)),r(!0);else if(Ue(Jt)>Ue(Da)||1==Zt&&Ue(ma)===Ue(Da))e[a++]=Ue(Jt)>Ue(Da)?"ID has been expired!.":"",e[a++]=1==Zt&&Ue(ma)===Ue(Da)?"Issue Date and Expiry Date can't be same!.":"",o(ta(e)),r(!0);else{const e=Me.value.split("^");var t=!0;for(a=0;a<_a.length;a++)_a[a].mpid_id_type===e[1]&&_a[a].mpid_country_issue===Xa&&(_a[a].mpid_id_number===Ye?(t=!1,o("Id already exist.")):_a[a].mpid_active="0");var l={uniquekey:Xe(10),formMode:va,code:C,randNum:Aa,mpid_country_issue:Xa,mpid_issue_by:ea,mpid_issue_place:ra,mpid_id_type:e[1],mpid_active:"1",id_expirable:e[2],id_desc:e[3],mpid_id_number:Ye,mpid_issue_date:Ue(ma),mpid_expiry_date:Ue(Da),cnt_name:Ya,mpid_srno:1*Vt+1,delny:"Y"};const n={TabType:"Identity",AType:"A",ALineNo:el.length+1,TType:"MINDP",CountryIssue:Xa,IssueBy:ea,IssuePlace:ra,IDType:e[1],IdActive:"1",IdExpirable:e[2],IdDescription:e[3],IDNumber:Ye,IssueDate:Ue(ma),ExpiryDate:Ue(Da),IssueName:Ya};t?("1"===N.edit&&al(e=>[...e,n]),Qt(1*Vt+1),Ta(We(_a,l)),Fe({value:0,label:"Select"}),Be(null),Ze(""),la(""),oa(""),sa(new Date),xa(new Date),console.log(_a)):r(!0),zt(qt+1)}La()(".loader").hide()})()}," Add ")),"1"==wa?null:n.a.createElement(Na.a,null)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Id Type"),n.a.createElement("th",null,"Country of Issue"),n.a.createElement("th",null,"Id Number"),n.a.createElement("th",null,"Issue Date"),n.a.createElement("th",null,"Expiry Date"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,_a.map(e=>n.a.createElement("tr",{key:e.mpid_srno},n.a.createElement("td",{className:"textCenter"},"1"===N.delete&&"Q"!==va?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t)=>{if("N"===t)r(!0),o("This id has been used before.");else{const e=_a.find(e=>e.uniquekey===a);if(e){const a={TabType:"Identity",ALineNo:el.length+1,AType:"D",TType:"MINDP",IdType:e.id_desc,CountryofIssue:e.cnt_name,IdNumber:e.mpid_id_number,IssueDate:Ke(e.mpid_issue_date),ExpiryDate:Ke(e.mpid_expiry_date),Status:e.mpid_active};"1"===N.edit&&al(e=>[...e,a])}Ta(He(_a,"uniquekey",a)),zt(qt-1)}})(e.mpid_srno,e.uniquekey,e.delny)},n.a.createElement(pa.a,{icon:ja.o})):null),n.a.createElement("td",null,e.id_desc),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.mpid_id_number),n.a.createElement("td",null,Ke(e.mpid_issue_date)),n.a.createElement("td",null,Ke(e.mpid_expiry_date)),n.a.createElement("td",null,"1"===e.mpid_active?"Active":"Inactive"))))))))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===N.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Code"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"ID Type"),n.a.createElement("th",null,"ID Number"),n.a.createElement("th",null,"ID Country"),n.a.createElement("th",null,"PAN"),n.a.createElement("th",null,"Mobile"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,y.map(e=>n.a.createElement("tr",{key:e.bd_code},"1"===N.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>ol(e.bd_code)},n.a.createElement(pa.a,{icon:ba.f}),"\xa0","1"===e.mpid_active?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{sessionStorage.setItem("values",JSON.stringify({code:e,md_type:"PURCHASE"})),a("/purchase-from-public")})(e.bd_code)},n.a.createElement(pa.a,{icon:ja.b}))," \xa0","PASSPORT"===e.id_desc&&n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{sessionStorage.setItem("values",JSON.stringify({code:e,md_type:"SALE"})),a("/sale-public")})(e.bd_code)},n.a.createElement(pa.a,{icon:ja.c}))):null)):null,n.a.createElement("td",{className:"textRight"},e.bd_code),n.a.createElement("td",null,e.bd_first_name),n.a.createElement("td",null,e.id_desc),n.a.createElement("td",null,e.mpid_id_number),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.bd_pan),n.a.createElement("td",null,e.bd_mobile),n.a.createElement("td",null,"1"===e.mpid_active?"Active":"Inactive"))))))))),n.a.createElement("div",null,n.a.createElement(qa,{logObject:Ot,show:vt,onHide:()=>Ct(!1)}),n.a.createElement(Sa,{isOpen:t,onClose:e=>r(!1)},c),n.a.createElement(Ja,{isOpen:u,onYes:e=>cl(),onNo:e=>E(!1)},p)),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:it,onHide:()=>Et(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,"E"===va?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,{validated:Wt},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{maxLength:499,autoComplete:"off",value:Ae,onChange:e=>xe(e.target.value,we),placeholder:"Reason",required:!0}),n.a.createElement(s.a.Control.Feedback,{type:"invalid"},"Please fill Reason.")))):null),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void(""===Ae?Xt(!0):(rl(),Et(!1),Xt(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>Et(!1)},"Cancel")))),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:dt,onHide:()=>pt(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement("h4",null,"Filter"))),n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"Profle/Id wise")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"CW"===_t,onChange:()=>ft("CW"),type:"radio",label:"Profile Wise"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"IW"===_t,onChange:()=>ft("IW"),type:"radio",label:"Identity Wise"}))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"Date/Srno Wise")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"CD"===jt,onChange:()=>Tt("CD"),type:"radio",label:"Creation Date Range"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"CC"===jt,onChange:()=>Tt("CC"),type:"radio",label:"Customer Code Range"}))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"CD"===jt?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:Mt,maxDate:new Date(Mt),onChange:e=>Ft(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:Rt,maxDate:new Date(Rt),onChange:e=>Pt(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"From Number",maxLength:10,value:kt,onChange:e=>Ie(e.target.value,Dt),autoComplete:"off"}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"To Number",maxLength:10,value:Lt,onChange:e=>Ie(e.target.value,At),autoComplete:"off"}))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(()=>{La()(".loader").show();var e={right:"INDIVIDUALPROFILE",location:0,radioType:_t,radioTF:jt,fromNo:kt,toNo:Lt,fromDate:Ue(Mt),toDate:Ue(Rt)};$e(Q,"post",[g,JSON.stringify(e)]),pt(!1),Ft(new Date),Pt(new Date),Dt(""),At(""),La()(".loader").hide()})()},"Download")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>pt(!1)},"Close")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement("span",{className:"corner-span"},qt))};var bl=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)([]);return Object(l.useEffect)(()=>{De(_,[e,"all","MASTER_LEDGER_LINK"],function(t){let l=JSON.parse(t);"1"===l.query?(o(l),De(Ee,[e,"listlink"],e=>{r(JSON.parse(e))})):a("/")})},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Ledger Link"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"))),n.a.createElement("tbody",null,t.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.ln_type),n.a.createElement("td",null,e.ln_group),n.a.createElement("td",null,e.ln_account)))))))))};var gl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)("Q"),[A,I]=Object(l.useState)(!1),[w,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","LEGALSTATUS"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(M,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const z=()=>{I(!1),D(!1),T(!0),G(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master Legal Entity "))),j?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),D(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"LEGALSTATUS"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Legal Entity",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Legal Entity",maxLength:100,value:y,onChange:e=>xe(e.target.value,O),autoComplete:"off",disabled:"Q"===L}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===L,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===L||"E"===L?(F("Do you really want to exit ?"),I(!0)):z())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===L||"1"===b.add&&"A"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Legal Entity!"),t(!0);else if("E"===L&&""===C)c("Please fill Remark!"),t(!0);else{var e={entity:y,status:N,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MLGET",trannumber:h,subtranno:0,remark:C};const l={ALineNo:B.length+1,AType:"A",TType:"MLGET",LegalEntity:y,Status:N,Remark:C};var a=We(B,l);q(a),De(M,[o,"savelist",h,JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a.err?(D(!1),T(!0),f(""),De(M,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==L&&"Q"!==L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MLGET",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,R&&n.a.createElement(qa,{logObject:P,show:R,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Legal Entity"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.mle_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{x("Q"),G(!1),De(M,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.entity),v(a.status),D(!0),T(!1)})})(e.mle_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.mle_srno),n.a.createElement("td",null,e.mle_legal_status),n.a.createElement("td",null,1==e.mle_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:A,onYes:e=>z(),onNo:e=>I(!1)},w)))};var hl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),Object(l.useState)([])),[c,o]=Object(l.useState)(!1),[u,E]=Object(l.useState)(""),[p,b]=Object(l.useState)(!1),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(0),[D,L]=Object(l.useState)("L"),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)(null),[M,F]=Object(l.useState)(0),[R,G]=Object(l.useState)(null),[P,J]=Object(l.useState)("A"),[B,q]=Object(l.useState)("G"),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)(null),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)(null),[X,Z]=Object(l.useState)("A"),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(0),[le,ne]=Object(l.useState)("F"),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,Ee]=Object(l.useState)(""),[de,pe]=Object(l.useState)(""),[be,ge]=Object(l.useState)(""),[he,Se]=Object(l.useState)("L"),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)("");Object(l.useEffect)(()=>{c||(De(_,[a,"all","MARGIN"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);const Ce=()=>{b(!1),E("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Master Margin"))),n.a.createElement(Oa.a,null,"\xa0"),""===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:B,onChange:e=>q(e.target.value),required:!0},n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"L"},"Location")))),"L"===B?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*"),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Xt.a,{bg:"secondary",onClick:()=>(w(null),void F(0))},"Reset"))),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{w(e);const a=e.id.split("^");F(a[1])}}))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"C"===D,onChange:()=>L("C"),type:"radio",label:"Currency"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"P"===D,onChange:()=>L("P"),type:"radio",label:"Product"})))))),n.a.createElement(Oa.a,null,"C"===D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*"),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Xt.a,{bg:"secondary",onClick:()=>(G(null),void V(""))},"Reset"))),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"CN"),onInputChange:rt,onChange:e=>{console.log(e),G(e);const a=e.id.split("^");V(a[1])}}))))):"P"===D?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:P,onChange:e=>J(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD"))))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if("L"===B&&null===I)N("Please Select Location!"),y(!0);else if("L"===B&&"C"===D&&null===R)N("Please Select Currecy!"),y(!0);else if("G"===B&&"C"===D&&null===R)N("Please Select Currency!"),y(!0);else{const e={filterType:B,filterRadioType:D,filterCurrencyCode:z,filterProductType:P,filterLocation:M};De("/api/margin_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);A(a)})}})()},"List"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(E("A"),U(null),W(null),ee(""),ce(""),me(""),se(""),Ee(""),pe(""),ge(""),k(0),void Se("L"))},"Add New"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===t.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Unit"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Margin Type"),n.a.createElement("th",null,"Buy Margin"),n.a.createElement("th",null,"Sell Margin"),n.a.createElement("th",null,"Max Buy Margin"),n.a.createElement("th",null,"Max Sell Margin"),n.a.createElement("th",null,"Min Buy Margin"),n.a.createElement("th",null,"Min Sell Margin"))),n.a.createElement("tbody",null,x.map(e=>n.a.createElement("tr",{key:e.mrt_srno},"1"===t.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t)=>{E("Q"),V(t),De("/api/margin_a.php",[a,"view",e],e=>{let a=JSON.parse(e);k(a.srno),U({id:a.locationCode,label:a.location}),W({id:a.isdCode,label:a.isd}),ee(a.unit),Z(a.product),ne(a.marginType),ce(a.buyMargin),me(a.sellMargin),se(a.maxBuyMargin),Ee(a.maxSellMargin),pe(a.minBuyMargin),ge(a.minSellMargin),ve(a.userName),Oe(a.dateTime),K(a.location.split(" ")[0])})})(e.mrt_srno,e.mrt_isd)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.mrt_isd_name),n.a.createElement("td",null,e.mrt_location),n.a.createElement("td",null,e.mrt_unit),n.a.createElement("td",null,"C"===e.mrt_product?"CN":"D"===e.mrt_product?"DD":"T"===e.mrt_product?"TT":"Card"),n.a.createElement("td",null,"F"===e.mrt_margin_type?"Fixed":"Percentage"),n.a.createElement("td",null,e.mrt_buy_margin),n.a.createElement("td",null,e.mrt_sell_margin),n.a.createElement("td",null,e.mrt_max_buy_margin),n.a.createElement("td",null,e.mrt_max_sell_margin),n.a.createElement("td",null,e.mrt_min_buy_margin),n.a.createElement("td",null,e.mrt_min_sell_margin)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===t.edit&&"Q"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void E("E")},"Edit")):null,"1"===t.edit&&"E"===u||"1"===t.add&&"A"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],t=0;if(null===Q||null===H||""===$||""===re||""===oe||""===ue||""===ie||""===be||""===de)e[t++]=d("MSG0006"),e[t++]=null===Q?" Select Location!":"",e[t++]=null===H?" Select Currency!":"",e[t++]=""===$?" Unit.":"",e[t++]=""===re?" Buy Margin.":"",e[t++]=""===oe?" Sell Margin.":"",e[t++]=""===ue?" Max Buy Margin.":"",e[t++]=""===ie?" Max Sell Margin.":"",e[t++]=""===de?"Min Buy Margin.":"",e[t++]=""===be?" Min Sell Margin.":"",N(ta(e)),y(!0);else{const e={filterType:B,filterRadioType:D,filterCurrencyCode:z,filterProductType:P,filterLocation:M,srno:T,location:Y,isd:z,unit:$,rate:ae,product:X,marginType:le,buyMargin:re,sellMargin:oe,maxBuyMargin:ue,maxSellMargin:ie,minBuyMargin:de,minSellMargin:be};De("/api/margin_a.php",[a,"save",T,JSON.stringify(e)],e=>{let a=JSON.parse(e);a.margin&&(A(a.margin),E(""))})}})()},"Save")):null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===u||"E"===u?(h("Do you really want to exit ?"),b(!0)):Ce())},"Back")," ")),n.a.createElement(Oa.a,null,"\xa0"),"E"===u||"A"===u||"Q"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:he,onChange:e=>(function(e){Se(e),"G"===e?(K(0),U({id:"^0^Zenith Leisure Holidays Ltd.^0^^^^^",label:"0 Zenith Leisure Holidays Ltd."})):U({id:"",label:"Select"})})(e.target.value),required:!0,disabled:"E"===u||"Q"===u},n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"L"},"Location")))),n.a.createElement(Na.a,null,("Q"===u||"E"===u)&&n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"UserName",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ye,type:"text",disabled:!0}))),n.a.createElement(Na.a,null,("Q"===u||"E"===u)&&n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date & Time",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ne,type:"text",disabled:!0})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{U(e);const a=e.id.split("^");K(a[1])},isDisabled:"G"===he||"E"===u||"Q"===u}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:H,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"CN"),onInputChange:rt,onChange:e=>{console.log(e),W(e);const a=e.id.split("^");V(a[1])},isDisabled:"E"===u||"Q"===u}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Unit",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:$,onChange:e=>Ie(e.target.value,ee),maxLength:5,disabled:"E"===u||"Q"===u,placeholder:"Unit"}))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:X,onChange:e=>Z(e.target.value),required:!0,disabled:"E"===u||"Q"===u},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD")))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Margin Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:le,onChange:e=>ne(e.target.value),disabled:"Q"===u,required:!0},n.a.createElement("option",{value:"F"},"Fixed"),n.a.createElement("option",{value:"P"},"Percentage"))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Buy Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:re,onChange:e=>Me(e.target.value,ce),maxLength:20,placeholder:"Buy Margin",disabled:"Q"===u}))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sell Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:oe,onChange:e=>Me(e.target.value,me),maxLength:20,placeholder:"Sell Margin",disabled:"Q"===u})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Max Buy Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ue,onChange:e=>Me(e.target.value,se),maxLength:20,placeholder:"Max Buy Margin",disabled:"Q"===u}))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Max Sell Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ie,onChange:e=>Me(e.target.value,Ee),maxLength:20,placeholder:"Max Sell Margin",disabled:"Q"===u})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Min Buy Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:de,onChange:e=>Me(e.target.value,pe),maxLength:20,placeholder:"Min Buy Margin",disabled:"Q"===u}))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Min Sell Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:be,onChange:e=>Me(e.target.value,ge),maxLength:20,placeholder:"Min Sell Margin",disabled:"Q"===u}))))):null,n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:S,onClose:e=>y(!1)},O),n.a.createElement(Ja,{isOpen:p,onYes:e=>Ce(),onNo:e=>b(!1)},g),n.a.createElement(Sa,{isOpen:v,onClose:e=>C(!1)},f)))};var Sl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(""),[r,c]=Object(l.useState)(!1),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)("Q"),[A,I]=Object(l.useState)(!1),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(!1),[G,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","MSME"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(P,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const z=()=>{I(!1),D(!1),T(!0),R(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master MSME"))),j?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(0),x("A"),T(!1),D(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"MSME"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"MSME",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"MSME",maxLength:100,value:y,onChange:e=>xe(e.target.value,O),autoComplete:"off",disabled:"Q"===L}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===L,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===L||"E"===L?(M("Do you really want to exit ?"),I(!0)):z())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===L||"1"===b.add&&"A"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)t("Please fill MSME!"),c(!0);else if("E"===L&&"1"===C)t("Please fill Remark!"),c(!0);else{var e={msme:y,status:N,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MMSME",trannumber:h,subtranno:0,remark:C};const l={ALineNo:B.length+1,AType:"A",TType:"MMSME",msme:y,Status:N,Remark:C};var a=We(B,l);q(a),De(P,[o,"savelist",h,JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a.err?(T(!0),D(!1),f(""),De(P,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(t(a.err),c(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==L&&"Q"!==L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(R(!0),void J({trantype:"MMSME",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,F&&n.a.createElement(qa,{logObject:G,show:F,onHide:()=>R(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"MSME"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.mm_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{x("Q"),R(!1),De(P,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.msme),v(a.status),D(!0),T(!1)})})(e.mm_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.mm_srno),n.a.createElement("td",null,e.mm_msme),n.a.createElement("td",null,1==e.mm_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:r,onClose:e=>c(!1)},a),n.a.createElement(Ja,{isOpen:A,onYes:e=>z(),onNo:e=>I(!1)},w)))};var yl=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,s]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(De(_,[e,"all","MASTER_RESIDENTIAL"],function(t){let l=JSON.parse(t);"1"===l.query?(s(l),De(W,[e,"listResidential"],e=>{o(JSON.parse(e))})):a("/")}),r(!0))},[t]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Residential Status"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===u.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[e,JSON.stringify({right:"MASTER_RESIDENTIAL"})])}},"Export")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Serial Number"),n.a.createElement("th",null,"Resident"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,c.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.mrs_srno),n.a.createElement("td",null,e.mrs_resident),n.a.createElement("td",null,1==e.mrs_active?"ACTIVE":"INACTIVE")))))))))};var Ol=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)("Q"),[A,w]=Object(l.useState)(!1),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","RISK"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(I,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const z=()=>{w(!1),D(!1),T(!0),G(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master Risk "))),j?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),D(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"RISK"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Risk",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Risk",maxLength:50,value:y,onChange:e=>xe(e.target.value,O),autoComplete:"off",disabled:"Q"===L}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===L,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===L||"E"===L?(F("Do you really want to exit ?"),w(!0)):z())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===L||"1"===b.add&&"A"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Risk!"),t(!0);else if("E"===L&&""===C)c("Please fill remark!"),t(!0);else{var e={risk:y,status:N,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MRISK",trannumber:h,subtranno:0,remark:C};const l={ALineNo:B.length+1,AType:"A",TType:"MRISK",Risk:y,Status:N,trannumber:h,subtranno:0,Remark:C};var a=We(B,l);q(a),De(I,[o,"savelist",h,JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a.err?(D(!1),T(!0),f(""),De(I,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==L&&"Q"!==L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MRISK",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,R&&n.a.createElement(qa,{logObject:P,show:R,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Risk"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.mr_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{x("Q"),G(!1),De(I,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.risk),v(a.status),D(!0),T(!1)})})(e.mr_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.mr_srno),n.a.createElement("td",null,e.mr_risk),n.a.createElement("td",null,1==e.mr_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:A,onYes:e=>z(),onNo:e=>w(!1)},M)))},Nl=t(270);var vl=function(){const[e,a]=Object(l.useState)(null),[t,r]=Object(l.useState)(null),[c,o]=Object(l.useState)(null),[m,u]=Object(l.useState)(null),[i,E]=Object(l.useState)(null),[d,p]=Object(l.useState)(null),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)(null),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(null),[C,_]=Object(l.useState)(null),[f,j]=Object(l.useState)(null),[T,k]=Object(l.useState)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Sample Form"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("hr",null))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Allowed Location"),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:e,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{a(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(e||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("hr",null))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger"),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:t,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,1),onInputChange:rt,onChange:e=>{r(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(t||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("hr",null))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual"),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:c,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ut,onInputChange:rt,onChange:e=>{o(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(c||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("hr",null))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate"),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:m,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"CORPORATE",1),onInputChange:rt,onChange:e=>{u(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(m||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("hr",null))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Vtm",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:i,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Et(e,"APPROVED"),onInputChange:rt,onChange:e=>{E(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(i||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("hr",null))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:d,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,""),onInputChange:rt,onChange:e=>{p(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(d||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>bt(e,""),onInputChange:rt,onChange:e=>{g(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(b||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:h,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ht(e,""),onInputChange:rt,onChange:e=>{S(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(h||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>St(e,""),onInputChange:rt,onChange:e=>{v(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(N||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>yt(e,""),onInputChange:rt,onChange:e=>{O(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(y||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:C,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ot(e,"OTHER"),onInputChange:rt,onChange:e=>{_(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(C||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:f,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ct(e,1),onInputChange:rt,onChange:e=>{j(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(f||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Lt(e,1),onInputChange:rt,onChange:e=>{k(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(Nl.a,{variant:"success"},"Selected Value : ",JSON.stringify(T||{},null,2)))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0"))))};var Cl=e=>{const a=Object(m.n)(),t=sessionStorage.getItem("sessionId"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(!1),[h,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)([]),[T,k]=Object(l.useState)(null),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(0),[I,w]=Object(l.useState)("N"),[M,F]=Object(l.useState)(0),[R,G]=Object(l.useState)("FX"),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(""),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)(0),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)("1"),[ne,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)("AC"),[ue,se]=Object(l.useState)(""),[ie,Ee]=Object(l.useState)("1"),[de,pe]=Object(l.useState)("1"),[be,ge]=Object(l.useState)(""),[he,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)("C"),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)(""),[fe,je]=Object(l.useState)(""),[Te,ke]=Object(l.useState)(""),[Le,Ae]=Object(l.useState)([]),[we,Me]=Object(l.useState)("");Object(l.useEffect)(()=>{oa().then(e=>{k(e),null!=e&&Fe(e)}),o||(De(_,[t,"all","MASTER_AGENT_LINK"],e=>{let t=JSON.parse(e);"1"===t.query?c(t):a("/")}),"undefined"!=typeof e.cmmodule&&(p("A"),J(e.cmmodule.agentcode),A(e.cmmodule.location),L(e.cmmodule.locationname)),De(S,[t,"ddlistjson",1],function(e){Ae(JSON.parse(e))}),u(!0))},[o,t,a]);const Fe=e=>{k(e);const a=e.id.split("^");A(a[1]),L(a[2]),sessionStorage.activeBranch=a[1]};const Re=()=>{if(La()(".loader").show(),"F"!==I||ue||"S"===oe||"D"===oe||"P"===oe||"GST"===oe||"FA"===oe){const e={filterRadioType:I,filterTextBox:ue,filterSearch:oe,filterStatus:ie,filterDefault:de,location:x,filterPan:fe};De("/api/agent_linking_a.php",[t,"list",JSON.stringify(e)],e=>{La()(".loader").hide();let a=JSON.parse(e);j(a)})}else La()(".loader").hide(),C("Please Fill Text Box."),N(!0)},Ge=()=>{g(!1),"undefined"!=typeof e.cmmodule?e.cmmodule.setShowAgentForm(!1):p("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Master Agent Link"))),n.a.createElement(Oa.a,null,"\xa0"),""===E?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Fe}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===I,onChange:()=>w("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"F"===I,onChange:()=>w("F"),type:"radio",label:"Filters"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"U"===I,onChange:()=>w("U"),type:"radio",label:"Upload"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"E"===I,onChange:()=>w("E"),type:"radio",label:"Export"})))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"N"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>void(null===T?(C("Please Select Location!"),N(!0)):(p("A"),F(0),J(""),q(""),V(""),Y(""),H(""),X(""),$(""),ae(""),le("1"),Oe("C"),ve(""),_e(""),Me(""),ke("")))},"Add New")," ",n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>Re()},"List"))):"F"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Select,{value:oe,onChange:e=>me(e.target.value),required:!0},n.a.createElement("option",{value:"AC"},"Agent Account"),n.a.createElement("option",{value:"AN"},"Agent Name"),n.a.createElement("option",{value:"ACN"},"Account Number"),n.a.createElement("option",{value:"P"},"PAN Number"),n.a.createElement("option",{value:"S"},"Status"),n.a.createElement("option",{value:"GST"},"GST Tpye"),n.a.createElement("option",{value:"FA"},"FA Type"),n.a.createElement("option",{value:"D"},"Default")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},"S"===oe?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:ie,onChange:e=>Ee(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))):"D"===oe?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Default"),n.a.createElement(s.a.Select,{value:de,onChange:e=>pe(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))):"GST"===oe?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Type"),n.a.createElement(s.a.Select,{value:ie,onChange:e=>Ee(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"WGST"},"With GST"),n.a.createElement("option",{value:"WOGST"},"With out GST"),n.a.createElement("option",{value:"HGST"},"Hold GST")))):"FA"===oe?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Type"),n.a.createElement(s.a.Select,{value:ie,onChange:e=>Ee(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"BOTH"},"Both"),n.a.createElement("option",{value:"COMMISSION"},"Commission"),n.a.createElement("option",{value:"NOFA"},"No FA")))):"P"===oe?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN Number",maxLength:10,value:fe,onChange:e=>je(e.target.value),onBlur:e=>Qe(e.target.value,je),autoComplete:"off"}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"AC"===oe?"Agent Account":"AN"===oe?"Agent Name":"ACN"===oe?"Account Number":"P"===oe?"PAN Number":null,n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ue,maxLength:100,placeholder:"Search Box",onChange:e=>{"AN"===oe?xe(e.target.value,se):Ie(e.target.value,se)}})))),"F"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{style:{marginTop:"35px"},className:"col-md-3 col-6"},n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>Re()},"List"))):null):"U"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:ne,onChange:e=>ce(e.target.value)})),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Xt.a,{bg:"primary",className:"handCursor",onClick:()=>void $e(re,"post",[t,"downloadAgentLinkFormat",JSON.stringify({srno:24,pageright:"MASTER_AGENT_LINK",downloadType:"downloadAgentLinkFormat"})])},"Download Format")),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Xt.a,{bg:"primary",className:"handCursor",onClick:function(){$e(re,"post",[t,"",JSON.stringify({pageright:"MASTER_AGENT_LINK",downloadType:"downloadStateCode"})])}},"Download State Code"))),n.a.createElement(Na.a,{style:{marginTop:"35px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),La()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])La()(".loader").hide(),C("Please select a file to upload."),N(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)La()(".loader").hide(),C("(.) not allowed in file name."),N(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)La()(".loader").hide(),C("Please select a file with in 10 MB size."),N(!0);else if("xlsx"!=e[1])La()(".loader").hide(),C("File extension should be in xlsx format"),N(!0);else{const e={sid:t,srno:6666,srNo:M,location:x,AgentLinkFile:ne,uploadType:"uploadAgentLink",pageright:"MASTER_AGENT_LINK",filterRadioType:I,filterTextBox:ue,filterSearch:oe,filterStatus:ie,filterDefault:de};Ze(JSON.stringify(e),"fileExcel",e=>{let a=JSON.parse(e);console.log(a),La()(".loader").hide(),j(a.docdetail),C(a.msg),N(!0),ce("")})}}})()},"Submit"))):"E"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-success",size:"sm",onClick:()=>void $e(Q,"post",[t,JSON.stringify({right:"MASTER_AGENT_LINK"})])},"Export"))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,"\xa0"),n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Agent Branch"),n.a.createElement("th",null,"Agent Group"),n.a.createElement("th",null,"Agent Account"),n.a.createElement("th",null,"Agent Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"IFSC Code"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"PAN"),n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"Agent Company"),n.a.createElement("th",null,"Default"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,f.map(e=>n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:e.al_srno},"1"===r.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{p("Q"),De("/api/agent_linking_a.php",[t,"edit",e],e=>{let a=JSON.parse(e);F(a.srno),G(a.type),J(a.agentCode),Y(a.agentGroup),H(a.agentAccount),q(a.agentName),V(a.agentAccountName),X(a.agentAccountNo),$(a.agentPan),ae(a.agentIFSC),le(a.agentStatus),ge(a.createdUser),Se(a.updatedUser),Oe(a.agentCompany),ve(a.gstType),_e(a.faType),Me(a.gstNumber),ke(a.state)})})(e.al_srno)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.al_srno),n.a.createElement("td",null,e.al_agent_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.al_agent_group),n.a.createElement("td",null,e.al_agent_account),n.a.createElement("td",null,e.al_agent_name),n.a.createElement("td",null,e.al_agent_account_no),n.a.createElement("td",null,e.al_agent_ifsc),n.a.createElement("td",null,e.al_agent_account_name),n.a.createElement("td",null,e.al_agent_pan),n.a.createElement("td",null,e.um_user_name),n.a.createElement("td",null,"C"===e.al_agent_company?"Company":"Non-Company"),n.a.createElement("td",null,"1"===e.al_default?"Yes":"No"),n.a.createElement("td",null,"1"===e.al_status?"Active":"Inactive")),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:15},"State : ",n.a.createElement("b",null,e.state_name),"\xa0 GST Type : ",n.a.createElement("b",null,e.al_gst_type),"\xa0",e.al_agent_gstin?" GSTIN :"+e.al_agent_gstin:"","\xa0 FA Type : ",n.a.createElement("b",null,e.al_fa_type)))))))))):n.a.createElement(n.a.Fragment,null,"A"!==E?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Location : ",n.a.createElement("b",null,D)," \xa0 \xa0 Created By : ",n.a.createElement("b",null,be)," \xa0 \xa0 Last Created By : ",n.a.createElement("b",null,he))))):"A"===E||"E"===E?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Location : ",n.a.createElement("b",null,D))))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{value:R,onChange:e=>G(e.target.value),disabled:"A"!==E,required:!0},n.a.createElement("option",{value:"FX"},"FX")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Group",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:U,disabled:"A"!==E,maxLength:10,onChange:e=>Ie(e.target.value,Y),placeholder:"Agent Group"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,disabled:"A"!==E,maxLength:10,onChange:e=>Ie(e.target.value,H),placeholder:"Agent Acccount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Agent PAN",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Z,disabled:"A"!==E,maxLength:10,onChange:e=>$(e.target.value),onBlur:e=>Qe(e.target.value,$),placeholder:"Agent PAN"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:B,disabled:"Q"===E,maxLength:100,onChange:e=>xe(e.target.value,q),placeholder:"Agent Name"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Account Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:z,disabled:"Q"===E,maxLength:100,onChange:e=>xe(e.target.value,V),placeholder:"Agent Account Name"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Account Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:W,disabled:"Q"===E,maxLength:20,onChange:e=>Ie(e.target.value,X),placeholder:"Agent Account Number"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent IFSC",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ee,disabled:"Q"===E,maxLength:11,onChange:e=>Pe(e.target.value,ae),placeholder:"Agent IFSC"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Ne,onChange:e=>ve(e.target.value),disabled:"Q"===E,required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"WGST"},"With GST"),n.a.createElement("option",{value:"WOGST"},"With out GST"),n.a.createElement("option",{value:"HGST"},"Hold GST")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent GSTIN ","WGST"===Ne&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:we,disabled:"Q"===E,maxLength:15,onChange:e=>Me(e.target.value),onBlur:e=>Me(e.target.value.toUpperCase()),placeholder:"Agent GSTIN"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Ce,onChange:e=>_e(e.target.value),disabled:"Q"===E,required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"BOTH"},"Both"),n.a.createElement("option",{value:"COMMISSION"},"Commission"),n.a.createElement("option",{value:"NOFA"},"No FA")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Company",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ye,onChange:e=>Oe(e.target.value),disabled:"Q"===E,required:!0},n.a.createElement("option",{value:"C"},"Company"),n.a.createElement("option",{value:"N"},"Non-Company"))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:Te,onChange:e=>ke(e.target.value),disabled:"Q"===E},Le.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value),disabled:"Q"===E,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},"\xa0"),n.a.createElement(Na.a,{className:"col-md-3 col-6"},"\xa0")),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===r.edit&&"E"===E||"1"===r.add&&"A"===E?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(()=>{La()(".loader").show();var a=[],l=0;if(""===B||""===z||""===W||""===ee||""===Te||""===U||""===K||""===Z||""===Ne||""===Ce||"WGST"===Ne&&""===we||we&&!we.includes(Z))La()(".loader").hide(),a[l++]=d("MSG0006"),a[l++]=""===U?" Agent Group.":"",a[l++]=""===K?" Agent Account.":"",a[l++]=""===B?" Agent Name.":"",a[l++]=""===z?" Agent Account Name.":"",a[l++]=""===W?" Agent Account Number.":"",a[l++]=""===Z?" Agent PAN.":"",a[l++]=""===ee?" Agent IFSC.":"",a[l++]=""===Ne?" GST Type.":"",a[l++]=""===Ce?" FA Type.":"",a[l++]=""===Te?" State.":"",a[l++]="WGST"===Ne&&""===we?" Agent GstIN.":"",a[l++]=we&&!we.includes(Z)?"GST Number does not matching with ":"",C(ta(a)),N(!0);else{const a={filterRadioType:I,filterTextBox:ue,filterSearch:oe,filterStatus:ie,filterDefault:de,location:x,srno:M,agentType:R,groupCode:U,accountCode:K,agentName:B,agentAccountName:z,agentAccountNum:W,agentPan:Z,agentIFSC:ee,agentStatus:te,agentCompany:ye,gstType:Ne,faType:Ce,state:Te,gstin:we};De("/api/agent_linking_a.php",[t,"add",M,JSON.stringify(a)],a=>{La()(".loader").hide();let t=JSON.parse(a);""===t.msg?(j(t.agent),"undefined"!=typeof e.cmmodule?(e.cmmodule.setShowAgentForm(!1),e.updateAgentDetails(t.agent)):p("")):(C(t.msg),N(!0))})}})()},"Save")," \xa0"):null,"1"===r.edit&&"Q"===E?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void p("E")},"Edit"),"\xa0"):null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===E||"E"===E?(y("Do you really want to exit ?"),g(!0)):Ge())},"Back")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:O,onClose:e=>N(!1)},v),n.a.createElement(Ja,{isOpen:b,onYes:e=>Ge(),onNo:e=>g(!1)},h)))};var _l=()=>{const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)({value:0,label:"Select"}),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(!1),h=Object(m.n)(),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)("");Object(l.useEffect)(()=>{if(!b){De(_,[e,"all","DOCUMENTLINK"],function(e){let a=JSON.parse(e);"1"===a.query?y(a):h("/")});const a={pageright:"DOCUMENTLINK"};De(U,[e,"getdocs",JSON.stringify(a)],e=>{p(JSON.parse(e))}),g(!0)}},[b]);const f=()=>{De(V,[e,"showdocdata",r],e=>{let a=JSON.parse(e);console.log(a),u(a)})};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Document"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:r,onChange:e=>(e=>{u([]),c(e.target.value)})(e)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"DEALER"},"DEALER"),n.a.createElement("option",{value:"CORPORATE"},"CORPORATE"),n.a.createElement("option",{value:"AGENT"},"AGENT"),n.a.createElement("option",{value:"BANK"},"BANK"),n.a.createElement("option",{value:"CASH"},"CASH")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(Ua.a,{options:E,value:a,onChange:e=>t(e)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===S.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-success",onClick:()=>f()},"List")," "):null,"1"===S.add?n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(()=>{var l=[],n=0;""===r||"0"==a.value?(l[n++]=d("MSG0006"),l[n++]=""===r?" Group type.":"",l[n++]="0"==a.value?" Document.":"",C(ta(l)),N(!0)):De(V,[e,"adddoctype",r,a.value],e=>{console.log(e),t({value:0,label:"Select"}),f()})})()},"Add"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Group Type"),n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,o.map((a,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,a.mdl_group_type),n.a.createElement("td",null,a.docm_desc),n.a.createElement("td",null,n.a.createElement("span",null,n.a.createElement(pa.a,{icon:ja.o,onClick:()=>(a=>{De(V,[e,"deldocdata",a],e=>{console.log(e),f()})})(a.mdl_srno)})))))))))),n.a.createElement(Sa,{isOpen:O,onClose:e=>N(!1)},v))};var fl=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)([]),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)("1"),[f,j]=Object(l.useState)(!1),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(!1),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)("");Object(l.useEffect)(()=>{t||(De(_,[a,"all","VOUCHERTYPE"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),M(),r(!0))},[t,a,e]);const M=()=>{De(q,[a,"getList"],e=>{let a=JSON.parse(e);E(a)})},F=()=>{L(!1),b("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null," Voucher Type "))),n.a.createElement(Oa.a,null,"\xa0"),""===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===c.add?n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(b("A"),h(0),y(""),void N(""))},"Add"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type "),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Manual"))),n.a.createElement("tbody",null,u.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,e.mvt_type),n.a.createElement("td",null,e.mvt_description),n.a.createElement("td",null,1==e.mvt_manual?"ACTIVE":"INACTIVE")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Srno"),n.a.createElement(s.a.Control,{disabled:!0,value:g,onChange:e=>h(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:80,value:S,onChange:e=>y(e.target.value),disabled:"Q"===p}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Description",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:80,value:O,onChange:e=>N(e.target.value),disabled:"Q"===p}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual"),n.a.createElement(s.a.Select,{value:v,disabled:"Q"===p,onChange:e=>C(e.target.value)},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===p?(A("Do you really want to exit ?"),L(!0)):F())},"Back"),"\xa0\xa0","1"===c.add&&"A"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e={srNo:g,type:S,desc:O,manual:v},t=[],l=0;""===S||""===O?(t[l++]=d("MSG0006"),t[l++]=""===S?" Please fill Type.":"",t[l++]=""===O?" Please select Description.":"",k(ta(t)),j(!0)):De(q,[a,"savevtype",JSON.stringify(e)],e=>{b(""),M()})})()},"Save"),"\xa0"):null)))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:f,onClose:e=>j(!1)},T),n.a.createElement(Ja,{isOpen:D,onClose:e=>L(!1),onYes:e=>F(),onNo:e=>L(!1)},x)))};var jl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)("Q"),[I,w]=Object(l.useState)(!1),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(De(_,[o,"all","DIVISION"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),De(A,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),E(!0))},[u,o,e]);const z=()=>{w(!1),D(!1),T(!0),G(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Master Division "))),j?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),D(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{$e(Q,"post",[o,JSON.stringify({right:"DIVISION"})])}},"Export")):null)):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:h,disabled:!0}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Division",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Division",maxLength:50,value:y,onChange:e=>xe(e.target.value,O),autoComplete:"off",disabled:"Q"===L}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===L,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>xe(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0"))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===L||"E"===L?(F("Do you really want to exit ?"),w(!0)):z())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===L||"1"===b.add&&"A"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Division!"),t(!0);else if("E"===L&&""===C)c("Please fill Remark!"),t(!0);else{var e={srno:h,division:y,status:N,branch:0,activitytype:1*h>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MDVSN",trannumber:h,subtranno:0,remark:C},a={TabType:"Edit",ALineNo:B.length+1,AType:"A",TType:"MDVSN",Division:y,Status:N,remark:C},l=We(B,a);q(l),De(A,[o,"savelist",h,JSON.stringify(e),JSON.stringify(l)],e=>{let a=JSON.parse(e);""===a.err?(D(!1),T(!0),f(""),De(A,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==L&&"Q"!==L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MDVSN",trannumber:h,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")))))),n.a.createElement(Oa.a,null,R&&n.a.createElement(qa,{logObject:P,show:R,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Division"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.md_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{x("Q"),G(!1),De(A,[o,"editList",e],e=>{let a=JSON.parse(e);S(a.srno),O(a.division),v(a.status),D(!0),T(!1)})})(e.md_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",{className:"textRight"},e.md_srno),n.a.createElement("td",null,e.md_division),n.a.createElement("td",null,1==e.md_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(qa,{logObject:P,show:R,onHide:()=>G(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(Ja,{isOpen:I,onYes:e=>z(),onNo:e=>w(!1)},M)))};var Tl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(),[u,E]=Object(l.useState)(""),[p,b]=Object(l.useState)("T"),[g,h]=Object(l.useState)(new Date),[S,y]=Object(l.useState)(new Date),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)("A"),[f,j]=Object(l.useState)(!1),[T,k]=Object(l.useState)(null),[D,L]=Object(l.useState)(0),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)("A"),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)("");var B=[],q=0;const[z,V]=Object(l.useState)(!1),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)("V"),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)([]);Object(l.useEffect)(()=>{Y||(De(_,[a,"all","REP_FIN_RECV_BILL_WISE_DETAIL"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),K(!0))},[Y,a,e]);return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Receivable Bill Wise Detail ",n.a.createElement("span",{style:{color:"#f8f9fd"}},c)," "))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Report Type"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:p,onChange:e=>(e=>{let a=e.target.value;N("T"!=a),b(a)})(e)},n.a.createElement("option",{value:"P"},"Periodic"),n.a.createElement("option",{value:"T"},"Till Date"))),"\xa0",O&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:g,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:S,onChange:e=>y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:H,onChange:e=>W(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Account Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:v,onChange:e=>(e=>{let a=e.target.value;j("O"==a),C(e.target.value)})(e)},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One"))),f&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,0,1),onInputChange:rt,onChange:e=>{k(e),console.log(e);var a=e.id.split("^");F(a[1]),G(a[2]),J(a[5])}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{L(e),A(a),w(t)}}))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),"P"==p&&!g||!S||"O"==v&&null==T||"O"==I&&"0"==D||"S"==I&&x==[])B[q++]=d("MSG0006"),B[q++]="P"!=p||g?"":"Please select from date.",B[q++]=S?"":"Please select to date.",B[q++]="O"==v&&null==T?"Please select account .":"",B[q++]="O"==I&&"0"==D?"Please select location.":"",B[q++]="S"==I&&x==[]?"Please select atleast one location.":"",La()(".loader").hide(),U(ta(B)),V(!0);else{const e={reportType:p,fromDate:Ue(g),toDate:Ue(S),accountType:v,grpCode:M,accountCode:R,accountName:P,radioType:I,location:D,selectedItems:x.join()};"D"===H?$e("/api/rep_fin_recv_bill_wise_detail_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/rep_fin_recv_bill_wise_detail_a.php",[a,"viewData",JSON.stringify(e)],e=>{Z("V");const a=JSON.parse(e);ee(a)}),La()(".loader").hide()}}},"Generate")))):null,"V"===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>Z(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"Receivable Bill Wise Detail : ","P"===p?" From "+Ye(g)+" To "+Ye(S):" Till Date "+Ye(S))),n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Account Code"),n.a.createElement("th",null,"Party"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Voucher"),n.a.createElement("th",null,"Traveller"),n.a.createElement("th",null,"Rec Amount"),n.a.createElement("th",null,"Adj Amount"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Lapse Days"))),n.a.createElement("tbody",null,$.map((e,a)=>n.a.createElement(n.a.Fragment,null,Object(da.a)(e.erow)))))):null),n.a.createElement(Sa,{isOpen:z,onClose:e=>V(!1)},Q),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var kl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(),[u,E]=Object(l.useState)(""),[p,b]=Object(l.useState)("1"),[g,h]=Object(l.useState)(new Date),[S,y]=Object(l.useState)(new Date),[O,N]=Object(l.useState)(!0),[v,C]=Object(l.useState)("1"),[f,j]=Object(l.useState)(!1),[T,k]=Object(l.useState)(null),[D,L]=Object(l.useState)(0),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)("A"),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)("");var B=[],q=0;const[z,V]=Object(l.useState)(!1),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)("V"),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)([]);Object(l.useEffect)(()=>{Y||(De(_,[a,"all","BILL_WISE_DETAIL_PAYABLE"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),K(!0))},[Y,a,e]);return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Bill Wise Detail ",n.a.createElement("span",{style:{color:"#f8f9fd"}},c)," "))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Report Type"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:p,onChange:e=>(e=>{let a=e.target.value;N(2!=a),b(a)})(e)},n.a.createElement("option",{value:"1"},"Periodic"),n.a.createElement("option",{value:"2"},"Till Date"))),"\xa0",O&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:g,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:S,onChange:e=>y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:H,onChange:e=>W(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Account Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:v,onChange:e=>(e=>{let a=e.target.value;j(2==a),C(e.target.value)})(e)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"2"},"One"))),f&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,0,1),onInputChange:rt,onChange:e=>{k(e),console.log(e);var a=e.id.split("^");F(a[1]),G(a[2]),J(a[5])}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{L(e),A(a),w(t)}}))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),"1"==p&&!g||!S||"2"==v&&null==T||"O"==I&&"0"==D||"S"==I&&x==[])B[q++]=d("MSG0006"),B[q++]=1!=p||g?"":"Please select from date.",B[q++]=S?"":"Please select to date.",B[q++]="2"==v&&null==T?"Please select account .":"",B[q++]="O"==I&&"0"==D?"Please select location.":"",B[q++]="S"==I&&x==[]?"Please select atleast one location.":"",La()(".loader").hide(),U(ta(B)),V(!0);else{const e={reportType:p,fromDate:Ue(g),toDate:Ue(S),accountType:v,grpCode:M,accountCode:R,accountName:P,radioType:I,location:D,selectedItems:x};"D"===H?$e("/api/bill_wise_detail_payable_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/bill_wise_detail_payable_a.php",[a,"viewData",JSON.stringify(e)],e=>{Z("V");const a=JSON.parse(e);ee(a)}),La()(".loader").hide()}}},"Generate")))):null,"V"===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>Z(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Voucher"),n.a.createElement("th",null,"Traveller"),n.a.createElement("th",null,"Rec Amount"),n.a.createElement("th",null,"Adj Amount"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Account Code"),n.a.createElement("th",null,"Party"))),n.a.createElement("tbody",null,$.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tfd_location),"               ",n.a.createElement("td",null,e.formatted_date),"             ",n.a.createElement("td",null,e.tfd_srno),"                   ",n.a.createElement("td",null,e.bd_first_name," ",e.bd_middle_name," ",e.bd_last_name),"                                      ",n.a.createElement("td",null,e.abs_tfd_amount),"             ",n.a.createElement("td",null,e.abs_tfd_knockoff_amount),"    ",n.a.createElement("td",null,1*e.tfd_amount-1*e.tfd_knockoff_amount),"                         ",n.a.createElement("td",null,e.tfd_group),"                  ",n.a.createElement("td",null,e.tfd_account),"                ",n.a.createElement("td",null,e.entity_name),"                "))))):null),n.a.createElement(Sa,{isOpen:z,onClose:e=>V(!1)},Q),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Dl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(new Date),[u,E]=Object(l.useState)(new Date),[p,b]=Object(l.useState)("1"),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(0),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)("A"),[f,j]=Object(l.useState)(null),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)("");var I=[],w=0;const[M,F]=Object(l.useState)(!1),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)("V"),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)([]);Object(l.useEffect)(()=>{P||(De(_,[a,"all","CHEQUE_USED_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),J(!0))},[P,a,e]);return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Cheques Used Report"))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:f,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Nt(e,1),onInputChange:rt,onChange:e=>{j(e);const a=e.id.split("^");k(a[1]),L(a[2]),A(a[3])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:B,onChange:e=>q(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:c,onChange:e=>o(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:u,onChange:e=>E(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Cheque Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:p,onChange:e=>(e=>{const a=e.target.value;b(a)})(e)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"2"},"One"))),"2"==p&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:g,placeholder:"Cheque No.",onChange:e=>Pe(e.target.value,h)})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{y(e),N(a),C(t)}}))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),!c||!u||"2"==p&&""==g||"O"==v&&"0"==S||"S"==v&&O==[]||null==f)I[w++]=d("MSG0006"),I[w++]=c?"":"Please select from date.",I[w++]=u?"":"Please select to date.",I[w++]=null==f?"Please select bank.":"",I[w++]="2"==p&&""==g?"Please enter cheque number .":"",I[w++]="O"==v&&"0"==S?"Please select location.":"",I[w++]="S"==v&&O==[]?"Please select atleast one location.":"",La()(".loader").hide(),G(ta(I)),F(!0);else{const e={fromDate:Ue(c),toDate:Ue(u),chequeType:p,chequeNum:g,radioType:v,location:S,selectedItems:O,group:T,account:D,accountName:x};"D"===B?$e("/api/cheque_used_report_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/cheque_used_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{V("V");const a=JSON.parse(e);U(a)}),La()(".loader").hide()}}},"Generate")))):null,"V"===z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>V(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Cheque No."),n.a.createElement("th",null,"Out Date"),n.a.createElement("th",null,"Out Srno"),n.a.createElement("th",null,"Out Type"))),n.a.createElement("tbody",null,Q.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tcbb_location),"       ",n.a.createElement("td",null,e.tcbb_srno),"           ",n.a.createElement("td",null,e.tcbb_type),"           ",n.a.createElement("td",null,e.formatted_date),"      ",n.a.createElement("td",null,e.tcbb_from),"           ",n.a.createElement("td",null,e.formatted_out_date),"  ",n.a.createElement("td",null,e.tcbb_out_srno),"       ",n.a.createElement("td",null,e.tcbb_out_type),"       "))))):null),n.a.createElement(Sa,{isOpen:M,onClose:e=>F(!1)},R),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Ll=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(new Date),[u,E]=Object(l.useState)("1"),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)(0),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)("A"),[v,C]=Object(l.useState)(null),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)("V"),[I,w]=Object(l.useState)(""),[M,F]=Object(l.useState)([]);var R=[],G=0;const[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(!1);Object(l.useEffect)(()=>{z||(De(_,[a,"all","CHEQUE_IN_HAND_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),V(!0))},[z,a,e]);return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Cheques In Hand"))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:v,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Nt(e,1),onInputChange:rt,onChange:e=>{C(e);const a=e.id.split("^");j(a[1]),k(a[2]),L(a[3])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:x,onChange:e=>A(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:c,onChange:e=>o(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Cheque Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:u,onChange:e=>(e=>{const a=e.target.value;E(a)})(e)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"2"},"One"))),"2"==u&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:p,placeholder:"Cheque No.",onChange:e=>Pe(e.target.value,b)})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{h(e),y(a),N(t)}}))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),!c||"2"==u&&""==p||"O"==O&&"0"==g||"S"==O&&S==[]||null==v)R[G++]=d("MSG0006"),R[G++]=c?"":"Please select  date.",R[G++]=null==v?"Please select bank.":"",R[G++]="2"==u&&""==p?"Please enter cheque number .":"",R[G++]="O"==O&&"0"==g?"Please select location.":"",R[G++]="S"==O&&S==[]?"Please select atleast one location.":"",La()(".loader").hide(),q(ta(R)),J(!0);else{const e={date:Ue(c),chequeType:u,chequeNum:p,radioType:O,location:g,selectedItems:S,group:f,account:T,accountName:D};"D"===x?$e("/api/cheque_in_hand_report_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/cheque_in_hand_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{w("V");const a=JSON.parse(e);F(a)}),La()(".loader").hide()}}},"Generate")))):null,"V"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>w(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),"    ",n.a.createElement("th",null,"Srno"),"        ",n.a.createElement("th",null,"Type"),"        ",n.a.createElement("th",null,"Date"),"        ",n.a.createElement("th",null,"Cheque No."),"  ")),n.a.createElement("tbody",null,M.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tcbb_location),"     ",n.a.createElement("td",null,e.tcbb_srno),"         ",n.a.createElement("td",null,e.tcbb_type),"         ",n.a.createElement("td",null,e.formatted_date),"    ",n.a.createElement("td",null,e.tcbb_from),"         "))))):null),n.a.createElement(Sa,{isOpen:P,onClose:e=>J(!1)},B),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var xl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(""),[u,E]=Object(l.useState)(""),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)(!1),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(null),[T,k]=Object(l.useState)(null),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(""),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(0),[B,q]=Object(l.useState)([]),[z,V]=Object(l.useState)("A"),[Q,U]=Object(l.useState)(0),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)(new Date),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)(!1),[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)([]),[oe,me]=Object(l.useState)([]),[ue,se]=Object(l.useState)([]),[ie,Ee]=Object(l.useState)([]),[de,pe]=Object(l.useState)("V"),[be,ge]=Object(l.useState)(""),[he,Se]=Object(l.useState)([]);var ye=[],Oe=0;Object(l.useEffect)(()=>{$||(De(_,[a,"all","LEDGER"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),ee(!0))},[$,a,e]);const Ne=e=>{k(e),console.log(e);var a=e.id.split("^");if(w(a[1]),F(a[2]),G(a[5]),"2"==c&&"1"==u){const e={groupCode:a[1],accountCode:a[2]};me(e),U(Q+1)}},ve=e=>{j(e),console.log(e);var a=e.id.split("^");L(a[1]),A(a[2]),"1"==c&&"1"==u&&(ce(a[1]),U(Q+1))},Ce=e=>{K(Y-1),U(Q-1),"1"==c&&"2"==u?se(He(ue,"uniquekey",e)):"2"==c&&"2"==u&&Ee(He(ie,"uniquekey",e))};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===be?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Ledger ",n.a.createElement("span",{style:{color:"#f8f9fd"}},Y)," "))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:H,onChange:e=>W(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:X,onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:de,onChange:e=>pe(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:c,onChange:e=>(e=>{const a=e.target.value;o(a),b(!0),E(""),h(!1),y(!1),N(!1),C(!1),se([]),Ee([])})(e),disabled:Q>0},n.a.createElement("option",{value:"",disabled:!0},"Select"),n.a.createElement("option",{value:"1"},"Group"),n.a.createElement("option",{value:"2"},"Ledger"))),p&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Select",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:u,onChange:e=>(e=>{const a=e.target.value;E(a),"1"==c&&"1"==a?(h(!0),y(!1),N(!1),C(!1)):"1"==c&&"2"==a?(h(!1),y(!1),N(!0),C(!1)):"2"==c&&"1"==a?(y(!0),h(!1),N(!1),C(!1)):"2"==c&&"2"==a?(y(!1),h(!1),N(!1),C(!0)):(h(!1),y(!1))})(e),disabled:Q>0},n.a.createElement("option",{value:"",disabled:!0},"Select"),n.a.createElement("option",{value:"1"},"One"),n.a.createElement("option",{value:"2"},"Selective"))),g&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:f,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ot(e,0),onInputChange:rt,onChange:ve}))),O&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group Selector",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:f,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ot(e,0),onInputChange:rt,onChange:ve})))),S&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,0,1),onInputChange:rt,onChange:Ne}))),v&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,0,1),onInputChange:rt,onChange:Ne})))),v||O?n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{paddingTop:"35px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),"1"==c&&null==f||"2"==c&&null==T)ye[Oe++]=d("MSG0006"),ye[Oe++]="1"==c&&null==f?"Please select group.":"",ye[Oe++]="2"==c&&null==T?"Please select ledger.":"",La()(".loader").hide(),ne(ta(ye)),te(!0);else{if(K(Y+1),console.log(" added"),console.log(c,"typeOption"),console.log(u,"selectOption"),"1"==c&&"2"==u){const e={uniquekey:Xe(15),groupCode:D,groupName:x};console.log(e),se(We(ue,e)),j(null),L(""),A("")}else if("2"==c&&"2"==u){const e={uniquekey:Xe(15),groupCode:I,accountCode:M,ledgerName:R};console.log(e),Ee(We(ie,e)),k(null),w(""),F(""),G("")}La()(".loader").hide(),U(Q+1)}}},"Add New")):null),"\xa0",ue.length>"0"&&n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Group Name"))),n.a.createElement("tbody",null,ue.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>Ce(e.uniquekey)},n.a.createElement(pa.a,{icon:ja.o}))),n.a.createElement("td",null,e.groupCode),n.a.createElement("td",null,e.groupName)))))),ie.length>"0"&&n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Account Code"),n.a.createElement("th",null,"Ledger Name"))),n.a.createElement("tbody",null,ie.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>Ce(e.uniquekey)},n.a.createElement(pa.a,{icon:ja.o}))),n.a.createElement("td",null,e.groupCode),n.a.createElement("td",null,e.accountCode),n.a.createElement("td",null,e.ledgerName)))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{J(e),q(a),V(t)}}))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),null==H||null==X||""==c||""==u||Q<="0"||"O"==z&&"0"==P||"S"==z&&B==[])ye[Oe++]=d("MSG0006"),ye[Oe++]=null==H?"Please select from date.":"",ye[Oe++]=null==X?"Please select to date.":"",ye[Oe++]=""==c?"Please select ledger type.":"",ye[Oe++]=""==u?"Please select type.":"",ye[Oe++]=Q<="0"?"You can't generate without adding group or ledger.":"",ye[Oe++]="O"==z&&"0"==P?"Please select location.":"",ye[Oe++]="S"==z&&B==[]?"Please select atleast one location.":"",La()(".loader").hide(),ne(ta(ye)),te(!0);else{console.log("clicked");const e={individualGroup:re,individualLedger:oe,multipleGroup:ue,multipleLedger:ie,fromDate:Ue(H),toDate:Ue(X),locationCode:P,selectedItems:B,ledgerType:c,option:u,radioType:z};"D"===de?$e("/api/financial_ledger_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/financial_ledger_a.php",[a,"viewData",JSON.stringify(e)],e=>{ge("V");const a=JSON.parse(e);Se(a)}),La()(".loader").hide()}}},"Generate")))):null,"V"===be?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>ge(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Purchase"),n.a.createElement("th",null,"Transaction"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Deno"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Net"),n.a.createElement("th",null,"Walk In"),n.a.createElement("th",null,"Manual No."),n.a.createElement("th",null,"Party"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"VTC Ref"),n.a.createElement("th",null,"Card No"),n.a.createElement("th",null,"Normal/EEFC Flag"))),n.a.createElement("tbody",null,he.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.prd_location),"   ",n.a.createElement("td",null,e.prd_type),"       ",n.a.createElement("td",null,e.prd_srno),"       ",n.a.createElement("td",null,e.formatted_date)," ",n.a.createElement("td",null,e.prd_isd),"        ",n.a.createElement("td",null,e.prd_deno),"       ",n.a.createElement("td",null,e.prd_qty),"        ",n.a.createElement("td",null,e.prd_amount),"     ",n.a.createElement("td",null,e.prd_rate),"       ",n.a.createElement("td",null,e.prd_group),"      ",n.a.createElement("td",null,e.hdr_sale_type),"  ",n.a.createElement("td",null,e.hdr_manual),"     ",n.a.createElement("td",null,e.entity_name),"    ",n.a.createElement("td",null,e.prd_product),"    ",n.a.createElement("td",null,e.mvli_ledger_name)," ",n.a.createElement("td",null,e.corporate_name)," ",n.a.createElement("td",null,e.prd_card_no),"    ",n.a.createElement("td",null,e.hdr_type),"       "))))):null),n.a.createElement(Sa,{isOpen:ae,onClose:e=>te(!1)},le),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Al=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(new Date),[u,E]=Object(l.useState)(new Date),[p,b]=Object(l.useState)("1"),[g,h]=Object(l.useState)("0"),[S,y]=Object(l.useState)(0),[O,N]=Object(l.useState)(0),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)("A"),[T,k]=Object(l.useState)(!1),[D,L]=Object(l.useState)(!1),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(null),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)(null),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)([]),[H,W]=Object(l.useState)(!1),[X,Z]=Object(l.useState)("V"),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)([]),[le,ne]=Object(l.useState)(!1);var re=[],ce=0;Object(l.useEffect)(()=>{le||(De(_,[a,"all","TRIAL_BALANCE"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),ne(!0))},[le,a,e]);return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Trial Balance",n.a.createElement("span",{style:{color:"#f8f9fd"}},S)," "))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{N(e),C(a),j(t)}})),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:X,onChange:e=>Z(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:c,onChange:e=>o(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:u,onChange:e=>E(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:p,onChange:e=>(e=>{const a=e.target.value;b(a),J(!1),W(!1),h("0")})(e)},n.a.createElement("option",{value:"1"},"Group"),n.a.createElement("option",{value:"2"},"Ledger")))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Group Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:g,onChange:e=>(e=>{const a=e.target.value;h(a),"1"==p&&"1"==a?(J(!0),W(!1)):"2"==p&&"1"==a?(W(!0),J(!1)):(J(!1),W(!1))})(e),disabled:"0"==p},n.a.createElement("option",{value:"0"},"All"),n.a.createElement("option",{value:"1"},"One"))),P&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ot(e,0),onInputChange:rt,onChange:e=>{w(e),console.log(e);var a=e.id.split("^");F(a[1]),"1"==p&&"1"==g&&(G(a[1]),K([]),q(""))}}))),H&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:B,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,0,1),onInputChange:rt,onChange:e=>{q(e),console.log(e);var a=e.id.split("^");if(V(a[1]),U(a[2]),"2"==p&&"1"==g){const e={groupCode:a[1],accountCode:a[2]};G([]),w(""),K(e)}}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{label:"Account with zero balance",type:"checkbox",value:T,onChange:e=>(e=>{let a=e.target.checked;e.target.value,k(a)})(e)}))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(La()(".loader").show(),null==c||null==u||"O"==f&&"0"==O||"S"==f&&v==[]||"1"==p&&"1"==g&&null==I||"2"==p&&"1"==g&&null==B)re[ce++]=d("MSG0006"),re[ce++]="O"==f&&"0"==O?"Please select location.":"",re[ce++]="S"==f&&v==[]?"Please select atleast one location.":"",re[ce++]=null==c?"Please select from date.":"",re[ce++]=null==u?"Please select to date.":"",re[ce++]="1"==p&&"1"==g&&null==I?"Please select group.":"",re[ce++]="2"==p&&"1"==g&&null==B?"Please select ledger.":"",La()(".loader").hide(),A(ta(re)),L(!0);else{const e={fromDate:Ue(c),toDate:Ue(u),locationCode:O,selectedItems:v,ledgerType:p,option:g,radioType:f,checkItem:T,individualGroup:R,individualLedger:Y};console.log(e),"D"===X?$e("/api/trial_balance_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/trial_balance_a.php",[a,"viewData",JSON.stringify(e)],e=>{ee("V");const a=JSON.parse(e);te(a)}),La()(".loader").hide()}}},"Generate")))):null,"V"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>ee(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Group Name"),n.a.createElement("th",null,"Opn Dr"),n.a.createElement("th",null,"Opn Cr"),n.a.createElement("th",null,"Per Dr"),n.a.createElement("th",null,"Per Cr"))),n.a.createElement("tbody",null,ae.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.mvg_srno),"           ",n.a.createElement("td",null,e.mvg_group_name),"     ",n.a.createElement("td",null,e.total_opn),"          ",n.a.createElement("td",null,e.total_opn),"          ",n.a.createElement("td",null,e.Total_Amount),"       ",n.a.createElement("td",null,e.Total_Amount),"       "))))):null),n.a.createElement(Sa,{isOpen:D,onClose:e=>L(!1)},x),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))},Il=t(99);var wl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(new Date),[h,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("A"),[k,D]=Object(l.useState)("V"),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)(),[F,R]=Object(l.useState)("MINDP"),[G,P]=Object(l.useState)("A"),[J,B]=Object(l.useState)([]),[q,z]=Object(l.useState)([]),[V,Q]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)("M");Object(l.useEffect)(()=>{t||(oa().then(e=>{H(e),null!=e&&Z(e)}),De(_,[a,"all","TRAN_AUDIT_TRAIL"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);const Z=e=>{H(e);var a=e.id.split("^");v(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null," Acitivity Log Report"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if("O"===j&&"0"===N||"S"==j&&C==[])e[t++]="O"==j&&"0"==N?"Please select location.":"",e[t++]="S"==j&&C==[]?"Please select atleast one location.":"",p(ta(e)),E(!0);else{const e={fromDate:Ue(b),fromDate1:Ye(b),toDate:Ue(h),toDate1:Ye(h),type:k,radioTypeLocation:j,location:N,multipleLocation:C,tranNumber:w,tranType:F,logType:G,category:W};"D"===k?$e("/api/activitylog_report_a.php","post",[a,"downloadAudit",JSON.stringify(e)]):De("/api/activitylog_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{x("V");const a=JSON.parse(e);B(a)})}}},"Generate"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Category",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:W,onChange:e=>{X(e.target.value),"M"==e.target.value?R("MINDP"):R("PP")},required:!0},n.a.createElement("option",{value:"M"},"Master"),n.a.createElement("option",{value:"T"},"Transaction"))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Log  ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One"))))),"A"===G?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:b,onChange:e=>g(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:h,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),"T"==W?n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{console.log(e),v(e),f(a),T(t)}})):null):null,n.a.createElement(Oa.a,null,"\xa0"),"O"===G?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"formBasicText"},n.a.createElement(s.a.Label,null,"Transaction Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Enter Transraction Number ",value:w,onChange:e=>M(e.target.value)}))),"T"==W?n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Z}))):null):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Type  ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:F,onChange:e=>R(e.target.value),required:!0},"T"==W?n.a.createElement(n.a.Fragment,null,n.a.createElement("option",{value:"MINDP"},"Master Individual Profile"),n.a.createElement("option",{value:"PP"},"Purchase Public"),n.a.createElement("option",{value:"SP"},"Sale Public"),n.a.createElement("option",{value:"PB"},"Purchase Bulk"),n.a.createElement("option",{value:"SB"},"Sale Bulk"),n.a.createElement("option",{value:"PINV"},"Purchase Invoice"),n.a.createElement("option",{value:"VTCIN"},"Transfer InVtc"),n.a.createElement("option",{value:"MNLBK"},"TransferIn ManualBook"),n.a.createElement("option",{value:"VTCOUT"},"TransferOut Vtc"),n.a.createElement("option",{value:"CNOUT"},"TransferOut Currency"),n.a.createElement("option",{value:"CNWOFF"},"Currency WriteOff"),n.a.createElement("option",{value:"CNCHNG"},"Currency Change")):n.a.createElement(n.a.Fragment,null,n.a.createElement("option",{value:"MINDP"},"Master Individual Profile"),n.a.createElement("option",{value:"MRISK"},"Master Risk"),n.a.createElement("option",{value:"MBN"},"Master Bank"),n.a.createElement("option",{value:"MLGET"},"Master Legal Entity"),n.a.createElement("option",{value:"MGSTC"},"Master GST"),n.a.createElement("option",{value:"MSME"},"Master MSME"),n.a.createElement("option",{value:"MVGRP"},"Master Voucher Group"),n.a.createElement("option",{value:"MVLGD"},"Master Voucher Ledger"),n.a.createElement("option",{value:"MUSER"},"Master User "),n.a.createElement("option",{value:"REGN"},"Master Region List "),n.a.createElement("option",{value:"MCC"},"Master Country Class "),n.a.createElement("option",{value:"MCNT"},"Master Country List "),n.a.createElement("option",{value:"MDST"},"Master District "),n.a.createElement("option",{value:"MCITY"},"Master CityList "),n.a.createElement("option",{value:"MDVSN"},"Master Division "),n.a.createElement("option",{value:"MCSC"},"Master Cost Centre "),n.a.createElement("option",{value:"MDESG"},"Master Designation "),n.a.createElement("option",{value:"MEXEC"},"Master Executive "),n.a.createElement("option",{value:"MISUR"},"Master Issuer "))))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>D(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download")))))):null,"V"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>x(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Timestamp"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Transaction Type"),n.a.createElement("th",null,"Transaction Number"),n.a.createElement("th",null,"Activity"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,J.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.lg_usersrno),n.a.createElement("td",null,e.um_user_name),n.a.createElement("td",null,e.lg_remark),n.a.createElement("td",null,e.lg_date),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.lg_tran_type),n.a.createElement("td",null,e.lg_tran_number),n.a.createElement("td",null,e.lg_activity_type),n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>(e=>{Y(e),La()(".loader").show(),Q(!0);const t={logno:e,category:W,type:k,radioTypeLocation:j,location:N,multipleLocation:C,tranNumber:w,tranType:F,logType:G};De("/api/activitylog_report_a.php",[a,"viewAuditTrail",JSON.stringify(t)],e=>{x("V");const a=JSON.parse(e);La()(".loader").hide(),""===JSON.parse(e)?(alert("Select Individual First "),z("")):z(a)})})(e.lg_logno),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))))))):null,n.a.createElement(Ba.a,{show:V,size:"xl",onHide:()=>Q(!1),scrollable:!0,backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"Audit Trail Info"),n.a.createElement("span",null,"\xa0"),n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>{const e={fromDate:Ue(b),fromDate1:Ye(b),toDate:Ue(h),toDate1:Ye(h),type:k,radioTypeLocation:j,location:N,multipleLocation:C,tranNumber:w,tranType:F,category:W,logno:U,type:k};$e("/api/activitylog_report_a.php","post",[a,"downloadAudit",JSON.stringify(e)])}},n.a.createElement(pa.a,{icon:Il.faDownload})))))),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>{Q(!1)},variant:"outline-danger",size:"sm",className:"buttonStyle"},"Back")),n.a.createElement(Na.a,null),n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Activity Type"),n.a.createElement("th",null,"Tab Type"),n.a.createElement("th",null,"Description"))),n.a.createElement("tbody",null,q.map((e,a)=>{const t=(e=>{const a=e.split("^"),t={};return a.forEach(e=>{const[a,l]=e.split(":");t[a]=l}),t})(e.tat_description),l=Object.keys(t);return n.a.createElement("tr",{key:a},n.a.createElement("td",null,"A"==e.tat_activity_type?"Add":"Delete"),n.a.createElement("td",null,e.tat_tab),n.a.createElement("td",null,n.a.createElement(Ra.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("th",{key:a},e)))),n.a.createElement("tbody",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("td",{key:a},t[e])))))))}))))))),n.a.createElement(Sa,{isOpen:u,onClose:e=>E(!1)},d),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Ml=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(new Date),[h,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)(new Date),[N,v]=Object(l.useState)("S"),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)([]),[k,D]=Object(l.useState)("O"),[L,x]=Object(l.useState)("V"),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(De(_,[a,"all","MANUAL_BOOK_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Manual Book Report"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if("O"===k&&"0"===C||"S"==k&&j==[])e[t++]="O"==k&&"0"==C?"Please select location.":"",e[t++]="S"==k&&j==[]?"Please select atleast one location.":"",p(ta(e)),E(!0);else{const e={date:Ye(b),fromDate:Ye(h),toDate:Ye(y),type:N,radioTypeLocation:k,location:C,multipleLocation:j};"D"===N?$e("/api/manual_book_report_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/manual_book_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{I("V");const a=JSON.parse(e);M(a)})}}},"Generate"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:L,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"S"},"In Stock"),n.a.createElement("option",{value:"U"},"Used")))),"S"===N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:b,onChange:e=>g(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:h,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:y,onChange:e=>O(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{f(e),T(a),D(t)}}))),"V"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>I(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"In Type"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"In Date"),n.a.createElement("th",null,"Out Date"),n.a.createElement("th",null,"Out Serial no."),n.a.createElement("th",null,"Out Type"))),n.a.createElement("tbody",null,w.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tmb_location+e.entity_name),n.a.createElement("td",null,e.tmb_type),n.a.createElement("td",null,e.tmb_prefix),n.a.createElement("td",null,e.tmb_date),n.a.createElement("td",null,e.tmbb_date),n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.tmbb_out_type)))))):null),n.a.createElement(Sa,{isOpen:u,onClose:e=>E(!1)},d),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Fl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(new Date),[h,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("A"),[k,D]=Object(l.useState)("V"),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(De(_,[a,"all","TRAN_PAYMENT_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Tran Payment Module Report"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if("O"===j&&"0"===N||"S"==j&&C==[])e[t++]="O"==j&&"0"==N?"Please select location.":"",e[t++]="S"==j&&C==[]?"Please select atleast one location.":"",p(ta(e)),E(!0);else{const e={fromDate:Ue(b),fromDate1:Ye(b),toDate:Ue(h),toDate1:Ye(h),type:k,radioTypeLocation:j,location:N,multipleLocation:C};"D"===k?$e("/api/tran_payment_report_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/tran_payment_report_a.php",[a,"getData",JSON.stringify(e)],e=>{x("V");const a=JSON.parse(e);I(a)})}}},"Generate"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:b,onChange:e=>g(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:h,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>D(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}})))):null,"V"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>x(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Serial Number"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Reference Number"),n.a.createElement("th",null,"Request Date"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Pay Category"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"IFSC Code"),n.a.createElement("th",null,"Encashment Type"),n.a.createElement("th",null,"Encashment Number"),n.a.createElement("th",null,"From Bank Group"),n.a.createElement("th",null,"From Bank Account"),n.a.createElement("th",null,"To Bank Group"),n.a.createElement("th",null,"To Bank Account"),n.a.createElement("th",null,"Depositor Name"),n.a.createElement("th",null,"Transaction Desc"),n.a.createElement("th",null,"Relationship Manager"),n.a.createElement("th",null,"Document Collected"),n.a.createElement("th",null,"Approval Level 1"),n.a.createElement("th",null,"Approval Level 2"),n.a.createElement("th",null,"Downloaded Bank File"),n.a.createElement("th",null,"Active"),n.a.createElement("th",null,"GST"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"Net Payable"),n.a.createElement("th",null,"Other Charges"),n.a.createElement("th",null,"Party Group"),n.a.createElement("th",null,"Party Account"),n.a.createElement("th",null,"Download New Fa"),n.a.createElement("th",null,"Value Date"),n.a.createElement("th",null,"User"),n.a.createElement("th",null,"Checker1"),n.a.createElement("th",null,"Checker2"),n.a.createElement("th",null,"Checker1 Timestamp"),n.a.createElement("th",null,"Checker2 Timestamp"),n.a.createElement("th",null,"To Location"))),n.a.createElement("tbody",null,A.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tmp_srno),n.a.createElement("td",null,e.tmp_location),n.a.createElement("td",null,e.tmp_ref_no),n.a.createElement("td",null,e.tmp_request_date),n.a.createElement("td",null,e.tmp_type),n.a.createElement("td",null,e.tmp_remark),n.a.createElement("td",null,e.tpc_name),n.a.createElement("td",null,e.tmp_amount),n.a.createElement("td",null,e.tmp_account_name),n.a.createElement("td",null,e.tmp_account_number),n.a.createElement("td",null,e.tmp_ifsc),n.a.createElement("td",null,e.tmp_encashment_type),n.a.createElement("td",null,e.tmp_encashment_number),n.a.createElement("td",null,e.tmp_from_ftbank_group),n.a.createElement("td",null,e.tmp_from_ftbank_account),n.a.createElement("td",null,e.tmp_to_ftbank_group),n.a.createElement("td",null,e.tmp_to_ftbank_account),n.a.createElement("td",null,e.tmp_tpdepositor_name),n.a.createElement("td",null,e.tmp_tptransaction_desc),n.a.createElement("td",null,e.tmp_tprelationship_manager),n.a.createElement("td",null,e.tmp_document_collected),n.a.createElement("td",null,e.tmp_approval_level1),n.a.createElement("td",null,e.tmp_approval_level2),n.a.createElement("td",null,e.tmp_bank_file_downloaded),n.a.createElement("td",null,e.tmp_active),n.a.createElement("td",null,e.tmp_gst),n.a.createElement("td",null,e.tmp_tds),n.a.createElement("td",null,e.tmp_netpayable),n.a.createElement("td",null,e.tmp_othcharges),n.a.createElement("td",null,e.tmp_party_group),n.a.createElement("td",null,e.tmp_party_account),n.a.createElement("td",null,e.tmp_download_new_fa),n.a.createElement("td",null,e.tmp_value_date),n.a.createElement("td",null,e.tmp_user),n.a.createElement("td",null,e.tmp_checker1),n.a.createElement("td",null,e.tmp_checker2),n.a.createElement("td",null,e.tmp_checker1_timestamp),n.a.createElement("td",null,e.tmp_checker2_timestamp),n.a.createElement("td",null,e.tmp_to_location)))))):null),n.a.createElement(Sa,{isOpen:u,onClose:e=>E(!1)},d),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Rl=e=>{let{type:a,onDataFromChild:t}=e;const r=sessionStorage.getItem("sessionId"),c=Object(m.n)(),[o,u]=Object(l.useState)([]),[i,E]=Object(l.useState)([]),[d,p]=Object(l.useState)("A"),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)("");Object(l.useEffect)(()=>{De(_,[r,"all","REPORTS"],function(e){let a=JSON.parse(e);"1"===a.query?u(a):c("/")}),"location"==a?De(oe,[r,"location"],e=>{let a=JSON.parse(e);O(a)}):"currency"==a?De(oe,[r,"currency"],e=>{let a=JSON.parse(e);O(a)}):"product"===a?O([{label:"CN",id:"CN"},{label:"VTM",id:"VTM"},{label:"EVTM",id:"EVTM"}]):"transaction"===a&&O([{label:"Purchase From Public",id:"PP"},{label:"Purchase Bulk",id:"PB"},{label:"Sale Bulk",id:"SB"},{label:"Sale To Public",id:"SP"}]),t(a,i.toString(),d)},[i]);const C=e=>{p(e),g(null),S(0),E([])};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"A"===d,onChange:()=>C("A"),type:"radio",label:"All"}),"\xa0",n.a.createElement(s.a.Check,{checked:"S"===d,onChange:()=>C("S"),type:"radio",label:"Selective"}))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},"A"===d?null:n.a.createElement("div",{style:{border:"1px solid black",minHeight:"260px",width:"224px"}},n.a.createElement("div",{style:{backgroundColor:"lightblue",color:"white",padding:"0 0 0 10px"}},n.a.createElement("h3",null,(e=>({currency:"Currency",location:"Location",product:"Product",transaction:"Transaction"})[e]||"")(a))),n.a.createElement("div",{style:{height:"179px",overflow:"auto",padding:"5px 10px"}},y.map((e,t)=>n.a.createElement("div",{key:t,className:"mb-3"},n.a.createElement(s.a.Check,{label:"location"==a?e.entity:"currency"==a?e.isd:e.label,type:"checkbox",value:"location"==a?e.entity_id:"currency"==a?e.isd_code:e.id,onChange:e=>(e=>{let a=e.target.checked,t=e.target.value;E(e=>a?[...e,t]:e.filter(e=>e!==t))})(e)}))))))))};var Gl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(new Date),[u,E]=Object(l.useState)(new Date),[p,b]=Object(l.useState)(0),[g,h]=Object(l.useState)([]),[S,y]=Object(l.useState)("A"),[O,N]=Object(l.useState)(0),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)("A"),[T,k]=Object(l.useState)(0),[D,L]=Object(l.useState)([]),[x,A]=Object(l.useState)("A"),[I,w]=Object(l.useState)(0),[M,F]=Object(l.useState)([]),[R,G]=Object(l.useState)("A"),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(!1),[Q,U]=Object(l.useState)("V"),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)([]);var X=[],Z=0;Object(l.useEffect)(()=>{z||(De(_,[a,"all","TRANSACTION_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),V(!0))},[z,a,e]);const $=(e,a,t)=>{"location"==e?(h(a),y(t)):"currency"==e?(C(a),j(t)):"transaction"==e?(L(a),A(t)):"product"==e&&(F(a),G(t))};console.log(g),console.log(S);return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Transaction Report"))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(!c||!u||"O"==S&&"0"==p||"S"==S&&g==[]||"O"==f&&"0"==O||"S"==f&&v==[]||"S"===x&&0===D.length||"S"===R&&0===M.length)X[Z++]=d("MSG0006"),X[Z++]="O"==S&&"0"==p?"Please select location.":"",X[Z++]="S"==S&&g==[]?"Please select atleast one location.":"",X[Z++]="O"==f&&"0"==O?"Please select currency.":"",X[Z++]="S"==f&&v==[]?"Please select atleast one currency.":"",X[Z++]="S"===x&&0===D.length?"Please select atleast one transaction type.":"",X[Z++]="S"===R&&0===M.length?"Please select atleast one product type.":"",X[Z++]=c?"":"Please select from date.",X[Z++]=u?"":"Please select to date.",q(ta(X)),J(!0);else{const e={fromDate:Ye(c),toDate:Ye(u),radioTypeLocation:S,multipleLocation:g,radioTypeCurrency:f,multipleCurrency:v,radioTypeTransaction:x,multipleTransaction:D,radioTypeProduct:R,multipleProduct:M};"D"===Q?$e("/api/transaction_report_a.php","post",[a,"getData",JSON.stringify(e)]):De("/api/transaction_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{K("V");const a=JSON.parse(e);W(a)})}}},"Generate"))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:c,onChange:e=>o(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:u,onChange:e=>E(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Q,onChange:e=>U(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Rl,{type:"location",onDataFromChild:$})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Currency Filter"),n.a.createElement("br",null),n.a.createElement(Rl,{type:"currency",onDataFromChild:$})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Transaction Filter"),n.a.createElement("br",null),n.a.createElement(Rl,{type:"transaction",onDataFromChild:$})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Product Filter"),n.a.createElement("br",null),n.a.createElement(Rl,{type:"product",onDataFromChild:$})))):null,"V"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>K(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Purchase"),n.a.createElement("th",null,"Transaction"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Deno"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Net"),n.a.createElement("th",null,"Walk In"),n.a.createElement("th",null,"Manual No."),n.a.createElement("th",null,"Party"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"VTC Ref"),n.a.createElement("th",null,"Card No"),n.a.createElement("th",null,"Normal/EEFC Flag"))),n.a.createElement("tbody",null,H.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),"   ",n.a.createElement("td",null,e.prd_type),"       ",n.a.createElement("td",null,e.prd_srno),"       ",n.a.createElement("td",null,e.formatted_date)," ",n.a.createElement("td",null,e.prd_isd),"        ",n.a.createElement("td",null,e.prd_deno),"       ",n.a.createElement("td",null,e.prd_qty),"        ",n.a.createElement("td",null,e.prd_deno*e.prd_qty),"     ",n.a.createElement("td",null,e.prd_rate),"       ",n.a.createElement("td",null,1*e.prd_deno*(1*e.prd_qty)*(1*e.prd_rate)),"   ",n.a.createElement("td",null,e.bd_first_name+e.bd_middle_name+e.bd_last_name),"  ",n.a.createElement("td",null,e.hdr_manual),"     ",n.a.createElement("td",null,e.corporate_name),"    ",n.a.createElement("td",null,e.prd_product),"    ",n.a.createElement("td",null,e.issuer_name)," ",n.a.createElement("td",null,e.prd_from)," ",n.a.createElement("td",null,e.prd_card_no),"    ",n.a.createElement("td",null,e.hdr_sale_type),"       "))))):null),n.a.createElement(Sa,{isOpen:P,onClose:e=>J(!1)},B),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Pl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(new Date),[h,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("A"),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)([]),[A,I]=Object(l.useState)("A"),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(De(_,[a,"all","STOCK_IN_HAND_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},""===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Stock in Hand Report"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{La()(".loader").show();var e=[],t=0;if("O"===j&&"0"===N||"S"==j&&C==[]||"O"===A&&"0"===k||"S"===A&&L==[])e[t++]="O"==j&&"0"==N?"Please select location.":"",e[t++]="S"==j&&C==[]?"Please select atleast one location.":"",e[t++]="O"==A&&"0"==k?"Please select currency.":"",e[t++]="S"==A&&L==[]?"Please select atleast one currency.":"",p(ta(e)),E(!0),La()(".loader").hide();else{const e={fromDate:Ue(b),fromDate1:Ye(b),toDate:Ue(h),toDate1:Ye(h),type:y,radioTypeLocation:j,location:N,multipleLocation:C,radioTypeCurrency:A,currency:k,multipleCurrency:L.length>0?L.split(",").join("','"):L};"D"===y?((e,a,t,l)=>{for(var n=new FormData,r=0;r<t.length;r++)n.append("".concat(r+1),t[r]);var c=new XMLHttpRequest;c.open(a,e,!0),c.responseType="blob",c.onload=function(){if(200===c.status){const e=c.response;console.log(e);const a=c.getResponseHeader("Content-Disposition");console.log(a);let t="downloaded_file.xlsx";if(a&&-1!==a.indexOf("attachment")){const e=a.split("filename=");console.log(e),2===e.length&&(t=e[1])}const n=window.URL.createObjectURL(e);console.log(n);const r=document.createElement("a");console.log(r),r.href=n,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),l&&l("File downloaded successfully")}else console.error("Error during file download: ",c.statusText)},c.onerror=function(){console.error("Error during XMLHttpRequest")},c.send(n)})("/api/stock_in_hand_report_a.php","post",[a,"getData",JSON.stringify(e)],e=>{La()(".loader").hide(),p(ta([e])),E(!0),console.log("stock in habnd report",e)}):De("/api/stock_in_hand_report_a.php",[a,"getData",JSON.stringify(e)],"V"===y?e=>{La()(".loader").hide(),M("V");const a=JSON.parse(e);R(a),console.log(w)}:e=>{La()(".loader").hide(),window.open().document.write(e)})}}},"Generate"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:b,onChange:e=>g(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:h,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:y,onChange:e=>O(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}})),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Currency Filter"),n.a.createElement("br",null),n.a.createElement(Yt,{onDataFromChild2:(e,a,t)=>{D(e),x(a),I(t)}})))):null,"V"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{onClick:()=>M(""),variant:"primary"},"Back")),n.a.createElement(Na.a,null)),"\xa0",n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Deno"),n.a.createElement("th",null,"Opn Bal"),n.a.createElement("th",null,"Purchase"),n.a.createElement("th",null,"Seles"),n.a.createElement("th",null,"Trans In"),n.a.createElement("th",null,"Trans Out"),n.a.createElement("th",null,"Fake"),n.a.createElement("th",null,"Quant in Hand"),n.a.createElement("th",null,"Value"))),n.a.createElement("tbody",null,F.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_location+" "+e.entity_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.opn_bal),n.a.createElement("td",null,e.purchase),n.a.createElement("td",null,e.sales),n.a.createElement("td",null,e.trans_in),n.a.createElement("td",null,e.trans_out),n.a.createElement("td",null,e.fake),n.a.createElement("td",null,e.qty_in_hand),n.a.createElement("td",null,e.value)))))):null),n.a.createElement(Sa,{isOpen:u,onClose:e=>E(!1)},d),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Jl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[E,d]=Object(l.useState)([]),[p,b]=Object(l.useState)(!1),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(null),[O,N]=Object(l.useState)(0),[v,C]=Object(l.useState)("1"),[f,j]=Object(l.useState)("V"),[T,k]=Object(l.useState)(new Date("2024-03-31"));Object(l.useEffect)(()=>{o||(oa().then(e=>{y(e),null!=e&&D(e)}),De(_,[a,"all","REPORTS_RBI_FLM"],function(a){let t=JSON.parse(a);"1"===t.query?d(t):e("/")}),u(!0))},[o,a,e]);const D=e=>{y(e);const a=e.id.split("^");N(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"FLMs1 Report"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null===S)h("Please Select Location!"),b(!0);else if(Ue(T)<t||Ue(T)>r)h("Date should be within financial year"),b(!0);else{const e={location:O,date:Ye(T),flmFilter:v,type:f};$e("/api/flm_report_a.php","post",[a,"getData",JSON.stringify(e)])}}},"Generate"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:S,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:D,isDisabled:"true"===c})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FLM Filter",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:v,onChange:e=>C(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"FLM1 Daily Summ and Bal.(FC)"),n.a.createElement("option",{value:"2"},"FLM2 Daily Summ and Bal.(TC)"),n.a.createElement("option",{value:"3"},"FLM3 Purchase from Public(FC)"),n.a.createElement("option",{value:"4"},"FLM4 from FFMC/RMC-FC"),n.a.createElement("option",{value:"5"},"FLM5 Sale to Public (FC/TC)"),n.a.createElement("option",{value:"6"},"FLM6 Sale to FFMC/RMC (FC)"),n.a.createElement("option",{value:"7"},"FLM7 TC's Surrender to AD's"),n.a.createElement("option",{value:"8"},"FLM8 Purchase and Sale of (FC)"),n.a.createElement("option",{value:"9"},"FLM9 TC's Purchase and Surrender"),n.a.createElement("option",{value:"10"},"FLM10 Sales(FC/TC) for B.Vst")))),"1"===v?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:T,onChange:e=>k(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:f,onChange:e=>j(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"),n.a.createElement("option",{value:"P"},"PDF")))))),n.a.createElement(Sa,{isOpen:p,onClose:e=>b(!1)},g),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var Bl=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)(""),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(""),[p,b]=Object(l.useState)([]),[g,h]=Object(l.useState)("V"),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(new Date),[v,C]=Object(l.useState)(new Date),[f,j]=Object(l.useState)(!1),[T,k]=Object(l.useState)("");return Object(l.useEffect)(()=>{De(_,[e,"all","REPORTS_TDS_COMMISSION"],function(e){let t=JSON.parse(e);"1"===t.query?b(t):a("/")})},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Commission TDS Report"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{value:g,onChange:e=>h(e.target.value)},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download")))),n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:O,onChange:e=>N(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:v,onChange:e=>C(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Na.a,null,n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{r(e),o(a),E(t)}}))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{La()(".loader").show();var a=0,l=[];if("O"==u&&"0"==t||"S"==u&&c==[])La()(".loader").hide(),l[a++]=d("MSG0006"),l[a++]="O"==u&&"0"==t?"Please select location.":"",l[a++]="S"==u&&c==[]?"Please select atleast one location.":"",j(!0),k(ta(l));else if(null===O||null===v)La()(".loader").hide(),l[a++]=d("MSG0006"),l[a++]=null===O?"From Date.":"",l[a++]=null===v?"To Date.":"",j(!0),k(ta(l));else{const a={mode:g,radioType:u,oneLocation:t,selectedLocations:c,frmdate:Ue(O),todate:Ue(v)};"V"===g?De(ve,[e,"tdsreport",JSON.stringify(a)],e=>{console.log(e),La()(".loader").hide(),y(JSON.parse(e))}):(La()(".loader").hide(),$e(ve,"post",[e,"tdsrepdownload",JSON.stringify(a)]))}}},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent Type"),n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Rate of TDS"),n.a.createElement("th",null,"Pan No."),n.a.createElement("th",null,"Party Name"),n.a.createElement("th",null,"Taxable Amount"),n.a.createElement("th",null,"TDS Amount"))),n.a.createElement("tbody",null,S.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,"C"==e.app_agent_type?"Company":"Non Company"),n.a.createElement("td",null,"194H"),n.a.createElement("td",null,"5.00%"),n.a.createElement("td",null,e.app_pan_no),n.a.createElement("td",null,e.app_agent_name),n.a.createElement("td",null,e.app_total_commission),n.a.createElement("td",null,e.app_tds))))))),n.a.createElement(Sa,{isOpen:f,onClose:e=>j(!1)},T))};var ql=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)([]),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(!1),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(!1),[M,F]=Object(l.useState)(!1),[R,G]=Object(l.useState)("L"),[P,J]=Object(l.useState)(null),[B,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)(0),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)(new Date),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)("P"),[ae,te]=Object(l.useState)(new Date),[le,ne]=Object(l.useState)(0),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(0),[ue,se]=Object(l.useState)(0),[ie,Ee]=Object(l.useState)(0);Object(l.useEffect)(()=>{E||(oa().then(e=>{J(e),null!=e&&de(e)}),De(_,[a,"all","TRAN_ACCEPT_BRANCH"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),d(!0))},[E,a,e]);const de=e=>{J(e);const a=e.id.split("^");K(a[1]),q(a[2]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Accept Inter Branch"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"L"===R,onChange:()=>G("L"),type:"radio",label:"Location"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===R,onChange:()=>G("D"),type:"radio",label:"Date"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===R,onChange:()=>G("S"),type:"radio",label:"Status"})))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"L"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:P,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:de,isDisabled:"true"===c})))):"D"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:H,onChange:e=>W(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:X,onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:$,onChange:e=>ee(e.target.value),required:!0},n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"D"},"Done"))))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if("L"===R&&null===P)L("Please Select Location!"),N(!0);else{const e={filterRadioType:R,filterLocation:Y,filterFromDate:Ue(H),filterToDate:Ue(X),filterStatus:$};De("/api/out_log_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);h(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Status"),"1"===o.edit?n.a.createElement("th",null):null)),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",{key:e.tol_srno},"1"===o.edit?n.a.createElement("td",{align:"center"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o,m)=>{q(n),V(r),ne(e),ce(t),me(c),se(o),Ee(m),F(!0);const u={srno:e,type:t,location:l};De("/api/out_log_a.php",[a,"view",JSON.stringify(u)],e=>{let a=JSON.parse(e);y(a)})})(e.tol_from_srno,e.tol_from_type,e.tol_from_loc,e.fromlocation,e.tolocation,e.hdr_group,e.hdr_ledger,e.hdr_forex_total)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.tol_srno),n.a.createElement("td",null,e.tol_from_location),n.a.createElement("td",null,e.tol_to_location),n.a.createElement("td",null,e.tol_from_type),n.a.createElement("td",null,e.tol_from_date),n.a.createElement("td",null,"P"===e.tol_status?"Pending":"Done"),n.a.createElement("td",{align:"center"}," ","P"===e.tol_status?n.a.createElement("span",null,n.a.createElement(i.a,{variant:"primary",size:"sm",onClick:()=>((e,a,t,l)=>{w(!0),ne(a),K(e),U(t),ce(l)})(e.tol_from_loc,e.tol_from_srno,e.tol_to_loc,e.tol_from_type)},"Accept")):null)))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:O,onClose:e=>N(!1)},D),n.a.createElement(Ja,{isOpen:v,onYes:e=>(C(!1),void b("")),onNo:e=>C(!1)},T),n.a.createElement(Sa,{isOpen:f,onClose:e=>j(!1)},x)),n.a.createElement("div",null,n.a.createElement(Ba.a,{show:I,onHide:()=>w(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Enter Date:")),n.a.createElement(Ba.a.Body,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:ae,onChange:e=>te(e),minDate:new Date(t),maxDate:new Date(r),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:()=>(()=>{const e={location:Y,type:re,srno:le,date:Ue(ae),toLocation:Q,groupCode:oe,accountCode:ue,filterRadioType:R,filterLocation:Y,filterFromDate:Ue(H),filterToDate:Ue(X),filterStatus:$};De("/api/out_log_a.php",[a,"save",JSON.stringify(e)],e=>{let a=JSON.parse(e);h(a)}),w(!1)})()},"Save")))),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:M,onHide:()=>F(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},"From Location : ",B),n.a.createElement(Na.a,{className:"col-md-4 col-6"},"To Location : ",z),"CNOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Total Amount"),n.a.createElement(s.a.Control,{value:ie,disabled:!0,placeholder:"Total"})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"CNOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount")):"CHQOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank")):"IB"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Credit"),n.a.createElement("th",null,"Debit"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To")))),n.a.createElement("tbody",null,"VTCOUT"===re||"CNOUT"===re||"IB"===re?n.a.createElement(n.a.Fragment,null,S.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"VTCOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to)):"IB"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tfd_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,"D"===e.tfd_flag?e.tfd_amount:""),n.a.createElement("td",null,"C"===e.tfd_flag?-1*e.tfd_amount:""),n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name)):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount))))):n.a.createElement(n.a.Fragment,null,S.map(e=>n.a.createElement("tr",{key:e.tcb_line_no},n.a.createElement("td",null,e.tcb_quantity),n.a.createElement("td",null,e.tcb_from),n.a.createElement("td",null,e.tcb_to),n.a.createElement("td",null,e.tcb_date),n.a.createElement("td",null,e.bank)))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>F(!1)},"Close")))))};var zl=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("userSrno"),[r,c]=Object(l.useState)(!1),[o,u]=Object(l.useState)(""),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(null),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(null),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(new Date),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)([]),[q,z]=Object(l.useState)(),[V,Q]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(new Date("2023/04/01")),[K,H]=Object(l.useState)(new Date("2025/03/31")),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(0),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(10),[se,ie]=Object(l.useState)(!1),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)({location:"",trannumber:"",type:""}),[ge,he]=Object(l.useState)(!1);function Se(e,a){de("Do you really want to ".concat("A"===a?"Approve":"Reject"," this fund Request")),z(e),I(e.tfa_refno),ae(e.tfa_srno),X(a),ie(!0)}function ye(){S(""),console.log("apply filter",W),La()(".loader").show();const e={fromDate:U,toDate:K,status:Z,bankFilter:ne,searchText:ce,limit:me};De(Oe,[a,"applyFilter",JSON.stringify(e)],function(e){console.log(typeof JSON.parse(e),"list",e),B(JSON.parse(e)),La()(".loader").hide(),ve()})}async function Ne(){z(),Q(!1),ye(),ve(),c(!1)}function ve(){x(null),f(""),T(null),D(""),I(""),M(new Date),R(""),P(""),z(""),ae(0)}return Object(l.useEffect)(()=>{console.log("useEffect",N,a,e),N||(De(_,[a,"all","FUND_REQUEST"],function(t){let l=JSON.parse(t);console.log(l),"1"===l.query?(O(l),De(Oe,[a,"bankFilter"],function(e){let a=JSON.parse(e);console.log(a[0].mvli_ledger_name),le(a)})):e("/")}),v(!0))},[N,a,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Fund Request"))),""===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:Z,onChange:e=>{$(e.target.value)}},n.a.createElement("option",{value:""},"ALL"),n.a.createElement("option",{value:"P"},"PENDING"),n.a.createElement("option",{value:"R"},"REJECTED"),n.a.createElement("option",{value:"A"},"APPROVED"),n.a.createElement("option",{value:"C"},"CANCELLED"))),"P"!==Z&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank"),n.a.createElement(s.a.Select,{value:ne,onChange:e=>{re(e.target.value)}},n.a.createElement("option",{value:""},"ALL"),te.map((e,a)=>n.a.createElement("option",{key:a,value:e.mvli_ledger_name},e.mvli_ledger_name.toUpperCase())))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Search...",maxLength:15,value:ce,onChange:e=>oe(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:me,onChange:e=>{ue(e.target.value)}},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"20"},"20"),n.a.createElement("option",{value:"50"},"50"),n.a.createElement("option",{value:"all"},"All"))),n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{style:{marginRight:"10px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:ye},"List"),n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){S("A")}},"Add New")),n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Ref No"),n.a.createElement("th",null,"Party"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Requester Name"),n.a.createElement("th",null,"Created Date"),n.a.createElement("th",null,"Approver Name"),n.a.createElement("th",null,"Approve Date"))),n.a.createElement("tbody",null,J.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(function(e,t){S("Q"),console.log("Status",W),La()(".loader").show(),console.log(e,t),De(Oe,[a,"getBySRNO",JSON.stringify({srno:e,fromWhom:t})],function(e){console.log(JSON.parse(e),"list",e),La()(".loader").hide();const a=JSON.parse(e)[0];console.log(a.location_id),z(a),X(a.tfa_status),f(a.tfa_amount),I(a.tfa_refno),T({id:a.location_id,label:a.location_label}),x({id:a.bank_id,label:a.bank_label}),R(a.tfa_from_whom),M(new Date(a.tfa_date)),ae(a.tfa_srno),"WALKIN"===a.tfa_from_whom?P(a.tfa_walkin_name):P({id:a.corp_id,label:a.corp_label})})})(e.tfa_srno,e.tfa_from_whom)},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,e.tfa_srno),n.a.createElement("td",null,"P"===e.tfa_status.toUpperCase()&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(pa.a,{style:{color:"green",paddingRight:"10px",paddingLeft:"10px",cursor:"pointer"},onClick:()=>Se(e,"A"),icon:ba.a}),n.a.createElement(pa.a,{style:{color:"red",cursor:"pointer"},onClick:()=>Se(e,"R"),icon:ba.b}))),"A"===e.tfa_status.toUpperCase()&&"APPROVED","R"===e.tfa_status.toUpperCase()&&"REJECTED","C"===e.tfa_status.toUpperCase()&&"CANCELLED"),n.a.createElement("td",null,e.tfa_refno),n.a.createElement("td",null,e.tfa_from_whom+" : "," ",""===e.tfa_walkin_name?e.party:e.tfa_walkin_name),n.a.createElement("td",null,e.tfa_amount),n.a.createElement("td",null,e.tfa_requester+" "+e.requester_name),n.a.createElement("td",null,e.requesteddate," ",e.requestedtime),n.a.createElement("td",null,(null!==e.tfa_approve_user?e.tfa_approve_user:"")+" "+(null!==e.approver_name?e.approver_name:"")),n.a.createElement("td",null,null!==e.approvedate?e.approvedate:""," ",null!==e.approvetime?e.approvetime:""))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")):n.a.createElement(n.a.Fragment,null,""!==h&&"A"!==h?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement("span",null,"Requester Name : ",n.a.createElement("b",null,null===q||void 0===q?void 0:q.requester_name," "))),"P"!==(null===q||void 0===q?void 0:q.tfa_status)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement("span",null," Approver Name : ",n.a.createElement("b",null,null===q||void 0===q?void 0:q.approver_name," "))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement("span",null," Approved Date : ",n.a.createElement("b",null,(null!==(null===q||void 0===q?void 0:q.approvedate)&&(null===q||void 0===q?void 0:q.approvedate))+" "+(null!==(null===q||void 0===q?void 0:q.approvetime)&&(null===q||void 0===q?void 0:q.approvetime))," "))))):null,n.a.createElement(Oa.a,null,"Q"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,null,"P"===(null===q||void 0===q?void 0:q.tfa_status)&&n.a.createElement(i.a,{style:{marginRight:"5px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>S("E")},"Edit"),"A"===(null===q||void 0===q?void 0:q.tfa_status)&&n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(he(!0),void be({location:q.location_label.split(" ")[1],trannumber:q.tfa_srno,type:"TFA"}))},"Fa View"))):n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null),n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Sr No : ",ee)),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Amount",maxLength:15,value:C,onChange:e=>(function(e){Me(e.target.value,f)})(e),disabled:"Q"===h||"E"===h}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Ref No",maxLength:15,value:A,onChange:e=>Re(e.target.value,I),disabled:"Q"===h||"E"===h}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:j,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{let a=e.label.split(" ");D(a[0]),T(e),console.log("location",e),x(null),P("")},isDisabled:"Q"===h||"E"===h}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:L,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"BANK",k),onInputChange:rt,onChange:e=>{j||alert("please selecet location"),console.log("bank",e),x(e)},isDisabled:"Q"===h||"E"===h})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"A"===h?"Date ":"Requested Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:w,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===h||"E"===h,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Party"),n.a.createElement(s.a.Select,{value:F,onChange:e=>R(e.target.value),disabled:"Q"===h||"E"===h},n.a.createElement("option",{value:"0"},"Select"),n.a.createElement("option",{value:"WALKIN"},"Walk in"),n.a.createElement("option",{value:"CORPORATE"},"Corporate"),n.a.createElement("option",{value:"DEALER"},"Dealer"))),n.a.createElement(Na.a,null,"WALKIN"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Walk In Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Control,{type:"text",placeholder:"Walk in",maxLength:15,value:"object"===typeof G?"":G,onChange:e=>P(e.target.value),disabled:"Q"===h||"E"===h}))):null,"CORPORATE"===F||"DEALER"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Party Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:G,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,F,k),onInputChange:rt,onChange:e=>{j||alert("please selecet location"),console.log("handleFromWhom",e),P(e)},isDisabled:"Q"===h||"E"===h})):null),("Q"===h||"E"===h)&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:W,onChange:e=>X(e.target.value),disabled:"Q"===h||"C"===(null===q||void 0===q?void 0:q.tfa_status)||"P"!==(null===q||void 0===q?void 0:q.tfa_status)},"0"===y.edit?"P"!==(null===q||void 0===q?void 0:q.tfa_status)?n.a.createElement(n.a.Fragment,null,"A"===W&&n.a.createElement("option",null,"APPROVE"),"R"===W&&n.a.createElement("option",null,"REJECTED"),"C"===W&&n.a.createElement("option",null,"CANCEL")):n.a.createElement(n.a.Fragment,null,n.a.createElement("option",{value:"C"},"CANCEL"),n.a.createElement("option",{value:"P"},"PENDING")):n.a.createElement(n.a.Fragment,null,"C"===W&&n.a.createElement("option",{value:"C"},"CANCEL"),n.a.createElement("option",{value:"P"},"PENDING"),n.a.createElement("option",{value:"A"},"APPROVE"),n.a.createElement("option",{value:"R"},"REJECTED"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){var e=[],l=0;if(""===C||""===A||null===L||null===j||""===F||""===G)return e[l++]=d("MSG0006"),e[l++]=""===C?" Amount.":"",e[l++]=""===A?" Ref no.":"",e[l++]=null===L?" Bank ":"",e[l++]=null===j?" Location ":"",e[l++]=""===F?" Party ":"",""!==F&&"WALKIN"===F&&(e[l++]=""===G?" Party Name ":""),""!==F&&"WALKIN"!==F&&(e[l++]=""===G?" Party ":""),g(ta(e)),void p(!0);La()(".loader").show();const n=L.id.split("^"),r=j.id.split("^")[1];console.log(L,j);var c=4516,o=1001;if("WALKIN"!=F&&null!==G){const e=G.id.split("^");c=e[2],o=e[1]}const m={tfa_location:r,tfa_bank_group:n[1],tfa_bank_acc:n[2],tfa_amount:C,refno:A,tfa_date:Ye(w),from_whom:F,srno:ee,status:W,approve_user:t,walkin_name:"WALKIN"===F?G:"",tfa_account:c,tfa_group:o};De(Oe,[a,"createFundRequest",JSON.stringify(m)],function(e){La()(".loader").hide(),console.log(e),ye(),ve()})},disabled:"Q"===h},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{"A"===h||"E"===h?(u("Do you really want to exit ?"),c(!0)):Ne()}},"Back"),"\xa0")))),n.a.createElement(el,{faViewObject:pe,show:ge,onHide:()=>he(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:E,onClose:e=>p(!1)},b),n.a.createElement(Ja,{isOpen:r,onYes:e=>Ne(),onNo:e=>c(!1)},o),n.a.createElement(Ja,{isOpen:se,onYes:e=>(function(){La()(".loader").show();const e={...q,refno:A,srno:ee,status:W};De(Oe,[a,"createFundRequest",JSON.stringify(e)],function(e){La()(".loader").hide(),console.log(e),ye(),ie(!1)})})(),onNo:e=>ie(!1)},Ee)))};var Vl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)("PP"),[F,R]=Object(l.useState)("PP"),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(!1),[V,Q]=Object(l.useState)({value:0,label:"Select"}),[Y,K]=Object(l.useState)([]),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,Ee]=Object(l.useState)(!1);Object(l.useEffect)(()=>{o||(oa().then(e=>{O(e),null!=e&&de(e)}),De(_,[a,"all","FX_DOCUMENT_UPLOAD"],function(t){let l=JSON.parse(t);"1"===l.query?c(l):e("/"),De(U,[a,"getdocs",JSON.stringify({pageright:"FX_DOCUMENT_UPLOAD"})],e=>{K(JSON.parse(e))})}),u(!0))},[o,a,e]);const de=e=>{O(e);const a=e.id.split("^");v(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Fx Document Upload"))),n.a.createElement(Oa.a,null,"\xa0"),q&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void z(!1)},"Back"))),n.a.createElement(Oa.a,null,"\xa0")),"1"===r.add&&q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{g(e);const a=e.id.split("^");S(a[1])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial No.",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:k,maxLength:20,onChange:e=>Ie(e.target.value,D),placeholder:"Serial No."}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:w,onChange:e=>M(e.target.value),required:!0},n.a.createElement("option",{value:"PP"},"PP (Purchase from Public)"),n.a.createElement("option",{value:"PB"},"PB (Purchase from Bulk)"),n.a.createElement("option",{value:"SP"},"SP (Sale to Public)"),n.a.createElement("option",{value:"SB"},"SB (Sale to Bulk)")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(Ua.a,{options:Y,value:V,onChange:e=>Q(e)})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"importExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:j,onChange:e=>T(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:H,maxLength:100,onChange:e=>Pe(e.target.value,W),placeholder:"Remark 1"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:X,maxLength:100,onChange:e=>Pe(e.target.value,Z),placeholder:"Remark 2"}))))):null,"1"!==r.query||q?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:de,isDisabled:"true"===t}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:C,maxLength:100,onChange:e=>Pe(e.target.value,f),placeholder:"Remark"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:F,onChange:e=>R(e.target.value),required:!0},n.a.createElement("option",{value:"PP"},"PP (Purchase from Public)"),n.a.createElement("option",{value:"PB"},"PB (Purchase from Bulk)"),n.a.createElement("option",{value:"SP"},"SP (Sale to Public)"),n.a.createElement("option",{value:"SB"},"SB (Sale to Bulk)")))),""===C&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:L,maxLength:20,onChange:e=>Ie(e.target.value,x),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:A,maxLength:20,onChange:e=>Ie(e.target.value,I),placeholder:"To"})))),n.a.createElement(Na.a,{style:{marginTop:"34px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===y&&C)B("Please Select Location!"),P(!0);else if(!C&&null===y||!C&&!L||!C&&!A)e[t++]=d("MSG0006"),e[t++]=""===C&&null===y?" Please Select Location!":"",e[t++]=C||L?"":" From Srno.",e[t++]=C||A?"":" To Srno.",B(ta(e)),P(!0);else{const e={location:N,filtertype:F,filterFromSrno:L,filterToSrno:A,filterRemark:C};De("/api/fx_document_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);p(a)})}})()},"List")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"!==r.add||q?null:n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void z(!0)},"Upload"),"1"===r.add&&q?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(console.log(document.getElementById("importExcel").files[0]),La()(".loader").show(),void 0===document.getElementById("importExcel").files[0]||0==V.value||null===b||""===k||""===H||""===X)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]=null===b?"Please Select Location!":"",e[t++]=""===k?"Serial No.":"",e[t++]=0==V.value?" Please Select Document.":"",e[t++]=void 0===document.getElementById("importExcel").files[0]?" Please select a file to upload.":"",e[t++]=""===H?"Remark 1":"",e[t++]=""===X?"Remark 2":"",B(ta(e)),P(!0);else{const e=document.getElementById("importExcel").files[0].name.split("."),t={uploadType:"uploadFxDoc",pageright:"FX_DOCUMENT_UPLOAD",sid:a,srno:k,location:h,fileName:e[0],fileExt:e[1],docType:w,docGrpType:V.value,docGrpName:V.label,remark1:H,remark2:X};Ze(JSON.stringify(t),"importExcel",e=>{let a=JSON.parse(e);console.log(a),La()(".loader").hide(),B(a.msg),P(!0),p(a.docdetail),T(""),g(null),D(""),Q({value:0,label:"Select"}),W(""),Z("")})}})()},"Submit"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"File Name"),n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"Remark 1"),n.a.createElement("th",null,"Remark 2"),n.a.createElement("td",null,"\xa0"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.mfd_srno},n.a.createElement("td",null,e.mfd_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.mfd_type),n.a.createElement("td",null,e.mfd_file_name),n.a.createElement("td",null,e.docm_desc),n.a.createElement("td",null,e.mfd_remark1),n.a.createElement("td",null,e.mfd_remark2),n.a.createElement("td",null,n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement("span",{className:"handCursor",onClick:t=>((e,t)=>{const l={srno:e,filename:t};ea("/api/fx_document_a.php",[a,"docView",JSON.stringify(l)],e=>{let a=JSON.parse(e);ne(a.bs64),ce(a.typ),me(a.desc),se(a.fname),Ee(!0)})})(e.mfd_srno,e.mfd_file_name)},n.a.createElement(pa.a,{icon:ba.f})),"\xa0",n.a.createElement("span",{className:"handCursor",onClick:t=>((e,t)=>{const l={srno:e,filename:t};$e("/api/fx_document_a.php","post",[a,"docDownload",JSON.stringify(l)])})(e.mfd_srno,e.mfd_file_name)},n.a.createElement(pa.a,{icon:ja.h}))))))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:G,onClose:e=>P(!1)},J)),n.a.createElement(Ba.a,{show:ie,onHide:()=>Ee(!1),size:"xl",centered:!0},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,{id:"example-custom-modal-styling-title"},oe+" : "+ue)),n.a.createElement(Ba.a.Body,null,n.a.createElement("embed",{src:le,type:re,style:{minHeight:"100vh",minWidth:"100%"}}))))};var Ql=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("startDate"),t=sessionStorage.getItem("endDate"),r=sessionStorage.getItem("branchDisable"),c=sessionStorage.getItem("sessionId"),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)({value:0,label:"Select"}),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)({value:0,label:"Select"}),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)("D"),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(new Date),[w,M]=Object(l.useState)(null),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(null),[z,V]=Object(l.useState)(0),[U,Y]=Object(l.useState)(null),[K,H]=Object(l.useState)(0),[W,Z]=Object(l.useState)(0),[$,ee]=Object(l.useState)(!0),[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(!1),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),ue=new Date,[se,ie]=Object(l.useState)(!1),[Ee,de]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{o||(oa().then(e=>{B(e),null!=e&&pe(e)}),De(_,[c,"all","OPN_BANK_STATEMENT"],function(a){let t=JSON.parse(a);"1"===t.query?p(t):e("/")}),De(q,[c,"voucherType"],e=>{let a=JSON.parse(e);console.log(a),f(a)}),u(!0))},[o,c,e]);const pe=e=>{console.log(e),B(e);var a=e.id.split("^");V(a[1]),Y(null),sessionStorage.activeBranch=a[1]};var be=[],ge=0;return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Opening Bank Statement"))),"\xa0",$?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"mandatory text-danger"},"*")," \xa0",n.a.createElement("span",null,n.a.createElement(Xt.a,{bg:"secondary",onClick:()=>void B(null)},"Reset"))),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:pe,isDisabled:"true"===r}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:U,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"BANK",z),onInputChange:rt,onChange:e=>{console.log(e),Y(e);const a=e.id.split("^");H(a[1]),Z(a[2])}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===E.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==J||null==U)be[ge++]=d("MSG0006"),be[ge++]=null==J?"Location.":"",be[ge++]=null==U?"Bank.":"",ce(ta(be)),ne(!0);else{ee(!1);const e=J.id.split("^");T(e[1]),S(e[2]);const a=U.id.split("^");O(a[5]),De(X,[c,"listBnkStmt",e[1]],e=>{let a=JSON.parse(e);g(a)})}}},"List"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(null==U)ce("Please Select Bank!"),ne(!0);else{var e={location:0,right:"OPN_BANK_STATEMENT",gpCode:K,acCode:W};$e(Q,"post",[c,JSON.stringify(e)])}}},"Export")):null)),"\xa0"):n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",h)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",y))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{ae?te(!1):ee(!0)}},"Back")," ","1"!==E.add||ae?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,a=oe,t=Ue(e),l=new Date(a),n=new Date(t)-l,r=Math.ceil(n/864e5);console.log(r);const o={srno:1,type:"OPNRECO",pageright:"OPN_BANK_STATEMENT"};De(Se,[c,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);if(_e==r||"unlock"==t)te(!0);else{let a;De(Se,[c,"getStatus",JSON.stringify(o)],t=>{a=JSON.parse(t),de({trantype:"OPNRECO",trannumber:1,location:j,entity_name:h,tranDate:Ue(e),tdu_status:a}),ie(!0)})}})})()},"Edit"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e={location:j,right:"OPN_BANK_STATEMENT",gpCode:K,acCode:W};$e(Q,"post",[c,JSON.stringify(e)])}},"Export")))),"\xa0"),ae&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flag",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>D(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Withdraw"),n.a.createElement("option",{value:"C"},"Deposit")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{value:F,maxLength:10,onChange:e=>Me(e.target.value,R),placeholder:"Amount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{value:G,maxLength:100,onChange:e=>Pe(e.target.value,P),placeholder:"Cheque No"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Voucher Type",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(Ua.a,{options:C,value:N,onChange:e=>v(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Voucher Number",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{value:L,onChange:e=>Ie(e.target.value,x),maxLength:7,placeholder:"Invoice Number"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=Ue(A);if(0==N.value||""==F||""==G||""==L)be[ge++]=d("MSG0006"),be[ge++]=""==F?" Amount.":"",be[ge++]=""==G?" Cheque No.":"",be[ge++]=""==L?" Invoice No.":"",be[ge++]=0==N.value?" Voucher Type.":"",ce(ta(be)),ne(!0);else if(e>t||e<a)ne(!0),ce(d("MSG0010"));else{console.log(U);const e={flag:k,bnk:W,grp:K,date:Ue(A),amt:F,vouchType:N.value,chequeno:G,invoiceno:L,location:j};De(X,[c,"addNewBnkStmt",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),g(a),R(""),D("D"),v(""),P(""),x(""),I(new Date)});const a={srno:1,type:"OPNRECO",status:"E",currentDate:Ue(ue),pageright:"OPN_BANK_STATEMENT"};De(Se,[c,"expireUnlock",JSON.stringify(a)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!$&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===E.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Cheque No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Invoice No"),n.a.createElement("th",{style:{textAlign:"right"}},"Withdraw"),n.a.createElement("th",{style:{textAlign:"right"}},"Deposit"))),n.a.createElement("tbody",null,b.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===E.delete?n.a.createElement("td",{className:"textCenter"},ae&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De(X,[c,"deleteBnkStmt",e,j],e=>{let a=JSON.parse(e);g(a)})})(e.tfd_line_no)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.tfd_line_no),n.a.createElement("td",null,e.tfd_bank),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.mvt_type),n.a.createElement("td",null,e.tfd_refnumber),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&-1*e.tfd_amount))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:le,onClose:e=>ne(!1)},re)),n.a.createElement(zt,{logObject:Ee,show:se,hdrNotExist:!0,onHide:()=>ie(!1)}))};var Ul=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),[c,o]=Object(l.useState)([]),[u,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[g,h]=Object(l.useState)(!1),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)(!1),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(null),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(0),[M,F]=Object(l.useState)("N"),[R,G]=Object(l.useState)(new Date),[P,J]=Object(l.useState)(new Date),[B,q]=Object(l.useState)(new Date),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)("PP"),[H,W]=Object(l.useState)(null),[X,Z]=Object(l.useState)(0),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(null),[le,ne]=Object(l.useState)("PP"),[re,ce]=Object(l.useState)([]),[oe,me]=Object(l.useState)([]);var ue=[],se=0;Object(l.useEffect)(()=>{u||(De(_,[a,"all","MANUAL_CANCELLATION"],a=>{let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),E(!0))},[u,a,e]);const ie=e=>{W(e),console.log(e);const a=e.id.split("^");ee(a[4]),Z(a[5])},Ee=()=>{h(!1),b("")};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Manual Book Cancellation"))),""==p?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:D,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{L(e);const a=e.id.split("^");w(a[1]),A(a[2])}}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===M,onChange:()=>F("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===M,onChange:()=>F("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===M,onChange:()=>F("D"),type:"radio",label:"Date"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"MT"===M,onChange:()=>F("MT"),type:"radio",label:"Manual Type"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"MN"===M,onChange:()=>F("MN"),type:"radio",label:"Manual No"})))))),n.a.createElement(Oa.a,null,"N"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:R,minDate:new Date(t),maxDate:new Date(r),onChange:e=>G(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:z,maxLength:20,onChange:e=>Ie(e.target.value,V),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Q,maxLength:20,onChange:e=>Ie(e.target.value,U),placeholder:"To"})))):"D"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:P,onChange:e=>J(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:B,onChange:e=>q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"MT"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Y,onChange:e=>K(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk"))))):"MN"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:H,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ct(e,I),onInputChange:rt,onChange:ie})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>e("/cancellation")},"Back"),"\xa0","1"===c.add&&"N"===M?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void(D&&R?(b("A"),ce([]),W(null),Z(0),ee("")):(ue[se++]=d("MSG0006"),ue[se++]=D?"":"Please Select Location!",ue[se++]=R?"":"Please Select Date!",C(ta(ue)),N(!0)))},"Add New"):null,"\xa0","1"!==c.query||"S"!==M&&"D"!==M&&"MT"!==M&&"MN"!==M?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!D||"S"==M&&!z||"S"==M&&!Q||"D"==M&&!P||"D"==M&&!B||"MT"==M&&!Y||"MN"==M&&!H)ue[se++]=d("MSG0006"),ue[se++]=D?"":"Please Select Location!",ue[se++]="S"!=M||z?"":"Please Enter From Srno!",ue[se++]="S"!=M||Q?"":"Please Enter To Srno!",ue[se++]="D"!=M||P?"":"Please Select From Date!",ue[se++]="D"!=M||B?"":"Please Select To Date!",ue[se++]="MT"!=M||Y?"":"Please Select Manual Type!",ue[se++]="MN"!=M||H?"":"Please Select Manual Number!",C(ta(ue)),N(!0);else{console.log(D);const e={filterRadioType:M,filterLocation:I,filterFromDate:Ue(P),filterToDate:Ue(B),filterFromSrno:z,filterToSrno:Q,filterManualType:Y,filterManualNo:H,filterFromManualNo:X,filterPrefixManualNo:$};De("/api/tran_manual_book_cancellation_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);me(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===c.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Manual No."))),n.a.createElement("tbody",null,oe.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===c.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e.hdr_srno,e.hdr_location,void e.hdr_type)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.tmbb_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tmbb_manual_type),n.a.createElement("td",null,e.tmbb_prefix," ",e.tmbb_from)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===p||"E"===p?(y("Do you really want to exit ?"),h(!0)):Ee())},"Back")," ","1"===c.edit&&"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void b("E")},"Edit")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",x))),n.a.createElement(Oa.a,null,"\xa0"),"E"===p||"A"===p&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Y,onChange:e=>K(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:H,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>_t(e,I,""),onInputChange:rt,onChange:ie})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{k("Do you really want to cancel this manual book entry ?"),j(!0)}},"Cancel Manual Book")))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:O,onClose:e=>N(!1)},v),n.a.createElement(Ja,{isOpen:g,onYes:e=>Ee(),onNo:e=>h(!1)},S),n.a.createElement(Ja,{isOpen:f,onYes:e=>(()=>{j(!1);const e={location:I,manualType:Y,filterRadioType:M,fromManualNo:X,prefixManualNo:$,date:Ue(R)};console.log(e),De("/api/tran_manual_book_cancellation_a.php",[a,"cancelManualBook",JSON.stringify(e)],e=>{console.log(e);let a=JSON.parse(e);me(a),b(""),W(null),Z(0),ee("")})})(),onNo:e=>j(!1)},T)))};var Yl=()=>{const[e,a]=Object(l.useState)("MANCN"),t=Object(m.n)();return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Cancellation"))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cancellation Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:e,onChange:e=>a(e.target.value)},n.a.createElement("option",{value:"MANCN"},"Manual Book"),n.a.createElement("option",{value:"CHQCN"},"Cheque Book"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{switch(e){case"MANCN":t("/manual-cancellation");break;case"CHQCN":t("/cheque-cancellation")}})()},"Goto"),"\xa0"))))};var Kl=function(e){let{obj:a,holdGstData:t}=e;const r=sessionStorage.getItem("sessionId"),[c,o]=Object(l.useState)(!1),m=e=>{o(e);var l=[];l=e?t.map(e=>({...e,selected:"1"==e.det_hgst_submit?"0":"1"})):t.map(e=>({...e,selected:"0"})),a.setHoldGstData(l)},u=(e,t,l,n,c,o)=>{m(!1),La()(".loader").show();const u={status:e,trannumber:t,lineno:l,location:n,certno:c,type:o,paytype:"GST",holdgstlist:!0,agentcode:a.agentcode};De(ve,[r,"updatestatus",JSON.stringify(u)],e=>{La()(".loader").hide();let t=JSON.parse(e);a.setHoldGstData(t.commissiondata)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,a.location," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Agent : ",n.a.createElement("b",null,a.agentcode+" "+a.agentname," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GstIN : ",n.a.createElement("b",null,a.gstin," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"SGST : ",n.a.createElement("b",null,a.sgst," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"CGST : ",n.a.createElement("b",null,a.cgst," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"IGST : ",n.a.createElement("b",null,a.igst," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Total GST : ",n.a.createElement("b",null,1*a.igst+1*a.cgst+1*a.sgst," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Number : ",n.a.createElement("b",null,a.invoicenum," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Date : ",n.a.createElement("b",null,a.invoicedate," ")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>a.setScrMode("")},"Back"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();var e="Please select trasactions.",l=!1;const n={hdrsrno:a.hdrsrno,location:a.cmLocationValue,holdGstData:t,agentcode:a.agentcode,holdgstlist:!0};for(var c=0;c<t.length;c++)if("1"==t[c].selected&&(l=!0,e=""),"1"==t[c].selected&&"O"!=t[c].det_hgst_status){l=!1,e="Please mark OK to each transaction before sending it for approval.";break}l?De(ve,[r,"sendgstapproval",JSON.stringify(n)],e=>{La()(".loader").hide();let t=JSON.parse(e);a.setHoldGstData(t.data)}):(La()(".loader").hide(),a.setMsgBox(!0),a.setMsgText(e)),m(!1)})()},"Send For Approval"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void 0},"Activity Log"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"commissionCheck"},n.a.createElement("span",null,"All\xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:c,onChange:e=>m(e.target.checked)}))),n.a.createElement("th",null,"Action"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Cert"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"IGST"))),n.a.createElement("tbody",null,t.map((e,l)=>n.a.createElement("tr",null,"1"===e.det_hgst_submit?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,"\xa0"),n.a.createElement("td",null,"\xa0")):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,n.a.createElement("div",{style:{display:"block"}},n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:c||"1"===e.selected&&"checked",onClick:e=>((e,l,n)=>{let r=t.map((a,t)=>l!==t?a:"selected"===e?(o(!1),n.target.checked?{...a,[e]:"1"}:{...a,[e]:"0"}):void 0);a.setHoldGstData(r)})("selected",l,e)}))))),n.a.createElement("td",null,n.a.createElement("span",{className:"handCursor",title:"Ok",style:{color:"green"}},n.a.createElement(pa.a,{icon:ja.e,onClick:()=>u("O",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})),"\xa0\xa0",n.a.createElement("span",{className:"handCursor colorThemeBlue",title:"Hold"},n.a.createElement(pa.a,{icon:ja.f,onClick:()=>u("H",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})))),n.a.createElement("td",null,"O"==e.det_hgst_status?"OK":"A"==e.det_hgst_status?"Approved":"R"==e.det_hgst_status?"Rejected":"Hold"),n.a.createElement("td",null,e.det_type+" "+e.det_cert_no),n.a.createElement("td",null,e.det_cgst),n.a.createElement("td",null,e.det_sgst),n.a.createElement("td",null,e.det_igst))))))};var Hl=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)("N"),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(new Date),[A,I]=Object(l.useState)(new Date),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)([]),[W,X]=Object(l.useState)("A"),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)("U"),[te,le]=Object(l.useState)("P"),[ne,ce]=Object(l.useState)(new Date),[oe,me]=Object(l.useState)(new Date),[ue,se]=Object(l.useState)([]),[ie,Ee]=Object(l.useState)(""),[de,pe]=Object(l.useState)(""),[be,ge]=Object(l.useState)(""),[he,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,Ce]=Object(l.useState)(""),[_e,fe]=Object(l.useState)(!1),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)([]),[xe,Ae]=Object(l.useState)("1"),[we,Me]=Object(l.useState)(""),[Fe,Re]=Object(l.useState)(""),[Ge,Je]=Object(l.useState)(""),[qe,ze]=Object(l.useState)("TW"),[Ve,Qe]=Object(l.useState)([]),[Ke,He]=Object(l.useState)([]),[We,Xe]=Object(l.useState)(""),[ea,la]=Object(l.useState)(""),[na,ra]=Object(l.useState)(""),[ca,ma]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(""),[ia,Ea]=Object(l.useState)(""),[da,ga]=Object(l.useState)(""),[ha,va]=Object(l.useState)(""),[Ca,_a]=Object(l.useState)(""),[Ta,Da]=Object(l.useState)(""),[xa,Aa]=Object(l.useState)(""),[Ia,wa]=Object(l.useState)(!1),[Ma,Fa]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Ga,Pa]=Object(l.useState)(!1),[za,Va]=Object(l.useState)(""),[Qa,Ua]=Object(l.useState)(!1),[Ya,Ka]=Object(l.useState)([]),[Ha,Wa]=Object(l.useState)(""),[Xa,Za]=Object(l.useState)(""),[$a,et]=Object(l.useState)(""),[at,lt]=Object(l.useState)([]),[nt,ot]=Object(l.useState)(!1),[mt,ut]=Object(l.useState)(""),[st,it]=Object(l.useState)({}),[Et,dt]=Object(l.useState)(""),[pt,bt]=Object(l.useState)(""),[gt,ht]=Object(l.useState)(""),[St,yt]=Object(l.useState)(!1),[Ot,Nt]=Object(l.useState)([]),[vt,Ct]=Object(l.useState)("N"),[_t,ft]=Object(l.useState)(""),[jt,Tt]=Object(l.useState)(!1),[kt,Dt]=Object(l.useState)(!1),[Lt,xt]=Object(l.useState)([]),[At,It]=Object(l.useState)(""),[wt,Mt]=Object(l.useState)(""),[Ft,Rt]=Object(l.useState)(!1),[Pt,Jt]=Object(l.useState)("O"),[Bt,qt]=Object(l.useState)("1"),[zt,Vt]=Object(l.useState)(""),[Qt,Ut]=Object(l.useState)("O"),[Yt,Kt]=Object(l.useState)("P");Object(l.useEffect)(()=>{oa().then(e=>{v(e),null!=e&&Wt(e)});var t=[],l=[],n=[],r=[],c=[];De(_,[e,"all","TRAN_COMMISSION_BM_APPROVAL"],function(e){let a=JSON.parse(e);l=a,"1"===a.query&&(f("A"),p(a))}),De(_,[e,"all","TRAN_COMMISSION_ZM_APPROVAL"],function(e){let a=JSON.parse(e);c=a,"1"===a.query&&(f("A"),O(a))}),De(_,[e,"all","TRAN_COMMISSION_GST"],function(e){let a=JSON.parse(e);n=a,"1"===a.query&&(f("H"),g(a))}),De(_,[e,"all","TRAN_COMMISSION_GST_APPROVAL"],function(e){let a=JSON.parse(e);r=a,"1"===a.query&&(f("H"),S(a))}),De(_,[e,"all","TRAN_COMMISSION"],function(e){let a=JSON.parse(e);t=a,"1"===a.query&&u(a),"1"===a.add&&f("N")}),"0"===t&&"0"===l&&"0"===n&&"0"===r&&"0"===c&&a("/")},[]);const Ht=e=>{Pa(!0),Fa({trantype:"CM",trannumber:ie,trancategory:"T",location:J})},Wt=e=>{se([]),Qe([]),lt([]),He([]),v(e);var a=e.id.split("^");B(a[1]),z(null==a[3]?0:a[3]),Q(a[2]),sessionStorage.activeBranch=a[1]},Zt=(a,t)=>{La()(".loader").show(),Nt([]),Ee(a),pe("dd-mm-yyyy"),$(""),Y(""),qt("1");const l={hdrsrno:a,location:t,state:q};De(ve,[e,"hdrdetails",JSON.stringify(l)],e=>{La()(".loader").hide(),M("Q");let a=JSON.parse(e),t=a.hdrdata[0];ge(t.hdr_from_date),Oe(t.hdr_to_date),Se(t.hdr_from_date_dmy),Ce(t.hdr_to_date_dmy),H(a.commdata)})},$t=()=>{fe(!1),"D"===Ge?al():"A"===Ge&&(()=>{var a=[],l=0,n=Ue(L),c=Ue(A);if(null===L||null===A||null==N)a[l++]=d("MSG0006"),a[l++]=null===N?"Location":"",a[l++]=null===L?"From date":"",a[l++]=null===A?"To date":"",P(!0),R(ta(a));else if(n<t||c>r)P(!0),R(d("MSG0010"));else{const a={location:J,todate:Ue(A),frmdate:Ue(L),frmsrno:j,radioType:C,tosrno:k,newRemark:zt};De(ve,[e,"saveheader",JSON.stringify(a)],e=>{se(JSON.parse(e))})}})()},el=e=>{wa(e);var a=[];a=e?K.map(e=>({...e,selected:"1"===e.det_submit_approval||"NOFA"===e.det_fa_type?"0":"1"})):K.map(e=>({...e,selected:"0"})),console.log(a),H(a)},al=()=>{La()(".loader").show();const a={hdrsrno:ie,location:J,radioType:C,frmdate:Ue(L),todate:Ue(A),frmsrno:j,tosrno:k,type:W,searchFilter:Z.trim(),filterStatus:xe,filterGstType:Bt};var t="Please select transactions.",l=K.map(e=>{if("1"===e.selected)return t="","A"==e.det_status&&(t="Not able to delete, transaction with certno "+e.det_cert_no+" already approved."),[e.det_cert_no,e.det_lineno,e.det_location,e.det_srno]}).filter(e=>void 0!=e);""!==t?(La()(".loader").hide(),P(!0),R(t)):De(ve,[e,"delete",JSON.stringify(l),JSON.stringify(a)],e=>{La()(".loader").hide(),H(JSON.parse(e)),wa(!1)})},tl=(a,t,l,n,r,c)=>{el(!1),La()(".loader").show();const o={status:a,trannumber:t,lineno:l,location:n,certno:r,type:c,searchFilter:Z.trim(),filterStatus:xe,paytype:"COMMISSION",filterGstType:Bt};De(ve,[e,"updatestatus",JSON.stringify(o)],e=>{La()(".loader").hide();let a=JSON.parse(e);H(a.commissiondata)})},ll=a=>{La()(".loader").show(),el(!1),"R"===a&&($(""),qt("1"),Ae("1"));const t={hdrsrno:ie,location:J,searchFilter:"R"===a?"":Z.trim(),filterStatus:"R"===a?"1":xe,filterGstType:"R"===a?"1":Bt};De(ve,[e,"filtersearch",JSON.stringify(t)],e=>{La()(".loader").hide(),H(JSON.parse(e))})},nl=a=>{La()(".loader").show(),Jt(a),ot(!0);const t={hdrsrno:ie,location:J,listtype:"summary",statusfilter:a};De(ve,[e,"summary",JSON.stringify(t)],e=>{La()(".loader").hide();let a=JSON.parse(e);Ka(a.data),Wa(a.totalcommission),et(a.totaltds),Za(a.netcommission)})},rl=(e,a,t)=>{let l=Ot.map((l,n)=>n!==a?l:"invoicenum"===t?{...l,[t]:e}:"invoicedate"===t?{...l,[t]:e}:void 0);Nt(l)},cl=e=>{Tt(!0),ft(e)},ol=(a,t)=>{He([]),se([]),dt(a),bt(t),ul(!1),La()(".loader").show();const l={location:J,paytype:a,approvalType:t,frmApprovalDate:Ue(ne),toApprovalDate:Ue(oe),approvalStatusFilter:te,allLocationSelector:Qt,hgstFilterStatus:Yt};"A"!==te||null!==ne&&null!==oe?De(ve,[e,"bmlist",JSON.stringify(l)],e=>{La()(".loader").hide(),se([]),Qe(JSON.parse(e))}):(La()(".loader").hide(),P(!0),R("Please fill from-to date range."))},ml=(a,t)=>{La()(".loader").show();const l={hdrsrno:ie,location:J,updatetype:a,bmLineNo:Fe,bmAgentCode:xa,paytype:Et,approvalType:pt,frmApprovalDate:Ue(ne),toApprovalDate:Ue(oe),approvalStatusFilter:te,BMHeaderData:Ve,allOne:t,hgstFilterStatus:Yt,allLocationSelector:Qt};var n=!0;if("A"===t){n=!1;for(var r=0;r<Ve.length;r++)if("1"===Ve[r].selected){n=!0;break}}n?De(ve,[e,"updatepaymentbm",JSON.stringify(l)],e=>{La()(".loader").hide();let a=JSON.parse(e);"1"==a.msg&&(M(""),Qe(a.bmapprlist))}):(La()(".loader").hide(),P(!0),R("Please select transactions.")),ul(!1)},ul=e=>{Rt(e);var a=[];a=e?Ve.map(e=>"BM"===pt?{...e,selected:"P"===e.app_status?"1":"0"}:{...e,selected:"B"===e.app_status?"1":"0"}):Ve.map(e=>({...e,selected:"0"})),Qe(a)},sl=e=>{f(e),Ut("O"),Qe([]),He([]),se([])};return n.a.createElement(n.a.Fragment,null,Qa?n.a.createElement(Cl,{cmmodule:za,updateAgentDetails:e=>{Zt(ie,J)}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Commission Module"))),n.a.createElement(Oa.a,null,"\xa0"),""===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-5 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},"1"===o.query&&n.a.createElement(n.a.Fragment,null,"1"===o.add&&n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===C,onChange:()=>sl("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===C,onChange:()=>sl("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===C,onChange:()=>sl("D"),type:"radio",label:"Date"})),"1"===b.query||"1"===h.query?n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"H"===C,onChange:()=>sl("H"),type:"radio",label:"Hold GST"})):null,"1"===E.query||"1"===y.query?n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"A"===C,onChange:()=>sl("A"),type:"radio",label:"Approve"})):null))))),n.a.createElement(Oa.a,null,"H"===C&&"1"===h.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-2"},n.a.createElement(s.a.Label,null,"One/All"),n.a.createElement(s.a.Select,{value:Qt,onChange:e=>(e=>{Ut(e.target.value),He([]),Qe([])})(e)},n.a.createElement("option",{value:"O"},"One"),n.a.createElement("option",{value:"A"},"All")))):null,n.a.createElement(Na.a,{style:{display:"A"===Qt&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Wt,isDisabled:"true"===c}))),"N"===C||"D"===C||"T"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:L,onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),"N"===C?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{maxLength:100,placeholder:"Remark",value:zt,onChange:e=>Pe(e.target.value,Vt)}))):null):"S"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:j,onChange:e=>Ie(e.target.value,T)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:k,onChange:e=>Ie(e.target.value,D)})))):"A"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value)},n.a.createElement("option",{value:"P"},"Pending BM"),n.a.createElement("option",{value:"B"},"Pending ZM"),n.a.createElement("option",{value:"A"},"Approved")))),"A"===te&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:ne,onChange:e=>ce(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:oe,onChange:e=>me(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))))):"H"===C&&"1"===h.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:Yt,onChange:e=>(e=>{Kt(e),He([]),Qe([])})(e.target.value)},n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"A"},"Approved"))))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"display-flex"},n.a.createElement(n.a.Fragment,null,"1"===o.query&&"N"!==C&&"H"!==C&&"A"!==C&&"F"!==C?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show(),Qe([]),He([]);const a={radioType:C,frmdate:Ue(L),todate:Ue(A),frmsrno:j,tosrno:k,type:W,location:J};var l=[],n=0,c=Ue(L),o=Ue(A);"S"!==C||""!==j&&""!==k?"D"===C&&(c<t||o>r)?(La()(".loader").hide(),P(!0),R(d("MSG0010"))):De(ve,[e,"listheader",JSON.stringify(a)],e=>{La()(".loader").hide(),se(JSON.parse(e))}):(La()(".loader").hide(),l[n++]=d("MSG0006"),l[n++]=null===j?"From Srno":"",l[n++]=null===k?"To Srno":"",P(!0),R(ta(l)))})()},"List"):null,"\xa0","1"===o.add&&"N"===C?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(fe(!0),Te("Do you want to create entry for period ".concat(Ye(L)," to ").concat(Ye(A),".")),void Je("A"))},"Add New"):null,"\xa0","1"===b.query&&"H"===C?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show(),Qe([]),se([]);const a={location:J,allLocationSelector:Qt,hgstFilterStatus:Yt};De(ve,[e,"listgst",JSON.stringify(a)],e=>{La()(".loader").hide(),He(JSON.parse(e))})})()},"List Hold GST"):null,"1"===h.query&&"H"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ol("GST","ZM")},"List")):null,"1"===y.query&&"A"===C&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ol("COMMISSION","ZM")},"ZM Approval List"),"1"===E.query&&"A"===C&&n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ol("COMMISSION","BM")},"BM Approval List")),("1"===E.query||"1"===y.query)&&"A"===C&&n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ml("A","A")},"All Approve"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,("1"===E.query||"1"===y.query||"1"===h.query)&&Ve.length>0&&n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,n.a.createElement("div",{style:{display:"ZM"===pt&&"GST"==Et&&"none"}},n.a.createElement("span",null,"All\xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:Ft,onChange:e=>ul(e.target.checked)})))),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"IFSC"),"COMMISSION"===Et?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Pur Commission"),n.a.createElement("th",null,"Sale Commission"),n.a.createElement("th",null,"Net Margin"),n.a.createElement("th",null,"Total Payable")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Invoice Num"),n.a.createElement("th",null,"Invoice Date"),n.a.createElement("th",null,"GstIN"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"Total GST")),n.a.createElement("th",null,"Status"),n.a.createElement("th",{style:{display:"A"!==te&&"none"}},"Approve Date"))),n.a.createElement("tbody",null,Ve.map((a,t)=>n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>(a=>{La()(".loader").show(),ut(a.app_hgst_status),Ee(a.app_srno),Re(a.app_lineno),M("BmQ"),Me(a.app_status),Aa(a.app_agent_code),la(a.app_total_commission),ra(a.app_tds),Xe(a.app_payable),Ea(a.app_account_name),ga(a.app_agent_code+" "+a.app_agent_name),ma(a.app_account_no),sa(a.app_ifsc),_a(a.app_gst_type),va(a.app_fa_type),Da(1*a.app_igst+1*a.app_cgst+1*a.app_sgst),ht(a.app_gstin),Mt(a.app_agent_invoice_num),It(a.app_agent_invoice_date);const t={hdrsrno:a.app_srno,location:a.app_location,agencode:a.app_agent_code,lineno:a.app_lineno,isbmlist:!0,paytype:Et};De(ve,[e,"filtersearch",JSON.stringify(t)],e=>{La()(".loader").hide(),Le(JSON.parse(e))})})(a),className:"handCursor colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,n.a.createElement("span",{style:{display:"BM"===a.approval_type&&"P"!=a.app_status||"ZM"===a.approval_type&&"B"!=a.app_status||"ZM"===pt&&"GST"==Et?"none":"block"}},n.a.createElement(s.a.Check,{type:"checkbox",checked:Ft||"1"===a.selected&&"checked",onClick:e=>((e,a,t)=>{let l=Ve.map((l,n)=>a!==n?l:"selected"===e?(Rt(!1),t.target.checked?{...l,[e]:"1"}:{...l,[e]:"0"}):void 0);Qe(l)})("selected",t,e)}))),n.a.createElement("td",null," ",a.entity_name),n.a.createElement("td",null,a.app_agent_code+" "+a.app_agent_name),n.a.createElement("td",null,a.app_account_name),n.a.createElement("td",null,a.app_account_no),n.a.createElement("td",null,a.app_ifsc),"COMMISSION"===Et?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,a.app_commission_purchase),n.a.createElement("td",null,a.app_commission_sale),n.a.createElement("td",null,a.app_total_margin),n.a.createElement("td",null,a.app_payable),n.a.createElement("td",null,"A"==a.app_status?"Approved":"B"==a.app_status?"Pending ZM":"Pending BM")):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,a.app_agent_invoice_num),n.a.createElement("td",null,a.app_agent_invoice_date),n.a.createElement("td",null,a.app_gstin),n.a.createElement("td",null,a.app_sgst),n.a.createElement("td",null,a.app_igst),n.a.createElement("td",null,a.app_cgst),n.a.createElement("td",null,1*a.app_sgst+1*a.app_cgst+1*a.app_igst+1*a.app_ugst),n.a.createElement("td",null,"P"==a.app_hgst_status?"Pending":"Approved")),n.a.createElement("td",{style:{display:"A"!==te&&"none"}},a.app_approve_timestamp)))))),"1"===o.query&&ue.length>0&&n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"From Date"),n.a.createElement("th",null,"From To"),n.a.createElement("th",null,"Remark"))),n.a.createElement("tbody",null,ue.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,"1"===o.edit&&n.a.createElement("span",{onClick:()=>Zt(e.hdr_srno,e.hdr_location),className:"handCursor colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.d}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_from_date),n.a.createElement("td",null,e.hdr_to_date),n.a.createElement("td",null,e.hdr_remark)))))),"1"===b.query&&Ke.length>0&&n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Agent Code"),n.a.createElement("th",null,"Agent Name"),n.a.createElement("th",null,"Invoice Num"),n.a.createElement("th",null,"Invoice Date"),n.a.createElement("th",null,"GstIn"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"UGST"))),n.a.createElement("tbody",null,Ke.map(a=>n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((a,t,l,n,r,c,o,m,u,s)=>{La()(".loader").show(),Ee(t),M("GST");const i={agentcode:a,hdrsrno:t,location:l,holdgstlist:!0};De(ve,[e,"viewholdgst",JSON.stringify(i)],e=>{La()(".loader").hide();var a=JSON.parse(e);lt(a)}),it({hdrsrno:t,setScrMode:M,setHoldGstData:lt,gstStatus:mt,agentcode:a,agentname:n,location:V,cgst:c,sgst:r,igst:o,setMsgBox:P,setMsgText:R,cmLocationValue:J,gstin:m,invoicenum:u,invoicedate:s})})(a.det_agent_code,a.det_srno,a.det_location,a.det_agent_name,a.sgst,a.cgst,a.igst,a.det_gstin,a.det_agent_invoice_num,a.det_agent_invoice_date),className:"handCursor colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,a.det_agent_code),n.a.createElement("td",null,a.det_agent_name),n.a.createElement("td",null,a.det_agent_invoice_num),n.a.createElement("td",null,a.det_agent_invoice_date),n.a.createElement("td",null,a.det_gstin),n.a.createElement("td",null,a.sgst),n.a.createElement("td",null,a.cgst),n.a.createElement("td",null,a.igst),n.a.createElement("td",null,a.ugst)))))))):"Q"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Sr No : ",n.a.createElement("b",null,ie," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,V," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"From Date : ",n.a.createElement("b",null,he))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"To Date : ",n.a.createElement("b",null,Ne)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>M("")},"Back"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>(fe(!0),Te("Do you really want to delete the selected records?"),void Je("D"))},"Delete Checked"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();for(var a=0,t=0;t<K.length;t++)if("1"==K[t].selected){a++;break}if(a>0){Dt(!0),La()(".loader").show();const a={hdrsrno:ie,location:J,commissionData:K,searchFilter:Z.trim(),filterStatus:xe,filterGstType:Bt};De(ve,[e,"getapprovalsummary",JSON.stringify(a)],e=>{La()(".loader").hide(),xt(JSON.parse(e))})}else La()(".loader").hide(),P(!0),R("Please select one or more agent.")})()},"Send to Approval"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{for(var a=0,t=0;t<K.length;t++)if("1"==K[t].selected){a++;break}if(a<1)P(!0),R("Please select one or more agent to update invoice details.");else{yt(!0);const a={hdrsrno:ie,location:J,commissionData:K,listtype:"invoice",searchFilter:Z.trim(),filterStatus:xe,filterGstType:Bt};De(ve,[e,"invoicedetails",JSON.stringify(a)],e=>{let a=JSON.parse(e);Nt(a)})}})()},"Update Invoice"),"\xa0")),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"!==o.query||"E"!==w&&"Q"!==w?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Ht()},"Activity Log"),n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>cl("COMMISSION")},"Download Commission FA"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>cl("GST")},"Download GST FA"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"U"===ee,onChange:()=>ae("U"),type:"radio",label:"Upload"}),"\xa0",n.a.createElement(s.a.Check,{checked:"F"===ee,onChange:()=>ae("F"),type:"radio",label:"Filter"}),"\xa0",n.a.createElement("span",null,n.a.createElement(Xt.a,{bg:"secondary",className:"handCursor",onClick:()=>nl("O")},"Summary"))))))),"U"===ee?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type\xa0","OC"===qe&&n.a.createElement(Xt.a,{bg:"primary",className:"handCursor",onClick:()=>{$e(re,"post",[e,"directexpensecommission",JSON.stringify({downloadType:"directexpensecommission",pageright:"TRAN_COMMISSION"})])}},"Format")),n.a.createElement(s.a.Select,{value:qe,onChange:e=>ze(e.target.value)},n.a.createElement("option",{value:"TW"},"Transaction Wise"),n.a.createElement("option",{value:"CW"},"Commission Wise"),n.a.createElement("option",{value:"OC"},"Other Commission")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"uploadCommission"},n.a.createElement(s.a.Label,null,"File* (MAX 10MB)"),n.a.createElement(s.a.Control,{type:"file",value:U,onChange:e=>(e=>{Y(e)})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var a=[],t=0,l=document.getElementById("uploadCommission").files[0];if(null===N)La()(".loader").hide(),a[t++]=d("MSG0006"),a[t++]=null===N?"Location.":"",R(ta(a)),P(!0);else if(void 0===l)La()(".loader").hide(),R("Please select a file to upload."),P(!0);else if(l.name.split(".").length>2)La()(".loader").hide(),R("(.) not allowed in file name."),P(!0);else if("xlsx"!==l.name.split(".")[1])La()(".loader").hide(),R("File extension must be xlsx."),P(!0);else if(l.size>10485760)La()(".loader").hide(),R("Please select a file with in 10 MB size."),P(!0);else{H([]);const a={sid:e,pageright:"TRAN_COMMISSION",uploadType:"uploadcommission",location:J,locationname:V,frmDate:be,toDate:ye,reportType:qe,hdrsrno:ie,type:"CM",filename:U,commissionData:K,state:q};Ze(JSON.stringify(a),"uploadCommission",e=>{La()(".loader").hide();let a=JSON.parse(e);P(!0),R(a.msg),H(a.docdetail),Y("")})}})()},"Upload"))),n.a.createElement(Oa.a,{style:{fontSize:"13px"}},"Please upload transaction wise report before commission report.")):n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search..",n.a.createElement("span",{className:"handCursor colorThemeBlue",title:"Help",onClick:e=>(P(!0),void R("Search on : Agent Number, Agent Name"))},n.a.createElement(pa.a,{icon:ja.l}))),n.a.createElement(s.a.Control,{placeholder:"Search",type:"text",value:Z,onChange:e=>(e=>{Be(e,$)})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:xe,onChange:e=>Ae(e.target.value)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"O"},"Ok"),n.a.createElement("option",{value:"A"},"Approve"),n.a.createElement("option",{value:"R"},"Rejected")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Gst Type"),n.a.createElement(s.a.Select,{value:Bt,onChange:e=>qt(e.target.value)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"WOGST"},"Without GST"),n.a.createElement("option",{value:"HGST"},"Hold GST"),n.a.createElement("option",{value:"WGST"},"With GST")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>ll("S")},"Search"),"\xa0",n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>ll("R")},"Reset"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"commissionCheck"},n.a.createElement("span",null,"All\xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:Ia,onChange:e=>el(e.target.checked)}))),n.a.createElement("th",null,"Action"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Gst Type"),n.a.createElement("th",null,"Fa Type"),n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Invoice Number"),n.a.createElement("th",null,"Invoice Date")),n.a.createElement("th",null,"Cert No"),n.a.createElement("th",null,"Tran Date"),n.a.createElement("th",null,"Net Margin"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"Total Payable"))),n.a.createElement("tbody",null,K.map((e,a)=>n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:e.det_cert_no},n.a.createElement("td",null,n.a.createElement("div",{style:{display:"1"==e.det_submit_approval||"NOFA"===e.det_fa_type?"none":"block"}},n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:Ia||"1"===e.selected&&"checked",onClick:e=>((e,a,t)=>{let l=K.map((l,n)=>a!==n?l:"selected"===e?(wa(!1),t.target.checked?{...l,[e]:"1"}:{...l,[e]:"0"}):void 0);H(l)})("selected",a,e)})),"\xa0",""===e.det_agent_name&&n.a.createElement("span",{title:"Add Agent Details",className:"handCursor colorThemeBlue",onClick:()=>(e=>{Ua(!0),Va({agentcode:e,location:J,locationname:V,setShowAgentForm:Ua})})(e.det_agent_code)},n.a.createElement(pa.a,{icon:ba.d}))))),n.a.createElement("td",{className:"commissionCheck"},"1"==e.det_submit_approval||"NOFA"===e.det_fa_type?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor",title:"Approve",style:{color:"green"}},n.a.createElement(pa.a,{icon:ja.e,onClick:()=>tl("O",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})),"\xa0\xa0",n.a.createElement("span",{className:"handCursor colorThemeBlue",title:"Hold"},n.a.createElement(pa.a,{icon:ja.f,onClick:()=>tl("H",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})))),n.a.createElement("td",null,"P"===e.det_status?"Pending":"R"===e.det_status?"Rejected":"A"===e.det_status?"Approve":"H"===e.det_status?"Hold":"O"===e.det_status?"Ok":""),n.a.createElement("td",{style:{backgroundColor:1*e.det_commission_total-Math.round(.05*e.det_commission_total)<0&&"red"}},e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.det_gst_type),n.a.createElement("td",null,e.det_fa_type),n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.det_agent_invoice_num),n.a.createElement("td",null,e.det_agent_invoice_date)),"0"==e.det_cert_no?n.a.createElement("td",null,e.det_key):n.a.createElement("td",null,e.det_type+" "+e.det_cert_no),n.a.createElement("td",null,e.det_tran_date),n.a.createElement("td",null,e.det_total_margins),n.a.createElement("td",null,e.det_commission_total),n.a.createElement("td",null,e.det_igst),n.a.createElement("td",null,e.det_cgst),n.a.createElement("td",null,e.det_sgst),n.a.createElement("td",null,e.det_tds),n.a.createElement("td",null,e.det_commission_net)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:17},"Account No: ",n.a.createElement("b",null,e.det_account_no,","),"\xa0 IFSC: ",n.a.createElement("b",null,e.det_ifsc,","),"\xa0 Account Name: ",n.a.createElement("b",null,e.det_account_name)))))))))):"BmQ"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,V," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},"COMMISSION"===Et?n.a.createElement("span",null,"Status : ",n.a.createElement("b",null,"A"===we?"Approved":"B"===we?"Pending ZM":"Pending BM")):n.a.createElement("span",null,"Status : ",n.a.createElement("b",null,"A"===mt?"Approved":"Pending"))),n.a.createElement(Na.a,{className:"col-md-4 col-4"},n.a.createElement("span",null,"Agent : ",n.a.createElement("b",null,da))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Account No : ",n.a.createElement("b",null,ca))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"IFSC : ",n.a.createElement("b",null,ua)))),n.a.createElement(Oa.a,null,"\xa0"),"COMMISSION"===Et?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GST Type : ",n.a.createElement("b",null,Ca))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"FA Type : ",n.a.createElement("b",null,ha))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Total Commission : ",n.a.createElement("b",null,ea))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GST : ",n.a.createElement("b",null,Ta))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"TDS : ",n.a.createElement("b",null,na))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Net Payable : ",n.a.createElement("b",null,We)))):n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Number : ",n.a.createElement("b",null,wt))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Date : ",n.a.createElement("b",null,At))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GstIN : ",n.a.createElement("b",null,gt))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Total GST : ",n.a.createElement("b",null,Ta)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>M("")},"Back"),"\xa0","COMMISSION"===Et&&("BM"===pt&&"P"!==we||"ZM"===pt&&"B"!==we)||"GST"===Et&&"A"===mt?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>ml("A","O")},"Approve"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>ml("R","O")},"Reject")),"1"===E.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Ht()},"Activity Log"),"\xa0"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Cert No"),n.a.createElement("th",null,"Client Name"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Tran Date"),"COMMISSION"===Et?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Net Margin"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"Total Payable")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"sgst"),n.a.createElement("th",null,"cgst"),n.a.createElement("th",null,"igst"),n.a.createElement("th",null,"Total Gst")))),n.a.createElement("tbody",null,ke.map((e,a)=>n.a.createElement("tr",{key:e.det_cert_no},n.a.createElement("td",null,e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.det_type+" "+e.det_cert_no),n.a.createElement("td",null,e.det_client_name),n.a.createElement("td",null,e.det_isd),n.a.createElement("td",null,e.det_tran_date),"COMMISSION"===Et?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.det_total_margins),n.a.createElement("td",null,e.det_commission_total),n.a.createElement("td",null,e.det_tds),n.a.createElement("td",null,e.det_commission_net)):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.det_sgst),n.a.createElement("td",null,e.det_cgst),n.a.createElement("td",null,e.det_igst),n.a.createElement("td",null,1*e.det_sgst+1*e.det_cgst+1*e.det_igst))))))))):"GST"===w?n.a.createElement(Kl,{obj:st,holdGstData:at}):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Ba.a,{show:nt,size:"xl",onHide:()=>ot(!1),backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"Payable Summary"),n.a.createElement("span",null,"\xa0"),n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>{const a={hdrsrno:ie,location:J,listtype:"summary",statusfilter:Pt};$e(ve,"post",[e,"summarydownload",JSON.stringify(a)])}},n.a.createElement(pa.a,{icon:Il.faDownload})))))),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-5"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status\xa0"),n.a.createElement(s.a.Select,{value:Pt,onChange:e=>nl(e.target.value)},n.a.createElement("option",{value:"ALL"},"ALL"),n.a.createElement("option",{value:"O"},"OK"),n.a.createElement("option",{value:"A"},"APPROVE"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"Total Commission: ",n.a.createElement("b",null,Ha)),"\xa0\xa0",n.a.createElement("span",null,"Total TDS: ",n.a.createElement("b",null,$a)),"\xa0\xa0",n.a.createElement("span",null,"Total Payable: ",n.a.createElement("b",null,Xa)))),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent Code"),n.a.createElement("th",null,"Agent Name"),n.a.createElement("th",null,"GST Type"),n.a.createElement("th",null,"FA Type"),n.a.createElement("th",null,"Pur Commission"),n.a.createElement("th",null,"Sale Comission"),n.a.createElement("th",null,"Net Margin(Sale)"),n.a.createElement("th",null,"Total Commission"),n.a.createElement("th",null,"Total TDS"),n.a.createElement("th",null,"Total GST"),n.a.createElement("th",null,"Total Payable"),n.a.createElement("th",null,"BM Approved"),n.a.createElement("th",null,"ZM Approved"),n.a.createElement("th",null,"Payment"))),n.a.createElement("tbody",null,Ya.map(e=>n.a.createElement("tr",{key:e.det_agent_code},n.a.createElement("td",null,e.det_agent_code),n.a.createElement("td",null,e.det_agent_name),n.a.createElement("td",null,e.det_gst_type),n.a.createElement("td",null,e.det_fa_type),n.a.createElement("td",null,e.det_commission_purchase),n.a.createElement("td",null,e.det_commission_sale),n.a.createElement("td",null,e.totalmargin),n.a.createElement("td",null,e.totalcommission),n.a.createElement("td",null,e.totaltds),n.a.createElement("td",null,1*e.det_igst+1*e.det_cgst+1*e.det_sgst),n.a.createElement("td",null,e.netcommission),n.a.createElement("td",null,"1"===e.det_bm_approved?"YES":"NO"),n.a.createElement("td",null,"1"===e.det_zm_approved?"YES":"NO"),n.a.createElement("td",null,"D"===e.tmp_status?"Done":"NP"===e.tmp_status?"N/A":"Pending")))))))),n.a.createElement(Ba.a,{show:jt,size:"lg",onHide:()=>Tt(!1),backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},"Download Type : ",_t),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Select,{value:vt,onChange:e=>Ct(e.target.value)},n.a.createElement("option",{value:"N"},"New"),n.a.createElement("option",{value:"A"},"All"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{className:"col-md-6",variant:"outline-primary",onClick:()=>{const a={fatype:_t,faDownloadType:vt,location:J,hdrsrno:ie};$e(ve,"post",[e,"downloadfa",JSON.stringify(a)]),Tt(!1)}},"Download"))))),n.a.createElement(Ba.a,{show:St,size:"xl",onHide:()=>yt(!1),backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0}),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent Code"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"GST"),n.a.createElement("th",null,"Net Payable"))),n.a.createElement("tbody",null,Ot.map((e,a)=>n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",null,e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.totalcommission),n.a.createElement("td",null,e.totaltds),n.a.createElement("td",null,1*e.det_igst+1*e.det_cgst+1*e.det_sgst),n.a.createElement("td",null,e.netcommission)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:15},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Number"),n.a.createElement(s.a.Control,{type:"text",maxLength:50,name:"invoicenum",value:e.invoicenum,onChange:e=>rl(e.target.value,a,"invoicenum")}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Date"),n.a.createElement(Gt.a,{className:"form-control",selected:null===e.invoicedate?null:new Date(e.invoicedate),onChange:e=>rl(Ue(e),a,"invoicedate"),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))))))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyles",onClick:()=>(()=>{La()(".loader").show();{const a={invoiceData:Ot,hdrsrno:ie,location:J,searchFilter:Z.trim(),filterStatus:xe,filterGstType:Bt};De(ve,[e,"updateinvoice",JSON.stringify(a)],e=>{La()(".loader").hide();let a=JSON.parse(e);el(!1),yt(!1),P(!0),R("Invoice details updated successfully."),H(a.data)})}})()},"Update"))))),n.a.createElement(Ba.a,{show:kt,size:"xl",onHide:()=>Dt(!1),backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0}),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"GST Type"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"GST"),n.a.createElement("th",null,"Net Payable"))),n.a.createElement("tbody",null,Lt.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.app_gst_type),n.a.createElement("td",null,e.app_total_commission),n.a.createElement("td",null,e.app_tds),n.a.createElement("td",null,1*e.app_igst+1*e.app_sgst+1*e.app_cgst),n.a.createElement("td",null,e.app_payable)))))),n.a.createElement(Oa.a,null,n.a.createElement(i.a,{variant:"primary",onClick:()=>{La()(".loader").show();const a={hdrsrno:ie,location:J,commissionData:K,searchFilter:Z.trim(),filterStatus:xe,filterGstType:Bt};for(var t=!1,l="Please select transactions.",n=0;n<K.length;n++){if("1"==K[n].selected&&(t=!0,l=""),"1"==K[n].selected&&"O"!=K[n].det_status){t=!1,l="Please mark OK to each transaction before sending it to BM.";break}if("1"==K[n].selected&&"O"==K[n].det_status&&("WGST"===K[n].det_gst_type||"HGST"===K[n].det_gst_type)&&(""===K[n].det_agent_invoice_num||null===K[n].det_agent_invoice_date)){t=!1,l="Please fill invoice details of transactions with WGST and HGST records.";break}}t?De(ve,[e,"sendtoapproval",JSON.stringify(a)],e=>{La()(".loader").hide();let a=JSON.parse(e);H(a.commdata),P(!0),R(a.msg)}):(La()(".loader").hide(),P(!0),R(l)),Dt(!1),el(!1)}},"Send For Approval")))),n.a.createElement(Sa,{isOpen:G,onClose:e=>P(!1)},F),n.a.createElement(Ja,{isOpen:_e,onYes:e=>$t(),onNo:e=>fe(!1)},je),n.a.createElement(qa,{logObject:Ma,show:Ga,onHide:()=>{Pa(!1)}}))};var Wl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchallowed"),r=sessionStorage.getItem("branchDisable"),[c,o]=Object(l.useState)({value:0,label:"Select"}),[u,E]=Object(l.useState)(null),[p,b]=Object(l.useState)([]),[g,h]=Object(l.useState)(!1),[S,y]=Object(l.useState)(!0),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)([]),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(null),[B,q]=Object(l.useState)("0"),[z,V]=Object(l.useState)(""),[Q,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(""),$=new Date,[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[ne,ce]=Object(l.useState)("");Object(l.useEffect)(()=>{g||(oa().then(e=>{E(e),null!=e&&se(e)}),De(_,[a,"all","TRAN_CURRENCY_STOCK"],function(a){let t=JSON.parse(a);"1"===t.query?b(t):e("/")}),h(!0))},[g,a,e]);var oe=[],me=0;const ue=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));L(l)},se=e=>{E(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Currency Stock"))),"\xa0",S?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:u,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:se,isDisabled:"true"===r})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===p.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(null==u)oe[me++]=d("MSG0006"),oe[me++]=null===u?" Please select location.":"",W(ta(oe)),K(!0);else{y(!1);const e=u.id.split("^");console.log(u),A(e[1]),o(e[2]),De("/api/tran_currency_stock_a.php",[a,"listCurrencyStocks",e[1]],e=>{let a=JSON.parse(e);console.log(a),w(a.resarray),q(a.sumamount)})}})()},"List"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:function(){$e(re,"post",[a,"downloadFormat",JSON.stringify({srno:23,pageright:"TRAN_OPN_CN_IMPORT",downloadType:"downloadFormat"})])}},"Download Format"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{N(!1),U(!0)}},"Import"),"\xa0"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",c))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{O?N(!1):Q?U(!1):y(!0)}},"Back")," ","1"!==p.add||O?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{const e=new Date,t=X,l=Ue(e),n=new Date(t),r=new Date(l)-n,o=Math.ceil(r/864e5);console.log(o);const m={srno:1,type:"OPNCN",pageright:"TRAN_CURRENCY_STOCK"};De(Se,[a,"checkUnlock",JSON.stringify(m)],t=>{let l=JSON.parse(t);if(_e==o||"unlock"==l)N(!0),U(!1);else{let t;De(Se,[a,"getStatus",JSON.stringify(m)],a=>{t=JSON.parse(a),le({trantype:"OPNCN",trannumber:1,location:x,entity_name:c,tranDate:Ue(e),tdu_status:t}),ae(!0)})}})}},"Edit")),"\xa0")),"\xa0"),Q&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"importExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:z,onChange:e=>V(e.target.value)}))),"\xa0",n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(La()(".loader").show(),void 0===document.getElementById("importExcel").files[0])La()(".loader").hide(),W("Please select a file to upload."),K(!0);else{var e=document.getElementById("importExcel").files[0].name.split(".");if(e.length>2)La()(".loader").hide(),W("(.) not allowed in file name."),K(!0);else if(document.getElementById("importExcel").files[0].size>10485760)La()(".loader").hide(),W("Please select a file with in 10 MB size."),K(!0);else if("xlsx"!=e[1])La()(".loader").hide(),W("File extension should be in xlsx format"),K(!0);else{const e={loc:x,srno:8888,uploadType:"uploadCurrency",pageright:"TRAN_OPN_CN_IMPORT",sid:a,currencyFile:z,loc:x,allowedLocation:t.split(",")};Ze(JSON.stringify(e),"importExcel",e=>{let a=JSON.parse(e);console.log(a),La()(".loader").hide(),a.err.trim()?(W("<p className='text-danger'>".concat(a.err,"</p>")),K(!0)):(w(a.docdetail.resarray),q(a.docdetail.sumamount),W("<p className='text-success'>".concat(a.msg,"</p>")),console.log(a.msg),K(!0))})}}})()},"Submit")," "),"\xa0"),O&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:P,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"CN"),onInputChange:rt,onChange:e=>{const t={isd:e.id.split("^")[1],location:x,product:"CN"};De(pe,[a,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);ce(1*a.usdratebuy)}),J(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:v,onChange:e=>(e=>{Me(e.target.value,C),ue(e.target.value,f,T)})(e),placeholder:"Denomination",maxLength:fe}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:f,onChange:e=>(e=>{Ie(e.target.value,j),ue(v,e.target.value,T)})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:T,onChange:e=>(e=>{Me(e.target.value,k),ue(v,f,e.target.value)})(e),maxLength:fe,placeholder:"Rate"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:D,disabled:!0,maxLength:fe})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""==v||""==f||""==T)oe[me++]=d("MSG0006"),oe[me++]=null===P?" Please select currency.":"",oe[me++]=""===v?" Please fill denomination.":"",oe[me++]=""===f?" Please fill quantity.":"",oe[me++]=""===T?" Please fill rate.":"",W(ta(oe)),K(!0);else{La()(".loader").show();let t=P.id.split("^");G(t[1]),F(t[2]);var e=0;""!=ne&&0!=ne&&(e=T*f*v/ne);const l={deno:v,qty:f,rate:T,loc:x,amt:D,currency:t[1],productType:"OPNCN",product:"CN",usdRate:""==ne?0:1*ne,usdAmt:e};De("/api/tran_currency_stock_a.php",[a,"addCurrencyStocks",JSON.stringify(l)],e=>{let a=JSON.parse(e);"1"===a.msg?(La()(".loader").hide(),w(a.currStock.resarray),q(a.currStock.sumamount),C(""),k(""),j(""),L(""),J("")):(La()(".loader").hide(),K(!0),W(a.msg))});const n={srno:1,type:"OPNCN",status:"E",currentDate:Ue($),pageright:"TRAN_CURRENCY_STOCK"};De(Se,[a,"expireUnlock",JSON.stringify(n)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!S&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,"0"!=B&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:7}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:2},n.a.createElement("b",null,"Total Amount:")," ",n.a.createElement("span",null,B))),n.a.createElement("tr",null,"1"===p.edit&&O?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",{style:{textAlign:"right"}},"Denomination"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"USD Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"USD Amount"))),n.a.createElement("tbody",null,I.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===p.delete&&O?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_currency_stock_a.php",[a,"deleteCurrencyStock",e,x],e=>{let a=JSON.parse(e);console.log(a),w(a.resarray),q(a.sumamount)})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount)))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:Y,onClose:function(){V(""),K(!1)}},H),n.a.createElement(zt,{logObject:te,show:ee,hdrNotExist:!0,onHide:()=>ae(!1)})))},Xl=t(160);var Zl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(0),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)("IB"),[w,M]=Object(l.useState)(new Date),[F,R]=Object(l.useState)(new Date),[G,P]=Object(l.useState)("T");var J=[],B=0;const[q,z]=Object(l.useState)(!1),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(!1),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)("A"),[ee,ae]=Object(l.useState)(0);Object(l.useEffect)(()=>{E||(oa().then(e=>{v(e),null!=e&&te(e)}),De(_,[a,"all","TRAN_DATA_UNLOCK"],function(a){let t=JSON.parse(a);"1"===t.query?c(t):e("/")}),p(!0))},[E,a,e]);const te=e=>{v(e);const a=e.id.split("^");f(a[1]),T(a[2]),sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Data Unlock ",n.a.createElement("span",{style:{color:"white"}},o))))," \xa0",""==y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>te(e),isDisabled:"true"===t}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Unlock Type"),n.a.createElement(Xl.a,{value:G,onChange:e=>P(e.target.value),required:!0},n.a.createElement("option",{value:"T"},"Transaction"),n.a.createElement("option",{value:"P"},"Period")))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(null===N)Q("Please Select Location!"),z(!0);else{const e={status:"P",type:"IB",location:C,unlockType:G};De(be,[a,"getData",JSON.stringify(e)],e=>{let a=JSON.parse(e);g(a)})}}},"List")," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{N?(O("A"),ae(0)):(J[B++]=d("MSG0006"),J[B++]=N?"":"Please select location.",Q(ta(J)),z(!0))}},"Add New"))),"\xa0",b.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"User"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Request"))),n.a.createElement("tbody",null,b.map(e=>n.a.createElement("tr",{key:e.tdu_srno},n.a.createElement("td",null,e.tdu_tran_type),n.a.createElement("td",null,e.tdu_tran_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.um_id),n.a.createElement("td",null,"P"===e.tdu_status?"Pending":"A"===e.tdu_status?"Approved":"R"===e.tdu_status?"Rejected":"E"===e.tdu_status?"Expired":""),"P"===e.tdu_status&&n.a.createElement("td",null,n.a.createElement(i.a,{variant:"primary",onClick:()=>((e,t,l,n,r,c,o)=>{let m=new Date;const u={srno:e,tran_srno:t,type:l,status:"A",currentDate:Ue(m),fromDate:n,toDate:r,unlockType:c,location:o};De(be,[a,"approveRequest",JSON.stringify(u)],e=>{let a=JSON.parse(e);g(a)})})(e.tdu_srno,e.tdu_tran_srno,e.tdu_tran_type,e.tdu_from_date,e.tdu_to_date,e.tdu_unlock_type,e.tdu_tran_loc)},"Approve")," ",n.a.createElement(i.a,{variant:"danger"},"Reject"))))))))):"A"==y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{O("")}},"Back")," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{const e={location:C,lockEntry:h,unlockType:G,status:"P"};De(be,[a,"saveEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),g(a),O(""),ae(0)})}},"Save"))),"\xa0",n.a.createElement(Oa.a,null,"T"==G&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:k,onChange:e=>Ie(e.target.value,D),placeholder:"From Srno"}))),"T"==G&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:L,onChange:e=>Ie(e.target.value,x),placeholder:"To Srno"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(Xl.a,{value:A,onChange:e=>I(e.target.value),required:!0},"P"==G&&n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"BK"},"BK"),n.a.createElement("option",{value:"CS"},"CS"),n.a.createElement("option",{value:"JV"},"JV"),n.a.createElement("option",{value:"IB"},"IB")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:F,onChange:e=>R(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(!k&&"T"==G||!L&&"T"==G||!F)J[B++]=d("MSG0006"),J[B++]=k||"T"!=G?"":"Please enter from srno.",J[B++]=L||"T"!=G?"":"Please enter to srno.",J[B++]=A?"":"Please enter type",J[B++]=F?"":"Please enter till date",Q(ta(J)),z(!0);else{const e={uniquekey:Xe(15),tdud_lineno:ee+1,tdud_from:k,tdud_to:L,to_date:Ue(F),fromDate:Ue(w),tdu_tran_type:A,delny:"Y"};console.log(e),S(We(h,e)),u(o+1),D(""),x(""),M(new Date),R(new Date),I("IB")}}},"Add"))),"\xa0",h.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===r.delete?n.a.createElement("th",null):null,n.a.createElement("th",null,"Type"),"T"==G?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"From Srno"),n.a.createElement("th",null,"To Srno")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Till Date")))),n.a.createElement("tbody",null,h.map(e=>n.a.createElement("tr",null,"1"===r.delete?n.a.createElement("td",{className:"textCenter"},"E"!=y&&"A"!=y||"Y"!=e.delny?null:n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l)=>{console.log("here"),S(He(h,"uniquekey",e)),u(o-1)})(e.uniquekey,e.tdud_srno,e.tdud_line_no,e.tdu_tran_type)},n.a.createElement(pa.a,{icon:ja.o}))):null,n.a.createElement("td",null,e.tdu_tran_type),"T"==G?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tdud_from),n.a.createElement("td",null,e.tdud_to)):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.to_date))))))))):n.a.createElement(n.a.Fragment,null)),n.a.createElement(Sa,{isOpen:q,onClose:e=>z(!1)},V),n.a.createElement(Ja,{isOpen:U,onYes:e=>(O(""),void Y(!1)),onNo:e=>Y(!1)},K),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var $l=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)([]),[k,D]=Object(l.useState)([]),[L,x]=Object(l.useState)("S"),[A,I]=Object(l.useState)(null),[w,M]=Object(l.useState)(0),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(new Date),[V,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(new Date),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(0);Object(l.useEffect)(()=>{o||(oa().then(e=>{I(e),null!=e&&ne(e)}),De(_,[a,"all","TRAN_EVTM_SURRENDER"],a=>{let t=JSON.parse(a);"1"===t.query?c(t):e("/")}),u(!0))},[o,a,e]);const ne=e=>{I(e);const a=e.id.split("^");M(a[1]),R(a[2]),sessionStorage.activeBranch=a[1]},re=()=>{g(!1),p("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null," EVTM Surrender"))),n.a.createElement(Oa.a,null,"\xa0"),""===E?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:ne,isDisabled:"true"===t}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===L,onChange:()=>x("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===L,onChange:()=>x("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"S"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:G,maxLength:20,onChange:e=>Ie(e.target.value,P),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:J,maxLength:20,onChange:e=>Ie(e.target.value,B),placeholder:"To"})))):"D"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:q,onChange:e=>z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:V,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===r.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=[],t=0;if(null===A)La()(".loader").hide(),v("Please Select Location!"),O(!0);else if("S"===L&&!G||"S"===L&&!J||"D"===L&&!q||"D"===L&&!V)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]="S"!==L||G?"":" From.",e[t++]="S"!==L||J?"":" To.",e[t++]="D"!==L||q?"":" From Date.",e[t++]="D"!==L||V?"":" To Date.",v(ta(e)),O(!0);else{const e={location:w,filterRadioType:L,filterFromSrno:G,filterToSrno:J,filterFromDate:Ue(q),filterToDate:Ue(V)};De("/api/tran_evtm_surrender_a.php",[a,"list",JSON.stringify(e)],e=>{La()(".loader").hide();let a=JSON.parse(e);f(a)})}})()},"List"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===r.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,C.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===r.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o)=>{le(e),La()(".loader").show(),p("Q"),R(n),Y(r),X(c),H(o);const m={srno:e,location:l,type:t};De("/api/tran_evtm_surrender_a.php",[a,"view",JSON.stringify(m)],e=>{La()(".loader").hide();let a=JSON.parse(e);T(a.productData),D(a.paymentData)})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.entity_name,e.ledger,e.hdr_forex_total,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_forex_total)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>re()},"Back")," "," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(La()(".loader").show(),ae(!0),void De("/api/tran_evtm_surrender_a.php",[a,"faView"],e=>{La()(".loader").hide();let a=JSON.parse(e);$(a)}))},"faView"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Srno : ",n.a.createElement("b",null,te," "))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location:")," ",F)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date:")," ",K)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Ledger: "),U)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Total:")," ",W))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Product Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,j.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.prd_date),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Payment Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,k.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.tp_line_no),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.tp_payment_type),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(Ja,{isOpen:b,onYes:e=>re(),onNo:e=>g(!1)},h)),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:ee,onHide:()=>ae(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Flag"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,Z.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",null,e.tfd_line_no),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tfd_type),n.a.createElement("td",null,e.tfd_date),n.a.createElement("td",null,"C"===e.tfd_flag?"CREDIT":"DEBIT"),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.tfd_amount),n.a.createElement("td",null,"1"===e.tfd_active?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>ae(!1)},"Close")))))};var en=function(){const e=sessionStorage.getItem("startDate"),a=sessionStorage.getItem("endDate"),t=sessionStorage.getItem("sessionId"),r=sessionStorage.getItem("branchDisable"),c=Object(m.n)(),[o,u]=Object(l.useState)("N"),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(0),[y,O]=Object(l.useState)("INFO"),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)(null),[q,z]=Object(l.useState)(new Date),[V,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)(null),[te,le]=Object(l.useState)("N"),[ne,re]=Object(l.useState)(0),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(null),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[Se,Oe]=Object(l.useState)("A"),[Ne,ve]=Object(l.useState)(null),[Ce,_e]=Object(l.useState)(null),[fe,je]=Object(l.useState)(""),[Te,ke]=Object(l.useState)(""),[Le,xe]=Object(l.useState)("SEARCH"),[Ae,we]=Object(l.useState)(null),[Fe,Re]=Object(l.useState)(""),[Ge,Pe]=Object(l.useState)(""),[Je,Be]=Object(l.useState)(""),[qe,ze]=Object(l.useState)(null),[Ve,Qe]=Object(l.useState)(null),[Ke,Ze]=Object(l.useState)([]),[$e,ea]=Object(l.useState)(""),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)([]),[ma,ua]=Object(l.useState)([]),[sa,ia]=Object(l.useState)(1),[Ea,da]=Object(l.useState)(0),[ba,ga]=Object(l.useState)(0),[ha,va]=Object(l.useState)(0),[Ca,_a]=Object(l.useState)(0),[Ta,Da]=Object(l.useState)(0),[xa,Aa]=Object(l.useState)(0),[Ia,wa]=Object(l.useState)(0),[Ma,Fa]=Object(l.useState)(0),[Ga,Pa]=Object(l.useState)(0),[qa,za]=Object(l.useState)(""),[Va,Qa]=Object(l.useState)([]),[Ua,Ya]=Object(l.useState)(null),[Ka,Ha]=Object(l.useState)(""),[Wa,Xa]=Object(l.useState)(null),[Za,$a]=Object(l.useState)(""),[lt,nt]=Object(l.useState)("SEARCH"),[ot,mt]=Object(l.useState)(""),[ut,Et]=Object(l.useState)(""),[dt,pt]=Object(l.useState)([]),[bt,gt]=Object(l.useState)([]),[ht,St]=Object(l.useState)(1),[yt,Ot]=Object(l.useState)(0),[Nt,vt]=Object(l.useState)(0);Object(l.useEffect)(()=>{oa().then(e=>{B(e),null!=e&&Ct(e)}),De(_,[t,"all","TRAN_GL_SETTLEMENT_VTM"],function(e){let a=JSON.parse(e);"1"===a.query?p(a):c("/")})},[]);const Ct=e=>{B(e);var a=e.id.split("^");oe(a[1]),R(a[2]),sessionStorage.activeBranch=a[1]},ft=e=>{let a;"SETTLEMENT"==y?(ze(e),a=e.id.split("^"),Re(a[1])):"SURRENDER"==y&&(Xa(e),a=e.id.split("^"),$a(a[1]))},jt=e=>{"SETTLEMENT"==y?(xe(e),_e(null),je(""),ke(""),ua([])):"SURRENDER"==y&&(nt(e),Ya(null),mt(""),Et(""),pt([]))},Tt=e=>{var a;"SETTLEMENT"==y?(_e(e),a=e.id.split("^"),ke(a[4])):"SURRENDER"==y&&(Ya(e),a=e.id.split("^"),Et(a[4]))},kt=()=>{v(!1),I("")},Lt=e=>{let a,t=0;for(a=0;a<e.length;a++)t+=1*e[a].prd_amount;Ot(t)},xt=e=>{var a=[],l=0,n=[];if(null===Wa||null===Z||""===ot||0===ot||"SEARCH"===lt&&null===Ua||"FIFO"===lt&&""===ut)n[l++]=d("MSG0006"),n[l++]=null===Wa?"Currency":"",n[l++]=null===Z?"Issuer":"",n[l++]=""===ot||0===ot?"Rate can't be zero or null":"",n[l++]="SEARCH"===lt&&null===Ua?"Reference Number":"",n[l++]="FIFO"===lt&&""===Ua?"Value":"",D(ta(n)),T(!0);else{var r=Ve.id.split("^");const e={isd:Za,group:Je,account:Ge,location:"S"===Ka?Va:qa,type:"EVT"};if("FIFO"===lt||"SELECTIVE"===lt){var c=ut;De(ye,[t,"fifovtlist",JSON.stringify(e)],e=>{let t=JSON.parse(e),l=!1;for(var n=0;n<t.length;n++)if(t[n].prd_rate=ot,t[n].prd_amount=t[n].prd_deno*ot,t[n].prd_account=Ge,t[n].prd_group=Je,t[n].mvli_ledger_name=r[5],t[n].uniquekey=Xe(),"FIFO"===lt){if(c<0)break;c>=1*t[n].prd_deno&&!At(t[n])&&(l=!0,gt(We(bt,t[n])),c-=1*t[n].prd_deno)}else l=!0,At(t[n])||(a=We(a,t[n])),g(!0);ua(a),l||(T(!0),D("EVTM not available for settlement"))})}else{var o=Ua.id.split("^");console.log(o);const e={uniquekey:Xe(),prd_type:"EVT",prd_isd:Za,prd_line_no:o[1],prd_location:o[2],prd_srno:o[3],prd_deno:o[4],prd_amount:ot*o[4],prd_from:o[5],entity_name:o[6],mvli_ledger_name:r[5],prd_account:Ge,prd_group:Je,prd_rate:ot,prd_qty:1,delny:"Y"};console.log(e),At(e)?(T(!0),D("EVTM already added.")):gt(We(bt,e))}(e=>{let a,t=0;for(a=0;a<e.length;a++)t+=1*e[a].prd_amount;vt(t)})(bt),S(h+1),Ya(null),mt(""),Et(""),Xa("")}};function At(e){return ra.some(a=>a.prd_srno===e.prd_srno&&a.prd_line_no===e.prd_line_no&&a.prd_location===e.prd_location)}const It=e=>{let a;"SETTLEMENT"==y?(a=He(ra,"uniquekey",e),ca(a),S(h-1)):"SURRENDER"==y&&(a=He(bt,"uniquekey",e),gt(a),S(h-1))},wt=(e,a,t)=>{"SETTLEMENT"==y?(M(e),Ze(a),_e(null),ea(t)):"SURRENDER"==y&&(za(e),Qa(a),Ya(null),Ha(t))};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Global VTM Settlement"))),""===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Ct,isDisabled:"true"===r}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===o,onChange:()=>u("N"),type:"radio",label:"New"}),n.a.createElement(s.a.Check,{checked:"S"===o,onChange:()=>u("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===o,onChange:()=>u("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(Gt.a,{className:"form-control",selected:q,onChange:e=>z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sale Type"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"EEFCB"},"EEFC"))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER","0"),onInputChange:rt,onChange:e=>{$(e),Qe(e);var a=e.id.split("^");Be(a[1]),Pe(a[2]),na(a[5])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"BANK","0"),onInputChange:rt,onChange:e=>ae(e)}))))):"S"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:U,onChange:e=>Ie(e.target.value,Y)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:K,onChange:e=>Ie(e.target.value,H)})))):"D"===o||"I"===o||"C"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:V,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:W,onChange:e=>X(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===E.query&&"N"!==o?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(La()(".loader").show(),null===J||"S"===o&&!U||"S"===o&&!K||"D"===o&&!V||"D"===o&&!W)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===J?" Location.":"",e[a++]="S"!==o||U?"":" From Srno.",e[a++]="S"!==o||K?"":" To Srno.",e[a++]="D"!==o||V?"":" From Date.",e[a++]="D"!==o||W?"":" To Date.",D(ta(e)),T(!0);else{const e={location:ce,type:"GVT",radioType:o,stSrnoTo:K,stSrnoFrom:U,stToDate:Ue(W),stFromDate:Ue(V)};De(ye,[t,"listdata",JSON.stringify(e)],e=>{La()(".loader").hide(),P(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===E.add&&"N"===o?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var t=Ue(q),l=Ye(q);x(l),Ue(new Date);var n=[],r=0;if(null==J||null===Ve||null===ee)n[r++]=d("MSG0006"),n[r++]=null==J?"Location.":"",n[r++]=null===Ve?"Issuer.":"",n[r++]=null===ee?"Bank.":"",D(ta(n)),T(!0);else if(t>a||t<e)T(!0),D(d("MSG0010"));else{I("A"),re(0),ua([]),ca([]),de(null),ue(null),ie(""),be(""),he(""),ze(null),je(""),ke(""),_e(null);var c=Ve.id.split("^");Be(c[1]),Pe(c[2]),na(c[5])}})()},"Add New"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,G.map((e,a)=>n.a.createElement("tr",{key:e.hdr_srno+"^"+e.hdr_location},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((e,a,l,n)=>{La()(".loader").show(),x(n),re(e),O("INFO"),I("Q");const r={srno:e,location:a,type:l};De(ye,[t,"viewdata",JSON.stringify(r)],e=>{La()(".loader").hide();let a=JSON.parse(e);console.log(a),R(a.locname),I("Q"),$({id:a.issid,label:a.isslabel}),ca(a.productlist),ia(a.maxline),gt(a.prdlistevtm),St(a.maxlineevtm),Be(a.grp),Pe(a.acct),na(a.accname)})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.i}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.hdr_ledger),n.a.createElement("td",null,e.hdr_group),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===A||"E"===A?(f(d("WRN0000")),v(!0)):kt())},"Back"),"\xa0","1"===E.edit&&"Q"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void I("E")},"Edit"),"\xa0"):null,"1"===E.edit&&"E"===A||"1"===E.add&&"A"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(bt<=0||ra<=0)D("Please enter record in settlemenmt or surrender."),T(!0);else{La()(".loader").show();const e={type:"GVT",srno:ne,location:ce,stIssuer:Z,stBank:ee,stNewDate:Ue(q),stSaleType:te,nTTValue:se,nTTDate:Ue(me),nManualNo:Ee,nRemark1:pe,nRemark2:ge,settlementList:ra,surrenderList:bt,totalSettlement:yt,totalSurrender:Nt,radioType:o,stToDate:Ue(W),stFromDate:Ue(V)};De(ye,[t,"savedata",JSON.stringify(e)],e=>{let a=JSON.parse(e);La()(".loader").hide(),T(!0),D(d(a.msg)),I(""),P(a.gvtdata)})}})()},"Save"),"\xa0"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",ne)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,F))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,L))),n.a.createElement(Na.a,{className:"col-md-4 col-4"},n.a.createElement("span",null,"Issuer : ",n.a.createElement("b",null,Je+" "+Ge+" "+la)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(et.a,{activeKey:y,defaultActiveKey:"INFO",onSelect:e=>(e=>{O(e)})(e)},n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value),disabled:!0},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"EEFBC"},"EEFBC")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",w),onInputChange:rt,isDisabled:!0,onChange:e=>$(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"BANK","0"),onInputChange:rt,onChange:e=>ae(e),isDisabled:!0})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual Number"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>_t(e,ce,"SP"),onInputChange:rt,onChange:e=>de(e),isDisabled:"Q"===A}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TT Value"),n.a.createElement(s.a.Control,{disabled:"Q"===A,value:se,onChange:e=>ie(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TT Date"),n.a.createElement(Gt.a,{className:"form-control",selected:me,onChange:e=>ue(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===A,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===A,value:pe,onChange:e=>be(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===A,value:ge,onChange:e=>he(e.target.value)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>O("SETTLEMENT")},"Product->")))),n.a.createElement(at.a,{eventKey:"SETTLEMENT",title:"Settlement"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Product Info"))),n.a.createElement(Oa.a,null,"\xa0"),"Q"===A?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:wt}))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:qe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,""),onInputChange:rt,onChange:ft}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Options"),n.a.createElement(s.a.Select,{value:Le,onChange:e=>jt(e.target.value)},n.a.createElement("option",{value:"SEARCH"},"Search"),n.a.createElement("option",{value:"FIFO"},"FIFO"),n.a.createElement("option",{value:"SELECTIVE"},"Selective")))),n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"SEARCH"===Le?"block":"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ce,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Dt(e,{isd:Fe,location:"S"===$e?Ke:w,group:Je,account:Ge,type:"VT"}),onInputChange:rt,onChange:Tt})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:fe,onChange:e=>Me(e.target.value,je)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"SELECTIVE"===Le&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Value"),n.a.createElement(s.a.Control,{disabled:"SEARCH"===Le,type:"text",maxLength:10,value:Te,onChange:e=>Me(e.target.value,ke)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(e=>{var a=[],l=0,n=[];if(null===qe||null===Z||""===fe||0===fe||"SEARCH"===Le&&null===Ce||"FIFO"===Le&&""===Te)n[l++]=d("MSG0006"),n[l++]=null===qe?"Currency":"",n[l++]=null===Z?"Issuer":"",n[l++]=""===fe||0===fe?"Rate can't be zero or null":"",n[l++]="SEARCH"===Le&&null===Ce?"Reference Number":"",n[l++]="FIFO"===Le&&""===Te?"Value":"",D(ta(n)),T(!0);else{var r=Ve.id.split("^");const e={isd:Fe,group:Je,account:Ge,location:"S"===$e?Ke:w,type:"VT"};if("FIFO"===Le||"SELECTIVE"===Le){var c=Te;De(ye,[t,"fifovtlist",JSON.stringify(e)],e=>{let t=JSON.parse(e),l=!1;for(var n=0;n<t.length;n++)if(t[n].prd_rate=fe,t[n].prd_amount=t[n].prd_deno*fe,t[n].prd_account=Ge,t[n].prd_group=Je,t[n].mvli_ledger_name=r[5],t[n].uniquekey=Xe(),"FIFO"===Le){if(c<0)break;c>=1*t[n].prd_deno&&!At(t[n])&&(l=!0,ca(We(ra,t[n])),c-=1*t[n].prd_deno)}else l=!0,At(t[n])||(a=We(a,t[n])),g(!0);ua(a),l||(T(!0),D("VTM not available for settlement"))})}else{var o=Ce.id.split("^");console.log(o);const e={uniquekey:Xe(),prd_type:"VT",prd_isd:Fe,prd_line_no:o[1],prd_location:o[2],prd_srno:o[3],prd_deno:o[4],prd_amount:fe*o[4],prd_from:o[5],entity_name:o[6],mvli_ledger_name:r[5],prd_account:Ge,prd_group:Je,prd_rate:fe,prd_qty:1,delny:"Y"};At(e)?(T(!0),D("VTM already added.")):ca(We(ra,e))}Lt(ra),S(h+1),_e(null),je(""),ke("")}})()},"Add"),"\xa0")),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Ref no"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,ra.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,"Q"===A?null:n.a.createElement("span",{onClick:()=>It(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(pa.a,{icon:ja.o}))))))))),n.a.createElement(at.a,{eventKey:"SURRENDER",title:"Surrender"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Surrender"))),n.a.createElement(Oa.a,null,"\xa0"),"Q"===A?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(Ut,{onDataFromChild:wt}))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Wa,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,""),onInputChange:rt,onChange:ft}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Options"),n.a.createElement(s.a.Select,{value:lt,onChange:e=>jt(e.target.value)},n.a.createElement("option",{value:"SEARCH"},"Search"),n.a.createElement("option",{value:"FIFO"},"FIFO"),n.a.createElement("option",{value:"SELECTIVE"},"Selective")))),n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"SEARCH"===lt?"block":"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ua,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Dt(e,{isd:Za,location:"S"===Ka?Va:qa,group:Je,account:Ge,type:"EVT"}),onInputChange:rt,onChange:Tt})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:ot,onChange:e=>Me(e.target.value,mt)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"SELECTIVE"===lt&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Value"),n.a.createElement(s.a.Control,{disabled:"SEARCH"===lt,type:"text",maxLength:10,value:ut,onChange:e=>Me(e.target.value,Et)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>xt()},"Add"),"\xa0")),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Ref no"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,bt.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,"Q"===A?null:n.a.createElement("span",{onClick:()=>It(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(pa.a,{icon:ja.o}))))))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement("span",{className:"corner-span"},h),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(Ja,{isOpen:N,onYes:e=>kt(),onNo:e=>v(!1)},C),n.a.createElement(Ba.a,{size:"lg",show:b,onHide:()=>g(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Ref No"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Value"))),n.a.createElement("tbody",null,ma.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement(s.a.Check,{name:"ischecked",onChange:e=>((e,a,t)=>{const l=ma.map((l,n)=>a!==n?l:"ischecked"===t?e.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}:void 0);ua(l)})(e,a,"ischecked")})),n.a.createElement("td",null,e.prd_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_deno)))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>{ma.map(e=>{"1"===e.ischecked&&(ca(We(ra,e)),g(!1))})}},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>{g(!1),ua([])}},"Cancel"))))};var an=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(!1),[o,u]=Object(l.useState)([]),[E,b]=Object(l.useState)([]),[g,h]=Object(l.useState)({value:0,label:"Select"}),[S,y]=Object(l.useState)("D"),[O,N]=Object(l.useState)(new Date),[v,C]=Object(l.useState)({value:0,label:"Select"}),[f,j]=Object(l.useState)([]),[T,k]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(""),[I,w]=Object(l.useState)(null),[M,F]=Object(l.useState)(null),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(!0),[B,z]=Object(l.useState)(!1),[V,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),H=sessionStorage.getItem("startDate"),W=sessionStorage.getItem("endDate"),[X,Z]=Object(l.useState)(""),$=new Date,[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{r||(oa().then(e=>{w(e),null!=e&&ce(e)}),De(_,[a,"all","TRAN_OPN_CMRCMP"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),De(q,[a,"voucherType"],e=>{let a=JSON.parse(e);console.log(a),j(a)}),c(!0))},[r,a,e]);var ne=[],re=0;const ce=e=>{w(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Opening CMR/CMP"))),"\xa0",P?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:ce,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===o.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==I)ne[re++]=d("MSG0006"),ne[re++]=null===I?" Please select location.":"",K(ta(ne)),U(!0);else{J(!1);const e=I.id.split("^");G(e[1]),h(e[2]),De("/api/tran_opn_cmr_a.php",[a,"listCmrCmp",e[1]],e=>{let a=JSON.parse(e);b(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",g))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{B?z(!1):J(!0)}},"Back")," ","1"!==o.add||B?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=X,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNCMR",pageright:"TRAN_OPN_CMRCMP"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)z(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),le({trantype:"OPNCMR",trannumber:1,location:R,entity_name:g,tranDate:Ue(e),tdu_status:t}),ae(!0)})}})})()},"Edit"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e={location:R,right:"TRAN_OPN_CMRCMP"};$e(Q,"post",[a,JSON.stringify(e)])}},"Export")))),"\xa0"),B&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flag",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:S,onChange:e=>y(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Receivable"),n.a.createElement("option",{value:"C"},"Payable")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:M,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"debtorcreditorallowed",srch:e,location:a,flag:t};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))})(e,1,S),onInputChange:rt,onChange:e=>{F(e)}}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:O,onChange:e=>N(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:T,onChange:e=>Me(e.target.value,k),placeholder:"Amount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Narration"),n.a.createElement(s.a.Control,{value:D,onChange:e=>L(e.target.value),maxLength:500,placeholder:"Narration"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Voucher Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Ua.a,{options:f,value:v,onChange:e=>C(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:x,onChange:e=>Ie(e.target.value,A),maxLength:7,placeholder:"Invoice Number"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=Ue(O);if(null==M||0==v||""==T||""==x)ne[re++]=d("MSG0006"),ne[re++]=""==T?" Amount.":"",ne[re++]=null==M?" Account.":"",ne[re++]=0==v?" Voucher Type.":"",ne[re++]=""==x?" Invoice Number.":"",K(ta(ne)),U(!0);else if(e>W||e<H)U(!0),K(d("MSG0010"));else{console.log(M);const e=M.id.split("^"),t=e[1],l=e[2],n={flag:S,acc:l,grp:t,date:Ue(O),amt:T,narr:D,vouchType:v.value,invNo:x,location:R};De("/api/tran_opn_cmr_a.php",[a,"addNewCmr",JSON.stringify(n)],e=>{let a=JSON.parse(e);b(a),k(""),F(null),L(""),C(""),A(""),N(new Date)});const r={srno:1,type:"OPNCMR",status:"E",currentDate:Ue($),pageright:"TRAN_OPN_CMRCMP"};De(Se,[a,"expireUnlock",JSON.stringify(r)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!P&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Flag"),n.a.createElement("th",null,"Voucher Type"),n.a.createElement("th",null,"Invoice Number"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},B&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_opn_cmr_a.php",[a,"deleteCmr",e,R],e=>{let a=JSON.parse(e);b(a)})})(e.tfd_line_no)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.tfd_line_no),n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.abs_amount),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,"D"===e.tfd_flag?"RECEIVABLE":"PAYABLE"),n.a.createElement("td",null,e.tfd_reftype),n.a.createElement("td",null,e.tfd_refnumber))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:V,onClose:e=>U(!1)},Y)),n.a.createElement(zt,{logObject:te,show:ee,hdrNotExist:!0,onHide:()=>ae(!1)}))};var tn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!0),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),se=new Date,[ie,Ee]=Object(l.useState)(!1),[de,pe]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{y||(oa().then(e=>{c(e),null!=e&&he(e)}),De(_,[a,"all","TRAN_OPN_ETC"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var be=[],ge=0;const he=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},ye=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));R(l)};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Opening ETC"))),"\xa0",k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:he,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===h.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)be[ge++]=d("MSG0006"),be[ge++]=null===r?" Please select location.":"",le(ta(be)),ae(!0);else{D(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),De("/api/tran_opn_etc_a.php",[a,"listOpnEtc",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{L?x(!1):D(!0)}},"Back")," ","1"!==h.add||L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=me,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNETC",pageright:"TRAN_OPN_ETC"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)x(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),pe({trantype:"OPNETC",trannumber:1,location:j,entity_name:C,tranDate:Ue(e),tdu_status:t}),Ee(!0)})}})})()},"Edit")))),"\xa0"),L&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"ETC"),onInputChange:rt,onChange:e=>{u(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:E,onChange:e=>(e=>{Me(e.target.value,p),ye(e.target.value,A,w)})(e),maxLength:fe,placeholder:"Deno"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",j),onInputChange:rt,onChange:e=>{g(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{Me(e.target.value,M),ye(E,A,e.target.value)})(e),maxLength:fe,placeholder:"Rate"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:A,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ie(e.target.value,I),""==G||""==e.target.value?B(""):B(1*G-1+1*e.target.value),ye(E,e.target.value,w)):(I(""),oe("Enter quantity greater than 0 and less than 101"),re(!0))})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:F,disabled:!0,maxLength:fe,placeholder:"Amount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:K,onChange:e=>Pe(e.target.value,H),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ie(e.target.value,P),""==e.target.value||""==A?B(""):B(1*e.target.value-1+1*A)})(e),maxLength:20,placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===E||null===o||""===w||""==A||""==G||null==b)be[ge++]=d("MSG0006"),be[ge++]=""===E?" Please fill deno.":"",be[ge++]=null===o?" Please select currency.":"",be[ge++]=""===w?" Please fill rate.":"",be[ge++]=""===A?" Please fill quantity.":"",be[ge++]=""===G?" Please fill from.":"",be[ge++]=null===b?" Please fill issuer.":"",le(ta(be)),ae(!0);else{La()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");console.log(l),z(l[1]),Q(l[2]),e={deno:E,qty:A,rate:w,amount:F,from:G,to:J,loc:j,currency:l[1],productType:"OPNETC",product:"ETC",prefix:K,groupCode:t[1],accountCode:t[2]},De("/api/tran_opn_etc_a.php",[a,"addOpnEtc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),La()(".loader").hide(),M(""),R(""),H(""),p(""),I(""),P(""),B(""),u(""),g("")});const n={srno:1,type:"OPNETC",status:"E",currentDate:Ue(se),pageright:"TRAN_OPN_ETC"};De(Se,[a,"expireUnlock",JSON.stringify(n)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!k&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===h.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===h.delete?n.a.createElement("td",{className:"textCenter"},L&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_opn_etc_a.php",[a,"deleteOpnEtc",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(oe(a.msg),re(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(Sa,{isOpen:ne,onClose:e=>re(!1)},ce),n.a.createElement(zt,{logObject:de,show:ie,hdrNotExist:!0,onHide:()=>Ee(!1)})))};var ln=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!0),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)("1"),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),se=new Date,[ie,Ee]=Object(l.useState)(!1),[de,pe]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{y||(oa().then(e=>{c(e),null!=e&&he(e)}),De(_,[a,"all","TRAN_OPN_EVTM"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var be=[],ge=0;const he=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},ye=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));R(l)};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Opening EVTM"))),"\xa0",k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:he,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===h.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)be[ge++]=d("MSG0006"),be[ge++]=null===r?" Please select location.":"",le(ta(be)),ae(!0);else{D(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),De("/api/tran_opn_evtm_a.php",[a,"listOpnEvtm",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{L?x(!1):D(!0)}},"Back")," ","1"!==h.add||L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=me,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNEVTM",pageright:"TRAN_OPN_EVTM"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)x(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),pe({trantype:"OPNEVTM",trannumber:1,location:j,entity_name:C,tranDate:Ue(e),tdu_status:t}),Ee(!0)})}})})()},"Edit")))),"\xa0"),L&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"EVTM"),onInputChange:rt,onChange:e=>{u(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:E,onChange:e=>(e=>{Me(e.target.value,p),ye(e.target.value,A,w)})(e),maxLength:fe,placeholder:"Deno"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",j),onInputChange:rt,onChange:e=>{g(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{Me(e.target.value,M),ye(E,A,e.target.value)})(e),maxLength:fe,placeholder:"Rate"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:A,disabled:!0,maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:F,disabled:!0,maxLength:fe,placeholder:"Amount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:K,onChange:e=>Pe(e.target.value,H),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ie(e.target.value,P),B(1*e.target.value-1+1*A)})(e),maxLength:20,placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===E||null===o||""===w||""==G||null==b)be[ge++]=d("MSG0006"),be[ge++]=""===E?" Please fill deno.":"",be[ge++]=null===o?" Please select currency.":"",be[ge++]=""===w?" Please fill rate.":"",be[ge++]=""===G?" Please fill from.":"",be[ge++]=null===b?" Please fill issuer.":"",le(ta(be)),ae(!0);else{La()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");console.log(l),z(l[1]),Q(l[2]),e={deno:E,qty:A,rate:w,amount:F,from:G,to:J,loc:j,currency:l[1],productType:"OPNEVTM",product:"EVTM",prefix:K,groupCode:t[1],accountCode:t[2]},De("/api/tran_opn_evtm_a.php",[a,"addOpnEvtm",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),La()(".loader").hide(),M(""),R(""),H(""),p(""),P(""),B(""),u(""),g("")});const n={srno:1,type:"OPNEVTM",status:"E",currentDate:Ue(se),pageright:"TRAN_OPN_EVTM"};De(Se,[a,"expireUnlock",JSON.stringify(n)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!k&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===h.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===h.delete?n.a.createElement("td",{className:"textCenter"},L&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_opn_evtm_a.php",[a,"deleteOpnEvtm",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(oe(a.msg),re(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(Sa,{isOpen:ne,onClose:e=>re(!1)},ce),n.a.createElement(zt,{logObject:de,show:ie,hdrNotExist:!0,onHide:()=>Ee(!1)})))};var nn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!0),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)("1"),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(!1),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),ce=new Date,[oe,me]=Object(l.useState)(!1),[ue,se]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{y||(oa().then(e=>{c(e),null!=e&&de(e)}),De(_,[a,"all","TRAN_OPN_TC"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var ie=[],Ee=0;const de=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Opening TC"))),"\xa0",k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:de,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===h.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)ie[Ee++]=d("MSG0006"),ie[Ee++]=null===r?" Please select location.":"",$(ta(ie)),X(!0);else{D(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),De("/api/tran_opn_tc_a.php",[a,"listOpnTc",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{L?x(!1):D(!0)}},"Back")," ","1"!==h.add||L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=ne,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNTC",pageright:"TRAN_OPN_TC"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)x(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),se({trantype:"OPNTC",trannumber:1,location:j,entity_name:C,tranDate:Ue(e),tdu_status:t}),me(!0)})}})})()},"Edit")))),"\xa0"),L&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"TC"),onInputChange:rt,onChange:e=>{u(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:E,onChange:e=>Me(e.target.value,p),maxLength:fe,placeholder:"Deno"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",j),onInputChange:rt,onChange:e=>{g(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:A,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ie(e.target.value,I),""==w||""==e.target.value?R(""):R(1*w-1+1*e.target.value)):(le("Enter quantity greater than 0 and less than 101"),ae(!0),I(""))})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:V,onChange:e=>Pe(e.target.value,Q),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{Ie(e.target.value,M),""==e.target.value||""==A?R(""):R(1*e.target.value-1+1*A)})(e),maxLength:20,placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:F,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===E||null===o||""==A||""==w||null==b)ie[Ee++]=d("MSG0006"),ie[Ee++]=null===o?" Please select currency.":"",ie[Ee++]=""===E?" Please fill deno.":"",ie[Ee++]=""===A?" Please fill quantity.":"",ie[Ee++]=""===w?" Please fill from.":"",ie[Ee++]=null===b?" Please fill issuer.":"",$(ta(ie)),X(!0);else{La()(".loader").show();let e={},t=b.id.split("^");Y(t[1]),H(t[2]);let l=o.id.split("^");console.log(l),P(l[1]),B(l[2]),e={qty:A,from:w,to:F,loc:j,currency:l[1],deno:E,productType:"OPNTC",product:"TC",prefix:V,groupCode:t[1],accountCode:t[2]},De("/api/tran_opn_tc_a.php",[a,"addOpnTc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),La()(".loader").hide(),Q(""),p(""),I(""),M(""),R(""),u(""),g("")});const n={srno:1,type:"OPNTC",status:"E",currentDate:Ue(ce),pageright:"TRAN_OPN_TC"};De(Se,[a,"expireUnlock",JSON.stringify(n)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!k&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===h.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===h.delete?n.a.createElement("td",{className:"textCenter"},L&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_opn_tc_a.php",[a,"deleteOpnTc",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(le(a.msg),ae(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:W,onClose:e=>X(!1)},Z),n.a.createElement(Sa,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(zt,{logObject:ue,show:oe,hdrNotExist:!0,onHide:()=>me(!1)})))};var rn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!0),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),se=new Date,[ie,Ee]=Object(l.useState)(!1),[de,pe]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{y||(oa().then(e=>{c(e),null!=e&&he(e)}),De(_,[a,"all","TRAN_OPN_TC_SETTLEMENT"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var be=[],ge=0;const he=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},ye=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));R(l)};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"TC SETTLEMENT"))),"\xa0",k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:he,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===h.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)be[ge++]=d("MSG0006"),be[ge++]=null===r?" Please select location.":"",le(ta(be)),ae(!0);else{D(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),De("/api/tran_opn_tc_st_a.php",[a,"listOpnTc",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{L?x(!1):D(!0)}},"Back")," ","1"!==h.add||L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=me,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNTCST",pageright:"TRAN_OPN_TC_SETTLEMENT"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)x(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),pe({trantype:"OPNTCST",trannumber:1,location:j,entity_name:C,tranDate:Ue(e),tdu_status:t}),Ee(!0)})}})})()},"Edit")))),"\xa0"),L&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"TCST"),onInputChange:rt,onChange:e=>{u(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:E,onChange:e=>(e=>{Me(e.target.value,p),ye(e.target.value,A,w)})(e),maxLength:fe,placeholder:"Deno"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",j),onInputChange:rt,onChange:e=>{g(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{Me(e.target.value,M),ye(E,A,e.target.value)})(e),maxLength:fe,placeholder:"Rate"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:A,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ie(e.target.value,I),""==G||""==e.target.value?B(""):B(1*G-1+1*e.target.value),ye(E,e.target.value,w)):(oe("Enter quantity greater than 0 and less than 101"),re(!0),I(""))})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:F,maxLength:fe,disabled:!0,placeholder:"Amount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:K,onChange:e=>Pe(e.target.value,H),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ie(e.target.value,P),""==e.target.value||""==A?B(""):B(1*e.target.value-1+1*A)})(e),maxLength:20,placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===E||null===o||""===w||""==A||""==G||null==b)be[ge++]=d("MSG0006"),be[ge++]=""===E?" Please fill deno.":"",be[ge++]=null===o?" Please select currency.":"",be[ge++]=""===w?" Please fill rate.":"",be[ge++]=""===A?" Please fill quantity.":"",be[ge++]=""===G?" Please fill from.":"",be[ge++]=null===b?" Please fill issuer.":"",le(ta(be)),ae(!0);else{La()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");console.log(l),z(l[1]),Q(l[2]),e={deno:E,qty:A,rate:w,amount:F,from:G,to:J,loc:j,currency:l[1],productType:"OPNTCST",product:"TCST",prefix:K,groupCode:t[1],accountCode:t[2]},De("/api/tran_opn_tc_st_a.php",[a,"addOpnTc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),La()(".loader").hide(),M(""),R(""),H(""),p(""),I(""),P(""),B(""),u(""),g("")});const n={srno:1,type:"OPNTCST",status:"E",currentDate:Ue(se),pageright:"TRAN_OPN_TC_SETTLEMENT"};De(Se,[a,"expireUnlock",JSON.stringify(n)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!k&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===h.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===h.delete?n.a.createElement("td",{className:"textCenter"},L&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_opn_tc_st_a.php",[a,"deleteOpnTc",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(oe(a.msg),re(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(Sa,{isOpen:ne,onClose:e=>re(!1)},ce),n.a.createElement(zt,{logObject:de,show:ie,hdrNotExist:!0,onHide:()=>Ee(!1)})))};var cn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[E,p]=Object(l.useState)(null),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)("1"),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(!1),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),ne=new Date,[re,ce]=Object(l.useState)(!1),[oe,me]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{h||(oa().then(e=>{c(e),null!=e&&ie(e)}),De(_,[a,"all","TRAN_OPN_VTC"],function(a){let t=JSON.parse(a);"1"===t.query?g(t):e("/")}),S(!0))},[h,a,e]);var ue=[],se=0;const ie=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Opening VTC"))),"\xa0",j?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:ie,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===b.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)ue[se++]=d("MSG0006"),ue[se++]=null===r?" Please select location.":"",X(ta(ue)),H(!0);else{T(!1);const e=r.id.split("^");console.log(r),f(e[1]),v(e[2]),De("/api/tran_opn_vtc_a.php",[a,"listOpnVtc",e[1]],e=>{let a=JSON.parse(e);console.log(a),O(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",N))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{k?D(!1):T(!0)}},"Back")," ","1"!==b.add||k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=te,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNVTC",pageright:"TRAN_OPN_VTC"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)D(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),me({trantype:"OPNVTC",trannumber:1,location:C,entity_name:N,tranDate:Ue(e),tdu_status:t}),ce(!0)})}})})()},"Edit")))),"\xa0"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:J,onChange:e=>B(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Single Currency"),n.a.createElement("option",{value:"0"},"Multi Currency")))),1==J&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"VTC"),onInputChange:rt,onChange:e=>{u(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:E,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",C),onInputChange:rt,onChange:e=>{p(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:L,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ie(e.target.value,x),""==A||""==e.target.value?M(""):M(1*A-1+1*e.target.value)):(x(""),ae("Enter quantity greater than 0 and less than 101"),$(!0))})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:q,onChange:e=>Pe(e.target.value,z),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:A,onChange:e=>(e=>{Ie(e.target.value,I),""==e.target.value||""==L?M(""):M(1*e.target.value-1+1*L)})(e),maxLength:20,placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""==L||""==A||null==E)ue[se++]=d("MSG0006"),ue[se++]=""===L?" Please fill quantity.":"",ue[se++]=""===A?" Please fill from.":"",ue[se++]=null===E?" Please fill issuer.":"",X(ta(ue)),H(!0);else if("1"==J&&null===o)ue[se++]=null===o?" Please select currency.":"",X(ta(ue)),H(!0);else{La()(".loader").show();let e={},t=E.id.split("^");if(Q(t[1]),Y(t[2]),"1"==J){let a=o.id.split("^");console.log(a),R(a[1]),P(a[2]),e={qty:L,from:A,to:w,loc:C,currency:a[1],productType:"OPNVTC",product:"VTC",prefix:q,groupCode:t[1],accountCode:t[2]}}else e={qty:L,from:A,to:w,loc:C,currency:"",productType:"OPNVTC",product:"VTC",prefix:q,groupCode:t[1],accountCode:t[2]};De("/api/tran_opn_vtc_a.php",[a,"addOpnVtc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),1==a.msg?(O(a.currstock),La()(".loader").hide(),z(""),x(""),I(""),M(""),u(""),p("")):(La()(".loader").hide(),ae("You can't add exisiting prefix for same issuer"),$(!0))});const l={srno:1,type:"OPNVTC",status:"E",currentDate:Ue(ne),pageright:"TRAN_OPN_VTC"};De(Se,[a,"expireUnlock",JSON.stringify(l)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!j&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,y.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===b.delete?n.a.createElement("td",{className:"textCenter"},k&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_opn_vtc_a.php",[a,"deleteOpnVtc",e,C],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?O(a.optrial):(ae(a.msg),$(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:K,onClose:e=>H(!1)},W),n.a.createElement(Sa,{isOpen:Z,onClose:e=>$(!1)},ee),n.a.createElement(zt,{logObject:oe,show:re,hdrNotExist:!0,onHide:()=>ce(!1)})))};var on=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!0),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),se=new Date,[ie,Ee]=Object(l.useState)(!1),[de,pe]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{y||(oa().then(e=>{c(e),null!=e&&he(e)}),De(_,[a,"all","TRAN_OPN_VTM_SETTLEMENT"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var be=[],ge=0;const he=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},ye=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));R(l)};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"VTM SETTLEMENT"))),"\xa0",k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:he,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===h.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)be[ge++]=d("MSG0006"),be[ge++]=null===r?" Please select location.":"",le(ta(be)),ae(!0);else{D(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),De("/api/tran_opn_vtm_st_a.php",[a,"listOpnVtm",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{L?x(!1):D(!0)}},"Back")," ","1"!==h.add||L?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=me,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNVTMST",pageright:"TRAN_OPN_VTM_SETTLEMENT"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)x(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),pe({trantype:"OPNVTMST",trannumber:1,location:j,entity_name:C,tranDate:Ue(e),tdu_status:t}),Ee(!0)})}})})()},"Edit")))),"\xa0"),L&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"VTMST"),onInputChange:rt,onChange:e=>{u(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:E,onChange:e=>(e=>{Me(e.target.value,p),ye(e.target.value,A,w)})(e),maxLength:fe,placeholder:"Deno"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",j),onInputChange:rt,onChange:e=>{g(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{Me(e.target.value,M),ye(E,A,e.target.value)})(e),maxLength:fe,placeholder:"Rate"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:A,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ie(e.target.value,I),""==G||""==e.target.value?B(""):B(1*G-1+1*e.target.value),ye(E,e.target.value,w)):(I(""),oe("Enter quantity greater than 0 and less than 101"),re(!0))})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:F,disabled:!0,maxLength:fe,placeholder:"Amount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:K,onChange:e=>Pe(e.target.value,H),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ie(e.target.value,P),""==e.target.value||""==A?B(""):B(1*e.target.value-1+1*A)})(e),maxLength:20,placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===E||null===o||""===w||""==A||""==G||null==b)be[ge++]=d("MSG0006"),be[ge++]=""===E?" Please fill deno.":"",be[ge++]=null===o?" Please select currency.":"",be[ge++]=""===w?" Please fill rate.":"",be[ge++]=""===A?" Please fill quantity.":"",be[ge++]=""===G?" Please fill from.":"",be[ge++]=null===b?" Please fill issuer.":"",le(ta(be)),ae(!0);else{La()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");console.log(l),z(l[1]),Q(l[2]),e={deno:E,qty:A,rate:w,amount:F,from:G,to:J,loc:j,currency:l[1],productType:"OPNVTMST",product:"VTMST",prefix:K,groupCode:t[1],accountCode:t[2]},De("/api/tran_opn_vtm_st_a.php",[a,"addOpnVtm",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),La()(".loader").hide(),M(""),R(""),H(""),p(""),I(""),P(""),B(""),u(""),g("")});const n={srno:1,type:"OPNVTMST",status:"E",currentDate:Ue(se),pageright:"TRAN_OPN_VTM_SETTLEMENT"};De(Se,[a,"expireUnlock",JSON.stringify(n)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!k&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===h.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===h.delete?n.a.createElement("td",{className:"textCenter"},L&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De("/api/tran_opn_vtm_st_a.php",[a,"deleteOpnVtm",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(oe(a.msg),re(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(Sa,{isOpen:ne,onClose:e=>re(!1)},ce),n.a.createElement(zt,{logObject:de,show:ie,hdrNotExist:!0,onHide:()=>Ee(!1)})))};var mn=function(e){return sessionStorage.getItem("sessionId"),n.a.createElement("div",null,n.a.createElement(Ba.a,Object.assign({},e,{size:"lg",centered:!0,dialogClassName:"custom-modal-width"}),n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Commission Detail")),n.a.createElement(Ba.a.Body,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Commission Type"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"Commission Value"))),n.a.createElement("tbody",null,e.productList.map(e=>n.a.createElement(n.a.Fragment,null,"1"===e.isCommission?n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_agent_group+" "+e.prd_agent_ledger+" "+e.prd_agent_name),n.a.createElement("td",null,"P"===e.prd_commission_type?"Paisa":"R"===e.prd_commission_type?"Percentage":"F"===e.prd_commission_type?"Flat":""),n.a.createElement("td",null,e.prd_commission),n.a.createElement("td",null,e.prd_commission_value)):null))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"Close"))))};var un=function(){const e=Object(l.useRef)(),a=sessionStorage.getItem("startDate"),t=sessionStorage.getItem("endDate"),r=sessionStorage.getItem("branchDisable"),c=sessionStorage.getItem("sessionId"),o=Object(m.n)(),[u,E]=Object(l.useState)("INFO"),[p,b]=Object(l.useState)(!1),[g,h]=Object(l.useState)(""),[y,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)("N"),[T,k]=Object(l.useState)(""),[L,x]=Object(l.useState)(0),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)([]),[F,R]=Object(l.useState)([]),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)(null),[q,z]=Object(l.useState)(0),[V,Q]=Object(l.useState)(null),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(new Date),[X,Z]=Object(l.useState)(new Date),[$,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(0),[oe,me]=Object(l.useState)(""),[se,ie]=Object(l.useState)(0),[Ee,de]=Object(l.useState)(0),[be,ge]=Object(l.useState)(0),[he,ye]=Object(l.useState)(0),[Oe,Ne]=Object(l.useState)(0),[ve,Ce]=Object(l.useState)(0),[fe,je]=Object(l.useState)(0),[Te,ke]=Object(l.useState)(0),[Le,Ae]=Object(l.useState)(0),[we,Fe]=Object(l.useState)(0),[Re,Ge]=Object(l.useState)(null),[Je,Be]=Object(l.useState)([]),[qe,ze]=Object(l.useState)("CN"),[Ve,Qe]=Object(l.useState)(null),[Ke,Ze]=Object(l.useState)(""),[$e,ea]=Object(l.useState)(""),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(null),[ma,ua]=Object(l.useState)(""),[sa,ia]=Object(l.useState)(""),[Ea,da]=Object(l.useState)(""),[ga,ha]=Object(l.useState)(""),[va,Ca]=Object(l.useState)(null),[_a,Ta]=Object(l.useState)("0"),[Da,xa]=Object(l.useState)(""),[Aa,Ia]=Object(l.useState)(""),[wa,Ma]=Object(l.useState)(""),[Fa,Ga]=Object(l.useState)(0),[Pa,Ba]=Object(l.useState)(0),[za,Va]=Object(l.useState)(""),[Qa,Ya]=Object(l.useState)("0"),[Ka,Ha]=Object(l.useState)(""),[Wa,Xa]=Object(l.useState)(0),[Za,$a]=Object(l.useState)(0),[lt,nt]=Object(l.useState)(null),[ot,mt]=Object(l.useState)([]),[ut,Et]=Object(l.useState)({value:0,label:"Select"}),[dt,pt]=Object(l.useState)(""),[bt,gt]=Object(l.useState)(""),[ht,St]=Object(l.useState)(!0),[yt,Ot]=Object(l.useState)(""),[Nt,Ct]=Object(l.useState)(null),[_t,ft]=Object(l.useState)(""),[jt,Tt]=Object(l.useState)(""),[kt,Dt]=Object(l.useState)(""),[Lt,xt]=Object(l.useState)(""),[At,It]=Object(l.useState)([]),[wt,Mt]=Object(l.useState)(""),[Ft,Rt]=Object(l.useState)(""),[Pt,Jt]=Object(l.useState)(0),[Bt,qt]=Object(l.useState)(null),[Vt,Qt]=Object(l.useState)(0),[Ut,Yt]=Object(l.useState)(null),[Kt,Ht]=Object(l.useState)(""),[Wt,Zt]=Object(l.useState)({location:"",trannumber:"",type:""}),[$t,al]=Object(l.useState)(!1),[tl,ll]=Object(l.useState)(""),nl=new Date,[rl,cl]=Object(l.useState)(!1),[ol,ml]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[ul,sl]=Object(l.useState)(0),[il,El]=Object(l.useState)(!1),[dl,pl]=Object(l.useState)(!1),[bl,gl]=Object(l.useState)([]),[hl,Sl]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[yl,Ol]=Object(l.useState)(!1);Object(l.useEffect)(()=>{oa().then(e=>{B(e),null!=e&&vl(e)}),De(_,[c,"all","TRAN_PB"],function(e){let a=JSON.parse(e);"1"===a.query?M(a):o("/")}),De(O,[c,"ddlistjsonselect","CN"],e=>{R(JSON.parse(e))}),De(W,[c,"listResidential"],e=>{P(JSON.parse(e))}),De(S,[c,"getState",1],e=>{mt(JSON.parse(e))})},[]);const Nl=()=>{var e=[],a=0;if(La()(".loader").show(),null===J||"S"===f&&!$||"S"===f&&!te||"D"===f&&!U||"D"===f&&!K||"I"===f&&null===V||"I"===f&&!U||"I"===f&&!K)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===J?" Location.":"",e[a++]="S"!==f||$?"":" From Srno.",e[a++]="S"!==f||te?"":" To Srno.",e[a++]="D"!==f||U?"":" From Date.",e[a++]="D"!==f||K?"":" To Date.",e[a++]="I"===f&&null===V?" Dealer.":"",e[a++]="I"!==f||U?"":" From Date.",e[a++]="I"!==f||K?"":" To Date.",h(ta(e)),b(!0);else{const e={radioType:f,pbLocation:q,pbDealer:V,pbNewDate:Ue(X),pbSrnoTo:te,pbSrnoFrom:$,pbFromDate:Ue(U),pbToDate:Ue(K)};De(ee,[c,"pblist",JSON.stringify(e)],e=>{console.log(e),La()(".loader").hide(),I(JSON.parse(e))})}},vl=e=>{B(e);var a=e.id.split("^");z(a[1]),re(a[3]),ie(a[4]),me(a[5]),Ht(a[2]),sessionStorage.activeBranch=a[1]},Cl=(e,a,t,l,n)=>("P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e).toFixed(2),_l=(e,a)=>{De(ue,[c,"calcinvoice",JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);ke(a.fxamt),Ne(a.sgst),ge(a.totalamt),Fe(a.taxablevalue),Ae(a.roundoff),ye(a.cgst),Ce(a.igst),je(a.ugst);for(var t=0,l=0;l<At.length;l++)t+=1*At[l].tp_amount;Tt(1*a.totalamt-t)})},fl=()=>{N(!1),k("")},jl=e=>{const a={srno:L,location:q,type:"PB",printFlag:e};De(ce,[c,"print",JSON.stringify(a)],e=>{window.open().document.write(e)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Purchase Bulk"))),""===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:vl,isDisabled:"true"===r}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===f,onChange:()=>j("N"),type:"radio",label:"New"}),n.a.createElement(s.a.Check,{checked:"S"===f,onChange:()=>j("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===f,onChange:()=>j("D"),type:"radio",label:"Date"}),n.a.createElement(s.a.Check,{checked:"I"===f,onChange:()=>j("I"),type:"radio",label:"Dealer"})))))),n.a.createElement(Oa.a,null,"N"===f?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(Gt.a,{className:"form-control",selected:X,onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===f?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:$,onChange:e=>Ie(e.target.value,ae)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:te,onChange:e=>Ie(e.target.value,le)})))):"D"===f||"I"===f||"C"===f?n.a.createElement(n.a.Fragment,null,"I"===f?n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:V,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"DEALER",q),onInputChange:rt,onChange:e=>{Q(e)}}))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===w.query&&"N"!==f?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Nl()},"List"):null,"\xa0","1"===w.add&&"N"===f?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(X),l=Ye(X),n=Ue(new Date);null==J?(b(!0),h("Please select location")):e>t||e<a?(b(!0),h(d("MSG0010"))):e>n?(b(!0),h(d("MSG0011"))):(Yt(l),k("A"),E("INFO"),x(0),nt(null),pt(""),Et(1*ne>0&&null!=ne?{value:ne,label:oe}:{value:0,label:"Select"}),ze("CN"),Qe(null),Mt(""),Ze(""),ea(""),Ma(""),Va(""),Ha(""),Ya(""),xa(""),Ia(""),na(""),Ta("0"),ke(0),ge(0),ye(0),Ce(0),je(0),Ne(0),Ae(0),de(0),Fe(0),Be([]),It([]),Ba(0),Jt(0),Ge(null))})()},"Add New"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Dealer"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,A.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((e,a,t,l)=>{x(e),E("INFO"),Ot("0"),ll(l),La()(".loader").show();const n={srno:e,ppLocationValue:a,type:t};De(ee,[c,"viewdata",JSON.stringify(n)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(La()(".loader").hide(),k("Q"),nt({id:a.dealer_id,label:a.dealer_label}),pt(a.emp_code),Et({value:a.state,label:a.statename}),ke(a.forextotal),ye(a.cgst),Ne(a.sgst),Ce(a.igst),je(a.ugst),Ae(a.round_off),ge(a.total_inr),de(a.other_charge),Fe(a.taxablevalue),Be(a.productlist),It(a.paydetails),Ba(1*a.maxlineno),Yt(a.date),Ht(a.locname),x(a.srno))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,{style:{display:"none"}},n.a.createElement(Na.a,null,n.a.createElement("p",null,yt))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===T||"E"===T?(C(d("WRN0000")),N(!0)):fl())},"Back"),"\xa0","1"===w.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,a=tl.split("/"),t=a[2]+"-"+a[1]+"-"+a[0],l=Ue(e),n=new Date(t),r=new Date(l)-n,o=Math.ceil(r/864e5);console.log(o);const m={srno:L,type:"PB",pageright:"TRAN_PB"};De(Se,[c,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?(k("E"),Je.length>0&&St(!1)):(cl(!0),ml({trantype:"PB",trannumber:L,location:q,tranDate:Ue(e)}))})})()},"Edit"),"\xa0"):null,"1"===w.edit&&"E"===T||"1"===w.add&&"A"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();for(var e=[],a=0,t=0,l=0;l<At.length;l++)"RC"===At[l].tp_payment_type?t-=1*At[l].tp_amount:t+=1*At[l].tp_amount;if(null===lt||be>0&&0==ut.value)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===lt?"Please Select Dealer.":"",e[a++]=be>0&&0==ut.value?"Place of Supply.":"",h(ta(e)),b(!0);else if(be!=t)La()(".loader").hide(),h("Total amount of payment must be equal to calculated INR."),b(!0);else{const e={srno:L,ppLocationValue:q,nDealer:lt,nState:ut.value,nEmployeeCode:dt,pbNewDate:Ue(X),pForexTotal:Te,pSgst:Oe,pIgst:ve,pUgst:fe,pCgst:he,pOtherCharges:""===Ee?0:Ee,pRoundOff:Le,pTaxableVal:""===we?0:we,pTotalAmount:be,randomString:yt,pProductList:Je,paymentData:At};if(De(ee,[c,"savedata",JSON.stringify(e),JSON.stringify(bl)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(La()(".loader").hide(),k(""),b(!0),h(d(a.msg)),Nl(),gl([])):(La()(".loader").hide(),b(!0),h(d(a.msg)))}),"E"==T){const e={srno:L,type:"PB",status:"E",currentDate:Ue(nl),pageright:"TRAN_PB"};De(Se,[c,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null,"1"===w.query&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>jl("D")},"With Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>jl("")},"Without Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(al(!0),void Zt({location:q,trannumber:L,type:"PB"}))},"Fa View"),"1"===w.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ol(!0),void Sl({trantype:"PB",trannumber:L,trancategory:"T",location:q}))},"Activity Log"),"\xa0"):null):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",L)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,Kt," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,Ut))),n.a.createElement(Na.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",Te)),"\xa0\xa0\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",be)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(et.a,{activeKey:u,defaultActiveKey:"INFO",onSelect:e=>(e=>{if(E(e),"PAYMENT"===e){const e=At.reduce((e,a)=>e+1*a.tp_amount,0);Tt(1*be-e)}})(e)},n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:lt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"DEALER",q),onInputChange:rt,onChange:e=>{nt(e),"RC"!==_t&&"PB"!==_t||Ct(e)},isDisabled:"Q"===T}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{disabled:"Q"===T,value:bt,onChange:e=>gt(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Employee Code"),n.a.createElement(s.a.Control,{disabled:"Q"===T,placeholder:"Employee Code",type:"text",value:dt,onChange:e=>Pe(e.target.value,pt),maxLength:20}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place Of Supply"),n.a.createElement(Ua.a,{isDisabled:!0,options:ot,value:ut,onChange:e=>Et(e)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>E("DETAILS")},"Details->")))),n.a.createElement(at.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:qe,onChange:e=>(e=>{ze(e),Qe(null),Ge(null),Ze(""),Ma(""),ia(""),ha(""),"VTM"===e&&ea("1"),De(O,[c,"ddlistjsonselect",e],e=>{R(JSON.parse(e))})})(e.target.value),ref:e},n.a.createElement("option",{value:"CN"},"CN")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ve,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,qe),onInputChange:rt,onChange:e=>{Qe(e);let a=e.id.split("^");Mt(a[1]),Ca(null),xa(""),Ia("");const t={isd:a[1],location:q,product:qe};De(pe,[c,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);Ma(1*a.buyrate),Xa(1*a.maxbuyrate),$a(1*a.minbuyrate),sl(1*a.usdratebuy)})}}))),"TC"===qe||"VTM"===qe?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ra,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",q),onInputChange:rt,onChange:e=>ca(e)}))):null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"VTM"===qe?"Value":"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"VTM"===qe,type:"text",value:Ke,maxLength:5,onChange:e=>(e=>{Me(e,Ze),Ia(Cl(la,Da,$e,e,wa))})(e.target.value)}))),n.a.createElement(Na.a,{style:{display:"VTM"===qe&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:$e,maxLength:9,onChange:e=>(e=>{Ie(e,ea),"VTM"!==qe&&"TC"!==qe||da(1*e+1*sa-1),Ia(Cl(la,Da,e,Ke,wa))})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:wa,maxLength:5,onChange:e=>(e=>{Me(e,Ma),Ia(Cl(la,Da,$e,Ke,e))})(e.target.value)})))),"TC"===qe||"VTM"===qe?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{style:{display:"VTM"===qe&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{placeholder:"Prefix",type:"text",maxLength:5,value:ma,onChange:e=>Pe(e.target.value,ua)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"VTM"===qe,placeholder:"From",type:"text",maxLength:6,value:sa,onChange:e=>(e=>{Ie(e,ia),da(1*e+1*$e-1),"VTM"===qe&&da(e)})(e.target.value)}))),"TC"===qe?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"To",type:"text",maxLength:6,value:Ea,onChange:e=>Ie(e.target.value,da)}))):n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Card No",type:"text",value:ga,onChange:e=>ha(e.target.value)})))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Traveller Name"),n.a.createElement(s.a.Control,{placeholder:"Traveller Name",type:"text",maxLength:50,value:za,onChange:e=>xe(e.target.value,Va)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID type"),n.a.createElement(s.a.Select,{value:Qa,onChange:e=>Ya(e.target.value)},n.a.createElement("option",{value:"0"},"Select"),n.a.createElement("option",{value:"1"},"Adhaar Card"),n.a.createElement("option",{value:"2"},"Passport")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID Number"),n.a.createElement(s.a.Control,{placeholder:"ID Number",type:"text",maxLength:30,value:Ka,onChange:e=>Pe(e.target.value,Ha)})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:_a,onChange:e=>Ta(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===_a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:va,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"AGENT",q),onInputChange:rt,onChange:e=>{Ca(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Da,onChange:e=>(e=>{xa(e),na(""),Ia("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:la,onChange:e=>(e=>{Me(e,na),Ia(Cl(1*e,Da,$e,Ke,wa))})(e.target.value)}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:Aa,onChange:e=>Me(e.target.value,Ia)})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=[],a=0;if(("CN"===qe||"TC"===qe)&&null==Ve||""===Ke||""===$e||""===wa)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null==Ve?"Please select Isd.":"",e[a++]=""===Ke?"Please fill Denomination.":"",e[a++]=""==$e?"Please fill Quantity.":"",e[a++]=""==wa?"Please fill Rate.":"",h(ta(e)),b(!0);else if("TC"!==qe&&"VTM"!==qe||""!=sa&&""!=Ea&&null!=ra)if(("TC"===qe||"VTM"===qe)&&1*Ea-1*sa>100)La()(".loader").hide(),h("'To' must be less than 100."),b(!0);else if("1"!==_a||""!==Da&&null!==va&&""!==Aa)if(0!=Wa&&0!=Za&&(wa>Wa||wa<Za))La()(".loader").hide(),e[a++]=wa>Wa?"Maximum rate is "+Wa:"",e[a++]=wa<Za?"Maximum rate is "+Za:"",h(ta(e)),b(!0);else{La()(".loader").hide();var t=Ve.id.split("^"),l=0,n=0,r="",c=0,o=0;if(null!==va){var m=va.id.split("^");l=m[1],n=m[2],r=m[5]}if(null!==ra){var u=ra.id.split("^");c=u[1],o=u[2]}var s=0;""!=ul&&0!=ul&&(s=wa*$e*Ke/ul);const e={tranType:"PB",type:"PURCHASE",uniquekey:Xe(15),prd_line_no:1*Pa+1,prd_location:q,prd_type:"PB",prd_srno:L,prd_isd:t[1],prd_date:Ue(X),prd_product:qe,prd_deno:Ke,prd_qty:$e,prd_rate:wa,prd_amount:wa*$e*Ke,prd_from:sa,prd_prefix:ma,prd_to:Ea,prd_group:c,prd_account:o,prd_agent_group:l,prd_agent_ledger:n,prd_card_no:ga,isd_name:t[2],randomString:yt,prd_commission_type:Da,prd_commission_value:""==Aa?0:Aa,prd_commission:""==la?0:la,nState:ut.value,pOtherCharges:""===Ee?0:Ee,ppStateType:se,ppStateValue:ne,scrMode:T,prd_traveller_name:za,prd_id_type:Qa,prd_id_number:Ka,prd_usd_rate:""==ul?0:ul.toFixed(2),prd_usd_amount:s.toFixed(2),prd_agent_name:r,isCommission:_a,delny:"Y"};var i=We(Je,e);i.length>0&&St(!1);const a={TabType:"Product",ALineNo:bl.length+1,AType:"A",TLoc:q,TType:"PB",Product:qe,ISD:t[2],Deno:Ke,Quantity:$e,Rate:wa,Amount:wa*$e*Ke,ProductFrom:sa,ProductTo:Ea,ProductPrefix:ma,ProductGroup:c,ProductAccout:o,CommsnType:Da,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==Aa?0:Aa,CommsnAmount:""==la?0:la};"1"===w.edit&&"E"===T&&gl(e=>[...e,a]),Be(i),Ga(Fa+1),Ba(Pa+1),Qe(null),ca(null),Ze(""),ea(""),Ma(""),ua(""),ia(""),da(""),ha(""),Ia(""),na(""),xa(),Ca(null),xa(""),_l(i,e)}else La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null==va?"Agent.":"",e[a++]=""==Da?"Commission type.":"",e[a++]=""==Aa?"Commission value.":"",h(ta(e)),b(!0);else La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null==ra?"Please select Issuer.":"",e[a++]=""==sa?"Please fill From.":"",e[a++]=""==Ea?"Please fill To.":"",h(ta(e)),b(!0)})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>E("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?E("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->")))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(Xt.a,{className:"handCursor",bg:"primary",onClick:()=>{pl(!0)}},"View Commission Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Traveller Name"),n.a.createElement("th",null,"ID Type"),n.a.createElement("th",null,"ID Number"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,Je.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to),n.a.createElement("td",null,e.prd_traveller_name),n.a.createElement("td",null,0==e.prd_id_type?"":e.prd_id_type),n.a.createElement("td",null,e.prd_id_number),n.a.createElement("td",null,"Q"===T||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=Je.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:bl.length+1,AType:"D",TLoc:q,TType:"PB",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===w.edit&&"E"===T&&gl(a=>[...a,e])}const t={tranType:"PB",type:"PURCHASE",uniquekey:Xe(15),nState:ut.value,pOtherCharges:""===Ee?0:Ee,ppStateType:se,ppStateValue:ne},l=He(Je,"uniquekey",e);Be(l),_l(l,t),Ga(Fa-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(pa.a,{icon:ja.o}))))))))),n.a.createElement(at.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:Ee,onChange:e=>(e=>{const a={tranType:"PB",type:"PURCHASE",uniquekey:Xe(15),nState:ut.value,pOtherCharges:""===e?0:e,ppStateType:se,ppStateValue:ne};Me(e,de),_l(Je,a)})(e.target.value),disabled:ht||"Q"===T})))),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:_t,onChange:e=>(e=>{El(!1),ft(e),Ct(null),Dt(0),xt("");var a="";if(""!==e){if("CH"!==e)return"BN"===e||"CQ"===e?(a="BANK",void Rt("BANK")):"PB"===e||"RC"===e?(a="WALKIN",Ct(lt),void El(!0)):void Ct(lt);Rt(a="CASH"),De(D,[c,"getledgerinfo",a],e=>{let a=JSON.parse(e);Ct({id:a.id,label:a.label})})}})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"RC"},"Recievables"),n.a.createElement("option",{value:"PB"},"Payables"),n.a.createElement("option",{value:"AP"},"Advanced")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Nt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,Ft,q),onInputChange:rt,onChange:e=>{Ct(e);var a=e.id.split("^");Qt(a[1]),Dt(a[2])},isDisabled:il}))),""!==_t?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{placeholder:"Amount",value:jt,onChange:e=>Tt(e.target.value)}))):null),"BN"===_t?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:40,value:Lt,onChange:e=>xe(e.target.value,xt)})))):"CQ"===_t?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Bt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>vt(e,Vt,kt,q),onInputChange:rt,onChange:e=>{qt(e);var a=e.id.split("^");xt(a[4])}})))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(be<1)e[a++]=be<1?"Total amount must be greater than 0.":"",h(ta(e)),b(!0);else if(""===_t||null===Nt||jt<1||"CQ"===_t&&null===Bt||"BN"===_t&&""===Lt)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===Nt?"Account.":"",e[a++]=""===_t?"Payment Type.":"",e[a++]=jt<1?"Entered amount can't be 0.":"","CQ"===_t&&null===Bt&&(e[a++]=null===Bt?"Select a Cheque.":""),"BN"===_t&&""===Lt&&(e[a++]=null===Bt?"Refernece Number.":""),h(ta(e)),b(!0);else{var t=0,l=0,n="";if(null!==Nt){var r=Nt.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Xe(10),tp_line_no:Pt+1,tp_location:q,tp_srno:L,randomString:yt,tp_payment_type:_t,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:jt,tp_cheque:Lt,tp_type:"PB",chequeValue:Bt,delny:"Y"},a=We(At,e);It(a);const c={TabType:"Payment",AType:"A",ALineNo:bl.length+1,TLoc:q,TType:"PB",PaymentType:_t,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:jt,ReferenceNo:Lt};"1"===w.edit&&"E"===T&&gl(e=>[...e,c]),It(We(At,e)),ft(""),Jt(Pt+1),Tt(""),Ct(null),qt(null),xt("");const o=a.reduce((e,a)=>e+1*a.tp_amount,0);Tt(1*be-o),Ga(Fa+1)}})()},"Add")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque/Ref no"))),n.a.createElement("tbody",null,At.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque),n.a.createElement("td",null,"Q"!==T?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{if("N"==a)b(!0),h("This cheque has already used.");else{const a=At.find(a=>a.uniquekey===e);if(a){const e={TabType:"Payment",ALineNo:bl.length+1,AType:"D",TLine:Pt+1,TLoc:q,TType:"PB",PaymentType:a.tp_payment_type,PaymentGroupCode:a.tp_group,PaymentLedgerCode:a.tp_account,PaymentAccountName:a.mvli_ledger_name,PaymentAmount:a.tp_amount,ReferenceNo:a.tp_cheque};"1"===w.edit&&"E"===T&&gl(a=>[...a,e])}It(He(At,"uniquekey",e));const t=At.reduce((e,a)=>e+1*a.tp_amount,0);Tt(1*be-t)}Ga(Fa-1)})(e.uniquekey,e.delny)},n.a.createElement(pa.a,{icon:ja.o})):null)))))))),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement(qa,{logObject:hl,show:yl,onHide:()=>Ol(!1)}),n.a.createElement(el,{faViewObject:Wt,show:$t,onHide:()=>al(!1)}),n.a.createElement(mn,{show:dl,onHide:()=>pl(!1),productList:Je}),n.a.createElement(Sa,{isOpen:p,onClose:e=>b(!1)},g),n.a.createElement(Ja,{isOpen:y,onYes:e=>fl(),onNo:e=>N(!1)},v),n.a.createElement(zt,{logObject:ol,show:rl,onHide:()=>cl(!1)}))};var sn=function(){const e=Object(l.useRef)(),a=sessionStorage.getItem("sessionId"),t=Object(m.n)(),r=sessionStorage.getItem("startDate"),c=sessionStorage.getItem("endDate"),o=sessionStorage.getItem("branchDisable"),[u,E]=Object(l.useState)("INFO"),[p,b]=Object(l.useState)(!1),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(null),[f,j]=Object(l.useState)(0),[T,k]=Object(l.useState)(0),[D,L]=Object(l.useState)(new Date),[x,A]=Object(l.useState)("N"),[I,w]=Object(l.useState)(null),[M,F]=Object(l.useState)([]),[R,G]=Object(l.useState)(new Date),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(new Date),[Q,U]=Object(l.useState)(new Date),[Y,K]=Object(l.useState)([]),[H,W]=Object(l.useState)(null),[X,Z]=Object(l.useState)(null),[$,ee]=Object(l.useState)(null),[ae,te]=Object(l.useState)(null),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)("1"),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,Ee]=Object(l.useState)(),[de,pe]=Object(l.useState)(null),[be,ge]=Object(l.useState)(null),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,fe]=Object(l.useState)(0),[je,Te]=Object(l.useState)(0),[ke,Le]=Object(l.useState)(""),[xe,Ae]=Object(l.useState)(""),[we,Fe]=Object(l.useState)(0),[Re,Ge]=Object(l.useState)(""),[Je,Be]=Object(l.useState)(null),[qe,ze]=Object(l.useState)(""),[Ve,Qe]=Object(l.useState)(""),[Ke,Ze]=Object(l.useState)(""),[$e,ea]=Object(l.useState)(""),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(""),[ma,ua]=Object(l.useState)(0),[sa,ia]=Object(l.useState)(0),[Ea,da]=Object(l.useState)(0),[ga,ha]=Object(l.useState)(0),[va,Ca]=Object(l.useState)(0),[_a,Ta]=Object(l.useState)(0),[Da,xa]=Object(l.useState)(0),[Aa,Ia]=Object(l.useState)(0),[wa,Ma]=Object(l.useState)(0),[Fa,Ga]=Object(l.useState)([]),[Pa,Ba]=Object(l.useState)(1),[za,Va]=Object(l.useState)(!0),[Qa,Ua]=Object(l.useState)(null),[Ya,Ka]=Object(l.useState)(""),[Ha,Wa]=Object(l.useState)(""),[Xa,Za]=Object(l.useState)([]),[$a,lt]=Object(l.useState)(""),[nt,mt]=Object(l.useState)(0),[it,Et]=Object(l.useState)(""),[dt,pt]=Object(l.useState)(""),[bt,gt]=Object(l.useState)(""),[St,yt]=Object(l.useState)(0),[Ot,Nt]=Object(l.useState)(0),[vt,Ct]=Object(l.useState)(""),[_t,ft]=Object(l.useState)(1),[jt,Tt]=Object(l.useState)([]),[kt,Dt]=Object(l.useState)(""),Lt=new Date,[xt,At]=Object(l.useState)(!1),[Mt,Ft]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Rt,Pt]=Object(l.useState)([]),[Jt,Bt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[qt,Vt]=Object(l.useState)(!1);Object(l.useEffect)(()=>{oa().then(e=>{w(e),null!=e&&Qt(e)}),De(_,[a,"all","TRAN_PI"],function(e){let a=JSON.parse(e);"1"===a.query?F(a):t("/")})},[]);const Qt=e=>{w(e);var a=e.id.split("^");fe(a[1]),Te(null==a[3]?0:a[3]),Le(a[4]),Ae(""===a[5]?"Select":a[5]),Fe(a[2]),sessionStorage.activeBranch=a[1]},Ut=()=>{b(!1),Ge("")},Yt=e=>{let a=0,t=0,l=0,n=0;for(var r=0;r<e.length;r++)a+=1*e[r].inv_amount,t+=1*e[r].inv_sgst,l+=1*e[r].inv_cgst,n+=1*e[r].inv_taxable;let c=a+t+l,o=Math.round(c)-c;xa(a.toFixed(2)),ha(t.toFixed(2)),ua(c.toFixed(2)),Ma(n.toFixed(2)),Ia(o.toFixed(2)),da(l.toFixed(2)),Ca(0),Ta(0);var m=0;for(r=0;r<jt.length;r++)m+=1*jt[r].tp_amount;Wa(1*c-m)},Kt=()=>{var e=[],t=0;if(La()(".loader").show(),null===I||"S"===x&&!P||"S"===x&&!B||"D"===x&&!z||"D"===x&&!Q||"I"===x&&null===H||"I"===x&&!z||"I"===x&&!Q)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]=null===I?" Location.":"",e[t++]="S"!==x||P?"":" From Srno.",e[t++]="S"!==x||B?"":" To Srno.",e[t++]="D"!==x||z?"":" From Date.",e[t++]="D"!==x||Q?"":" To Date.",e[t++]="I"===x&&null===H?" Individual.":"",e[t++]="I"!==x||z?"":" From Date.",e[t++]="I"!==x||Q?"":" To Date.",N(ta(e)),y(!0);else{const e={radioType:x,piLocation:Ce,accountFilter:v,piNewDate:Ue(R),piSrnoTo:B,piSrnoFrom:P,piFromDate:Ue(z),piToDate:Ue(Q)};De(he,[a,"pilist",JSON.stringify(e)],e=>{La()(".loader").hide(),K(JSON.parse(e))})}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Purchase Invoice"))),""===Re?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Qt,isDisabled:"true"===o}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===x,onChange:()=>A("N"),type:"radio",label:"New"}),n.a.createElement(s.a.Check,{checked:"S"===x,onChange:()=>A("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===x,onChange:()=>A("D"),type:"radio",label:"Date"}),n.a.createElement(s.a.Check,{checked:"I"===x,onChange:()=>A("I"),type:"radio",label:"Individual"})))))),n.a.createElement(Oa.a,null,"N"===x?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(Gt.a,{className:"form-control",selected:R,onChange:e=>G(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===x?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:P,onChange:e=>Ie(e.target.value,J)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:B,onChange:e=>Ie(e.target.value,q)})))):"D"===x||"I"===x||"C"===x?n.a.createElement(n.a.Fragment,null,"I"===x?n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:H,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ut(e),onInputChange:rt,onChange:e=>{W(e)},formatOptionLabel:It,components:{Menu:wt}}))):null,"C"===x?n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:v,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,Ce),onInputChange:rt,onChange:e=>{C(e)}}))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:z,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:Q,onChange:e=>U(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===M.query&&"N"!==x?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Kt()},"List"):null,"\xa0","1"===M.add&&"N"===x?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(R),a=Ye(R),t=Ue(new Date);null==I?(y(!0),N("Please select location")):e>c||e<r?(y(!0),N(d("MSG0010"))):e>t?(y(!0),N(d("MSG0011"))):(L(a),Ge("A"),E("INFO"),k(0),ee(null),Z(null),te(null),ce("1"),ne(""))})()},"Add New"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Bill Date"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Party Invoice No"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,Y.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((e,t,l,n)=>{k(e),E("INFO"),Dt(n),La()(".loader").show();const r={srno:e,piLocationValue:t,type:l};De(he,[a,"viewdata",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(La()(".loader").hide(),Ge("Q"),me(a.remark1),se(a.remark2),ce(a.reversecharge),ee({id:a.acct_id,label:a.acct_label}),ne(a.invoice),te(new Date(a.bill_date)),xa(a.forextotal),da(a.cgst),ha(a.sgst),Ca(a.igst),Ta(a.ugst),Ia(a.round_off),ua(a.total_inr),ia(a.other_charge),Ma(a.taxablevalue),L(a.date),Ba(1*a.maxlineno),Ga(a.productlist),ft(1*a.paymaxlineno),Tt(a.paydetails),k(a.srno))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_bill_date),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_invoice),n.a.createElement("td",null,e.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===Re||"E"===Re?(h(d("WRN0000")),b(!0)):Ut())},"Back"),"\xa0","1"===M.edit&&"Q"===Re?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=kt.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:T,type:"PINV",pageright:"TRAN_PI"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?(Ge("E"),Fa.length>0&&Va(!1)):(At(!0),Ft({trantype:"PINV",trannumber:T,location:Ce,tranDate:Ue(e)}))})})()},"Edit"),"\xa0"):null,"1"===M.edit&&"E"===Re||"1"===M.add&&"A"===Re?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();for(var e=0,t=0;t<jt.length;t++)"RC"===jt[t].tp_payment_type?e-=1*jt[t].tp_amount:e+=1*jt[t].tp_amount;var l=[];if(t=0,null===ae||""===le||null===$||ma!=e)La()(".loader").hide(),l[t++]=d("MSG0006"),l[t++]=null===ae?"Bill Date.":"",l[t++]=""===le?"Invoice Number.":"",l[t++]=null===$?"Party.":"",l[t++]=ma!=e?"Total amount of payment must be equal to calculated INR.":"",y(!0),N(ta(l));else{const e={srno:T,piLocationValue:Ce,nParty:$,nInvoiceNum:le,nBillDate:Ue(ae),nReverseCharge:re,nRemark1:oe,nRemark2:ue,piNewDate:Ue(R),pForexTotal:Da,pSgst:ga,pIgst:va,pUgst:_a,pCgst:Ea,pOtherCharges:sa,pRoundOff:Aa,pTaxableVal:""===wa?0:wa,pTotalAmount:ma,nTaxClass:""===Ne?0:Ne,nStateReceiver:de,nStateSupplier:be,nGstin:ye,productList:Fa,paymentData:jt};if(De(he,[a,"savedata",JSON.stringify(e),JSON.stringify(Rt)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(La()(".loader").hide(),Ge(""),y(!0),N(d(a.msg)),Kt(),Pt([])):(La()(".loader").hide(),y(!0),N(d(a.msg)))}),"E"==Re){const e={srno:T,type:"PINV",status:"E",currentDate:Ue(Lt),pageright:"TRAN_PI"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save"),"\xa0"):null,"1"===M.edit&&"Q"===Re?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Vt(!0),void Bt({trantype:"PINV",trannumber:T,trancategory:"T",location:Ce}))},"Activity Log"),"\xa0"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",T)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,we," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,D))),n.a.createElement(Na.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",Da)),"\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",ma)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(et.a,{activeKey:u,defaultActiveKey:"INFO",onSelect:e=>(e=>{E(e)})(e)},n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bill Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:ae,onChange:e=>te(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===Re,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party Invoice No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Invoice No.",disabled:"Q"===Re,type:"text",maxLength:20,value:le,onChange:e=>ne(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:$,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,Ce),onInputChange:rt,onChange:e=>{ee(e),e.id.split("^")},isDisabled:"Q"===Re}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reverse Charge"),n.a.createElement(s.a.Select,{disabled:"Q"===Re,value:re,onChange:e=>ce(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===Re,value:oe,onChange:e=>me(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===Re,value:ue,onChange:e=>se(e.target.value)})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State of Supplier"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:be,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ht(e,1),onInputChange:rt,onChange:e=>ge(e),isDisabled:!0}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State of Receiver"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:de,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ht(e,1),onInputChange:rt,onChange:e=>pe(e),isDisabled:!0}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIN"),n.a.createElement(s.a.Control,{type:"text",maxLength:30,placeholder:"GSTIN",disabled:!0,value:ye,onChange:e=>Oe(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Tax Classification"),n.a.createElement(s.a.Select,{value:Ne,onChange:e=>ve(e.target.value),disabled:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:""}))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>E("DETAILS")},"Product->")))),n.a.createElement(at.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===Re?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:X,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,Ce),onInputChange:rt,onChange:e=>{Z(e)},isDisabled:"Q"===Re,ref:e}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",type:"text",maxLength:10,value:qe,onChange:e=>Me(e.target.value,ze)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Taxable Value(INR)",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",type:"text",maxLength:10,value:ra,onChange:e=>Me(e.target.value,ca)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"%",type:"text",maxLength:4,value:Ke,onChange:e=>Me(e.target.value,Ze)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"CGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"%",type:"text",maxLength:4,value:Ve,onChange:e=>Me(e.target.value,Qe)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SAC",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"SAC",type:"text",maxLength:10,value:la,onChange:e=>Me(e.target.value,na)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"%",type:"text",maxLength:10,value:$e,onChange:e=>Me(e.target.value,ea)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(null!==X&&qe&&ra&&Ve&&Ke&&la&&$e){let e=0,a=0,l=X.id.split("^");a=l[1],e=l[2];const n={type:"PURCHASE",uniquekey:Xe(15),inv_line_no:Pa,inv_location:Ce,inv_type:"PI",inv_group:a,inv_account:e,inv_srno:T,inv_date:Ue(R),inv_amount:qe,inv_taxable:ra,inv_sac:la,inv_tds:$e,inv_sgst:Ke,inv_cgst:Ve,delny:"Y"};var t=We(Fa,n);t.length>0&&Va(!1);const r={TabType:"Product",ALineNo:Rt.length+1,AType:"A",TLoc:Ce,TType:"PINV",Group:a,Ledger:e,Amount:qe,Taxable:ra,SAC:la,TDS:$e,SGST:Ke,CGST:Ve};"1"===M.edit&&"E"===Re&&Pt(e=>[...e,r]),Ba(Pa+1),Ga(t),Be(null),ze(""),ca(""),Qe(""),Ze(""),na(""),ea(""),Yt(t)}else e[a++]=d("MSG0006"),e[a++]=null===X?" Account.":"",e[a++]=qe?"":" Amount.",e[a++]=ra?"":" GST Taxable Value(INR).",e[a++]=Ve?"":" CGST.",e[a++]=Ke?"":" SGST.",e[a++]=la?"":" SAC.",e[a++]=$e?"":" TDS.",N(ta(e)),y(!0)})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>E("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?E("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->"))),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Taxable Value"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"SAC"),n.a.createElement("th",null,"TDS"))),n.a.createElement("tbody",null,Fa.map(e=>n.a.createElement("tr",{key:e.inv_line_no},n.a.createElement("td",null,e.inv_account),n.a.createElement("td",null,e.inv_group),n.a.createElement("td",null,e.inv_amount),n.a.createElement("td",null,e.inv_taxable),n.a.createElement("td",null,e.inv_sgst),n.a.createElement("td",null,e.inv_cgst),n.a.createElement("td",null,e.inv_sac),n.a.createElement("td",null,e.inv_tds),n.a.createElement("td",null,"Q"===Re||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=Fa.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:Rt.length+1,AType:"A",TLoc:Ce,TType:"PINV",Group:a.inv_group,Ledger:a.inv_account,Amount:a.inv_amount,Taxable:a.inv_taxable,SAC:a.inv_sac,TDS:a.inv_tds,SGST:a.inv_sgst,CGST:a.inv_cgst};"1"===M.edit&&"E"===Re&&Pt(a=>[...a,e])}const t=He(Fa,"uniquekey",e);Ga(t),Yt(t),j(f-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(pa.a,{icon:ja.o}))))))))),n.a.createElement(at.a,{eventKey:"PAYMENT",title:"Payments"},n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Taxable Value: ",wa)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"SGST: ",ga)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"IGST: ",va)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"CGST : ",Ea)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"UGST : ",_a)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Round Off: ",Aa))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:sa,onChange:e=>(e=>{Xe(15),ie.value,Me(e,ia)})(e.target.value),disabled:za||"Q"===Re})))),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Payment Details"))),"Q"===Re?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:Ya,onChange:e=>(e=>{Ka(e),Ua(null),lt(0),Ct(""),"CH"===e?Et("CASH"):"BN"===e||"CQ"===e?Et("BANK"):(Et("WALKIN"),Ua({id:"^4516^1001^7^^WALK IN CLIENT^",label:"4516 1001 Walk In Client"}))})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"PB"},"Payables")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Qa,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,it,Ce),onInputChange:rt,onChange:e=>{Ua(e);var a=e.id.split("^");mt(a[1]),lt(a[2])}}))),""!==Ya?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{placeholder:"Amount",value:Ha,onChange:e=>Me(e.target.value,Wa)}))):null),"BN"===Ya?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:20,value:vt,onChange:e=>Pe(e.target.value,Ct)})))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(ma<1)e[a++]=ma<1?"Total amount must be greater than 0.":"",N(ta(e)),y(!0);else if(""===Ya||null===Qa||Ha<1||"BN"===Ya&&""===vt)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===Qa?"Account.":"",e[a++]=""===Ya?"Payment Type.":"",e[a++]=Ha<1?"Entered amount can't be 0.":"","BN"===Ya&&""===vt&&(e[a++]=""===vt?"Refernece Number.":""),N(ta(e)),y(!0);else{var t=0,l=0,n="";if(null!==Qa){var r=Qa.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Xe(10),tp_line_no:_t,tp_location:Ce,tp_srno:T,tp_payment_type:Ya,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:Ha,tp_cheque:vt,tp_type:"PINV",delny:"Y"},o=We(jt,e),m={TabType:"Payment",AType:"A",ALineNo:Rt.length+1,TLoc:Ce,TType:"PINV",PaymentType:Ya,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:Ha,ReferenceNo:vt};"1"===M.edit&&"E"===Re&&Pt(e=>[...e,m]),Tt(o),Ka(""),ft(_t+1),Wa(""),Ua(null),j(f+1);var c=0;for(a=0;a<o.length;a++)c+=1*o[a].tp_amount;Wa(1*ma-c)}})()},"Add")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Refernce No"))),n.a.createElement("tbody",null,jt.map((e,a)=>n.a.createElement("tr",{key:e.uniquekey},n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque),n.a.createElement("td",null,"Q"!==Re?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{const t=jt.find(a=>a.uniquekey===e);if(t){const e={TabType:"Payment",ALineNo:Rt.length+1,AType:"D",TLine:_t+1,TLoc:Ce,TType:"PINV",PaymentType:t.tp_payment_type,PaymentGroupCode:t.tp_group,PaymentLedgerCode:t.tp_account,PaymentAccountName:t.mvli_ledger_name,PaymentAmount:t.tp_amount,ReferenceNo:t.tp_cheque};"1"===M.edit&&"E"===Re&&Pt(a=>[...a,e])}const l=He(jt,"uniquekey",e);Tt(l);for(var n=0,r=0;r<l.length;r++)n+=1*l[r].tp_amount;Wa(1*ma-n),j(f-1)})(e.uniquekey,e.delny)},n.a.createElement(pa.a,{icon:ja.o})):null))))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(qa,{logObject:Jt,show:qt,onHide:()=>Vt(!1)}),n.a.createElement("span",{className:"corner-span"},f),n.a.createElement(Sa,{isOpen:S,onClose:e=>y(!1)},O),n.a.createElement(Ja,{isOpen:p,onYes:e=>Ut(),onNo:e=>b(!1)},g),n.a.createElement(zt,{logObject:Mt,show:xt,onHide:()=>At(!1)}))};t(254);var En=function(){const e=Object(l.useRef)(),a=sessionStorage.getItem("startDate"),t=sessionStorage.getItem("endDate"),r=sessionStorage.getItem("branchDisable"),[c,o]=Object(l.useState)(!1),[u,E]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),b=Object(m.n)(),[g,h]=Object(l.useState)(!1),[y,N]=Object(l.useState)(""),[v,C]=Object(l.useState)("N"),[f,j]=Object(l.useState)(new Date),[T,k]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(new Date),[w,M]=Object(l.useState)(new Date),[F,R]=Object(l.useState)([]),[G,P]=Object(l.useState)(null),[J,B]=Object(l.useState)(0),[q,V]=Object(l.useState)(null),[Q,U]=Object(l.useState)(null),[Y,H]=Object(l.useState)(0),[X,Z]=Object(l.useState)(0),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)([]),[le,ne]=Object(l.useState)(""),[re,oe]=Object(l.useState)(!1),[me,se]=Object(l.useState)([]),[ie,Ee]=Object(l.useState)([]),[de,be]=Object(l.useState)([]),[ge,he]=Object(l.useState)(0),[ye,Oe]=Object(l.useState)(null),[Ne,ve]=Object(l.useState)({value:0,label:"Select"}),[Ce,fe]=Object(l.useState)(null),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(""),[xe,Ae]=Object(l.useState)("1"),[we,Fe]=Object(l.useState)(null),[Re,Ge]=Object(l.useState)(""),[Je,Be]=Object(l.useState)(null),[qe,ze]=Object(l.useState)(null),[Ve,Qe]=Object(l.useState)(null),[Ke,Ze]=Object(l.useState)(""),[$e,ea]=Object(l.useState)(""),[la,na]=Object(l.useState)(null),[ra,ca]=Object(l.useState)(""),[ma,ua]=Object(l.useState)(1),[sa,ia]=Object(l.useState)("B"),[Ea,da]=Object(l.useState)(null),[ga,ha]=Object(l.useState)(null),[va,Ca]=Object(l.useState)(""),[_a,Ta]=Object(l.useState)(""),[Da,xa]=Object(l.useState)(""),[Aa,Ia]=Object(l.useState)("CN"),[wa,Ma]=Object(l.useState)(""),[Fa,Ga]=Object(l.useState)([]),[Pa,za]=Object(l.useState)(null),[Va,Qa]=Object(l.useState)(0),[Ya,Ka]=Object(l.useState)(0),[Ha,Wa]=Object(l.useState)(0),[Xa,Za]=Object(l.useState)(0),[$a,lt]=Object(l.useState)(0),[nt,ot]=Object(l.useState)(0),[mt,pt]=Object(l.useState)(0),[gt,ht]=Object(l.useState)(0),[St,yt]=Object(l.useState)(0),[Ot,Nt]=Object(l.useState)(!0),[Ct,jt]=Object(l.useState)(""),[Tt,kt]=Object(l.useState)(""),[Dt,Lt]=Object(l.useState)(""),[xt,At]=Object(l.useState)(""),[Mt,Ft]=Object(l.useState)(null),[Rt,Pt]=Object(l.useState)("0"),[Jt,Bt]=Object(l.useState)(""),[qt,Vt]=Object(l.useState)(""),[Qt,Ut]=Object(l.useState)(null),[Yt,Kt]=Object(l.useState)(""),[Ht,Wt]=Object(l.useState)(""),[Zt,$t]=Object(l.useState)("INFO"),[al,tl]=Object(l.useState)([]),[ll,nl]=Object(l.useState)(""),[rl,cl]=Object(l.useState)(0),[ol,ml]=Object(l.useState)(""),[ul,sl]=Object(l.useState)([]),[il,El]=Object(l.useState)(""),[dl,bl]=Object(l.useState)(""),[gl,hl]=Object(l.useState)(""),[Sl,yl]=Object(l.useState)(0),[Ol,Nl]=Object(l.useState)(0),[vl,Cl]=Object(l.useState)(0),[_l,fl]=Object(l.useState)(0),[jl,Tl]=Object(l.useState)(0),[kl,Dl]=Object(l.useState)(""),[Ll,xl]=Object(l.useState)(null),[Al,Il]=Object(l.useState)(0),[wl,Ml]=Object(l.useState)(0),[Fl,Rl]=Object(l.useState)(0),[Gl,Pl]=Object(l.useState)(0),[Jl,Bl]=Object(l.useState)(""),[ql,zl]=Object(l.useState)(""),[Vl,Ql]=Object(l.useState)(null),[Ul,Yl]=Object(l.useState)(""),[Kl,Hl]=Object(l.useState)({location:"",trannumber:"",type:""}),[Wl,Xl]=Object(l.useState)(!1),[Zl,$l]=Object(l.useState)(""),en=new Date,[an,tn]=Object(l.useState)(!1),[ln,nn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[rn,cn]=Object(l.useState)(""),[on,un]=Object(l.useState)(""),[sn,En]=Object(l.useState)(0),[dn,pn]=Object(l.useState)(0),[bn,gn]=Object(l.useState)(!1),[hn,Sn]=Object(l.useState)(!1),[yn,On]=Object(l.useState)([]),[Nn,vn]=Object(l.useState)([]),[Cn,_n]=Object(l.useState)([]),[fn,jn]=Object(l.useState)(!1),[Tn,kn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Dn,Ln]=Object(l.useState)(!0),[xn,An]=Object(l.useState)("C"),[In,wn]=Object(l.useState)(!1);Object(l.useEffect)(()=>{oa().then(e=>{P(e),null!=e&&Mn(e)}),De(_,[p,"all","TRAN_PP"],function(e){let a=JSON.parse(e);"1"===a.query?te(a):b("/")}),De(O,[p,"ddlistjsonselect",Aa],e=>{se(JSON.parse(e))}),De(W,[p,"listResidential"],e=>{Ee(JSON.parse(e))}),De(S,[p,"getState",1],e=>{be(JSON.parse(e))});const e=sessionStorage.getItem("values");if(e){const a=JSON.parse(e);"PURCHASE"==a.md_type?(ne("A"),Te("R"),De(z,[p,"getIndividualData",a.code],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a),Fn({...a,desc:"".concat(a.desc.replaceAll("^","  ^  "))})}),sessionStorage.removeItem("values")):ne("")}},[]);const Mn=e=>{P(e);var a=e.id.split("^");B(a[1]),Z(null==a[3]?0:a[3]),H(a[4]),ee(""===a[5]?"Select":a[5]),Yl(a[2]),sessionStorage.activeBranch=a[1]},Fn=e=>{Oe(e);var a=e.id.split("^");Bl(a[1]),pn(1),ca("")},Rn=e=>{oe(!0),zl("E"===e&&null!=ye?"E":"A")},Gn=()=>{o(!1);const e=JSON.parse(sessionStorage.getItem("values"));e&&"PURCHASE"===e.md_type?(b("/individual-profile"),sessionStorage.removeItem("values"),sessionStorage.setItem("flag","1")):ne("")},Pn=()=>{La()(".loader").show();for(var e=0,a=(()=>{var e=0,a=!0;if(null!==ye)for(;e<Fa.length;){if("EVTM"===Fa[e].prd_product){var t=Pa.id.split("^");if(1*t[9]>0&&t[9]!=Jl){a=!1;break}}e++}return a})(),t=0;t<ul.length;t++)"RC"===ul[t].tp_payment_type?e-=1*ul[t].tp_amount:e+=1*ul[t].tp_amount;var l=[],n=(t=0,0);if(null!==Ce&&(n=Ce.id.split("^")[1]),"R"===je&&(null===ye||null==la)||"G"===je&&null===Je||""===xe||Va!=e||1==n||Va>0&&0==Ne.value)La()(".loader").hide(),l[t++]=d("MSG0006"),"R"===je&&null===ye&&(l[t++]=null===ye?"Individual Profile":""),"R"===je&&null===la&&(l[t++]=null===la?"Arrival Date":""),"G"===je&&null===Je&&(l[t++]=null===Je?"Dealer":""),l[t++]=""===xe?"Residential State":"",Va!=e&&(l[t++]=Va!=e?"Total amount of payment must be equal to calculated INR.":""),1==n&&(l[t++]=1==n?"Country visited can't be India.":""),Va>0&&0==Ne.value&&(l[t++]=0==Ne.value?"Place of supply.":""),N(ta(l)),h(!0);else if(1==n)La()(".loader").hide(),N("Visited country can't be India"),h(!0);else if(a){const e={srno:ge,ppLocationValue:J,nCorporate:we,nIndividual:ye,nDealer:Je,nCountry:Ce,nState:Ne.value,nResident:xe,nEmployeeCode:ke,nDocument:Re,nServiceType:je,ppNewDate:Ue(f),pForexTotal:mt,pSgst:Xa,pIgst:$a,pUgst:nt,pCgst:Ha,pOtherCharges:Ya,pRoundOff:gt,pTaxableVal:""===St?0:St,pTotalAmount:Va,ppStateType:Y,ppStateValue:X,randomString:wa,pProductList:Fa,paymentData:ul,nRemark1:Ke,nExecutive:Ve,nRemark2:$e,nCDFNum:ra,nArrivalDate:Ue(la),nLrsReverse:ma,nManualNo:qe,radioType:v,ppLocation:J,ppCorporate:q,ppIndividual:Q,ppSrnoTo:L,ppSrnoFrom:T,ppFromDate:Ue(A),ppToDate:Ue(w),usdRate:""==rn?0:rn};if(De(K,[p,"savedata",JSON.stringify(e),JSON.stringify(Nn)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(R(a.ppList),La()(".loader").hide(),ne(""),h(!0),N(d(a.msg)),na(null),vn([])):(La()(".loader").hide(),h(!0),N(a.msg))}),"E"==le){const e={srno:ge,type:"PP",status:"E",currentDate:Ue(en),pageright:"TRAN_PP"};De(Se,[p,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}else La()(".loader").hide(),N("Individual in vtm must be same as the one selected."),h(!0)},Jn=e=>{ha(e);let a=e.id.split("^");hl(a[1]),Ft(null),Bt(""),Vt("");const t={isd:a[1],location:J,product:Aa};De(pe,[p,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);xa(1*a.buyrate),yl(1*a.maxbuyrate),Nl(1*a.minbuyrate),cn(1*a.usdratebuy)})},Bn=(e,a)=>{De(ue,[p,"calcinvoice",JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);pt(a.fxamt),Za(a.sgst),Qa(a.totalamt),yt(a.taxablevalue),ht(a.roundoff),Wa(a.cgst),lt(a.igst),ot(a.ugst);for(var t=0,l=0;l<ul.length;l++)t+=1*ul[l].tp_amount;Wt(1*a.totalamt-t)})},qn=e=>{Ie(e,kt),Lt(1*e+1*_a-1),"EVTM"===Aa&&Lt(e)},zn=(e,a,t,l,n)=>("P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e).toFixed(2),Vn=e=>{const a={srno:ge,location:J,type:"PP",printFlag:e};De(ce,[p,"print",JSON.stringify(a)],e=>{window.open().document.write(e)})};return n.a.createElement(n.a.Fragment,null,re?n.a.createElement(pl,{reqObj:{nIndivualSrno:Jl,scrIndividual:ql},value:"TRAN_PP",hideIndividualProfile:(e,a)=>{if(oe(e),a>0){const e={individualsrno:a,type:"PURCHASE"};De(z,[p,"individualidfrompicklist",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a);const t=a.desc.split("^");""===a.id?Oe(null):Fn({...a,desc:"".concat(t.slice().join("  ^  "))})})}}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Purchase From Public"))),""===le?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:G,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Mn,isDisabled:"true"===r}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===v,onChange:()=>C("N"),type:"radio",label:"New"}),"\xa0",n.a.createElement(s.a.Check,{checked:"S"===v,onChange:()=>C("S"),type:"radio",label:"SrNo"}),"\xa0",n.a.createElement(s.a.Check,{checked:"D"===v,onChange:()=>C("D"),type:"radio",label:"Date"}),"\xa0",n.a.createElement(s.a.Check,{checked:"I"===v,onChange:()=>C("I"),type:"radio",label:"Individual"}),"\xa0",n.a.createElement(s.a.Check,{checked:"C"===v,onChange:()=>C("C"),type:"radio",label:"Corporate"}),"\xa0",n.a.createElement(s.a.Check,{checked:"M"===v,onChange:()=>C("M"),type:"radio",label:"Manual No."}),"\xa0",n.a.createElement(s.a.Check,{checked:"R"===v,onChange:()=>C("R"),type:"radio",label:"Rate Card."}),"\xa0"))))),n.a.createElement(Oa.a,null,"N"===v?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(Gt.a,{className:"form-control",selected:f,onChange:e=>j(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===v?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:T,onChange:e=>Ie(e.target.value,k)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:L,onChange:e=>Ie(e.target.value,x)})))):"D"===v||"I"===v||"C"===v?n.a.createElement(n.a.Fragment,null,"I"===v?n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ut(e),onInputChange:rt,onChange:e=>{U(e)},formatOptionLabel:It,components:{Menu:wt}}))):null,"C"===v?n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"CORPORATE",J),onInputChange:rt,onChange:e=>{V(e)}}))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:w,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"M"===v?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:50,value:on,onChange:e=>Pe(e.target.value,un),placeholder:"Manual No."})))):"R"===v?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:xn,onChange:e=>An(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD"))))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===ae.query&&"N"!==v&&"R"!==v?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(La()(".loader").show(),null===G||"S"===v&&!T||"S"===v&&!L||"D"===v&&!A||"D"===v&&!w||"I"===v&&null===Q||"I"===v&&!A||"I"===v&&!w||"C"===v&&null===q||"C"===v&&!A||"C"===v&&!w||"M"===v&&!on||"I"===v&&Ue(A)<"2024-04-01"||"I"===v&&Ue(w)>"2025-03-31"||"D"===v&&Ue(A)<"2024-04-01"||"D"===v&&Ue(w)>"2025-03-31"||"C"===v&&Ue(A)<"2024-04-01"||"C"===v&&Ue(w)>"2025-03-31")La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===G?" Location.":"",e[a++]="S"!==v||T?"":" From Srno.",e[a++]="S"!==v||L?"":" To Srno.",e[a++]="D"!==v||A?"":" From Date.",e[a++]="D"!==v||w?"":" To Date.",e[a++]="I"===v&&null===Q?" Individual.":"",e[a++]="I"!==v||A?"":" From Date.",e[a++]="I"===v&&Ue(A)<"2024-04-01"?"From Date Should be Greater Then 01-04-2024  .":"",e[a++]="D"===v&&Ue(A)<"2024-04-01"?"From Date Should be Greater Then 01-04-2024  .":"",e[a++]="C"===v&&Ue(A)<"2024-04-01"?"From Date Should be Greater Then 01-04-2024  .":"",e[a++]="I"!==v||w?"":" To Date.",e[a++]="I"===v&&Ue(w)>"2025-03-31"?" To Date Should be Less Then 31-03-2025 ":"",e[a++]="D"===v&&Ue(w)>"2025-03-31"?" To Date Should be Less Then 31-03-2025 ":"",e[a++]="C"===v&&Ue(w)>"2025-03-31"?" To Date Should be Less Then 31-03-2025 ":"",e[a++]="C"===v&&null===q?" Corporate.":"",e[a++]="C"!==v||A?"":" From Date.",e[a++]="C"!==v||w?"":" To Date.",e[a++]="M"!==v||on?"":" Manual No.",N(ta(e)),h(!0);else{const e={radioType:v,ppLocation:J,ppCorporate:q,ppIndividual:Q,ppNewDate:Ue(f),ppSrnoTo:L,ppSrnoFrom:T,ppFromDate:Ue(A),ppToDate:Ue(w),ppManualNo:on};De(K,[p,"pplist",JSON.stringify(e)],e=>{La()(".loader").hide(),R(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===ae.add&&"N"===v?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(f),l=Ye(f),n=Ue(new Date);null==G?(h(!0),N("Please select location")):e>t||e<a?(h(!0),N(d("MSG0010"))):e>n?(h(!0),N(d("MSG0011"))):(Ql(l),ne("A"),$t("INFO"),fl(0),Tl(0),he(0),Ma(Xe(20)),Nt(!0),Oe(null),Fe(null),Te("R"),fe(null),Ae("1"),Le(""),ve(1*X>0&&null!=X?{value:X,label:$}:{value:0,label:"Select"}),Ge(""),pt(0),Qa(0),Wa(0),lt(0),ot(0),Za(0),ht(0),Ka(0),Ia("CN"),ha(null),Ca(""),Ta(""),xa(""),Ga([]),sl([]),da(null),jt(""),kt(""),Lt(""),At(""),Vt(""),bl(""),Ft(null),Bt(""),ze(null),Be(null),Te("R"),Ut(null),nl(0),Kt(""),ml(""),Wt(""),yt(""),za(null),na(null),ca(null))})()},"Add New"):null,"\xa0","1"===ae.add&&"R"===v?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={location:J,product:xn};De(pe,[p,"getratecard",JSON.stringify(e)],e=>{let a=JSON.parse(e);const t=window.open("about:blank","_blank");var l=a[0].mrc_date;t.document.write('\n                <html>\n                <head>\n                    <title>Rate Card</title>\n                    <style>\n                    table {\n                        width: 100%;\n                        border-collapse: collapse;\n                    }\n                    th, td  {\n                        border: 2px solid black;\n                        padding: 8px;\n                        text-align: left;\n                    }\n                    th {\n                        background-color: #f2f2f2;\n                    }\n                    .header {\n                        display: flex;\n                        justify-content: space-between; /* Aligns items to opposite corners */\n                        align-items: center; /* Vertically centers items */\n                    }\n                    .header img {\n                        width: 300px; /* Adjust the width as needed */\n                        height: auto;\n                    }\n                    .container{\n                    background: aliceblue;\n                    padding: 20px;\n                    }\n                    </style>\n                </head>\n                <body>\n                <div class= "container">\n                    <div class="header">\n                    <img src="img/logo.png" alt="Rate Card Image" />\n                        <div>\n                            <h1>Zenith Forex</h1>\n                            <p>Card Rate as on '.concat(l,"<p>\n                        </div>\n                    </div>\n                    <table>\n                    <thead>\n                        <tr>\n                        <th>Code</th>\n                        <th>Currencies</th>\n                        <th>Product</th>\n                        <th>Purchase Rate</th>\n                        <th>Max Purchase Rate</th>\n                        <th>Min Purchase Rate</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ").concat(a.map(e=>"\n                        <tr>\n                            <td>".concat(e.mrc_isd,"</td>\n                            <td>").concat(e.isd_name,"</td>\n                            <td>").concat("C"===e.mrc_product?"CN":"R"===e.mrc_product?"Card":"D"===e.mrc_product?"DD":"T"===e.mrc_product?"TT":"","</td>\n                            <td>").concat(e.mrc_buy_rate,"</td>\n                            <td>").concat(e.mrc_max_buyrate,"</td>\n                            <td>").concat(e.mrc_min_buyrate,"</td>\n                        </tr>\n                        ")).join(""),"\n                    </tbody>\n                    </table>\n                </div>\n                </body>\n                </html>\n\n              ")),t.document.close()})})()},"Get Rate"):null)),n.a.createElement(Oa.a,null,"\xa0"),"R"!==v?n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Manual No."),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Dealer/Corporate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,F.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((e,a,t,l)=>{na(""),he(e),$t("INFO"),Ma("0"),za(null),$l(l),La()(".loader").show();const n={srno:e,ppLocationValue:a,type:t};De(K,[p,"viewdata",JSON.stringify(n)],e=>{let a=JSON.parse(e);if("MSG0000"===a.msg){La()(".loader").hide(),ne("Q");const e=a.corpDesc.split("^");"^0^0^"===a.ind_id?Oe(null):Oe({id:a.ind_id,label:a.ind_label,desc:"".concat(e.slice().join(" ^  "))}),"^0^^"===a.cntid?fe(null):fe({value:a.cntid,label:a.cntlabel}),"^^^^0^"!==a.manuallabel?ze({id:a.manualid,label:a.manuallabel}):ze(null),null!=a.arrivaldate?na(new Date(a.arrivaldate)):na(null),"^0^"===a.exec_id?Qe(null):Qe({id:a.exec_id,label:a.exec_label}),"^0^0^"===a.acct_id?(Fe(null),Be(null)):"G"===a.service_type?Be({id:a.acct_id,label:a.acct_label}):Fe({id:a.acct_id,label:a.acct_label}),Le(a.emp_code),ve({value:a.state,label:a.statename}),Bl(a.individualsrno),Te(a.service_type),Ae(a.residential),Ze(a.remark1),ea(a.remark2),ua(a.lrsreverse),ca(a.cdfnum),Ge(a.doc),pt(a.forextotal),Wa(a.cgst),Za(a.sgst),lt(a.igst),ot(a.ugst),ht(a.round_off),Qa(a.total_inr),Ka(a.other_charge),yt(a.taxablevalue),Ga(a.productlist),sl(a.paydetails),fl(a.maxlineno),Tl(1*a.paymaxlineno),Ql(a.date),Yl(a.locname)}})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_manual),n.a.createElement("td",null,e.bd_first_name+" "+e.bd_middle_name+" "+e.bd_last_name),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_total_inr)))))):null):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,{style:{display:"none"}},n.a.createElement(Na.a,null,n.a.createElement("p",null,wa))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===le||"E"===le?(E(d("WRN0000")),o(!0)):Gn())},"Back"),"\xa0","1"===ae.edit&&"Q"===le?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{pn(1);const e=new Date,a=Zl.split("/"),t=a[2]+"-"+a[1]+"-"+a[0],l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:ge,type:"PP",pageright:"TRAN_PP"};De(Se,[p,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);_e==c||"unlock"==t?(ne("E"),Fa.length>0&&Nt(!1),null!=la&&null!=ye&&En(1)):(tn(!0),nn({trantype:"PP",trannumber:ge,location:J,tranDate:Ue(e)}))})})()},"Edit"),"\xa0"):null,"1"===ae.edit&&"E"===le||"1"===ae.add&&"A"===le?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>Pn()},"Save"),"\xa0"):null,"1"===ae.query&&"Q"===le?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Vn("D")},"With Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Vn("")},"Without Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(Xl(!0),void Hl({location:J,trannumber:ge,type:"PP"}))},"Fa View"),"\xa0","1"===ae.edit&&"Q"===le?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(jn(!0),void kn({trantype:"PP",trannumber:ge,trancategory:"T",location:J}))},"Activity Log"),"\xa0"):null):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",ge)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,Ul," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,Vl))),n.a.createElement(Na.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",mt)),"\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",Va)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(et.a,{activeKey:Zt,defaultActiveKey:"INFO",onSelect:e=>(e=>{if($t(e),"PAYMENT"===e){for(var a=0,t=0;t<ul.length;t++)a+=1*ul[t].tp_amount;Wt(1*Va-a);const e={nCorporate:we};De(K,[p,"getcorporate",JSON.stringify(e)],e=>{tl(JSON.parse(e))})}})(e)},n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Service Type"),n.a.createElement(s.a.Select,{disabled:"Q"===le,value:je,onChange:e=>(e=>{Te(e),"R"===e?Be(null):(Oe(null),Fe(null))})(e.target.value)},n.a.createElement("option",{value:"R"},"Retail"),n.a.createElement("option",{value:"G"},"Good and Service Provider")))),"R"===je?n.a.createElement(Na.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*"),"Q"===le?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"tranNewFormText",onClick:()=>Rn("A")},"Not in list? Create New"),"\xa0\xa0",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>Rn("E")},"Edit")),1===dn?n.a.createElement("span",{style:{display:"Q"===le&&"none"},className:"mx-2",onClick:()=>{La()(".loader").show(),gn(!0);const e={srno:Jl};De(K,[p,"getpretran",JSON.stringify(e)],e=>{La()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),On("")):On(a)})}},n.a.createElement(Xt.a,{bg:"secondary"},"Previous Transaction")):null),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ye,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ut,onInputChange:rt,onChange:Fn,isDisabled:"Q"===le,formatOptionLabel:It,components:{Menu:wt}}))):n.a.createElement(Na.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===le&&"none"},className:"mx-2",onClick:()=>Be(null)},n.a.createElement(Xt.a,{bg:"secondary"},"Reset"))),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Je,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ft(e,J,7),onInputChange:rt,onChange:e=>{Be(e)},isDisabled:"Q"===le}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===le,value:sa,onChange:e=>ia(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery"))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual Number"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:qe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>_t(e,J,"PP"),onInputChange:rt,onChange:e=>{ze(e)},isDisabled:"Q"===le}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Account Manager"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ve,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:dt,onInputChange:rt,onChange:e=>{Qe(e)},isDisabled:"Q"===le})),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country Visited"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ce,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>bt(e),onInputChange:rt,onChange:e=>{fe(e)},isDisabled:"Q"===le}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Residential Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===le,value:xe,onChange:e=>Ae(e.target.value)},ie.map((e,a)=>n.a.createElement("option",{value:e.mrs_srno,key:a},e.mrs_resident))))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"Corporate"),n.a.createElement("span",{style:{display:"Q"===le&&"none"},className:"mx-2",onClick:()=>Fe(null)},n.a.createElement(Xt.a,{bg:"secondary"},"Reset"))),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:we,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"CORPORATE",J),onInputChange:rt,onChange:e=>{Fe(e);var a=e.id.split("^");ve({value:a[3],label:a[4]})},isDisabled:"Q"===le}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"R"===je?"Corporate ":"Dealer ","Employee Code"),n.a.createElement(s.a.Control,{disabled:"Q"===le,placeholder:"Employee Code",type:"text",value:ke,onChange:e=>Pe(e.target.value,Le),maxLength:20}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place Of Supply"),n.a.createElement(Ua.a,{isDisabled:"Q"===le,options:de,value:Ne,onChange:e=>ve(e)})))),"R"===je&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN/Form 60"),n.a.createElement(s.a.Select,{disabled:"Q"===le,value:Re,onChange:e=>Ge(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"F"},"Form 60"),n.a.createElement("option",{value:"P"},"PAN")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"LRS Reverse"),n.a.createElement(s.a.Select,{disabled:"Q"===le,value:ma,onChange:e=>ua(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Arrival Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:la,onChange:e=>{na(e),En(1)},dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===le,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),1===sn&&1===dn&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"CDF Number"),n.a.createElement("span",{style:{display:"Q"===le&&"none"},className:"mx-2",onClick:()=>{const e={srno:Jl,hdrLocation:J};De(K,[p,"getCDF",JSON.stringify(e)],e=>{var a=JSON.parse(e);""===a.result?(alert("Previous CDF Number not found"),ca("")):ca(a.result)})}},n.a.createElement(Xt.a,{bg:"secondary"},"CDF Info")),n.a.createElement(s.a.Control,{disabled:"Q"===le,value:ra,onChange:e=>ca(e.target.value)})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===le,value:Ke,onChange:e=>Ze(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===le,value:$e,onChange:e=>ea(e.target.value)})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>$t("DETAILS")},"Product->")))),n.a.createElement(at.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===le?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Aa,onChange:e=>(e=>{Ia(e),ha(null),za(null),Ca(""),xa(""),kt(""),At(""),da(null),Ta("EVTM"===e?"1":""),De(O,[p,"ddlistjsonselect",e],e=>{se(JSON.parse(e))})})(e.target.value),ref:e},n.a.createElement("option",{value:"CN"},"CN"),n.a.createElement("option",{value:"ETC"},"TC"),n.a.createElement("option",{value:"EVTM"},"VTM")))),"EVTM"===Aa?n.a.createElement(Na.a,{className:"col-md-6 col- 6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Vtm's"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Pa,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Et(e,"APPROVED"),onInputChange:rt,onChange:e=>{za(e);var a=e.id.split("^");const t={id:"^".concat(a[2],"^").concat(a[7]),label:"".concat(a[2]," ").concat(a[7])};ha(t),da({id:"^".concat(a[3],"^").concat(a[4]),label:"".concat(a[3]," ").concat(a[4])}),At(a[5]),qn(a[6]),Ca(a[8]),Jn(t)}}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ga,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,Aa),onInputChange:rt,onChange:Jn}))),"ETC"===Aa||"EVTM"===Aa?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ea,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",J),onInputChange:rt,onChange:e=>da(e)}))):null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{display:{display:"EVTM"===Aa&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"EVTM"===Aa?"Value":"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"EVTM"===Aa,type:"text",value:va,maxLength:5,onChange:e=>(e=>{Me(e,Ca),Vt(zn(dl,Jt,_a,e,Da))})(e.target.value)}))),n.a.createElement(Na.a,{style:{display:"EVTM"===Aa&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:_a,maxLength:9,onChange:e=>(e=>{Ie(e,Ta),""===Aa&&Lt(1*e+1*Tt-1),Vt(zn(dl,Jt,e,va,Da))})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===le&&"none"},className:"mx-2",onClick:()=>{La()(".loader").show(),Sn(!0),ha(ga);let e=ga.id.split("^");hl(e[1]),Ft(null),Bt(""),Vt("");const a={isd:e[1],location:J,product:Aa};De(pe,[p,"getrate",JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a?(alert("Select Individual First "),La()(".loader").hide()):(Array.isArray(a)?_n(a):a&&"object"===typeof a&&_n([a]),La()(".loader").hide())})}},n.a.createElement(Xt.a,{bg:"secondary"},"See Min/Max Rate")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:Da,maxLength:5,onChange:e=>(e=>{Me(e,xa),Vt(zn(dl,Jt,_a,va,e))})(e.target.value)})))),"ETC"===Aa||"EVTM"===Aa?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"EVTM"===Aa&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{placeholder:"Prefix",type:"text",maxLength:5,value:Ct,onChange:e=>Pe(e.target.value,jt)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"EVTM"===Aa,placeholder:"From",type:"text",maxLength:6,value:Tt,onChange:e=>qn(e.target.value)}))),"ETC"===Aa?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"To",type:"text",maxLength:6,value:Dt,onChange:e=>Ie(e.target.value,Lt)}))):n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Card No",type:"text",value:xt,onChange:e=>At(e.target.value)})))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:Rt,onChange:e=>Pt(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===Rt?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Mt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"AGENT",J),onInputChange:rt,onChange:e=>{Ft(e),De(D,[p,"getisdcommission",e.id,gl,Aa],e=>{let a=JSON.parse(e);var t;Bt(a.type),bl(a.value),t="P"===a.type||"R"===a.type?zn(a.value,a.type,_a,va,Da):a.value,Vt(t)})}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Jt,onChange:e=>(e=>{Bt(e),bl(""),Vt("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:dl,onChange:e=>(e=>{Me(e,bl),Vt(zn(1*e,Jt,_a,va,Da))})(e.target.value)}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:qt,onChange:e=>Me(e.target.value,Vt)})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=[],a=0;if(("CN"!==Aa&&"ETC"!==Aa||null!=ga)&&""!==va&&""!==_a&&""!==Da&&("ETC"!==Aa&&"EVTM"!==Aa||""!=Tt&&""!=Dt&&null!=Ea)&&("1"!==Rt||""!==Jt&&null!==Mt&&""!==qt))if(("ETC"===Aa||"EVTM"===Aa)&&1*Dt-1*Tt>100)La()(".loader").hide(),N("'To' must be less than 100."),h(!0);else if(0!=Sl&&0!=Ol&&(Da>Sl||Da<Ol))La()(".loader").hide(),e[a++]=Da>Sl?"Maximum rate is "+Sl:"",e[a++]=Da<Ol?"Minimum rate is "+Ol:"",N(ta(e)),h(!0);else if(Da<1)La()(".loader").hide(),N(ta(["Rate should be greater than 0"])),h(!0);else{La()(".loader").hide();var t=ga.id.split("^"),l=0,n=0,r="",c=0,o=0;if(null!==Mt){var m=Mt.id.split("^");l=m[1],n=m[2],r=m[5]}if(null!==Ea){var u=Ea.id.split("^");c=u[1],o=u[2]}var s=0;""!=rn&&0!=rn&&(s=Da*_a*va/rn);const e={tranType:"PP",type:"PURCHASE",uniquekey:Xe(15),prd_line_no:_l+1,prd_location:J,prd_type:"PP",prd_srno:ge,prd_isd:t[1],prd_date:Ue(f),prd_product:Aa,prd_deno:va,prd_qty:_a,prd_rate:Da,prd_amount:Da*_a*va,prd_from:Tt,prd_prefix:Ct,prd_to:Dt,prd_group:c,prd_account:o,prd_agent_group:l,prd_agent_ledger:n,prd_agent_name:r,prd_card_no:xt,isd_name:t[2],randomString:wa,prd_commission_type:Jt,prd_commission_value:""==qt?0:qt,prd_commission:""==dl?0:dl,nCorporate:we,nState:Ne.value,pOtherCharges:Ya,ppStateType:Y,ppStateValue:X,scrMode:le,pVtm:Pa,prd_usd_rate:""==rn?0:rn.toFixed(2),prd_usd_amount:s.toFixed(2),isCommission:Rt,delny:"Y"};var i=We(Fa,e);i.length>0&&Nt(!1);const a={TabType:"Product",ALineNo:Nn.length+1,AType:"A",TLoc:J,TType:"PP",Product:Aa,ISD:t[2],Deno:va,Quantity:_a,Rate:Da,Amount:Da*_a*va,ProductFrom:Tt,ProductTo:Dt,ProductPrefix:Ct,ProductGroup:c,ProductAccout:o,CommsnType:Jt,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==qt?0:qt,CommsnAmount:""==dl?0:dl};"1"===ae.edit&&"E"===le&&vn(e=>[...e,a]),Ga(i),Cl(vl+1),fl(1*_l+1),ha(null),da(null),Ca(""),Ta(""),xa(""),jt(""),kt(""),Lt(""),At(""),Vt(""),bl(""),Ft(null),Bt(""),Bn(i,e)}else La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null==ga?"Isd.":"",e[a++]=""===va?"Denomination.":"",e[a++]=""==_a?"Quantity.":"",e[a++]=""==Da?"Rate.":"","ETC"!==Aa&&"EVTM"!==Aa||""!=Tt&&""!=Dt&&null!=Ea||(e[a++]=null==Ea?"Issuer.":"",e[a++]=""==Tt?"From.":"",e[a++]=""==Dt?"To.":""),"1"!==Rt||""!==Jt&&null!==Mt&&""!==qt||(e[a++]=null==Mt?"Agent.":"",e[a++]=""==Jt?"Commission type.":"",e[a++]=""==qt?"Commission value.":""),N(ta(e)),h(!0)})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>$t("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?$t("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->")))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(Xt.a,{className:"handCursor",bg:"primary",onClick:()=>{wn(!0)}},"View Commission Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,Fa.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===le||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=Fa.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:Nn.length+1,AType:"D",TLoc:J,TType:"PP",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===ae.edit&&"E"===le&&vn(a=>[...a,e])}const t={tranType:"PP",type:"PURCHASE",uniquekey:Xe(15),nState:Ne.value,pOtherCharges:""===Ya?0:Ya,ppStateType:Y,ppStateValue:X},l=He(Fa,"uniquekey",e);Ga(l),Bn(l,t),Cl(vl-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(pa.a,{icon:ja.o}))),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to))))))),n.a.createElement(at.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Taxable Value: ",St)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"SGST: ",Xa)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"IGST: ",$a)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"CGST : ",Ha)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"UGST : ",nt)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Round Off: ",gt))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:Ya,onChange:e=>(e=>{const a={tranType:"PP",type:"PURCHASE",uniquekey:Xe(15),nState:Ne.value,pOtherCharges:""===e?0:e,ppStateType:Y,ppStateValue:X};Me(e,Ka),Bn(Fa,a)})(e.target.value),disabled:Ot||"Q"===le})))),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===le?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:Yt,onChange:e=>(e=>{Ln(!1),Kt(e),Ut(null),nl(0),ml("");var a="";if(""!==e){if("CH"===e)a="CASH";else{if("BN"===e||"CQ"===e)return a="BANK",void El("BANK");if("RC"===e){if(a="WALKIN",null!==we)return Ut(we),void Ln(!0)}else a="WALKIN"}El(a),De(D,[p,"getledgerinfo",a],e=>{let a=JSON.parse(e);Ut({id:a.id,label:a.label})})}})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"RC"},"Recievables"),n.a.createElement("option",{value:"PB"},"Payables"),n.a.createElement("option",{value:"AP"},"Advance Paid"),n.a.createElement("option",{value:"AR"},"Advance Recieved")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Qt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,il,J),onInputChange:rt,onChange:e=>{Ut(e);var a=e.id.split("^");cl(a[1]),nl(a[2])},isDisabled:Dn}))),""!==Yt?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{placeholder:"Amount",value:Ht,onChange:e=>Me(e.target.value,Wt)}))):null),"BN"===Yt?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:40,value:ol,onChange:e=>Pe(e.target.value,ml)})))):"CQ"===Yt?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ll,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>vt(e,rl,ll,J),onInputChange:rt,onChange:e=>{xl(e);var a=e.id.split("^");Pl(a[1]),Rl(a[2]),Ml(a[3]),Il(a[4])}})))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(Va<1)e[a++]=Va<1?"Total amount must be greater than 0.":"",N(ta(e)),h(!0);else if(""===Yt||null===Qt||Ht<1||"CQ"===Yt&&null===Ll||"BN"===Yt&&""===ol)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===Qt?"Account.":"",e[a++]=""===Yt?"Payment Type.":"",e[a++]=Ht<1?"Entered amount can't be 0.":"","CQ"===Yt&&null===Ll&&(e[a++]=null===Ll?"Select a Cheque.":""),"BN"===Yt&&""===ol&&(e[a++]=null===Ll?"Refernece Number.":""),N(ta(e)),h(!0);else{var t=0,l=0,n="";if(null!==Qt){var r=Qt.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Xe(10),tp_line_no:jl+1,tp_location:J,tp_srno:ge,randomString:wa,tp_payment_type:Yt,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:Ht,tp_cheque:ol,tp_type:"PP",tcbb_from:Al,chequeValue:Ll,delny:"Y"},o=We(ul,e),m={TabType:"Payment",AType:"A",ALineNo:Nn.length+1,TLoc:J,TType:"PP",PaymentType:Yt,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:Ht,ReferenceNo:ol};"1"===ae.edit&&"E"===le&&vn(e=>[...e,m]),sl(o),Kt(""),Tl(1*jl+1),Wt(""),Ut(null),xl(null),Rl(""),Ml(""),Pl(""),Cl(vl+1);var c=0;for(a=0;a<o.length;a++)c+=1*o[a].tp_amount;Wt(1*Va-c)}})()},"Add")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque"))),n.a.createElement("tbody",null,ul.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"!==le?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{if("N"===a)h(!0),N("This cheque has already used.");else{const a=ul.find(a=>a.uniquekey===e);if(a){const e={TabType:"Payment",ALineNo:Nn.length+1,AType:"D",TLine:jl+1,TLoc:J,TType:"PP",PaymentType:a.tp_payment_type,PaymentGroupCode:a.tp_group,PaymentLedgerCode:a.tp_account,PaymentAccountName:a.mvli_ledger_name,PaymentAmount:a.tp_amount,ReferenceNo:a.tp_cheque};"1"===ae.edit&&"E"===le&&vn(a=>[...a,e])}const n=He(ul,"uniquekey",e);sl(n);for(var t=0,l=0;l<n.length;l++)t+=1*n[l].tp_amount;Wt(1*Va-t)}Cl(vl-1)})(e.uniquekey,e.delny)},n.a.createElement(pa.a,{icon:ja.o})):null),n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque)))))))),n.a.createElement("hr",null)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(qa,{logObject:Tn,show:fn,onHide:()=>jn(!1)}),n.a.createElement(Ba.a,{show:bn,size:"xl",onHide:()=>gn(!1),scrollable:!0,backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"Previous Transaction"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null," Branch"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Certificate"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"USD"),n.a.createElement("th",null,"Arrival"),n.a.createElement("th",null,"Cash"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Receivable"))),n.a.createElement("tbody",null,yn.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tp_type),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.hdr_arrival_date),n.a.createElement("td",null,"CH"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"BN"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"RC"===e.tp_payment_type?e.tp_amount:"")))))))),n.a.createElement(Ba.a,{show:hn,size:"xl",onHide:()=>Sn(!1),scrollable:!0,backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"MIN/MAX RATE CARD"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null," MINIMUM"),n.a.createElement("th",null,"RATE"),n.a.createElement("th",null,"MAXIMUM"))),n.a.createElement("tbody",null,Cn.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.minbuyrate),n.a.createElement("td",null,e.buyrate),n.a.createElement("td",null,e.maxbuyrate)))))))),n.a.createElement("span",{className:"corner-span"},vl),n.a.createElement(el,{faViewObject:Kl,show:Wl,onHide:()=>Xl(!1)}),n.a.createElement(mn,{show:In,onHide:()=>wn(!1),productList:Fa}),n.a.createElement(Sa,{isOpen:g,onClose:e=>h(!1)},y),n.a.createElement(Ja,{isOpen:c,onYes:e=>Gn(),onNo:e=>o(!1)},u),n.a.createElement(zt,{logObject:ln,show:an,onHide:()=>tn(!1)}))};var dn=function(){const e=sessionStorage.getItem("sessionId"),a=sessionStorage.getItem("startDate"),t=sessionStorage.getItem("endDate"),r=sessionStorage.getItem("branchDisable"),c=Object(l.useRef)(),o=Object(m.n)(),[u,E]=Object(l.useState)([]),[p,b]=Object(l.useState)("INFO"),[g,h]=Object(l.useState)(!1),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)("N"),[T,k]=Object(l.useState)(""),[L,x]=Object(l.useState)(0),[A,I]=Object(l.useState)(null),[w,M]=Object(l.useState)(0),[F,R]=Object(l.useState)(null),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(new Date),[q,z]=Object(l.useState)(new Date),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(0),[ee,ae]=Object(l.useState)(!0),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)("CN"),[ce,oe]=Object(l.useState)(null),[me,se]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(""),[be,ge]=Object(l.useState)(""),[he,Se]=Object(l.useState)("0"),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)(""),[fe,je]=Object(l.useState)(null),[Te,ke]=Object(l.useState)(null),[Le,xe]=Object(l.useState)(0),[Ae,we]=Object(l.useState)(0),[Fe,Re]=Object(l.useState)(0),[Ge,Je]=Object(l.useState)(0),[Be,qe]=Object(l.useState)(null),[ze,Ve]=Object(l.useState)(""),[Qe,Ke]=Object(l.useState)(""),[Ze,$e]=Object(l.useState)(""),[ea,la]=Object(l.useState)([]),[na,ra]=Object(l.useState)(""),[ca,ma]=Object(l.useState)(null),[ua,sa]=Object(l.useState)(""),[ia,Ea]=Object(l.useState)(0),[da,ga]=Object(l.useState)(0),[ha,va]=Object(l.useState)(0),[Ca,_a]=Object(l.useState)(0),[Ta,Da]=Object(l.useState)(0),[xa,Aa]=Object(l.useState)(0),[Ia,wa]=Object(l.useState)(0),[Ma,Fa]=Object(l.useState)(0),[Ga,Pa]=Object(l.useState)(0),[Ba,za]=Object(l.useState)(0),[Va,Qa]=Object(l.useState)(null),[Ua,Ya]=Object(l.useState)({value:0,label:"Select"}),[Ka,Ha]=Object(l.useState)("B"),[Wa,Xa]=Object(l.useState)(null),[Za,$a]=Object(l.useState)("AF"),[lt,nt]=Object(l.useState)(""),[ot,mt]=Object(l.useState)([]),[ut,Et]=Object(l.useState)(null),[pt,bt]=Object(l.useState)(""),[gt,ht]=Object(l.useState)({location:"",trannumber:"",type:""}),[St,yt]=Object(l.useState)(!1),[Ot,Nt]=Object(l.useState)(0),[vt,Ct]=Object(l.useState)([]),[_t,jt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Tt,kt]=Object(l.useState)(!1),[Dt,Lt]=Object(l.useState)(!1);Object(l.useEffect)(()=>{oa().then(e=>{I(e),null!=e&&xt(e)}),De(_,[e,"all","TRAN_SB"],function(e){let a=JSON.parse(e);"1"===a.query?E(a):o("/")})},[]);const xt=e=>{I(e);var a=e.id.split("^");M(a[1]),H(null==a[3]?0:a[3]),$(a[4]),X(""===a[5]?"Select":a[5]),bt(a[2]),sessionStorage.activeBranch=a[1]},At=()=>{N(!1),k("")},It=(e,a,t,l,n)=>("P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e).toFixed(2),wt=(a,t)=>{De(ue,[e,"calcinvoice",JSON.stringify(a),JSON.stringify(t)],e=>{let a=JSON.parse(e);Fa(a.fxamt),Da(a.sgst),va(a.totalamt),za(a.taxablevalue),Pa(a.roundoff),_a(a.cgst),Aa(a.igst),wa(a.ugst);for(var t=0,l=0;l<ea.length;l++)t+=1*ea[l].tp_amount;Ke(1*a.totalamt-t)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Sale Bulk"))),""===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:xt,isDisabled:"true"===r}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===f,onChange:()=>j("N"),type:"radio",label:"New"}),n.a.createElement(s.a.Check,{checked:"S"===f,onChange:()=>j("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===f,onChange:()=>j("D"),type:"radio",label:"Date"}),n.a.createElement(s.a.Check,{checked:"I"===f,onChange:()=>j("I"),type:"radio",label:"Dealer"})))))),n.a.createElement(Oa.a,null,"N"===f?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(Gt.a,{className:"form-control",selected:q,onChange:e=>z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===f?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:V,onChange:e=>Ie(e.target.value,Q)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:U,onChange:e=>Ie(e.target.value,Y)})))):"D"===f||"I"===f?n.a.createElement(n.a.Fragment,null,"I"===f?n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:F,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ft(e,w,"2,3,4"),onInputChange:rt,onChange:e=>{R(e)}}))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===u.query&&"N"!==f?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a=[],t=0;if(La()(".loader").show(),null===A||"S"===f&&!V||"S"===f&&!U||"D"===f&&!G||"D"===f&&!J||"I"===f&&null===F||"I"===f&&!G||"I"===f&&!J)La()(".loader").hide(),a[t++]=d("MSG0006"),a[t++]=null===A?" Location.":"",a[t++]="S"!==f||V?"":" From Srno.",a[t++]="S"!==f||U?"":" To Srno.",a[t++]="D"!==f||G?"":" From Date.",a[t++]="D"!==f||J?"":" To Date.",a[t++]="I"===f&&null===F?" Dealer.":"",a[t++]="I"!==f||G?"":" From Date.",a[t++]="I"!==f||J?"":" To Date.",y(ta(a)),h(!0);else{const a={type:"SB",radioType:f,sbLocationValue:w,sbDealer:F,sbNewDate:Ue(q),sbSrnoTo:U,sbSrnoFrom:V,sbFromDate:Ue(G),sbToDate:Ue(J)};De(ie,[e,"sblist",JSON.stringify(a)],e=>{console.log(e),La()(".loader").hide(),mt(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===u.add&&"N"===f?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(q),l=Ye(q),n=Ue(new Date);null===A?(h(!0),y("Please select location")):e>t||e<a?(h(!0),y(d("MSG0010"))):e>n?(h(!0),y(d("MSG0011"))):(Et(l),k("A"),b("INFO"),x(0),Qa(null),Xa(null),Ya(1*K>0&&null!=K?{value:K,label:W}:{value:0,label:"Select"}),re("CN"),oe(null),se(""),de(""),_e(""),Oe(""),ve(""),ge(""),Se("0"),Fa(0),va(0),_a(0),Aa(0),wa(0),Da(0),Pa(0),ga(0),za(0),le([]),la([]),we(0),Ea(0))})()},"Add New"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Dealer"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,ot.map((a,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((a,t,l)=>{x(a),b("INFO"),La()(".loader").show();const n={srno:a,sbLocationValue:t,type:l};De(ie,[e,"viewdata",JSON.stringify(n)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(La()(".loader").hide(),k("Q"),"^0^"==a.executive?Xa(null):Xa({id:a.executive,label:a.executive_name}),Ha(a.mode),"^0^0^"===a.dealerid?Qa(null):Qa({id:a.dealerid,label:a.dealerlabel}),Fa(a.forextotal),_a(a.cgst),Da(a.sgst),Aa(a.igst),wa(a.ugst),Pa(a.round_off),va(a.total_inr),ga(a.other_charge),za(a.taxablevalue),le(a.productlist),la(a.paydetails),Ea(a.paymaxlineno),we(a.maxlineno),Et(a.date),bt(a.locname))})})(a.hdr_srno,a.hdr_location,a.hdr_type),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,a.hdr_srno),n.a.createElement("td",null,a.hdr_type),n.a.createElement("td",null,a.entity_name),n.a.createElement("td",null,a.mvli_ledger_name),n.a.createElement("td",null,a.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,{style:{display:"none"}},n.a.createElement(Na.a,null,n.a.createElement("p",null,lt))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===T||"E"===T?(C(d("WRN0000")),N(!0)):At())},"Back"),"\xa0","1"===u.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(k("E"),void(te.length>0&&ae(!1)))},"Edit"),"\xa0"):null,"1"===u.edit&&"E"===T||"1"===u.add&&"A"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();var a=[],t=0,l=0;for(t=0;t<ea.length;t++)"PB"===ea[t].tp_payment_type?l-=1*ea[t].tp_amount:l+=1*ea[t].tp_amount;if(null===Va)La()(".loader").hide(),a[t++]=d("MSG0006"),a[t++]=null===Va?"Dealer":"",y(ta(a)),h(!0);else if(ha!=l)La()(".loader").hide(),y("Total amount of payment must be equal to calculated INR."),h(!0);else{La()(".loader").hide();const a={type:"SB",srno:L,sbLocationValue:w,sbNewDate:Ue(q),nDealer:Va,nTranType:Za,nState:Ua.value,nExecutive:Wa,pForexTotal:Ma,nMode:Ka,pSgst:Ta,pIgst:xa,pUgst:Ia,pCgst:Ca,pOtherCharges:da,pRoundOff:Ga,pTaxableVal:Ba,pTotalAmount:ha,sbProductList:te,paymentData:ea,radioType:f,sbSrnoTo:U,sbSrnoFrom:V,sbFromDate:Ue(G),sbToDate:Ue(J)};De(ie,[e,"savedata",JSON.stringify(a),JSON.stringify(vt)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(La()(".loader").hide(),k(""),mt(a.data),h(!0),y(d(a.msg)),Ct([])):"ERR0000"===a.msg?(La()(".loader").hide(),h(!0),y(d("ERR0000"))):(La()(".loader").hide(),h(!0),y(a.msg))})}})()},"Save")):null,"1"===u.query&&"Q"===T?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(yt(!0),void ht({location:w,trannumber:L,type:"SB"}))},"Fa View"),"1"===u.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(kt(!0),void jt({trantype:"SB",trannumber:L,trancategory:"T",location:w}))},"Activity Log"),"\xa0"):null):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Srno : ",n.a.createElement("b",null,L," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,pt," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,ut))),n.a.createElement(Na.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",Ma)),"\xa0\xa0\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",ha)))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(et.a,{activeKey:p,defaultActiveKey:"INFO",onSelect:e=>(e=>{if(b(e),"PAYMENT"===e){const e=ea.reduce((e,a)=>e+1*a.tp_amount,0);Ke(1*ha-e)}})(e)},n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Transaction Info"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Wa,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:dt,onInputChange:rt,onChange:e=>{Xa(e)},isDisabled:"Q"===T}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===T,value:Ka,onChange:e=>Ha(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Dealer Info"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Va,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ft(e,w,"2,3,4"),onInputChange:rt,onChange:e=>{Qa(e)},isDisabled:"Q"===T}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Type"),n.a.createElement(s.a.Select,{disabled:"Q"===T,value:Za,onChange:e=>$a(e.target.value)},n.a.createElement("option",{value:"AF"},"ADS and FFMC"),n.a.createElement("option",{value:"DB"},"DESPATCH ABROAD")))),n.a.createElement(Na.a,{className:"col-md-3 col-6 mt-2"},n.a.createElement(i.a,{variant:"outline-secondary",size:"sm",onClick:()=>b("DETAILS")},"Details->")))),n.a.createElement(at.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ne,onChange:e=>re(e.target.value)},n.a.createElement("option",{value:"CN"},"CN"),n.a.createElement("option",{value:"VTM"},"VTM")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{ref:c,cacheOptions:!1,defaultOptions:!1,value:ce,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,ne),onInputChange:rt,onChange:a=>{oe(a);let t=a.id.split("^");je(t[1]),ke(null),Oe(""),ve("");const l={isd:t[1],location:w,product:ne};De(pe,[e,"getrate",JSON.stringify(l)],e=>{let a=JSON.parse(e);_e(1*a.salerate),Re(1*a.maxsalerate),Je(1*a.minsalerate),Nt(1*a.usdratesale)})}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Denomination",type:"text",value:me,maxLength:5,onChange:e=>(e=>{Ie(e,se),ve(It(be,ye,Ee,e,Ce))})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:Ee,maxLength:9,onChange:e=>(e=>{Ie(e,de),ve(It(be,ye,e,me,Ce))})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:Ce,maxLength:5,onChange:e=>(e=>{Me(e,_e),ve(It(be,ye,Ee,me,e))})(e.target.value)})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:he,onChange:e=>Se(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===he?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Te,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"AGENT",w),onInputChange:rt,onChange:a=>{ke(a),De(D,[e,"getisdcommission",a.id,fe,ne],e=>{console.log(e);let a=JSON.parse(e);var t;Oe(a.type),ge(a.value),t="P"===a.type||"R"===a.type?It(a.value,a.type,Ee,me,Ce):a.value,ve(t)})}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ye,onChange:e=>(e=>{Oe(e),ge(""),ve("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:be,onChange:e=>(e=>{Me(e,ge),ve(It(1*e,ye,Ee,me,Ce))})(e.target.value)}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:Ne,onChange:e=>Me(e.target.value,ve)})))):null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(Xt.a,{className:"handCursor",bg:"primary",onClick:()=>{Lt(!0)}},"View Commission Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=[],a=0;if(null==ce||""===me||""===Ee||""===Ce||"1"===he&&(""===ye||null===Te||""===Ne))La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null==ce?"Please select Isd.":"",e[a++]=""===me?"Please fill Denomination.":"",e[a++]=""==Ee?"Please fill Quantity.":"",e[a++]=""==Ce?"Please fill Rate.":"","1"!==he||""!==ye&&null!==Te&&""!==Ne||(e[a++]=null==Te?"Agent.":"",e[a++]=""==ye?"Commission type.":"",e[a++]=""==Ne?"Commission value.":""),y(ta(e)),h(!0);else if(0!=Fe&&0!=Ge&&(Ce>Fe||Ce<Ge))La()(".loader").hide(),e[a++]=Ce>Fe?"Maximum rate is "+Fe:"",e[a++]=Ce<Ge?"Maximum rate is "+Ge:"",y(ta(e)),h(!0);else{La()(".loader").hide();var t=ce.id.split("^"),l=0,n=0,r="";if(null!==Te){var c=Te.id.split("^");l=c[1],n=c[2],r=c[5]}var o=0;""!=Ot&&0!=Ot&&(o=Ce*Ee*me/Ot);const e={tranType:"SB",type:"SALE",uniquekey:Xe(15),prd_line_no:1*Ae+1,prd_location:w,prd_type:"SB",prd_srno:L,prd_isd:t[1],prd_date:Ue(q),prd_product:ne,prd_deno:me,prd_qty:Ee,prd_rate:Ce,prd_amount:Ce*Ee*me,prd_group:0,prd_account:0,prd_agent_group:l,prd_agent_ledger:n,isd_name:t[2],randomString:lt,prd_commission_type:ye,prd_commission_value:""==Ne?0:Ne,prd_commission:""==be?0:be,nState:Ua.value,pOtherCharges:""===da?0:da,ppStateType:Z,ppStateValue:K,scrMode:T,prd_usd_rate:""==Ot?0:Ot.toFixed(2),prd_usd_amount:o.toFixed(2),prd_agent_name:r,isCommission:he,delny:"Y"};var m=We(te,e);m.length>0&&ae(!1);const a={TabType:"Product",ALineNo:vt.length+1,AType:"A",TLoc:w,TType:"SB",Product:ne,ISD:t[2],Deno:me,Quantity:Ee,Rate:Ce,Amount:Ce*Ee*me,ProductGroup:0,ProductAccout:0,CommsnType:ye,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==Ne?0:Ne,CommsnAmount:""==be?0:be};"1"===u.edit&&"E"===T&&Ct(e=>[...e,a]),le(m),xe(Le+1),we(Ae+1),oe(null),se(""),de(""),_e(""),ve(""),ge(""),Oe(),ke(null),Oe(""),wt(m,e)}})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",size:"sm",onClick:()=>b("PAYMENT"),onKeyDown:e=>{"Enter"===e.key?b("PAYMENT"):"Tab"===e.key&&(e.preventDefault(),c.current.focus())}},"Payment ->"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Equivalent Amount"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,te.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,"Q"===T||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=te.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:vt.length+1,AType:"D",TLoc:w,TType:"SB",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===u.edit&&"E"===T&&Ct(a=>[...a,e])}const t={tranType:"SB",type:"SALE",nState:Ua.value,pOtherCharges:""===da?0:da,ppStateType:Z,ppStateValue:K},l=He(te,"uniquekey",e);le(l),wt(l,t),xe(Le-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(pa.a,{icon:ja.o}))))))))),n.a.createElement(at.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:da,onChange:e=>(e=>{const a={tranType:"SB",type:"SALE",nState:Ua.value,pOtherCharges:""===e?0:e,ppStateType:Z,ppStateValue:K};wt(te,a),Me(e,ga)})(e.target.value),disabled:ee||"Q"===T})))),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:ze,onChange:a=>(a=>{Ve(a),qe(null),$e("");var t="";if(""!==a){if("CH"===a)t="CASH";else{if("BN"===a)return t="BANK",void sa("BANK");t="CQ"===a?"CHEQUE":"WALKIN"}sa(t),De(D,[e,"getledgerinfo",t],e=>{let a=JSON.parse(e);qe({id:a.id,label:a.label})})}})(a.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"RC"},"Recievables"),n.a.createElement("option",{value:"PB"},"Payables"),n.a.createElement("option",{value:"AP"},"Advance Paid"),n.a.createElement("option",{value:"AR"},"Advance Recieved")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Be,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,ua,w),onInputChange:rt,onChange:e=>{qe(e),e.id.split("^")}}))),""!==ze?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",value:Qe,onChange:e=>Me(e.target.value,Ke)}))):null),"BN"===ze?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:40,value:Ze,onChange:e=>Pe(e.target.value,$e)})))):"CQ"===ze?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Cheque No",type:"text",maxLength:10,value:Ze,onChange:e=>Pe(e.target.value,$e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Bank Name",type:"text",maxLength:50,value:na,onChange:e=>Pe(e.target.value,ra)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:ca,onChange:e=>ma(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(ha<1)e[a++]=ha<1?"Total amount must be greater than 0.":"",y(ta(e)),h(!0);else if(""===ze||null===Be||Qe<1||"CQ"===ze&&(""===Ze||""===na||null===ca)||"BN"===ze&&""===Ze)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===Be?"Account.":"",e[a++]=""===ze?"Payment Type.":"",e[a++]=Qe<1?"Entered amount can't be 0.":"","CQ"!==ze||""!==Ze&&""!==na&&null!==ca||(e[a++]=""===Ze?"Cheque Number.":"",e[a++]=""===na?"Bank Name.":"",e[a++]=null===ca?"Cheque Date":""),"BN"===ze&&""===Ze&&(e[a++]=""===Ze?"Reference Number.":""),y(ta(e)),h(!0);else{var t=0,l=0,n="";if(null!==Be){var r=Be.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Xe(10),tp_line_no:ia+1,tp_location:w,tp_srno:L,tp_payment_type:ze,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:Qe,tp_cheque:Ze,tp_cheque_bank:na,tp_cheque_date:"CQ"===ze?Ue(ca):"NULL",tp_type:"SP",delny:"Y"},a=We(ea,e),c={TabType:"Payment",AType:"A",ALineNo:vt.length+1,TLoc:w,TType:"SB",PaymentType:ze,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:Qe,ReferenceNo:Ze};"1"===u.edit&&"E"===T&&Ct(e=>[...e,c]),la(a),Ve(""),Ea(1*ia+1),Ke(""),qe(null),$e(""),ra(""),ma(null),xe(Le+1);const o=a.reduce((e,a)=>e+1*a.tp_amount,0);Ke(1*ha-o)}})()},"Add"),"\xa0"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque/Refernece No"))),n.a.createElement("tbody",null,ea.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque),n.a.createElement("td",null,"Q"!==T?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{if("N"===a)h(!0),y("This cheque has already used.");else{const a=ea.find(a=>a.uniquekey===e);if(a){const e={TabType:"Payment",ALineNo:vt.length+1,AType:"D",TLine:ia+1,TLoc:w,TType:"SB",PaymentType:a.tp_payment_type,PaymentGroupCode:a.tp_group,PaymentLedgerCode:a.tp_account,PaymentAccountName:a.mvli_ledger_name,PaymentAmount:a.tp_amount,ReferenceNo:a.tp_cheque};"1"===u.edit&&"E"===T&&Ct(a=>[...a,e])}const t=He(ea,"uniquekey",e);la(t);const l=ea.reduce((e,a)=>e+1*a.tp_amount,0);Ke(1*ha-l)}xe(Le-1)})(e.uniquekey,e.delny)},n.a.createElement(pa.a,{icon:ja.o})):null)))))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(qa,{logObject:_t,show:Tt,onHide:()=>kt(!1)}),n.a.createElement("span",{className:"corner-span"},Le),n.a.createElement(el,{faViewObject:gt,show:St,onHide:()=>yt(!1)}),n.a.createElement(mn,{show:Dt,onHide:()=>Lt(!1),productList:te}),n.a.createElement(Sa,{isOpen:g,onClose:e=>h(!1)},S),n.a.createElement(Ja,{isOpen:O,onYes:e=>At(),onNo:e=>N(!1)},v))};var pn=function(){const e=Object(l.useRef)(),[a,t]=Object(l.useState)("N"),r=sessionStorage.getItem("startDate"),c=sessionStorage.getItem("endDate"),o=sessionStorage.getItem("branchDisable"),u=sessionStorage.getItem("sessionId"),E=Object(m.n)(),[p,b]=Object(l.useState)("INFO"),[g,h]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,L]=Object(l.useState)([]),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)([]),[M,F]=Object(l.useState)(0),[R,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(null),[B,q]=Object(l.useState)(""),[V,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(null),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[te,le]=Object(l.useState)(new Date),[ne,re]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)("N"),[be,ge]=Object(l.useState)([]),[he,ye]=Object(l.useState)(null),[Oe,Ne]=Object(l.useState)(null),[ve,fe]=Object(l.useState)(null),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(1),[xe,Ae]=Object(l.useState)(""),[we,Fe]=Object(l.useState)({value:0,label:"Select"}),[Re,Ge]=Object(l.useState)(null),[Je,Be]=Object(l.useState)(null),[qe,ze]=Object(l.useState)(null),[Ve,Qe]=Object(l.useState)(""),[Ke,Ze]=Object(l.useState)(""),[$e,ea]=Object(l.useState)(""),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(""),[ma,ua]=Object(l.useState)(""),[sa,ia]=Object(l.useState)("B"),[Ea,da]=Object(l.useState)(""),[ga,ha]=Object(l.useState)(""),[va,Ca]=Object(l.useState)(null),[_a,Ta]=Object(l.useState)(null),[Da,xa]=Object(l.useState)(0),[Aa,Ia]=Object(l.useState)(""),[wa,Ma]=Object(l.useState)(""),[Fa,Ga]=Object(l.useState)(""),[Pa,za]=Object(l.useState)("CN"),[Va,Qa]=Object(l.useState)(""),[Ya,Ka]=Object(l.useState)(null),[Ha,Wa]=Object(l.useState)(""),[Xa,Za]=Object(l.useState)(""),[$a,lt]=Object(l.useState)(""),[nt,ot]=Object(l.useState)("0"),[mt,Et]=Object(l.useState)(null),[gt,ht]=Object(l.useState)(""),[St,yt]=Object(l.useState)(""),[Ot,Nt]=Object(l.useState)(0),[vt,Ct]=Object(l.useState)(0),[_t,ft]=Object(l.useState)(0),[jt,Dt]=Object(l.useState)(0),[Lt,xt]=Object(l.useState)(0),[At,Mt]=Object(l.useState)(0),[Ft,Rt]=Object(l.useState)(0),[Pt,Jt]=Object(l.useState)(0),[Bt,qt]=Object(l.useState)(0),[Vt,Qt]=Object(l.useState)(0),[Ut,Yt]=Object(l.useState)(0),[Kt,Ht]=Object(l.useState)("S"),[Wt,Zt]=Object(l.useState)(!0),[$t,al]=Object(l.useState)(""),[tl,ll]=Object(l.useState)(null),[nl,rl]=Object(l.useState)(""),[cl,ol]=Object(l.useState)(""),[ml,ul]=Object(l.useState)(""),[sl,il]=Object(l.useState)(0),[El,dl]=Object(l.useState)(""),[bl,gl]=Object(l.useState)([]),[hl,Sl]=Object(l.useState)(""),[yl,Ol]=Object(l.useState)(null),[Nl,vl]=Object(l.useState)(""),[Cl,_l]=Object(l.useState)(0),[fl,jl]=Object(l.useState)(0),[Tl,kl]=Object(l.useState)(1),[Dl,Ll]=Object(l.useState)(!1),[xl,Al]=Object(l.useState)(""),[Il,wl]=Object(l.useState)(""),[Ml,Fl]=Object(l.useState)(""),[Rl,Gl]=Object(l.useState)(null),[Pl,Jl]=Object(l.useState)(""),[Bl,ql]=Object(l.useState)({location:"",trannumber:"",type:""}),[zl,Vl]=Object(l.useState)(!1),[Ql,Ul]=Object(l.useState)(""),Yl=new Date,[Kl,Hl]=Object(l.useState)(!1),[Wl,Xl]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Zl,$l]=Object(l.useState)(0),[en,an]=Object(l.useState)(0),[tn,ln]=Object(l.useState)(!1),[nn,rn]=Object(l.useState)([]),[cn,on]=Object(l.useState)(!1),[un,sn]=Object(l.useState)([]),[En,dn]=Object(l.useState)(""),[pn,bn]=Object(l.useState)(!0),[gn,hn]=Object(l.useState)(!1),[Sn,yn]=Object(l.useState)(""),[On,Nn]=Object(l.useState)([]),[vn,Cn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[_n,fn]=Object(l.useState)(!1),[jn,Tn]=Object(l.useState)("C"),[kn,Dn]=Object(l.useState)(!1);Object(l.useEffect)(()=>{oa().then(e=>{J(e),null!=e&&Ln(e)}),De(_,[u,"all","TRAN_SP"],function(e){let a=JSON.parse(e);"1"===a.query?L(a):E("/")}),De(W,[u,"listResidential"],e=>{A(JSON.parse(e))});const e=sessionStorage.getItem("values");if(e){const a=JSON.parse(e);"SALE"==a.md_type?(T("A"),De(z,[u,"getIndividualData",a.code],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a),xn({...a,desc:"".concat(a.desc.replaceAll("^","  ^  "))})})):T("")}},[]);const Ln=e=>{J(e);var a=e.id.split("^");q(a[1]),me(null==a[3]?0:a[3]),ie(a[4]),re(""===a[5]?"Select":a[5]),Jl(a[2]),sessionStorage.activeBranch=a[1]},xn=e=>{Ne(e);var a=e.id.split("^");Al(a[1]),an(1),dn(a[4])},An=()=>{h(!1);const e=JSON.parse(sessionStorage.getItem("values"));e&&"SALE"===e.md_type?(E("/individual-profile"),sessionStorage.removeItem("values"),sessionStorage.setItem("flag","1")):T("")},In=e=>{Ka(e);var a=e.id.split("^"),t=a[1];Wa(t),Za(1*t+1*wa-1),"R"===Kt&&lt(a[7])},wn=(e,a)=>{De(ue,[u,"calcinvoice",JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);qt(a.fxamt),Mt(a.sgst),ft(a.totalamt),Yt(a.taxablevalue),Qt(a.roundoff),xt(a.cgst),Rt(a.igst),Jt(a.ugst);for(var t=0,l=0;l<bl.length;l++)t+=1*bl[l].tp_amount;ol(1*a.totalamt-t)})},Mn=e=>{const a={srno:M,location:B,type:"SP",printFlag:e};De(ce,[u,"print",JSON.stringify(a)],e=>{window.open().document.write(e)})},Fn=e=>{Ll(!0),wl("E"===e&&null!=Oe?"E":"A")},Rn=(e,a,t,l,n)=>("P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e).toFixed(2);return n.a.createElement(n.a.Fragment,null,Dl?n.a.createElement(pl,{reqObj:{nIndivualSrno:xl,scrIndividual:Il},value:"TRAN_SP",hideIndividualProfile:(e,a)=>{if(console.log("hideIndividualProfile",e,a),Ll(e),a>0){const e={individualsrno:a,type:"SP"};De(z,[u,"individualidfrompicklist",JSON.stringify(e)],e=>{let a=JSON.parse(e);const t=a.desc.split("^");""===a.id?Ne(null):(Ne({...a,desc:"".concat(t.slice().join("  ^  "))}),dn(a.desc.split("^")[1].trim()))})}}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h1",null,"Sale to public")),n.a.createElement("hr",null)),""===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:P,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Ln,isDisabled:"true"===o}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===a,onChange:()=>t("N"),type:"radio",label:"New"}),n.a.createElement(s.a.Check,{checked:"S"===a,onChange:()=>t("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===a,onChange:()=>t("D"),type:"radio",label:"Date"}),n.a.createElement(s.a.Check,{checked:"I"===a,onChange:()=>t("I"),type:"radio",label:"Individual"}),n.a.createElement(s.a.Check,{checked:"C"===a,onChange:()=>t("C"),type:"radio",label:"Corporate"}),n.a.createElement(s.a.Check,{checked:"R"===a,onChange:()=>t("R"),type:"radio",label:"Rate Card."}),"\xa0"))))),n.a.createElement(Oa.a,null,"N"===a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(Gt.a,{className:"form-control",selected:te,onChange:e=>le(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{value:Ee,onChange:e=>de(e.target.value)},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"E"},"EEFBC"))))):"S"===a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:X,onChange:e=>Ie(e.target.value,Z)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:$,onChange:e=>Ie(e.target.value,ee)})))):"D"===a||"I"===a||"C"===a?n.a.createElement(n.a.Fragment,null,"I"===a?n.a.createElement(Na.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ut,onInputChange:rt,onChange:e=>{H(e)}}))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:V,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"R"===a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:jn,onChange:e=>Tn(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD"))))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===k.query&&"N"!==a&&"R"!==a?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(La()(".loader").show(),null===P||"S"===a&&!X||"S"===a&&!$||"D"===a&&!V||"D"===a&&!U||"I"===a&&null===K||"I"===a&&!V||"I"===a&&!U||"C"===a&&null===Re||"C"===a&&!V||"C"===a&&!U)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]=null===P?" Location.":"",e[t++]="S"!==a||X?"":" From Srno.",e[t++]="S"!==a||$?"":" To Srno.",e[t++]="D"!==a||V?"":" From Date.",e[t++]="D"!==a||U?"":" To Date.",e[t++]="I"===a&&null===K?" Individual.":"",e[t++]="I"!==a||V?"":" From Date.",e[t++]="I"!==a||U?"":" To Date.",e[t++]="C"===a&&null===Re?" Corporate.":"",e[t++]="C"!==a||V?"":" From Date.",e[t++]="C"!==a||U?"":" To Date.",f(ta(e)),v(!0);else{const e={type:"SP",radioType:a,spLocation:B,spIndividual:K,spNewDate:Ue(te),spSrnoTo:$,spSrnoFrom:X,spFromDate:Ue(V),spToDate:Ue(U)};De(ae,[u,"splist",JSON.stringify(e)],e=>{console.log(e),La()(".loader").hide(),G(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===k.add&&"N"===a?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(te),a=Ye(te),t=Ue(new Date);null==P?(v(!0),f("Please select location")):e>c||e<r?(v(!0),f(d("MSG0010"))):e>t?(v(!0),f(d("MSG0011"))):(Gl(a),T("A"),b("INFO"),kl(1),F(0),ye(null),ia("B"),Ne(null),fe(null),Le(1),Ae(""),Ge(null),console.log(oe,"----",ne),Fe(1*oe>0&&null!=oe?{value:oe,label:ne}:{value:0,label:"Select"}),ua(""),Be(null),ca(""),Qe(""),Ze(""),ze(null),ea(""),na(""),qt(0),ft(0),xt(0),Rt(0),Jt(0),Mt(0),Qt(0),Dt(0),ge([]),gl([]),an(0),De(S,[u,"getState",1],e=>{w(JSON.parse(e))}))})()},"Add New"):null,"\xa0","1"===k.add&&"R"===a?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={location:B,product:jn};De(pe,[u,"getratecard",JSON.stringify(e)],e=>{let a=JSON.parse(e);const t=window.open("about:blank","_blank");var l=a[0].mrc_date;t.document.write('\n                <html>\n                <head>\n                    <title>Rate Card</title>\n                    <style>\n                    table {\n                        width: 100%;\n                        border-collapse: collapse;\n                    }\n                    th, td  {\n                        border: 2px solid black;\n                        padding: 8px;\n                        text-align: left;\n                    }\n                    th {\n                        background-color: #f2f2f2;\n                    }\n                    .header {\n                        display: flex;\n                        justify-content: space-between; /* Aligns items to opposite corners */\n                        align-items: center; /* Vertically centers items */\n                    }\n                    .header img {\n                        width: 300px; /* Adjust the width as needed */\n                        height: auto;\n                    }\n                    .container{\n                    background: aliceblue;\n                    padding: 20px;\n                    }\n                    </style>\n                </head>\n                <body>\n                <div class= "container">\n                    <div class="header">\n                    <img src="img/logo.png" alt="Rate Card Image" />\n                        <div>\n                            <h1>Zenith Forex</h1>\n                            <p>Card Rate as on '.concat(l,"<p>\n                        </div>\n                    </div>\n                    <table>\n                    <thead>\n                        <tr>\n                        <th>Code</th>\n                        <th>Currencies</th>\n                        <th>Product</th>\n                        <th>Sale Rate</th>\n                        <th>Max Sale Rate</th>\n                        <th>Min Sale Rate</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ").concat(a.map(e=>"\n                        <tr>\n                            <td>".concat(e.mrc_isd,"</td>\n                            <td>").concat(e.isd_name,"</td>\n                            <td>").concat("C"===e.mrc_product?"CN":"R"===e.mrc_product?"Card":"D"===e.mrc_product?"DD":"T"===e.mrc_product?"TT":"","</td>\n                            <td>").concat(e.mrc_sale_rate,"</td>\n                            <td>").concat(e.mrc_max_salerate,"</td>\n                            <td>").concat(e.mrc_min_salerate,"</td>\n                        </tr>\n                        ")).join(""),"\n                    </tbody>\n                    </table>\n                </div>\n                </body>\n                </html>\n\n              ")),t.document.close()})})()},"Get Rate"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,R.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((e,a,t,l)=>{F(e),b("INFO"),Ka(null),Wa(""),Ul(l),La()(".loader").show();const n={srno:e,spLocationValue:a,type:t};De(ae,[u,"viewdata",JSON.stringify(n)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(La()(".loader").hide(),T("Q"),de(a.saletype),Ne({id:a.ind_id,label:a.ind_label,desc:a.desc}),Al(a.individual_srno),ye({id:a.executive,label:a.executive_name}),ia(a.mode),fe({id:a.purpose,label:a.purpose_name}),al(a.service_type),Be({id:a.cntsrno,label:a.cntname}),Le(a.residential),"^0^0^"===a.corp_id?Ge(null):Ge({id:a.corp_id,label:a.corp_label}),Ae(a.emp_code),Fe({value:a.state,label:a.statename}),ua(a.panform60),ca(a.ticketclass),Ze(a.flightno),Qe(a.ticketno),ze(new Date(a.depdate)),ea(a.duration),na(a.visatype),qt(a.forextotal),xt(a.cgst),Mt(a.sgst),Rt(a.igst),Jt(a.ugst),Qt(a.round_off),ft(a.total_inr),Dt(a.other_charge),Yt(a.taxablevalue),ge(a.productlist),gl(a.paydetails),_l(a.paymaxlineno),kl(a.maxlineno),Gl(a.date),Jl(a.locname),F(a.srno),an(0),dn(a.ind_pan))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.bd_first_name+" "+e.bd_middle_name+" "+e.bd_last_name),n.a.createElement("td",null,e.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===j||"E"===j?(O(d("WRN0000")),h(!0)):An())},"Back"),"\xa0","1"===k.edit&&"Q"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,a=Ql.split("/"),t=a[2]+"-"+a[1]+"-"+a[0],l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:M,type:"SP",pageright:"TRAN_SP"};De(Se,[u,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);_e==c||"unlock"==t?T("E"):(Hl(!0),Xl({trantype:"SP",trannumber:M,location:B,tranDate:Ue(e)}))})})()},"Edit"),"\xa0"):null,"1"===k.edit&&"E"===j||"1"===k.add&&"A"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(async()=>{La()(".loader").show();var e=0,t=Ue(new Date),l=0;null!==qe&&(l=Ue(qe));for(var n=0;n<bl.length;n++)"CH"===bl[n].tp_payment_type&&bl[n].tp_amount,"PB"===bl[n].tp_payment_type?e-=1*bl[n].tp_amount:e+=1*bl[n].tp_amount;var r=[],c=0;if(null===Oe||null===ve||null===Je||""===Ve||""===Ke||null==qe||""===$e||""===En.trim()||null===En||l<t)La()(".loader").hide(),r[c++]=d("MSG0006"),r[c++]=null===Oe?"Traveller":"",r[c++]=""===En.trim()||null===En?"Traveller PAN is mendatory.":"",r[c++]=null===ve?"Purpose":"",r[c++]=null===Je?"Country":"",r[c++]=""===Ke?"Flight Number":"",r[c++]=""===Ve?"Ticket Number":"",r[c++]=null===qe?"Departure Date":"",r[c++]=""===$e?"Duration of stay abroad":"",r[c++]=l<t?"Departure date can't be before today.":"",f(ta(r)),v(!0);else if(_t!=e)La()(".loader").hide(),f("Total amount of payment must be equal to calculated INR."),v(!0);else{La()(".loader").hide();const e={srno:M,spLocationValue:B,spSaleType:Ee,spNewDate:Ue(te),nCorporate:Re,nCountry:Je,nState:we.value,nResident:ke,nTraveller:Oe,nPurpose:ve,nExecutive:he,pForexTotal:Bt,nFlightNo:Ke,nTicketNo:Ve,nVisaType:la,nDepDate:Ue(qe),nTicketClass:ra,nDuration:$e,nPanForm60:ma,nMode:sa,pSgst:At,pIgst:Ft,pUgst:Pt,pCgst:Lt,pOtherCharges:jt,pRoundOff:Vt,pTaxableVal:Ut,pTotalAmount:_t,nTravellerCode:xe,spProductList:be,paymentData:bl,prd_usd_rate:""==Zl?0:Zl,radioType:a,spLocation:B,spIndividual:K,spSrnoTo:$,spSrnoFrom:X,spFromDate:Ue(V),spToDate:Ue(U)};if(De(ae,[u,"savedata",JSON.stringify(e),JSON.stringify(On)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(G(a.spList),La()(".loader").hide(),T(""),v(!0),f(d(a.msg)),Nn([])):"CREDITLIMITEXCEEDED"===a.msg?(La()(".loader").hide(),hn(!0),yn("Credit limit exceeded, Do you want to reuest for additional limit.")):"CREDITPERIODEXCEEDED"===a.msg?(La()(".loader").hide(),hn(!0),yn("Credit period exceeded, Do you want to reuest for additional credit period.")):(La()(".loader").hide(),v(!0),f(a.msg))}),"E"==j){const e={srno:M,type:"SP",status:"E",currentDate:Ue(Yl),pageright:"TRAN_SP"};De(Se,[u,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null,"1"===k.query&&"Q"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>Mn("D")},"With Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>Mn("")},"Without Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(Vl(!0),void ql({location:B,trannumber:M,type:"SP"}))},"Fa View"),"1"===k.edit&&"Q"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(fn(!0),void Cn({trantype:"SP",trannumber:M,trancategory:"T",location:B}))},"Activity Log"),"\xa0"):null):null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",M)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,Pl," "))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,Rl))),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Mode : ",n.a.createElement("b",null,"N"===Ee?"Normal":"EEFBC"))),n.a.createElement(Na.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",Bt)),"\xa0\xa0\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",_t)))),n.a.createElement(et.a,{activeKey:p,defaultActiveKey:"INFO",onSelect:e=>(e=>{if(b(e),"PAYMENT"===e){ll(null),rl("");const e=bl.reduce((e,a)=>e+1*a.tp_amount,0);ol(1*_t-e)}})(e)},n.a.createElement(at.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:he,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:dt,onInputChange:rt,onChange:e=>{ye(e)},isDisabled:"Q"===j}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:sa,onChange:e=>ia(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sale Type"),n.a.createElement(s.a.Select,{value:Ee,onChange:e=>de(e.target.value),disabled:!0},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"E"},"EEFBC"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Traveller/Applicant Info"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-12 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Traveller/Applicant Name",n.a.createElement("span",{className:"colorThemeRed"},"*"),"Q"===j?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"tranNewFormText",onClick:()=>Fn("A")},"Not in list? Create New"),"\xa0\xa0",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>Fn("E")},"Edit")),1===en?n.a.createElement("span",{style:{display:"Q"===j&&"none"},className:"mx-2",onClick:()=>{La()(".loader").show(),ln(!0);const e={srno:xl};De(ae,[u,"getpretran",JSON.stringify(e)],e=>{La()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),rn("")):rn(a)})}},n.a.createElement(Xt.a,{bg:"secondary"},"Previous Transaction")):null,1===en?n.a.createElement("span",{style:{display:"Q"===j&&"none"},className:"mx-2",onClick:()=>{La()(".loader").show(),on(!0);const e={srno:xl};De(ae,[u,"getlrntran",JSON.stringify(e)],e=>{La()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),sn("")):sn(a)})}},n.a.createElement(Xt.a,{bg:"secondary"},"LRS Transaction")):null),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ut(e,"SALE"),onInputChange:rt,onChange:xn,isDisabled:"Q"===j,formatOptionLabel:It,components:{Menu:wt}})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purpose",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ve,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:pt,onInputChange:rt,onChange:e=>{fe(e);var a=e.id.split("^");Te(a[2])},isDisabled:"Q"===j}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Residential Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:ke,onChange:e=>Le(e.target.value)},x.map((e,a)=>n.a.createElement("option",{value:e.mrs_srno,key:a},e.mrs_resident))))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Traveller/Employee Code"),n.a.createElement(s.a.Control,{disabled:"Q"===j,value:xe,onChange:e=>Ae(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Re,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"CORPORATE",B),onInputChange:rt,onChange:e=>{Ge(e);var a=e.id.split("^");Fe({value:a[3],label:a[4]})},isDisabled:"Q"===j}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place of Supply"),n.a.createElement(Ua.a,{isDisabled:"Q"===j,options:I,value:we,onChange:e=>Fe(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN/Form 60"),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:ma,onChange:e=>ua(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"PAN"),n.a.createElement("option",{value:"F"},"Form 60"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Visit Info"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country to Visit",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Je,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>bt(e),onInputChange:rt,onChange:e=>{Be(e)},isDisabled:"Q"===j}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ticket Class"),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:ra,onChange:e=>ca(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"FC"},"First Class"),n.a.createElement("option",{value:"BC"},"Business Class"),n.a.createElement("option",{value:"EC"},"Economy Class")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flight No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===j,placeholder:"Flight No",type:"text",maxLength:20,value:Ke,onChange:e=>Pe(e.target.value,Ze)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ticket No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===j,placeholder:"Ticket No",type:"text",maxLength:20,value:Ve,onChange:e=>Pe(e.target.value,Qe)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Departure Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:qe,onChange:e=>ze(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===j,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Duration of stay abroad",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===j,placeholder:"Duration",type:"text",maxLength:2,value:$e,onChange:e=>Me(e.target.value,ea)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Visa Type"),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:la,onChange:e=>na(e.target.value)},n.a.createElement("option",{value:""},"Select"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>b("DETAILS")},"Details->")))),n.a.createElement(at.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===j?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Pa,onChange:e=>(e=>{za(e),Ta(null),de("S"),Ca(null),Ia(""),Ma("VTM"===e?1:""),Ga(""),Ka(null),Wa(""),Qa(""),Za(""),lt("")})(e.target.value),ref:e},n.a.createElement("option",{value:"CN"},"CN"),n.a.createElement("option",{value:"VTM"},"VTM")))),"VTM"===Pa&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Kt,onChange:e=>(e=>{Ht(e),Ka(null),Wa(""),Za(""),lt(""),Ia(""),Ga("")})(e.target.value)},n.a.createElement("option",{value:"S"},"Sale"),n.a.createElement("option",{value:"R"},"Reload")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:_a,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,Pa),onInputChange:rt,onChange:e=>{Ta(e);let a=e.id.split("^");xa(a[1]),Et(null),ht(""),yt(""),Ka(null),Wa("");const t={isd:a[1],location:B,product:Pa};De(pe,[u,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);Ga(a.salerate),Nt(1*a.maxsalerate),Ct(1*a.minsalerate),$l(1*a.usdratesale)})}}))),"VTM"===Pa?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:va,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",B),onInputChange:rt,onChange:e=>{Ca(e);var a=e.id.split("^");da(a[1]),ha(a[2]),Ka(null),Wa("")}}))):null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"VTM"===Pa?"Value":"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",value:Aa,maxLength:5,onChange:e=>(e=>{Me(e,Ia),yt(Rn(Ml,gt,wa,e,Fa))})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"VTM"===Pa&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:wa,maxLength:9,onChange:e=>(e=>{Ie(e,Ma),""===Pa&&Za(1*e+1*Ya-1),yt(Rn(Ml,gt,e,Aa,Fa))})(e.target.value)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:Fa,maxLength:5,onChange:e=>(e=>{Me(e,Ga),yt(Rn(Ml,gt,wa,Aa,e))})(e.target.value)})))),"VTM"===Pa?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Prefix",type:"text",maxLength:5,value:Va,onChange:e=>Pe(e.target.value,Qa)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),"S"===Kt?n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ya,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Tt(e,{isd:Da,location:B,group:Ea,account:ga,product:"VTC",type:"VTCIN"}),onInputChange:rt,onChange:In}):n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ya,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>kt(e,{isd:Da,location:B,group:Ea,account:ga,product:"VTC",type:"SP"}),onInputChange:rt,onChange:In}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"To",type:"text",maxLength:6,value:Xa,onChange:e=>Ie(e.target.value,Za)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No"),n.a.createElement(s.a.Control,{disabled:"R"===Kt,placeholder:"Card No",maxLength:10,type:"text",value:$a,onChange:e=>lt(e.target.value)})))):null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:nt,onChange:e=>ot(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===nt?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:mt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"AGENT",B),onInputChange:rt,onChange:e=>{Et(e),De(D,[u,"getisdcommission",e.id,Da,Pa],e=>{console.log(e);let a=JSON.parse(e);var t;ht(a.type),Fl(a.value),t="P"===a.type||"R"===a.type?Rn(a.value,a.type,wa,Aa,Fa):a.value,yt(t)})}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:gt,onChange:e=>(e=>{ht(e),Fl(""),yt("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:Ml,onChange:e=>(e=>{Me(e,Fl),yt(Rn(1*e,gt,wa,Aa,Fa))})(e.target.value)}))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:St,onChange:e=>Me(e.target.value,yt)})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=[],a=0;if(null==_a||""===Aa||""===wa||""===Fa||"VTM"===Pa&&(null==Ya||""===$a||null==va)||"1"===nt&&(""===gt||null===mt||""===St))La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null==_a?"Please select Isd.":"",e[a++]=""===Aa?"Please fill Denomination.":"",e[a++]=""==wa?"Please fill Quantity.":"",e[a++]=""==Fa?"Please fill Rate.":"","VTM"!==Pa||null!=Ya&&""!=Xa&&null!=va||(e[a++]=null==va?"Issuer.":"",e[a++]=null==Ya?"From.":"",e[a++]=""==$a?"Card Number.":""),"1"!==nt||""!==gt&&null!==mt&&""!==St||(e[a++]=null==mt?"Agent.":"",e[a++]=""==gt?"Commission type.":"",e[a++]=""==St?"Commission value.":""),f(ta(e)),v(!0);else if("VTM"===Pa&&1*Xa-1*Ya>100)La()(".loader").hide(),f("'To' must be less than 100."),v(!0);else if(0!=Ot&&0!=vt&&(Fa>Ot||Fa<vt))La()(".loader").hide(),e[a++]=Fa>Ot?"Maximum rate is "+Ot:"",e[a++]=Fa<vt?"Minimum rate is "+vt:"",f(ta(e)),v(!0);else{La()(".loader").hide();var t=_a.id.split("^"),l=0,n=0,r="",c=0,o=0;if(null!==mt){var m=mt.id.split("^");l=m[1],n=m[2],r=m[5]}if(null!==va){var u=va.id.split("^");c=u[1],o=u[2]}var s=0;""!=Zl&&0!=Zl&&(s=Fa*wa*Aa/Zl);const e={tranType:"SP",type:"SALE",uniqueKey:Xe(15),prd_line_no:Tl,prd_location:B,prd_type:"SP",prd_srno:M,prd_isd:t[1],prd_date:Ue(te),prd_product:Pa,prd_deno:Aa,prd_qty:wa,prd_rate:Fa,prd_amount:Fa*wa*Aa,prd_from:Ha,prd_prefix:Va,prd_to:Xa,prd_group:c,prd_account:o,prd_agent_group:l,prd_agent_ledger:n,prd_card_no:$a,isd_name:t[2],prd_commission_type:gt,prd_commission_value:""==St?0:St,prd_commission:Ml,prd_sale_reload:Kt,nCorporate:Re,nState:we.value,pOtherCharges:jt,ppStateType:se,ppStateValue:oe,scrMode:j,prFrom:Ya,prd_usd_rate:Zl.toFixed(2),prd_usd_amount:s.toFixed(2),delny:"Y",isCommission:nt,prd_agent_name:r};var i=We(be,e);i.length>0&&Zt(!1);const a={TabType:"Product",ALineNo:On.length+1,AType:"A",TLoc:B,TType:"SP",Product:Pa,ISD:t[2],Deno:Aa,Quantity:wa,Rate:Fa,Amount:Fa*wa*Aa,ProductFrom:Ya,ProductTo:Xa,ProductPrefix:Va,ProductGroup:c,ProductAccout:o,CommsnType:gt,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==St?0:St,CommsnAmount:""==Ml?0:Ml};"1"===k.edit&&"E"===j&&Nn(e=>[...e,a]),ge(i),jl(fl+1),kl(1*Tl+1),Ta(null),Ca(null),Ia(""),Ma(""),Ga(""),Qa(""),Ka(null),Wa(""),Za(""),lt(""),yt(""),ht(),Et(null),ht(""),Fl(""),wn(i,e)}})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>b("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?b("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->")))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(Xt.a,{className:"handCursor",bg:"primary",onClick:()=>{Dn(!0)}},"View Commission Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,be.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to),n.a.createElement("td",null,"Q"===j||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=be.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:On.length+1,AType:"D",TLoc:B,TType:"SP",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===k.edit&&"E"===j&&Nn(a=>[...a,e])}const t={tranType:"SP",type:"SALE",pOtherCharges:""===jt?0:jt,ppStateType:se,ppStateValue:oe,nState:we.value},l=He(be,"uniqueKey",e);ge(l),jl(fl-1),wn(l,t)})(e.uniqueKey),className:"colorThemeBlue pointer"},n.a.createElement(pa.a,{icon:ja.o}))))))))),n.a.createElement(at.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Taxable Value: ",Ut)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"SGST: ",At)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"IGST: ",Ft)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"CGST : ",Lt)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"UGST : ",Pt)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Round Off: ",Vt))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:jt,onChange:e=>(e=>{Me(e,Dt);const a={tranType:"SP",type:"SALE",pOtherCharges:""===e?0:e,ppStateType:se,ppStateValue:oe,nState:we.value};wn(be,a)})(e.target.value),disabled:Wt||"Q"===j})))),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===j?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:nl,onChange:e=>(e=>{bn(!1),rl(e),ll(null),ul(0),dl("");var a="";if(""!==e){if("CH"===e)a="CASH";else{if("BN"===e)return a="BANK",void vl("BANK");if("CQ"===e)a="CHEQUE";else if("RC"===e){if(a="WALKIN",null!==Re)return ll(Re),void bn(!0)}else a="WALKIN"}vl(a),De(D,[u,"getledgerinfo",a],e=>{let a=JSON.parse(e);ll({id:a.id,label:a.label})})}})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"RC"},"Recievables"),n.a.createElement("option",{value:"PB"},"Payables"),n.a.createElement("option",{value:"AP"},"Advance Paid"),n.a.createElement("option",{value:"AR"},"Advance Recieved")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:tl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,Nl,B),onInputChange:rt,onChange:e=>{ll(e);var a=e.id.split("^");il(a[1]),ul(a[2])},isDisabled:pn}))),""!==nl?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",value:cl,onChange:e=>Me(e.target.value,ol)}))):null),"BN"===nl?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:40,value:El,onChange:e=>Pe(e.target.value,dl)})))):"CQ"===nl?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Cheque No",type:"text",maxLength:10,value:El,onChange:e=>Pe(e.target.value,dl)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Bank Name",type:"text",maxLength:50,value:hl,onChange:e=>Pe(e.target.value,Sl)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:yl,onChange:e=>Ol(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(async()=>{La()(".loader").show();var e=[],a=0;if(_t<1)La()(".loader").hide(),e[a++]=_t<1?"Total amount must be greater than 0.":"",f(ta(e)),v(!0);else if(""===nl||null===tl||cl<1||"CQ"===nl&&(""===El||""===hl||null===yl)||"BN"===nl&&""===El)La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=null===tl?"Account.":"",e[a++]=""===nl?"Payment Type.":"",e[a++]=cl<1?"Entered amount can't be 0.":"","CQ"!==nl||""!==El&&""!==hl&&null!==yl||(e[a++]=""===El?"Cheque Number.":"",e[a++]=""===hl?"Bank Name.":"",e[a++]=null===yl?"Cheque Date":""),"BN"===nl&&""===El&&(e[a++]=""===El?"Refernece Number.":""),f(ta(e)),v(!0);else{La()(".loader").hide();{var t=0,l=0,n="";if(null!==tl){var r=tl.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Xe(10),tp_line_no:Cl+1,tp_location:B,tp_srno:M,tp_payment_type:nl,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:cl,tp_cheque:El,tp_cheque_bank:hl,tp_cheque_date:"CQ"===nl?Ue(yl):"NULL",tp_type:"SP",delny:"Y"},a=We(bl,e),c={TabType:"Payment",AType:"A",ALineNo:On.length+1,TLoc:B,TType:"SP",PaymentType:nl,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:cl,ReferenceNo:El};"1"===k.edit&&"E"===j&&Nn(e=>[...e,c]),gl(a),rl(""),_l(1*Cl+1),ll(null),dl(""),Sl(""),Ol(null),jl(fl+1);const o=a.reduce((e,a)=>e+1*a.tp_amount,0);ol(1*_t-o)}}})()},"Add")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque/Refernece No"))),n.a.createElement("tbody",null,bl.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque),n.a.createElement("td",null,"Q"!==j?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{const t=He(bl,"uniquekey",e);gl(t);const l=t.reduce((e,a)=>e+1*a.tp_amount,0);ol(1*_t-l);const n=bl.find(a=>a.uniquekey===e);if(n){const e={TabType:"Payment",ALineNo:On.length+1,AType:"D",TLoc:B,TType:"SP",PaymentType:n.tp_payment_type,PaymentGroupCode:n.tp_group,PaymentLedgerCode:n.tp_account,PaymentAccountName:n.mvli_ledger_name,PaymentAmount:n.tp_amount,ReferenceNo:n.tp_cheque};"1"===k.edit&&"E"===j&&Nn(a=>[...a,e])}gl(He(bl,"uniquekey",e)),jl(fl-1)})(e.uniquekey,e.delny)},n.a.createElement(pa.a,{icon:ja.o})):null))))))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Ba.a,{show:tn,size:"xl",onHide:()=>ln(!1),scrollable:!0,backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"Previous Transaction"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null," Branch"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Certificate"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"USD"),n.a.createElement("th",null,"Departure"),n.a.createElement("th",null,"Cash"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Receivable"))),n.a.createElement("tbody",null,nn.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tp_type),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.hdr_departure_date),n.a.createElement("td",null,"CH"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"BN"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"RC"===e.tp_payment_type?e.tp_amount:"")))))))),n.a.createElement(Ba.a,{show:cn,size:"xl",onHide:()=>on(!1),scrollable:!0,backdrop:"static"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("span",null,"Previous Transaction"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null," Branch"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Certificate"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"USD Equivalent"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,un.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tp_type),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(qa,{logObject:vn,show:_n,onHide:()=>fn(!1)}),n.a.createElement("span",{className:"corner-span"},fl),n.a.createElement(el,{faViewObject:Bl,show:zl,onHide:()=>Vl(!1)}),n.a.createElement(mn,{show:kn,onHide:()=>Dn(!1),productList:be}),n.a.createElement(Sa,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(Ja,{isOpen:g,onYes:e=>An(),onNo:e=>h(!1)},y),n.a.createElement(Ja,{isOpen:gn,onYes:e=>(()=>{La()("loader").show();const e={paymentData:bl,spNewDate:Ue(te),nTraveller:Oe,srno:M,spLocationValue:B};De(Ce,[u,"addlimit",JSON.stringify(e)],e=>{let a=JSON.parse(e);La()("loader").hide(),hn(!1),v(!0),f(a.msg)})})(),onNo:e=>hn(!1)},Sn),n.a.createElement(zt,{logObject:Wl,show:Kl,onHide:()=>Hl(!1)}))};var bn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)("N"),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!1),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(!1),[w,M]=Object(l.useState)(null),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(0),[J,B]=Object(l.useState)(new Date),[q,z]=Object(l.useState)("PP"),[V,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)("PP"),[ee,ae]=Object(l.useState)(null),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)([]),[ue,se]=Object(l.useState)([]),[ie,Ee]=Object(l.useState)([]),[de,pe]=Object(l.useState)(""),[be,ge]=Object(l.useState)(""),[he,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(0),[je,Te]=Object(l.useState)(0),[ke,Le]=Object(l.useState)(0),[xe,Ae]=Object(l.useState)(0),[we,Me]=Object(l.useState)(""),Fe=new Date,[Re,Ge]=Object(l.useState)(!1),[Je,Be]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[qe,ze]=Object(l.useState)([]),[Ve,Qe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Ke,Ze]=Object(l.useState)(!1);var $e=[],ea=0;Object(l.useEffect)(()=>{E||(oa().then(e=>{M(e),null!=e&&la(e)}),De(_,[a,"all","TRAN_TRF_MANUAL_BOOK"],a=>{let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const la=e=>{M(e);const a=e.id.split("^");P(a[1]),R(a[2]),sessionStorage.activeBranch=a[1]},na=()=>{O(!1),g("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Manual Book"))),n.a.createElement(Oa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:la,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===h,onChange:()=>S("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===h,onChange:()=>S("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===h,onChange:()=>S("D"),type:"radio",label:"Date"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"MT"===h,onChange:()=>S("MT"),type:"radio",label:"Manual Type"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"MN"===h,onChange:()=>S("MN"),type:"radio",label:"Manual No"})))))),n.a.createElement(Oa.a,null,"N"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:J,minDate:new Date(t),maxDate:new Date(r),onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,maxLength:20,onChange:e=>Ie(e.target.value,H),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:W,maxLength:20,onChange:e=>Ie(e.target.value,X),placeholder:"To"})))):"D"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:V,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"MT"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Z,onChange:e=>$(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk"))))):"MN"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ct(e,G),onInputChange:rt,onChange:e=>{ae(e),console.log(e);const a=e.id.split("^");re(a[4]),le(a[5])}})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===o.add&&"N"===h?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(J);w&&J?e>r||e<t?(f(!0),T(d("MSG0010"))):(g("A"),pe(""),ge(""),Ne(""),ye(""),oe([])):($e[ea++]=d("MSG0006"),$e[ea++]=w?"":" Location.",$e[ea++]=J?"":" Date.",T(ta($e)),f(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==h&&"D"!==h&&"MT"!==h&&"MN"!==h?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(null===w||"S"===h&&!K||"S"===h&&!W||"D"===h&&!V||"D"===h&&!U)$e[ea++]=d("MSG0006"),$e[ea++]=w?"":" Location.",$e[ea++]="S"!==h||K?"":" From.",$e[ea++]="S"!==h||W?"":" To.",$e[ea++]="D"!==h||V?"":" From Date.",$e[ea++]="D"!==h||U?"":" To Date.",T(ta($e)),f(!0);else if("MN"===h&&null===ee)T("Please select Manul No."),f(!0);else{console.log(w);const e={filterRadioType:h,filterLocation:G,filterFromDate:Ue(V),filterToDate:Ue(U),filterFromSrno:K,filterToSrno:W,filterManualType:Z,filterManualNo:ee,filterFromManualNo:te,filterPrefixManualNo:ne};De(me,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);se(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,ue.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{Ce(e),g("Q"),Me(n),Ae(e);const r={srno:e,location:t,type:l};De(me,[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(oe(a.manualBookList),Te(a.maxlineno),R(a.locationname))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(v("Do you really want to exit ?"),O(!0)):na())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=we.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:xe,type:"MNLBK",pageright:"TRAN_TRF_MANUAL_BOOK"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?g("E"):(Ge(!0),Be({trantype:"MNLBK",trannumber:xe,location:G,tranDate:Ue(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ze(!0),void Qe({trantype:"MNLBK",trannumber:xe,trancategory:"T",location:G}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(ce.length<1)T("Empty List!"),f(!0);else{const e={location:G,srno:ve,date:Ue(J),data:ce,filterRadioType:h,filterLocation:G,filterFromDate:Ue(V),filterToDate:Ue(U),filterFromSrno:K,filterToSrno:W,filterManualType:Z,filterManualNo:ee,filterFromManualNo:te,filterPrefixManualNo:ne};if(De(me,[a,"save",JSON.stringify(e),JSON.stringify(qe)],e=>{let a=JSON.parse(e);se(a),oe([]),g(""),ze([])}),"E"==b){const e={srno:ve,type:"MNLBK",status:"E",currentDate:Ue(Fe),pageright:"TRAN_TRF_MANUAL_BOOK"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Sr No: ",ve)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",F))),n.a.createElement(Oa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:q,onChange:e=>z(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:de,onChange:e=>(e=>{Ie(e.target.value,pe),""===be||""===e.target.value?ye(""):ye(1*be-1+1*e.target.value)})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:Oe,onChange:e=>Pe(e.target.value,Ne),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:be,onChange:e=>(e=>{Ie(e.target.value,ge),""===e.target.value||""===de?ye(""):ye(1*e.target.value-1+1*de)})(e),maxLength:20,placeholder:"From"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:he,disabled:!0,placeholder:"To"})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(""===de||""===be)e[a++]=d("MSG0006"),e[a++]=""===de?" Quantity.":"",e[a++]=""===be?" From.":"",T(ta(e)),f(!0);else if(de>=101)T("Quantity Should be less than 101!"),f(!0);else{const e={unique_no:Xe(5),tmb_srno:ve,tmb_location:G,tmb_quantity:de,tmb_from:be,tmb_to:he,tmb_prefix:Oe,tmb_date:Ye(J),tmb_type:"MNLBK",tmb_manual_type:q,tmb_line_no:1*je+1,del:"Y"};oe(We(ce,e));const a={ALineNo:qe.length+1,AType:"A",TLoc:G,TType:"MNLBK",Quantity:de,ProductFrom:be,ProductTo:he,ProductPrefix:Oe,ManualType:q};"1"===o.edit&&"E"===b&&ze(e=>[...e,a]),pe(""),ge(""),ye(""),Ne(""),Te(je+1)}})()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Manual Type"))),n.a.createElement("tbody",null,ce.map(e=>n.a.createElement("tr",{key:e.tmb_lino_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=ce.find(a=>a.unique_no===e);if(a){const e={ALineNo:qe.length+1,AType:"D",TLoc:a.tmb_location,TType:"MNLBK",Quantity:a.tmb_quantity,ProductFrom:a.tmb_from,ProductTo:a.tmb_to,ProductPrefix:a.tmb_prefix,ManualType:a.tmb_manual_type};"1"===o.edit&&"E"===b&&ze(a=>[...a,e])}oe(He(ce,"unique_no",e)),Le(ke+1)})(e.unique_no)},n.a.createElement(pa.a,{icon:ja.o}))," "," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{const r={srno:e,lineno:t,location:l,type:n};De(me,[a,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);Ee(a)}),I(!0)})(e.tmb_srno,e.tmb_line_no,e.tmb_location,e.tmb_type)},n.a.createElement(pa.a,{icon:ba.f})):null):null,n.a.createElement("td",null,e.tmb_prefix),n.a.createElement("td",null,e.tmb_quantity),n.a.createElement("td",null,e.tmb_from),n.a.createElement("td",null,e.tmb_to),n.a.createElement("td",null,e.tmb_manual_type)))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(qa,{logObject:Ve,show:Ke,onHide:()=>Ze(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:C,onClose:e=>f(!1)},j),n.a.createElement(Ja,{isOpen:y,onYes:e=>na(),onNo:e=>O(!1)},N),n.a.createElement(Sa,{isOpen:k,onClose:e=>D(!1)},L),n.a.createElement(zt,{logObject:Je,show:Re,onHide:()=>Ge(!1)})),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:A,onHide:()=>I(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,ie.map(e=>n.a.createElement("tr",{key:e.tmb_line_no},n.a.createElement("td",null,e.tmbb_from),n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.tmbb_out_type),n.a.createElement("td",null,e.tmbb_out_line_no),n.a.createElement("td",null,e.tmbb_out_location))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>I(!1)},"Close")))))};var gn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)([]),[F,R]=Object(l.useState)([]),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(null),[q,z]=Object(l.useState)(null),[V,Q]=Object(l.useState)(0),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(new Date),[te,le]=Object(l.useState)(new Date),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(0),[Ne,ve]=Object(l.useState)(0),[Ce,fe]=Object(l.useState)(0),[je,Te]=Object(l.useState)(0),[ke,Le]=Object(l.useState)(0),[xe,Ae]=Object(l.useState)(""),we=new Date,[Me,Fe]=Object(l.useState)(!1),[Re,Ge]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Pe,Je]=Object(l.useState)([]),[Be,qe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ze,Ve]=Object(l.useState)(!1);Object(l.useEffect)(()=>{E||(oa().then(e=>{B(e),null!=e&&Qe(e)}),De(_,[a,"all","TRAN_TRF_OUT_CURRENCY"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const Qe=e=>{console.log(e),B(e);const a=e.id.split("^");Q(a[1]),Y(a[2]),sessionStorage.activeBranch=a[1]},Ye=()=>{S(!1),g("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Transfer Out Currency"))),n.a.createElement(Oa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Qe,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:Z,minDate:new Date(t),maxDate:new Date(r),onChange:e=>$(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Lt(e),onInputChange:rt,onChange:e=>{console.log(e),z(e);const a=e.id.split("^");H(a[1]),X(a[2])}})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ne,maxLength:20,onChange:e=>Ie(e.target.value,re),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,maxLength:20,onChange:e=>Ie(e.target.value,oe),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:ee,onChange:e=>ae(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:te,onChange:e=>le(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===o.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0,l=Ue(Z);null===J||null===q?(e[a++]=d("MSG0006"),e[a++]=null===J?" From Location.":"",e[a++]=null===q?" To Location.":"",f(ta(e)),v(!0)):U===W?(f("From location and To location should not be same!."),v(!0)):l>r||l<t?(v(!0),f(d("MSG0010"))):(g("A"),I([]),Oe(null),be(""),de(""),he(""),Oe(""))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===J)f("Please Select Location!"),v(!0);else if("S"!==G||""!==ne&&""!==ce){const e={filterRadioType:G,filterLocation:V,filterFromDate:Ue(ee),filterToDate:Ue(te),filterFromSrno:ne,filterToSrno:ce};De("/api/tran_transfer_out_currency_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);M(a)})}else e[t++]=d("MSG0006"),e[t++]="S"===G&&""===ne?" From.":"",e[t++]="S"===G&&""===ce?" To.":"",f(ta(e)),v(!0)})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"From Location"),n.a.createElement("th",null,"To Location"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,w.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{fe(e),g("Q"),Ae(n),Le(e);const r={srno:e,location:t,type:l};De("/api/tran_transfer_out_currency_a.php",[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(I(a.currencyList),Te(a.maxlineno),Q(a.fromLocationCode),H(a.toLocationCode),Y(a.fromLocation),X(a.toLocation),ve(a.totalAmount))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_fromlocation),n.a.createElement("td",null,e.hdr_tolocation),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):Ye())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=xe.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:ke,type:"CNOUT",pageright:"TRAN_TRF_OUT_CURRENCY"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?g("E"):(Fe(!0),Ge({trantype:"CNOUT",trannumber:ke,location:V,tranDate:Ue(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ve(!0),void qe({trantype:"CNOUT",trannumber:ke,trancategory:"T",location:V}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(A.length<1)f("Empty list!"),v(!0);else{const e={fromLocation:V,toLocation:K,srno:Ce,date:Ue(Z),totalAmount:Ne,data:A,status:"P",type:"CNOUT",filterRadioType:G,filterLocation:V,filterFromDate:Ue(ee),filterToDate:Ue(te),filterFromSrno:ne,filterToSrno:ce};if(De("/api/tran_transfer_out_currency_a.php",[a,"save",JSON.stringify(e),JSON.stringify(Pe)],e=>{let a=JSON.parse(e);M(a),z(null),I([]),g(""),Je([])}),"E"==b){const e={srno:Ce,type:"CNOUT",status:"E",currentDate:Ue(we),pageright:"TRAN_TRF_OUT_CURRENCY"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",Ce)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"From Location : ",U)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"To Location : ",W)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Total Amount"),n.a.createElement(s.a.Control,{value:Ne,disabled:!0,placeholder:"Total"})))),n.a.createElement(Oa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"CN"),onInputChange:rt,onChange:e=>{ue(e);const a=e.id.split("^");ie(a[1])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ee,onChange:e=>(e=>{Ie(e.target.value,de),""===e.target.value||""===pe||""===ge?Oe(""):Oe(1*e.target.value*(1*pe)*(1*ge))})(e),maxLength:20,placeholder:"Denomination"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:pe,onChange:e=>(e=>{Ie(e.target.value,be),""===e.target.value||""===Ee||""===ge?Oe(""):Oe(1*e.target.value*(1*Ee)*(1*ge))})(e),maxLength:20,placeholder:"Quantity"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ge,onChange:e=>(e=>{Ie(e.target.value,he),""===e.target.value||""===Ee||""===pe?Oe(""):Oe(1*e.target.value*(1*pe)*(1*Ee))})(e),maxLength:10,placeholder:"Rate"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:ye,disabled:!0,placeholder:"Amount"})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(null===me||""===Ee||""===pe||""===ge)e[a++]=d("MSG0006"),e[a++]=null===me?"Select Currency.":"",e[a++]=""===Ee?"Denomination.":"",e[a++]=""===pe?"Quantity.":"",e[a++]=""===ge?"Rate.":"",f(ta(e)),v(!0);else if(pe>=101)f("Quantity Should be less than 101!"),v(!0);else{let e={unique_no:Xe(5),prd_line_no:1*je+1,prd_location:V,prd_date:Ue(Z),prd_type:"CNOUT",prd_product:"CN",prd_isd:se,prd_deno:Ee,prd_qty:pe,prd_rate:ge,prd_amount:ye,del:"Y"};I(We(A,e));const a={ALineNo:Pe.length+1,AType:"A",TLoc:V,TType:"CNOUT",Product:"CN",ISD:se,Quantity:pe,Deno:Ee,ProductRate:ge,ProductAmount:ye};"1"===o.edit&&"E"===b&&Je(e=>[...e,a]);let t=0;for(let l=0;l<A.length;l++)t+=1*A[l].prd_amount;ve(t),Te(je+1),ue(null),be(""),de(""),he(""),Oe("")}})()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,A.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=A.find(a=>a.unique_no===e);if(a){const e={ALineNo:Pe.length+1,AType:"D",TLoc:a.prd_location,TType:"CNOUT",Product:"CN",ISD:a.prd_isd,Quantity:a.prd_qty,Deno:a.prd_deno,ProductRate:a.prd_rate,ProductAmount:a.prd_amount};"1"===o.edit&&"E"===b&&Je(a=>[...a,e])}I(He(A,"unique_no",e));let t=0;for(let l=0;l<A.length;l++)t+=1*A[l].prd_amount;ve(t)})(e.unique_no)},n.a.createElement(pa.a,{icon:ja.o}))," "," ")):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount)))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(qa,{logObject:Be,show:ze,onHide:()=>Ve(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(Ja,{isOpen:h,onYes:e=>Ye(),onNo:e=>S(!1)},y),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(zt,{logObject:Re,show:Me,onHide:()=>Fe(!1)})))};var hn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,b]=Object(l.useState)(!1),[g,h]=Object(l.useState)(""),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(""),[T,k]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[x,A]=Object(l.useState)(!1),[I,w]=Object(l.useState)(null),[M,F]=Object(l.useState)(null),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(0),[B,q]=Object(l.useState)(""),[z,V]=Object(l.useState)(0),[Q,U]=Object(l.useState)("N"),[Y,K]=Object(l.useState)(new Date),[H,W]=Object(l.useState)(new Date),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)([]),[re,ce]=Object(l.useState)([]),[oe,me]=Object(l.useState)([]),[ue,ie]=Object(l.useState)(null),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(null),[Ce,je]=Object(l.useState)("1"),[Te,ke]=Object(l.useState)(0),[Le,xe]=Object(l.useState)(0),[Ae,we]=Object(l.useState)(""),[Me,Fe]=Object(l.useState)(""),[Re,Ge]=Object(l.useState)(0),[Pe,Je]=Object(l.useState)(0),[Be,qe]=Object(l.useState)(""),[ze,Ve]=Object(l.useState)(""),[Qe,Ye]=Object(l.useState)(0),[Ke,Ze]=Object(l.useState)(0),[$e,ea]=Object(l.useState)(""),la=new Date,[na,ra]=Object(l.useState)(!1),[ca,ma]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[ua,sa]=Object(l.useState)([]),[ia,Ea]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[da,ga]=Object(l.useState)(!1);Object(l.useEffect)(()=>{E||(oa().then(e=>{w(e),null!=e&&ha(e)}),De(_,[a,"all","TRAN_TRF_OUT_VTC"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),b(!0))},[E,a,e]);const ha=e=>{w(e);const a=e.id.split("^");J(a[1]),G(a[2]),sessionStorage.activeBranch=a[1]};const va=()=>{var e=[],t=0;if(""===Ee||""===pe||null===ue||"1"===Ce&&null===Ne)e[t++]=d("MSG0006"),e[t++]="1"===Ce&&null===Ne?" Select Currency.":"",e[t++]=null===ue?" Select Issuer.":"",e[t++]=""===Ee?" Quantity.":"",e[t++]=""===pe?" From.":"",j(ta(e)),C(!0);else if(Ee>=101)j("Quantity Should be less than 101!"),C(!0);else{const e=pe.id.split("^"),t={prd_location:P,prd_from:ze,prd_to:ge,type:"VTCIN",prd_isd:"1"===Ce?Ae:"",prd_qty:Ee,prd_account:Le,prd_group:Te};if(!function(e){let a=!0;return le.find(t=>{t.prd_isd===e.prd_isd&&t.prd_group===e.prd_group&&t.prd_account===e.prd_account&&(1*t.prd_from<=1*e.prd_from&&1*e.prd_from<=1*t.prd_to||1*t.prd_from<=1*e.prd_to&&1*e.prd_to<=1*t.prd_to)&&(a=!1)}),a}(t))return j("Already exist From To in the List"),void C(!0);De(se,[a,"vtcList",JSON.stringify(t)],a=>{if(JSON.parse(a)===Ee){const a={unique_no:Xe(5),prd_qty:Ee,prd_from:ze,prd_to:ge,prd_location:P,prd_issuername:Be,prd_isd:"1"===Ce?Ae:"",prd_date:Ue(Y),prd_type:"VTCOUT",prd_prefix:ye,prd_product:"VTC",prd_group:Te,prd_account:Le,prd_line_no:1*Pe+1,tpb_in_srno:e[1],tpb_in_line_no:e[2],del:"Y"};ne(We(le,a));const t={ALineNo:ua.length+1,AType:"A",TLoc:P,TType:"VTCOUT",Product:"VTC",IssuerName:Be,ISD:"1"===Ce?Ae:"",Quantity:Ee,ProductFrom:ze,ProductTo:ge,ProductPrefix:ye,ProductAccout:Le,AgentGroupCode:Te,Account:Le};"1"===o.edit&&"E"===g&&sa(e=>[...e,t]),console.log(le),Je(Pe+1),ve(null),ie(null),de(""),be(""),he(""),Oe("")}else j("Doesn't exist!"),C(!0)})}},Ca=()=>{y(!1),h("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Transfer Out VTC"))),n.a.createElement(Oa.a,null,"\xa0"),""===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:ha,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===Q,onChange:()=>U("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===Q,onChange:()=>U("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===Q,onChange:()=>U("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:Y,minDate:new Date(t),maxDate:new Date(r),onChange:e=>K(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:M,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Lt(e),onInputChange:rt,onChange:e=>{F(e);const a=e.id.split("^");V(a[1]),q(a[2])}})))):"S"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:$,maxLength:20,onChange:e=>Ie(e.target.value,ee),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ae,maxLength:20,onChange:e=>Ie(e.target.value,te),placeholder:"To"})))):"D"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:H,onChange:e=>W(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:X,onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===o.add&&"N"===Q?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(Y),a=[],l=0;null===I||null===M?(a[l++]=d("MSG0006"),a[l++]=null===I?" From Location.":"",a[l++]=null===M?" To Location.":"",j(ta(a)),C(!0)):R===B?(j("From location and To location should not be same!."),C(!0)):e>r||e<t?(C(!0),j(d("MSG0010"))):(ve(null),ie(null),ne([]),de(""),be(""),he(""),h("A"),Je(0),Ge(0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==Q&&"D"!==Q?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===I)j("Please Select Location!"),C(!0);else if("S"!==Q||""!==$&&""!==ae){console.log(I);const e={filterRadioType:Q,filterLocation:P,filterFromDate:Ue(H),filterToDate:Ue(X),filterFromSrno:$,filterToSrno:ae};De(se,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);ce(a)})}else e[t++]=d("MSG0006"),e[t++]="S"===Q&&""===$?" From.":"",e[t++]="S"===Q&&""===ae?" To.":"",j(ta(e)),C(!0)})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,re.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{Ge(e),h("Q"),ea(n),Ze(e);const r={srno:e,location:t,type:l};De(se,[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(ne(a.outVTCList),Je(a.maxlineno),J(a.fromLocationCode),V(a.toLocationCode),ke(a.groupcode),xe(a.ledgercode),G(a.fromLocation),q(a.toLocation))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===g||"E"===g?(N("Do you really want to exit ?"),y(!0)):Ca())},"Back")," ","1"===o.edit&&"Q"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=$e.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:Ke,type:"VTCOUT",pageright:"TRAN_TRF_OUT_VTC"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?h("E"):(ra(!0),ma({trantype:"VTCOUT",trannumber:Ke,location:P,tranDate:Ue(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ga(!0),void Ea({trantype:"VTCOUT",trannumber:Ke,trancategory:"T",location:P}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===g||"1"===o.add&&"A"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(le.length<1)j("Empty List!"),C(!0);else{const e={group:Te,account:Le,fromLocation:P,toLocation:z,srno:Re,date:Ue(Y),data:le,status:"P",type:"VTCOUT",filterRadioType:Q,filterLocation:P,filterFromDate:Ue(H),filterToDate:Ue(X),filterFromSrno:$,filterToSrno:ae};if(De(se,[a,"save",JSON.stringify(e),JSON.stringify(ua)],e=>{let a=JSON.parse(e);""===a.err?(ce(a.outVTCArr),ne([]),h(""),sa([])):(j(a.err),C(!0))}),"E"==g){const e={srno:Re,type:"VTCOUT",status:"E",currentDate:Ue(la),pageright:"TRAN_TRF_OUT_VTC"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-3"},n.a.createElement(s.a.Label,null,"Sr No : ",Re)),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"From Location : ",R)),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"To Location : ",B))),n.a.createElement(Oa.a,null,"\xa0"),"E"===g||"A"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Ce,onChange:e=>je(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Single Currency"),n.a.createElement("option",{value:"0"},"Multi Currency")))),"1"===Ce&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ne,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"VTC"),onInputChange:rt,onChange:e=>{ve(e);let a=e.id.split("^");we(a[1]),Fe(a[2])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ue,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",P),onInputChange:rt,onChange:e=>{console.log(e),ie(e);const a=e.id.split("^");ke(a[1]),xe(a[2]),qe(a[5]),de(""),be(""),he("")}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ee,onChange:e=>(e=>{Ie(e.target.value,de),""===ze||""===e.target.value?he(""):he(1*e.target.value+(1*ze-1))})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:pe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l,n)=>{var r={sid:sessionStorage.getItem("sessionId"),type:"productbank",srch:e,location:a,groupCode:t,accountCode:l,currencyCode:n};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(r)).then(e=>JSON.parse(e.data))})(e,P,Te,Le,Ae),onInputChange:rt,onChange:e=>{be(e),console.log(e);const a=e.id.split("^");Oe(a[4]),Ve(a[5]),""===a[5]||""===Ee?he(""):he(1*a[5]-1+1*Ee)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ge,disabled:!0,placeholder:"To"})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>va()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,le.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===g||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=le.find(a=>a.unique_no===e);if(a){const e={ALineNo:ua.length+1,AType:"D",TLoc:a.prd_location,TType:"VTCOUT",Product:"VTC",ISD:a.prd_isd,IssuerName:a.prd_issuername,Quantity:a.prd_qty,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account};"1"===o.edit&&"E"===g&&sa(a=>[...a,e])}ne(He(le,"unique_no",e)),Ye(Qe+1)})(e.unique_no)},n.a.createElement(pa.a,{icon:ja.o}))," "," "),"Q"===g?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{const r={srno:e,lineno:t,location:l,type:n};De(se,[a,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);me(a)}),A(!0)})(e.prd_srno,e.prd_line_no,e.prd_location,e.prd_type)},n.a.createElement(pa.a,{icon:ba.f})):null):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_issuername),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to)))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(qa,{logObject:ia,show:da,onHide:()=>ga(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:v,onClose:e=>C(!1)},f),n.a.createElement(Ja,{isOpen:S,onYes:e=>Ca(),onNo:e=>y(!1)},O),n.a.createElement(Sa,{isOpen:T,onClose:e=>k(!1)},D),n.a.createElement(zt,{logObject:ca,show:na,onHide:()=>ra(!1)})),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:x,onHide:()=>A(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,oe.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.tpb_from),n.a.createElement("td",null,e.tpb_out_srno),n.a.createElement("td",null,e.tpb_out_type),n.a.createElement("td",null,e.tpb_out_line_no),n.a.createElement("td",null,e.tpb_out_location),n.a.createElement("td",null))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>A(!1)},"Close")))))};var Sn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(!1),[A,I]=Object(l.useState)(null),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(0),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(new Date),[q,z]=Object(l.useState)(new Date),[V,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(),[K,H]=Object(l.useState)(),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)([]),[le,ne]=Object(l.useState)(null),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,Ee]=Object(l.useState)(""),[de,pe]=Object(l.useState)(null),[be,ge]=Object(l.useState)("1"),[he,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(0),[xe,Ae]=Object(l.useState)(0),[we,Me]=Object(l.useState)(""),[Fe,Re]=Object(l.useState)(0),[Ge,Je]=Object(l.useState)(""),[Be,qe]=Object(l.useState)(""),[ze,Ve]=Object(l.useState)(!1),[Qe,Ye]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),Ke=new Date,[Ze,$e]=Object(l.useState)([]),[ea,la]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[na,ra]=Object(l.useState)(!1);var ca=[],ma=0;Object(l.useEffect)(()=>{E||(oa().then(e=>{I(e),null!=e&&ua(e)}),De(_,[a,"all","TRAN_TRF_VTC"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const ua=e=>{I(e);const a=e.id.split("^");R(a[1]),M(a[2]),sessionStorage.activeBranch=a[1]},sa=()=>{S(!1),g("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Transfer In VTC"))),n.a.createElement(Oa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:ua,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:J,minDate:new Date(t),maxDate:new Date(r),onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:U,maxLength:20,onChange:e=>Ie(e.target.value,Y),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,maxLength:20,onChange:e=>Ie(e.target.value,H),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:q,onChange:e=>z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:V,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===o.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(J);A&&J?e>r||e<t?(v(!0),f(d("MSG0010"))):(g("A"),X([]),Le(0)):(ca[ma++]=d("MSG0006"),ca[ma++]=A?"":" Location.",ca[ma++]=J?"":" Date.",f(ta(ca)),v(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===A||"S"===G&&!U||"S"===G&&!K||"D"===G&&!q||"D"===G&&!V)e[t++]=d("MSG0006"),e[t++]=null===A?" Location.":"",e[t++]="S"!==G||U?"":" From Srno.",e[t++]="S"!==G||K?"":" To Srno.",e[t++]="D"!==G||q?"":" From Date.",e[t++]="D"!==G||V?"":" To Date.",f(ta(e)),v(!0);else{console.log(A);const e={radioType:G,location:F,fromDate:Ue(q),toDate:Ue(V),fromSrno:U,toSrno:K};De(te,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);$(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,Z.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{Le(e),g("Q"),Je(e),qe(n);const r={srno:e,location:t,type:l};De(te,[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(X(a.trfList),Ae(a.maxlineno),M(a.locationname),Ne(a.ledgercode),ye(a.groupcode),Me(a.ledgername),Le(a.srno))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):sa())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Be.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r;console.log(c);const o=Math.ceil(c/864e5);console.log(o);const m={srno:Ge,type:"VTCIN",pageright:"TRAN_TRF_VTC"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?g("E"):(Ve(!0),Ye({trantype:"VTCIN",trannumber:Ge,location:F,tranDate:Ue(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ra(!0),void la({trantype:"VTCIN",trannumber:Ge,trancategory:"T",location:F}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(console.log(F),W.length<1)f("Empty List!"),v(!0);else{const e={group:he,account:Oe,location:F,srno:ke,date:Ue(J),data:W,radioType:G,location:F,fromDate:Ue(q),toDate:Ue(V),fromSrno:U,toSrno:K};if(De(te,[a,"save",JSON.stringify(e),JSON.stringify(Ze)],e=>{let a=JSON.parse(e);$(a),X([]),g(""),$e([])}),"E"==b){const e={srno:ke,type:"VTCIN",status:"E",currentDate:Ue(Ke),pageright:"TRAN_TRF_VTC"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",ke))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",w))),n.a.createElement(Oa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:be,onChange:e=>ge(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Single Currency"),n.a.createElement("option",{value:"0"},"Multi Currency")))),1==be&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:de,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"VTC"),onInputChange:rt,onChange:e=>{pe(e);let a=e.id.split("^");Ce(a[1]),Te(a[2])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:le,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",F),onInputChange:rt,onChange:e=>{console.log(e),ne(e);const a=e.id.split("^");ye(a[1]),Ne(a[2]),Me(a[5])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:re,onChange:e=>(e=>{Ie(e.target.value,ce),""===oe||""===e.target.value?se(""):se(1*oe-1+1*e.target.value)})(e),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:ie,onChange:e=>Pe(e.target.value,Ee),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:oe,onChange:e=>(e=>{Ie(e.target.value,me),""===e.target.value||""===re?se(""):se(1*e.target.value-1+1*re)})(e),maxLength:20,placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ue,disabled:!0,placeholder:"To"})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(""===re||""===oe||null===le)e[a++]=d("MSG0006"),e[a++]=""===re?" Quantity.":"",e[a++]=""===oe?" From.":"",e[a++]=null===le?" Issuer.":"",f(ta(e)),v(!0);else if(re>=101)f("Quantity should be less than 101"),v(!0);else if("1"===be&&null===de)f("Please Select Currency!"),v(!0);else{const e={unique_no:Xe(5),prd_qty:re,prd_from:oe,prd_to:ue,prd_location:F,prd_issuername:we,prd_isd:"1"===be?ve:"",prd_date:Ue(J),prd_type:"VTCIN",prd_prefix:ie,prd_product:"VTC",prd_group:he,prd_account:Oe,prd_line_no:1*xe+1,del:"Y"};X(We(W,e));const a={TabType:"Product",ALineNo:Ze.length+1,AType:"A",TLoc:F,TType:"VTCIN",Product:"VTC",IssuerName:we,ISD:"1"===be?ve:"",Quantity:re,ProductFrom:oe,ProductTo:ue,ProductPrefix:ie,ProductAccout:Oe,AgentGroupCode:he,Account:Oe};"1"===o.edit&&"E"===b&&$e(e=>[...e,a]),console.log(W),Ae(xe+1),pe(null),ne(null),ce(""),me(""),Ee(""),se("")}})()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,W.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=W.find(a=>a.unique_no===e);if(a){console.log("oitem  ",a);const e={TabType:"Product",ALineNo:Ze.length+1,AType:"D",TLoc:a.prd_location,TType:"VTCIN",Product:"VTC",ISD:"1"===be?ve:"",IssuerName:a.prd_issuername,Quantity:a.prd_qty,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account};"1"===o.edit&&"E"===b&&$e(a=>[...a,e])}X(He(W,"unique_no",e)),Re(Fe+1)})(e.unique_no)},n.a.createElement(pa.a,{icon:ja.o}))," "," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{const r={srno:e,lineno:t,location:l,type:n};De(te,[a,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);ae(a)}),x(!0)})(e.prd_srno,e.prd_line_no,e.prd_location,e.prd_type)},n.a.createElement(pa.a,{icon:ba.f})):null):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_issuername),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement(qa,{logObject:ea,show:na,onHide:()=>ra(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(Ja,{isOpen:h,onYes:e=>sa(),onNo:e=>S(!1)},y),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(zt,{logObject:Qe,show:ze,onHide:()=>Ve(!1)})),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:L,onHide:()=>x(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,{style:{height:"84vh",overflowX:"auto"}},n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,ee.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.tpb_from),n.a.createElement("td",null,e.tpb_out_srno),n.a.createElement("td",null,e.tpb_out_type),n.a.createElement("td",null,e.tpb_out_line_no),n.a.createElement("td",null,e.tpb_out_location),n.a.createElement("td",null))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>x(!1)},"Close")))))};var yn=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(null),[L,x]=Object(l.useState)("0"),[A,I]=Object(l.useState)(null),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(null),[G,P]=Object(l.useState)(null),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[$,ee]=Object(l.useState)("PENDING"),[ae,te]=Object(l.useState)("A"),[le,ne]=Object(l.useState)([]),[re,ce]=Object(l.useState)(null),[oe,me]=Object(l.useState)(null),[ue,se]=Object(l.useState)(0),[ie,Ee]=Object(l.useState)("");Object(l.useEffect)(()=>{oa().then(e=>{D(e),null!=e&&be(e)}),De(_,[e,"all","TRAN_VTM_REQUEST"],function(e){let t=JSON.parse(e);"1"===t.query?u(t):a("/")}),De(_,[e,"all","VTM_REQUEST_APPROVAL"],function(e){let a=JSON.parse(e);p(a)})},[]);const de=()=>{La()(".loader").show();const a={status:ae,enLocationValue:L};De(Z,[e,"listdata",JSON.stringify(a)],e=>{La()(".loader").hide(),ne(JSON.parse(e))})},pe=()=>{g(!1),f("")},be=e=>{D(e);var a=e.id.split("^");x(a[1]),Ee(a[2]),console.log(a[2]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"VTM Encashment"))),""===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:k,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:be,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:ae,onChange:e=>te(e.target.value)},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"PENDING"},"Pending"),n.a.createElement("option",{value:"EXPORTED"},"Exported"),n.a.createElement("option",{value:"ACTIVATED"},"Activated"),n.a.createElement("option",{value:"REJECTED"},"Rejected"),n.a.createElement("option",{value:"ENCASHED"},"Encashed"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===o.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>de()},"List"):null,"\xa0","1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void(null===k?(O(!0),v("Please Select Location.")):(T(0),f("A"),M(""),R(null),P(null),me(null),Q(""),B(""),X(""),I(null),H(""),z(""),Y(""),ce(null),ee("PENDING"),se(0)))},"Add New"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Card No"),n.a.createElement("th",null,"Reference No"),n.a.createElement("th",null,"Corporate"),n.a.createElement("th",null,"Requested Value"),n.a.createElement("th",null,"Encashed Value"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,le.map((a,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((a,t)=>{se(0),f("Q"),T(t);const l={location:a,srno:t};De(Z,[e,"viewdata",JSON.stringify(l)],e=>{let a=JSON.parse(e);me({id:a.isdid,label:a.isdlabel}),I({id:a.issuerid,label:a.issuerlabel}),M(a.cardno),X(a.reqvalue),z(a.purchasebill),H(a.passport),B(a.refno),T(a.srno),se(a.srno),0==a.individual?ce(null):ce({id:a.indid,label:a.indlabel}),null===a.encdate?P(null):P(new Date(a.encdate)),Y(a.encvalue),Q(a.encremark),ee(a.encstatus),"^0^0^"==a.corpid?R(null):R({id:a.corpid,label:a.corplabel})})})(a.tve_location,a.tve_srno)},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,a.tve_srno),n.a.createElement("td",null,a.entity_name),n.a.createElement("td",null,a.tve_isd),n.a.createElement("td",null,a.issuer_name),n.a.createElement("td",null,a.tve_card_no),n.a.createElement("td",null,a.tve_ref_no),n.a.createElement("td",null,a.corp_name),n.a.createElement("td",null,a.tve_requested_value),n.a.createElement("td",null,a.tve_encashed_value),n.a.createElement("td",null,a.tve_status)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",ue)),n.a.createElement(Na.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,ie," ")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:!0,value:$,onChange:e=>ee(e.target.value)},n.a.createElement("option",{value:"PENDING"},"Pending"),n.a.createElement("option",{value:"EXPORTED"},"Exported"),n.a.createElement("option",{value:"APPROVED"},"Approved"),n.a.createElement("option",{value:"REJECTED"},"Rejected"),n.a.createElement("option",{value:"ENCASHED"},"Encashed")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,""),onInputChange:rt,onChange:e=>me(e),isDisabled:"Q"===C}))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"ISSUER",L),onInputChange:rt,onChange:e=>I(e),isDisabled:"Q"===C}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Card No",type:"text",maxLength:20,value:w,onChange:e=>Pe(e.target.value,M)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Reference No",type:"text",maxLength:30,value:J,onChange:e=>Ie(e.target.value,B)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Requested Value",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Requested Value",type:"text",maxLength:10,value:W,onChange:e=>Me(e.target.value,X)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:re,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:gt,onInputChange:rt,onChange:e=>{ce(e)},isDisabled:"Q"===C}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Passport No"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Passport No",type:"text",maxLength:20,value:K,onChange:e=>Pe(e.target.value,H)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Remark",type:"text",maxLength:50,value:V,onChange:e=>xe(e.target.value,Q)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:F,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>st(e,"CORPORATE",L),onInputChange:rt,onChange:e=>R(e),isDisabled:"Q"===C})))),"1"===E.query&&"A"!==C?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purchase Bill No"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Purchase Bill No",type:"text",maxLength:10,value:q,onChange:e=>Pe(e.target.value,z)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashment Date"),n.a.createElement(Gt.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"APPROVED"===$||"REJECTED"===$,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashed Value"),n.a.createElement(s.a.Control,{disabled:"APPROVED"===$||"REJECTED"===$,placeholder:"Encashed Value",type:"text",maxLength:6,value:U,onChange:e=>Ie(e.target.value,Y)})))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===C||"E"===C?(S("Do you really want to exit ?"),g(!0)):pe())},"Back"),"\xa0","1"===o.edit&&"Q"===C&&"PENDING"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void f("E")},"Edit"),"\xa0"):null,"1"===o.edit&&"E"===C||"1"===o.add&&"A"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();var a=[],t=0;if(null===oe||null===A||""===w||""===J||""===W)La()(".loader").hide(),a[t++]=d("MSG0006"),a[t++]=null===oe?"Isd":"",a[t++]=null===A?"Issuer":"",a[t++]=""===w?"Card Number":"",a[t++]=""===J?"Reference Number":"",a[t++]=""===W?"Request Value":"",v(ta(a)),O(!0);else{const a={srno:j,enIsd:oe,enIssuer:A,enCardNo:w,enReferenceNo:J,enRequestedValue:W,enIndividual:re,enPassport:K,enCorporate:F,enPurchaseNo:q,enDate:Ue(G),enValue:U,enRemark:V,enLocationValue:L,status:$,scrMode:C};De(Z,[e,"savedata",JSON.stringify(a)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(La()(".loader").hide(),f(""),ne(a.data)):(La()(".loader").hide(),v(d("ERR0000")),O(!0))})}})()},"Save")):null,"\xa0","PENDING"!==$||"1"!==o.add||"Q"!==C&&"E"!==C?null:n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();const a={enSrno:j};De(Z,[e,"exportstatus","EXPORTED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(La()(".loader").hide(),f(""),de())})})()},"Export"),"1"===E.query&&"EXPORTED"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();var a=[],l=0,n="";if(null!==G&&(n=Ue(G)),null==G||""===U||0==U)La()(".loader").hide(),a[l++]=d("MSG0006"),a[l++]=null==G?"Encashed Date":"",a[l++]=""===U||0==U?"Encashed Value":"",v(ta(a)),O(!0);else if(n>r||n<t)La()(".loader").hide(),O(!0),v("Encashment "+d("MSG0010"));else{const a={enDate:Ue(G),enValue:U,enSrno:j};De(Z,[e,"approvestatus","APPROVED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(La()(".loader").hide(),f(""),de())})}})()},"Approve"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();const a={enSrno:j};De(Z,[e,"rejectstatus","REJECTED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(La()(".loader").hide(),f(""),de())})})()},"Reject"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{La()(".loader").show();const a={enSrno:j};De(Z,[e,"pendingstatus","PENDING",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(La()(".loader").hide(),f(""),de())})})()},"Send Back to Branch")):null)))),n.a.createElement(Sa,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(Ja,{isOpen:b,onYes:e=>pe(),onNo:e=>g(!1)},h))};var On=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),sessionStorage.getItem("branchDisable")),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,g]=Object(l.useState)(!1),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)([]),[L,x]=Object(l.useState)([]),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)("S"),[F,R]=Object(l.useState)(null),[G,P]=Object(l.useState)("0"),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(new Date),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(0);Object(l.useEffect)(()=>{o||(oa().then(e=>{R(e),null!=e&&me(e)}),De(_,[a,"all","TRAN_SETTLEMENT_VTM"],function(a){let t=JSON.parse(a);"1"===t.query?c(t):e("/")}),u(!0))},[o,a,e]);const me=e=>{R(e);const a=e.id.split("^");P(a[1]),B(a[2]),sessionStorage.activeBranch=a[1]},ue=()=>{g(!1),p("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"VTM Settlement"))),n.a.createElement(Oa.a,null,"\xa0"),""===E?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:F,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:me,isDisabled:"true"===t}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===w,onChange:()=>M("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===w,onChange:()=>M("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"S"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:q,maxLength:20,onChange:e=>Ie(e.target.value,z),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:V,maxLength:20,onChange:e=>Ie(e.target.value,Q),placeholder:"To"})))):"D"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===r.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=[],t=0;if(null===F)La()(".loader").hide(),v("Please Select Location!"),O(!0);else if("S"===w&&!q||"S"===w&&!V||"D"===w&&!U||"D"===w&&!K)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]="S"!==w||q?"":" From.",e[t++]="S"!==w||V?"":" To.",e[t++]="D"!==w||U?"":" From Date.",e[t++]="D"!==w||K?"":" To Date.",v(ta(e)),O(!0);else{const e={locationCode:G,filterRadioType:w,filterFromSrno:q,filterToSrno:V,filterFromDate:Ue(U),filterToDate:Ue(K)};De("/api/settlement_vtm_a.php",[a,"list",JSON.stringify(e)],e=>{La()(".loader").hide();let a=JSON.parse(e);D(a),oe(a.hdrSrno)})}})()},"List"):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===r.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,k.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===r.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o)=>{La()(".loader").show(),p("Q"),B(n),X(r),ae(c),$(o);const m={srno:e,location:l,type:t};De("/api/settlement_vtm_a.php",[a,"view",JSON.stringify(m)],e=>{La()(".loader").hide();let a=JSON.parse(e);x(a.productData),I(a.paymentData)})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.entity_name,e.ledger,e.hdr_forex_total,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_forex_total)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>ue()},"Back")," "," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(La()(".loader").show(),re(!0),void De("/api/settlement_vtm_a.php",[a,"faView"],e=>{La()(".loader").hide();let a=JSON.parse(e);le(a)}))},"faView"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location:")," ",J)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date:")," ",Z)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Ledger: "),W)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Total:")," ",ee))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Product Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,L.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.prd_date),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Payment Details"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,A.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.tp_payment_type),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(Ja,{isOpen:b,onYes:e=>ue(),onNo:e=>g(!1)},h),n.a.createElement(Sa,{isOpen:C,onClose:e=>f(!1)},j)),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:ne,onHide:()=>re(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Flag"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,te.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tfd_type),n.a.createElement("td",null,e.tfd_date),n.a.createElement("td",null,"C"===e.tfd_flag?"CREDIT":"DEBIT"),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.tfd_amount),n.a.createElement("td",null,"1"===e.tfd_active?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>re(!1)},"Close")))))};var Nn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)([]),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)(""),[F,R]=Object(l.useState)(0),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(null),[q,z]=Object(l.useState)(null),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(new Date),[te,le]=Object(l.useState)("IN"),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(0),[se,ie]=Object(l.useState)(0),[Ee,de]=Object(l.useState)(0),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(0),Ne=new Date,[ve,Ce]=Object(l.useState)(!1),[je,Te]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[ke,Le]=Object(l.useState)([]),[xe,Ae]=Object(l.useState)([]),[we,Me]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Fe,Re]=Object(l.useState)(!1);var Ge=[],Pe=0;Object(l.useEffect)(()=>{E||(oa().then(e=>{B(e),null!=e&&Je(e)}),De(_,[a,"all","CURRENCY_CHANGE"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const Je=e=>{B(e);const a=e.id.split("^");R(a[1]),M(a[2]),sessionStorage.activeBranch=a[1]},Be=()=>{La()(".loader").show();var e=[],a=0;if(q&&ne&&ce){const e=ne*ce;!function(e,a,t){let l=!1,n=[];n=ke.map(n=>n.isd===e?(l=!0,{...n,totalInAmount:"IN"===a.trim()?n.totalInAmount+t:n.totalInAmount,TotalOutAmount:"OUT"===a?n.TotalOutAmount+t:n.TotalOutAmount}):n),!l&&e&&(n=[...ke,{isd:e,totalInAmount:"IN"===a.trim()?t:0,TotalOutAmount:"OUT"===a?t:0}]),console.log(n),Le(n)}(V,te,e);const a={unique_no:Xe(5),prd_line_no:L.length+1,prd_location:F,prd_type:"CNCHNG",prd_isd:V,prd_date:Ue(W),prd_product:"CN",prd_in_type:te,prd_deno:ne,prd_qty:ce,prd_amount:e,del:"Y"};La()(".loader").hide(),x(We(L,a));const t={TabType:"Product",ALineNo:xe.length+1,AType:"A",TLoc:F,TType:"CNCHNG",ProductType:te,ISD:V,Deno:ne,Quantity:ce,ProductAmount:e};"1"===o.edit&&"E"===b&&Ae(e=>[...e,t]),ie(se+1),z(null),le("IN"),re(""),oe("")}else La()(".loader").hide(),e[a++]=d("MSG0006"),e[a++]=q?"":" Currency.",e[a++]=ne?"":" Denomination.",e[a++]=ce?"":" Quantity.",f(ta(e)),v(!0)},qe=()=>{if(La()(".loader").show(),L.length<1)La()(".loader").hide(),f("Empty List!"),v(!0);else{let e=ke.map(e=>e.totalInAmount!=e.TotalOutAmount?"For Currency ".concat(e.isd," IN and OUT Amount is not same. <br>"):"").join("");if(console.log(e),e.length>0)return La()(".loader").hide(),f(e),void v(!0);const t={location:F,srno:me,date:Ue(W),data:L,type:"CNCHNG",filterRadioType:G,filterFromSrno:U,filterToSrno:K,filterFromDate:Ue(Z),filterToDate:Ue(ee)};if(De("/api/currency_change_a.php",[a,"save",JSON.stringify(t),JSON.stringify(xe)],e=>{La()(".loader").hide();let a=JSON.parse(e);I(a),g(""),Ae([])}),"E"==b){const e={srno:me,type:"CNCHNG",status:"E",currentDate:Ue(Ne),pageright:"CURRENCY_CHANGE"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}};const ze=()=>{S(!1),g(""),x([])},Ve=()=>{const e=new Date,t=ge.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:ye,type:"CNCHNG",pageright:"CURRENCY_CHANGE"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?(g("E"),function(){let e=[];L.forEach(a=>{let t=e.findIndex(e=>e.isd===a.prd_isd);if(-1!=t){let l={...e[t],totalInAmount:"IN"===a.prd_in_type.trim()?1*e[t].totalInAmount+1*a.prd_amount:1*e[t].totalInAmount,TotalOutAmount:"OUT"===a.prd_in_type?1*e[t].TotalOutAmount+1*a.prd_amount:1*e[t].TotalOutAmount};e[t]=l}else e.push({isd:a.prd_isd,totalInAmount:"IN"===a.prd_in_type.trim()?1*a.prd_amount:0,TotalOutAmount:"OUT"===a.prd_in_type?1*a.prd_amount:0})}),Le(e)}()):(Ce(!0),Te({trantype:"CNCHNG",trannumber:ye,location:F,tranDate:Ue(e)}))})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Currency Change"))),n.a.createElement(Oa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Je,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:W,minDate:new Date(t),maxDate:new Date(r),onChange:e=>X(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:U,maxLength:20,onChange:e=>Ie(e.target.value,Y),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,maxLength:20,onChange:e=>Ie(e.target.value,H),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:Z,onChange:e=>$(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:ee,onChange:e=>ae(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===o.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(W);J&&W?e>r||e<t?(v(!0),f(d("MSG0010"))):(g("A"),z(null),le("IN"),re(""),oe(""),x([]),be(Ye(W)),Le([]),ue(0)):(Ge[Pe++]=d("MSG0006"),Ge[Pe++]=J?"":" Location.",Ge[Pe++]=W?"":" Date.",f(ta(Ge)),v(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(La()(".loader").show(),!J||"S"===G&&!U||"S"===G&&!K||"D"===G&&!Z||"D"===G&&!ee)La()(".loader").hide(),Ge[Pe++]=d("MSG0006"),Ge[Pe++]=J?"":" Location.",Ge[Pe++]="S"!==G||U?"":" From Srno.",Ge[Pe++]="S"!==G||K?"":" To Srno.",Ge[Pe++]="D"!==G||Z?"":" From Date.",Ge[Pe++]="D"!==G||ee?"":" To Date.",f(ta(Ge)),v(!0);else{const e={location:F,filterRadioType:G,filterFromSrno:U,filterToSrno:K,filterFromDate:Ue(Z),filterToDate:Ue(ee)};De("/api/currency_change_a.php",[a,"list",JSON.stringify(e)],e=>{La()(".loader").hide();let a=JSON.parse(e);I(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,A.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r)=>{La()(".loader").show(),ue(e),g("Q"),be(r),he(n),Oe(e);const c={srno:e,location:t,type:l};De("/api/currency_change_a.php",[a,"view",JSON.stringify(c)],e=>{La()(".loader").hide();let a=JSON.parse(e);"MSG0000"===a.msg&&(La()(".loader").hide(),x(a.currencyList),console.log("view list",a.currencyList),ie(a.maxlineno),R(a.location),M(a.locationname))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):ze())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Ve()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Re(!0),void Me({trantype:"CNCHNG",trannumber:ye,trancategory:"T",location:F}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>qe()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Srno : ",me)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",w)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Date : ",pe))),n.a.createElement(Oa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value),required:!0},n.a.createElement("option",{value:"IN"},"IN"),n.a.createElement("option",{value:"OUT"},"OUT")))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"CN"),onInputChange:rt,onChange:e=>{z(e);const a=e.id.split("^");Q(a[1])}}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ne,onChange:e=>Ie(e.target.value,re),maxLength:6,placeholder:"Denomination"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,onChange:e=>Ie(e.target.value,oe),maxLength:fe,placeholder:"Quantity"})))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Be()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,L.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=L.find(a=>a.unique_no===e);if(a){const e={TabType:"Product",ALineNo:xe.length+1,AType:"D",TLoc:a.prd_location,TType:"CNCHNG",ProductType:a.prd_in_type,ISD:a.prd_isd,Deno:a.prd_deno,Quantity:a.prd_qty,ProductAmount:a.prd_amount};"1"===o.edit&&"E"===b&&Ae(a=>[...a,e])}x(He(L,"unique_no",e.unique_no)),de(Ee+1);let t=ke.map(a=>a.isd===e.prd_isd?{...a,totalInAmount:"IN"===e.prd_in_type.trim()?a.totalInAmount-e.prd_amount:a.totalInAmount,TotalOutAmount:"OUT"===e.prd_in_type?a.TotalOutAmount-e.prd_amount:a.TotalOutAmount}:a);console.log(t),Le(t)})(e)},n.a.createElement(pa.a,{icon:ja.o}))," "," ")):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_in_type),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement(qa,{logObject:we,show:Fe,onHide:()=>Re(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(Ja,{isOpen:h,onYes:e=>ze(),onNo:e=>S(!1)},y),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(zt,{logObject:je,show:ve,onHide:()=>Ce(!1)})))};var vn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(null),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(0),[F,R]=Object(l.useState)(null),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)([]),[q,z]=Object(l.useState)([]),[V,Q]=Object(l.useState)("N"),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(new Date),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)("FK"),[se,ie]=Object(l.useState)(0),[Ee,de]=Object(l.useState)(0),[pe,be]=Object(l.useState)(0),[he,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(0),je=new Date,[Te,ke]=Object(l.useState)(!1),[Le,xe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Ae,we]=Object(l.useState)([]),[Fe,Re]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Ge,Pe]=Object(l.useState)(!1);var Je=[],Be=0;Object(l.useEffect)(()=>{E||(oa().then(e=>{x(e),null!=e&&qe(e)}),De(_,[a,"all","CURRENCY_WRITE_OFF"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const qe=e=>{x(e);const a=e.id.split("^");M(a[1]),I(a[2]),sessionStorage.activeBranch=a[1]},ze=()=>{S(!1),g("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Currency Write Off"))),n.a.createElement(Oa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:L,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:qe,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===V,onChange:()=>Q("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===V,onChange:()=>Q("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===V,onChange:()=>Q("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===V?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:U,minDate:new Date(t),maxDate:new Date(r),onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===V?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Z,maxLength:20,onChange:e=>Ie(e.target.value,$),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ee,maxLength:20,onChange:e=>Ie(e.target.value,ae),placeholder:"To"})))):"D"===V?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:W,onChange:e=>X(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===o.add&&"N"===V?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(U);L&&U?e>r||e<t?(v(!0),f(d("MSG0010"))):(g("A"),B([]),R(null),re(""),le(""),oe(""),ue("FK")):(Je[Be++]=d("MSG0006"),Je[Be++]=L?"":" Location.",Je[Be++]=U?"":" Date.",f(ta(Je)),v(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==V&&"D"!==V?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!L||"S"==V&&!Z||"S"==V&&!ee||"D"==V&&!K||"D"==V&&!W)Je[Be++]=d("MSG0006"),Je[Be++]=L?"":" Location.",Je[Be++]="S"!==V||Z?"":" From Srno.",Je[Be++]="S"!==V||ee?"":" To Srno.",Je[Be++]="D"!==V||K?"":" From Date.",Je[Be++]="D"!==V||W?"":" To Date.",f(ta(Je)),v(!0);else{const e={location:w,filterRadioType:V,filterFromSrno:Z,filterToSrno:ee,filterFromDate:Ue(K),filterToDate:Ue(W)};De(ge,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);z(a)})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,q.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r)=>{ie(e),g("Q"),Ne(r),Ce(e),ye(n);const c={srno:e,location:t,type:l};De(ge,[a,"view",JSON.stringify(c)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(B(a.writeOffList),de(a.maxlineno),M(a.location),I(a.locationname))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date,e.hdr_date)},n.a.createElement(pa.a,{icon:ba.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):ze())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=he.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:ve,type:"CNWOFF",pageright:"CURRENCY_WRITE_OFF"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?g("E"):(ke(!0),xe({trantype:"CNWOFF",trannumber:ve,location:w,tranDate:Ue(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Pe(!0),void Re({trantype:"CNWOFF",trannumber:ve,trancategory:"T",location:w}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(J.length<1)f("Empty List!"),v(!0);else{const e={location:w,srno:se,date:Ue(U),data:J,type:"CNWOFF",filterRadioType:V,filterFromSrno:Z,filterToSrno:ee,filterFromDate:Ue(K),filterToDate:Ue(W)};if(De(ge,[a,"save",JSON.stringify(e),JSON.stringify(Ae)],e=>{let a=JSON.parse(e);z(a),g(""),we([])}),"E"==b){const e={srno:ve,type:"CNWOFF",status:"E",currentDate:Ue(je),pageright:"CURRENCY_WRITE_OFF"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Sr No  :",se)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",A)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Date : ",Oe))),n.a.createElement(Oa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:F,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>it(e,"VTC"),onInputChange:rt,onChange:e=>{R(e);const a=e.id.split("^");P(a[1])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination"),n.a.createElement(s.a.Control,{value:ne,onChange:e=>Ie(e.target.value,re),maxLength:20,placeholder:"Denomination"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:te,onChange:e=>Ie(e.target.value,le),maxLength:fe,placeholder:"Quantity"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,onChange:e=>Me(e.target.value,oe),maxLength:fe,placeholder:"Rate"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-5 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:me,onChange:e=>ue(e.target.value),required:!0},n.a.createElement("option",{value:"FK"},"Fake or Forged"),n.a.createElement("option",{value:"TH"},"Theft"),n.a.createElement("option",{value:"LT"},"Lost in Transit"),n.a.createElement("option",{value:"OC"},"Out of Circulation"),n.a.createElement("option",{value:"MS"},"Multilated / Soiled"))))),n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(null===F||""===ne||""===te||""===ce)e[a++]=d("MSG0006"),e[a++]=null===F?" Currency.":"",e[a++]=""===ne?" Denomination.":"",e[a++]=""===te?" Quantity.":"",e[a++]=""===ce?" Rate.":"",f(ta(e)),v(!0);else{const e=ne*te*ce,a={unique_no:Xe(5),prd_line_no:1*Ee+1,prd_location:w,prd_type:"CNWOFF",prd_isd:G,prd_date:Ue(U),prd_product:"CN",prd_deno:ne,prd_qty:te,prd_rate:ce,prd_amount:e,prd_reason:me,del:"Y"};B(We(J,a));const t={TabType:"Product",ALineNo:Ae.length+1,AType:"A",TLoc:w,TType:"CNWOFF",ISD:G,Deno:ne,Quantity:te,ProductRate:ce,ProductAmount:e,ProductReason:me};"1"===o.edit&&"E"===b&&we(e=>[...e,t]),console.log(J),de(Ee+1),R(null),re(""),le(""),oe(""),ue("FK")}})()},"Add"):null))):null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Reason"))),n.a.createElement("tbody",null,J.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=J.find(a=>a.unique_no===e);if(a){const e={TabType:"Product",ALineNo:Ae.length+1,AType:"D",TLoc:a.prd_location,TType:"CNWOFF",ISD:a.prd_isd,Deno:a.prd_deno,Quantity:a.prd_qty,ProductRate:a.prd_rate,ProductAmount:a.prd_amount,ProductReason:a.prd_reason};"1"===o.edit&&"E"===b&&we(a=>[...a,e])}B(He(J,"unique_no",e)),be(pe+1)})(e.unique_no)},n.a.createElement(pa.a,{icon:ja.o}))," "," ")):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,"FK"===e.prd_reason?"Fake or Forged":"TH"===e.prd_reason?"Theft":"LT"===e.prd_reason?"Lost in Transit":"OC"===e.prd_reason?"Out of Circulation":"Multilated / Soiled"))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement(qa,{logObject:Fe,show:Ge,onHide:()=>Pe(!1)}),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(Ja,{isOpen:h,onYes:e=>ze(),onNo:e=>S(!1)},y),n.a.createElement(Sa,{isOpen:j,onClose:e=>T(!1)},k),n.a.createElement(zt,{logObject:Le,show:Te,onHide:()=>ke(!1)})))};var Cn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)("0"),[k,D]=Object(l.useState)("0"),[L,x]=Object(l.useState)(new Date),[A,I]=Object(l.useState)(new Date),[w,M]=Object(l.useState)(new Date),[F,R]=Object(l.useState)("N"),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(new Date),[V,Q]=Object(l.useState)(null),[U,Y]=Object(l.useState)("0"),[K,H]=Object(l.useState)("0"),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)(null),[ce,oe]=Object(l.useState)(0),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)("0"),[Ee,de]=Object(l.useState)("0"),[pe,be]=Object(l.useState)("D"),[ge,he]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(!1),[Ne,ve]=Object(l.useState)(""),[Ce,je]=Object(l.useState)("INFORMATION"),[Te,ke]=Object(l.useState)(0),[Le,xe]=Object(l.useState)(0),[Ae,we]=Object(l.useState)(0),[Fe,Re]=Object(l.useState)(0),[Ge,Pe]=Object(l.useState)(0),[Je,Be]=Object(l.useState)(""),[qe,ze]=Object(l.useState)(!1),[Ve,Qe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),Ye=new Date,[Ke,Ze]=Object(l.useState)({location:"",trannumber:"",type:""}),[$e,ea]=Object(l.useState)(!1),[la,na]=Object(l.useState)([]),[ra,ca]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ma,ua]=Object(l.useState)(!1);Object(l.useEffect)(()=>{E||(oa().then(e=>{O(e),null!=e&&sa(e)}),De(_,[a,"all","EXPENSE_TRANSFER"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const sa=e=>{O(e);const a=e.id.split("^");v(a[1]),f(a[2]),T(a[6]),D(a[7]),sessionStorage.activeBranch=a[1]},ia=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].td_flag?t+=1*e[a].td_amount:l+=-1*e[a].td_amount;we(t),Re(l);let n=t-l;Pe(n.toFixed(2)),console.log(n),n<0?(console.log("jjjjjj"),be("D"),he(-1*n)):(be("C"),he(n))};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Expense Transfer ",n.a.createElement("span",{style:{color:"white"}},Te)))),"\xa0",""==b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:sa,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===F,onChange:()=>R("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===F,onChange:()=>R("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===F,onChange:()=>R("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Oa.a,null,"N"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:L,minDate:new Date(t),maxDate:new Date(r),onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:G,maxLength:20,onChange:e=>Ie(e.target.value,P),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:J,maxLength:20,onChange:e=>Ie(e.target.value,B),placeholder:"To"})))):"D"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:w,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"N"===F?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=0,a=[],l=Ue(L);y&&L?l>r||l<t?(Oe(!0),ve(d("MSG0010"))):(g("A"),le([]),Q(null),he(""),ae(""),xe(0),je("INFORMATION")):(a[e++]=d("MSG0006"),a[e++]=y?"":" Select location.",a[e++]=L?"":" Date.",ve(ta(a)),Oe(!0))})()},"Add New"):null,"\xa0","S"===F||"D"===F?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=0,t=[];if(!y||"S"===F&&!G||"S"===F&&!J||"D"===F&&!A||"D"===F&&!w)t[e++]=d("MSG0006"),t[e++]=y?"":" Select location.",t[e++]="S"!==F||G?"":" From Srno.",t[e++]="S"!==F||J?"":" To Srno.",t[e++]="D"!==F||A?"":" From Date.",t[e++]="D"!==F||w?"":" To Date.",ve(ta(t)),Oe(!0);else{const e={hdr_location:N,hdr_type:"EI",fromSrno:G,toSrno:J,fromDate:Ue(A),toDate:Ue(w),radioType:F};De("/api/expense_transfer_a.php",[a,"showHeaderEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);S(a)})}})()},"List"):null)),"\xa0",h.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),h.map(e=>n.a.createElement("tbody",null,n.a.createElement("tr",{key:e.hdr_srno},n.a.createElement("td",null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o,m)=>{f(m),ae(o),Be(n),xe(e);const u={srno:e,type:t,date:n,location:l,group:r,ledger:c};De("/api/expense_transfer_a.php",[a,"viewDataList",JSON.stringify(u)],e=>{let a=JSON.parse(e);console.log(a),Q({id:a.p_id,label:a.p_label}),Y(r),H(c),le(a.resarray),ia(a.resarray),g("Q")})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.formatted_date,e.hdr_group,e.hdr_ledger,e.hdr_narration,e.entity_name)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{g("")}},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Je.split("/"),l=(t[2],t[1],t[0],Ue(e)),n=new Date(t),r=new Date(l)-n;console.log(r);const c=Math.ceil(r/864e5);console.log(c);const o={srno:Le,type:"EI",pageright:"EXPENSE_TRANSFER"};De(Se,[a,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);_e==c||"unlock"==t?g("E"):(ze(!0),Qe({trantype:"EI",trannumber:Le,location:N,tranDate:Ue(e)}))})})()},"Edit"),"\xa0"):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ua(!0),void ca({trantype:"CNWOFF",trannumber:Le,trancategory:"T",location:N}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{const e={hdr_location:N,hdr_date:Ue(L),hdr_group:U,hdr_ledger:K,dataList:te,hdr_type:"EI",fromSrno:G,toSrno:J,fromDate:Ue(A),toDate:Ue(w),radioType:F,hdr_narration:ee,srNo:Le,hdr_total:Ge,hdr_location_group:j,hdr_location_ledger:k,viewDate:Je};if(De("/api/expense_transfer_a.php",[a,"saveEntry",JSON.stringify(e),JSON.stringify(la)],e=>{let a=JSON.parse(e);S(a),g(""),na([])}),"E"==b){const e={srno:Le,type:"EI",status:"E",currentDate:Ue(Ye),pageright:"EXPENSE_TRANSFER"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}},"Save"):null,"1"===o.query&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(ea(!0),void Ze({location:N,trannumber:Le,type:"EI"}))},"Fa View")):null)),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Sr No : ",Le)),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Location : ",C)),"\xa0",n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,Ge<0?"Debit Amount":"Credit Amount","  : ",Ge<0?-1*Ge:Ge))),n.a.createElement(et.a,{activeKey:Ce,defaultActiveKey:"INFO",onSelect:e=>(e=>{je(e)})(e)},n.a.createElement(at.a,{eventKey:"INFORMATION",title:"Information"},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:V,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,1),onInputChange:rt,onChange:e=>{Q(e),console.log(e);const a=e.id.split("^");Y(a[1]),H(a[2]),X(a[4]),$(a[3])},isDisabled:"A"!=b&&!0})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Narration"),n.a.createElement(s.a.Control,{value:ee,maxLength:500,as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:e=>ae(e.target.value),disabled:"A"!=b})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{je("DETAIL")}},"Detail"))),"\xa0"),n.a.createElement(at.a,{eventKey:"DETAIL",title:"Detail"},("A"==b||"E"==b)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ne,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Lt,onInputChange:rt,onChange:e=>{re(e);const a=e.id.split("^");oe(a[1]),ue(a[2]),ie(a[6]),de(a[7])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dr/Cr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:pe,onChange:e=>be(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Dr"),n.a.createElement("option",{value:"C"},"Cr")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:ge,maxLength:fe,onChange:e=>Me(e.target.value,he),placeholder:"Amount"})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e=0,a=[];if(ge&&N!=ce){const e={uniquekey:Xe(15),td_location:ce,td_location_name:me,td_flag:pe,td_amount:"C"==pe?-1*ge:ge,td_group:se,td_ledger:Ee,delny:"Y"};le(We(te,e));const a={TabType:"Detail",ALineNo:la.length+1,AType:"A",TLoc:N,TType:"EI",LocationName:me,Flag:pe,Amount:"C"==pe?-1*ge:ge,Group:se,Ledger:Ee};"1"===o.edit&&"E"===b&&na(e=>[...e,a]),ia(te),ke(Te+1),be("D"),he(""),re(null)}else a[e++]=d("MSG0006"),a[e++]=ge?"":" Amount.",a[e++]=N==ce?"You can't select same branch.":"",ve(ta(a)),Oe(!0)}},"Add"))),n.a.createElement(Oa.a,null,"\xa0")),te.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.delete&&"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Location"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"))),n.a.createElement("tbody",null,te.map(e=>n.a.createElement("tr",{key:e.td_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter "},"Q"===b||"N"===e.delny?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l,n)=>{const r=te.find(a=>a.uniquekey===e);if(r){const e={TabType:"Detail",ALineNo:la.length+1,AType:"D",TLoc:r.td_location,TType:"EI",LocationName:r.td_location_name,Flag:r.td_flag,Amount:r.td_amount,Group:r.td_group,Ledger:r.td_ledger};"1"===o.edit&&"E"===b&&na(a=>[...a,e])}le(He(te,"uniquekey",e)),ke(Te-1),console.log(te),ia(te)})(e.uniquekey,e.td_location,e.td_type,e.td_srno,e.td_line_no)},n.a.createElement(pa.a,{icon:ja.o}))," "),"Q"===b?n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t)=>{ea(!0),Ze({location:t,trannumber:e,type:a})})(e.td_srno,e.td_type,e.td_location)},n.a.createElement(pa.a,{icon:ba.f})):null):null,n.a.createElement("td",null,e.td_location_name),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.td_flag&&-1*e.td_amount),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.td_flag&&e.td_amount))))))))))),n.a.createElement(qa,{logObject:ra,show:ma,onHide:()=>ua(!1)}),n.a.createElement(Sa,{isOpen:ye,onClose:e=>Oe(!1)},Ne),n.a.createElement(el,{faViewObject:Ke,show:$e,onHide:()=>ea(!1)}),n.a.createElement(zt,{logObject:Ve,show:qe,onHide:()=>ze(!1)}),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var _n=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(""),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(0),[k,D]=Object(l.useState)(0),[L,x]=Object(l.useState)(new Date),[A,I]=Object(l.useState)(new Date),[w,M]=Object(l.useState)(new Date),[F,R]=Object(l.useState)("N"),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)("INFORMATION"),[V,Q]=Object(l.useState)("D"),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)("0"),[te,le]=Object(l.useState)("0"),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(0),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)("0"),[ge,he]=Object(l.useState)("0"),[Se,ye]=Object(l.useState)(0),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)("0"),[_e,je]=Object(l.useState)("0"),[Te,ke]=Object(l.useState)(""),[Le,xe]=Object(l.useState)([]),[Ae,we]=Object(l.useState)(0),[Fe,Re]=Object(l.useState)(!1),[Ge,Je]=Object(l.useState)(""),[Be,qe]=Object(l.useState)(0),[ze,Ve]=Object(l.useState)(0),[Qe,Ye]=Object(l.useState)(0),[Ke,Ze]=Object(l.useState)(0),[$e,ea]=Object(l.useState)({location:"",trannumber:"",type:""}),[la,na]=Object(l.useState)(!1);var ra=0,ca=[];Object(l.useEffect)(()=>{E||(oa().then(e=>{O(e),null!=e&&ma(e)}),De(_,[a,"all","FUND_TRANSFER"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const ma=e=>{O(e);const a=e.id.split("^");console.log(a,"location"),v(a[1]),f(a[2]),""===a[6]?T(0):T(a[6]),""===a[7]?D(0):D(a[7]),sessionStorage.activeBranch=a[1]},ua=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].td_flag?t+=1*e[a].td_amount:l+=-1*e[a].td_amount;Ve(t),Ye(l);let n=t-l;Ze(n.toFixed(2)),console.log(n),n<0?(console.log("jjjjjj"),ye(-1*n)):ye(n)};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Fund Transfer ",n.a.createElement("span",{style:{color:"white"}},Ae)))),"\xa0",""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:ma,isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===F,onChange:()=>R("N"),type:"radio",label:"New"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===F,onChange:()=>R("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===F,onChange:()=>R("D"),type:"radio",label:"Date"})))))),n.a.createElement(Oa.a,null,"N"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:L,minDate:new Date(t),maxDate:new Date(r),onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:G,maxLength:20,onChange:e=>Ie(e.target.value,P),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:J,maxLength:20,onChange:e=>Ie(e.target.value,B),placeholder:"To"})))):"D"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(Gt.a,{className:"form-control",selected:w,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"N"===F?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(L);y&&L?e>r||e<t?(Re(!0),Je(d("MSG0010"))):(g("A"),xe([]),$(null),ye(""),qe(0),z("INFORMATION"),H("")):(ca[ra++]=d("MSG0006"),ca[ra++]=y?"":" Please select location.",ca[ra++]=L?"":" Please select date.",Je(ta(ca)),Re(!0))})()},"Add New"):null,"\xa0","S"===F||"D"===F?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!y||"S"==F&&!G||"S"==F&&!J||"D"==F&&!A||"D"==F&&!w)ca[ra++]=d("MSG0006"),ca[ra++]=y?"":" Please select location.",ca[ra++]="S"!=F||G?"":" Please enter from srno.",ca[ra++]="S"!=F||J?"":" Please enter to srno.",ca[ra++]="D"!=F||A?"":" Please select from date.",ca[ra++]="D"!=F||w?"":" Please select to date.",Je(ta(ca)),Re(!0);else{const e={hdr_location:N,hdr_type:"FI",fromSrno:G,toSrno:J,fromDate:Ue(A),toDate:Ue(w),radioType:F};De("/api/fund_transfer_a.php",[a,"showHeaderEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);S(a)})}})()},"List"):null)),"\xa0",h.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),h.map(e=>n.a.createElement("tbody",null,n.a.createElement("tr",{key:e.hdr_srno},n.a.createElement("td",null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o,m,u,s,i)=>{f(m),H(o),Q(u),qe(e),Ce(s),je(i),z("INFORMATION");const E={srno:e,type:t,date:n,location:l,group:r,ledger:c};De("/api/fund_transfer_a.php",[a,"viewDataList",JSON.stringify(E)],e=>{let a=JSON.parse(e);console.log(a),$({id:a.p_id,label:a.p_label}),ae(r),le(c),xe(a.resarray),ua(a.resarray),g("Q"),ye("")})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.formatted_date,e.hdr_group,e.hdr_ledger,e.hdr_ref_no,e.entity_name,e.hdr_in_out,e.branchGroup,e.branchLedger)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{g("")}},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void g("E")},"Edit"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(Z){const e={hdr_location:N,hdr_date:Ue(L),hdr_group:ee,hdr_ledger:te,hdr_type:"FI",srNo:Be,hdr_ref_no:K,dataList:Le,fromSrno:G,toSrno:J,fromDate:Ue(A),toDate:Ue(w),radioType:F,hdr_total:Ke,hdr_location_group:j,hdr_location_ledger:k,hdr_in_out:"D"==V?"O":"I"};De("/api/fund_transfer_a.php",[a,"saveEntry",JSON.stringify(e)],e=>{console.log(e);let a=JSON.parse(e);S(a),g("")})}else ca[ra++]=d("MSG0006"),ca[ra++]=Z?"":" Please select account.",Je(ta(ca)),Re(!0)}},"Save"):null,"1"===o.query&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(na(!0),void ea({location:N,trannumber:Be,type:"FI"}))},"Fa View")):null)),"\xa0",n.a.createElement(et.a,{activeKey:q,defaultActiveKey:"INFO",onSelect:e=>(e=>{z(e)})(e)},n.a.createElement(at.a,{eventKey:"INFORMATION",title:"Information"},n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:V,onChange:e=>Q(e.target.value),required:!0,disabled:"A"!=b&&!0},n.a.createElement("option",{value:"D"},"Out"),n.a.createElement("option",{value:"C"},"In")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,1),onInputChange:rt,onChange:e=>{$(e),console.log(e);const a=e.id.split("^");ae(a[1]),le(a[2]),re(a[4]),oe(a[3])},isDisabled:"A"!=b&&!0})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No."),n.a.createElement(s.a.Control,{value:K,maxLength:fe,onChange:e=>Pe(e.target.value,H),placeholder:"Reference No.",disabled:"A"!=b&&!0})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{z("DETAIL")}},"Detail"))),"\xa0"),n.a.createElement(at.a,{eventKey:"DETAIL",title:"Detail"},("A"==b||"E"==b)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Lt,onInputChange:rt,onChange:e=>{ue(e);const a=e.id.split("^");console.log(a,"branch"),ie(a[1]),de(a[2]),""===a[6]?be(0):be(a[6]),""===a[7]?he(0):he(a[7])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Nt(e,1),onInputChange:rt,onChange:e=>{Ne(e),console.log(e);const a=e.id.split("^");console.log(a),Ce(a[1]),je(a[2]),ke(a[3])}})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No."),n.a.createElement(s.a.Control,{value:W,maxLength:fe,onChange:e=>Pe(e.target.value,X),placeholder:"Reference No."}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Se,maxLength:fe,onChange:e=>Me(e.target.value,ye),placeholder:"Amount"})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(me&&Se&&Oe&&N!=se){const e={uniquekey:Xe(15),td_location:se,td_amount:Se,td_ref_no:W,td_group:ve,td_ledger:_e,td_date:Ue(L),td_type:"FI",td_location_name:Ee,td_flag:V,delny:"Y",branchgroup:pe,branchledger:ge};xe(We(Le,e)),ua(Le),we(Ae+1),ye(""),ue(null),Ne(null),X("")}else ca[ra++]=d("MSG0006"),ca[ra++]=me?"":" Please select  branch.",ca[ra++]=Oe?"":" Please select  bank.",ca[ra++]=Se?"":" Please enter amount.",ca[ra++]=N==se?"You can't select same branch.":"",Je(ta(ca)),Re(!0)}},"Add"))),n.a.createElement(Oa.a,null,"\xa0")),Le.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.delete&&"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Bank Group"),n.a.createElement("th",null,"Bank Ledger"),n.a.createElement("th",null,"Reference"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Le.map(e=>n.a.createElement("tr",{key:e.td_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter "},"Q"===b||"N"===e.delny?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l,n)=>{console.log(e),xe(He(Le,"uniquekey",e)),we(Ae-1),console.log(Le),ua(Le)})(e.uniquekey,e.td_location,e.td_type,e.td_srno,e.td_line_no)},n.a.createElement(pa.a,{icon:ja.o}))," "),"Q"===b?n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t)=>{na(!0),ea({location:t,trannumber:e,type:a})})(e.td_srno,e.td_type,e.td_location)},n.a.createElement(pa.a,{icon:ba.f})):null):null,n.a.createElement("td",null,e.td_line_no),n.a.createElement("td",null,e.td_location_name),n.a.createElement("td",null,e.td_group),n.a.createElement("td",null,e.td_ledger),n.a.createElement("td",null,e.td_ref_no),n.a.createElement("td",{style:{textAlign:"right"}},e.td_amount))))))))))),n.a.createElement(Sa,{isOpen:Fe,onClose:e=>Re(!1)},Ge),n.a.createElement(el,{faViewObject:$e,show:la,onHide:()=>na(!1)}),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};var fn=()=>{var e,a,t,r,c,o,u,E,d,p,b,g,h,S,y,O,N,v,C,f,j;const T=Object(m.n)(),k=sessionStorage.getItem("sessionId"),[D,L]=Object(l.useState)(!1),[x,A]=Object(l.useState)([]),[I,w]=Object(l.useState)(!1),[M,F]=Object(l.useState)(""),[R,G]=Object(l.useState)(""),[P,J]=Object(l.useState)([]),[B,q]=Object(l.useState)([]),[z,V]=Object(l.useState)([]),[Q,Y]=Object(l.useState)("L"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)("A"),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)("A"),[me,ue]=Object(l.useState)(!1),[se,ie]=Object(l.useState)(""),[Ee,de]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[ge,he]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(!1);Object(l.useEffect)(()=>{D||(De(_,[k,"all","TRAN_CONVEYANCE"],function(e){let a=JSON.parse(e);"1"===a.query?A(a):T("/")}),L(!0))},[D,k,T]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Conveyance Entry"))),n.a.createElement(Oa.a,null,"\xa0"),""===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Q,onChange:e=>Y(e.target.value),required:!0},n.a.createElement("option",{value:"L"},"Location"),n.a.createElement("option",{value:"U"},"User Name"),n.a.createElement("option",{value:"D"},"Date"),n.a.createElement("option",{value:"S"},"Status")))),"L"==Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Ut,{onDataFromChild:(e,a,t)=>{le(e),re(a),oe(t)}}))):"U"==Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"User Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"User Name",value:K,onChange:e=>H(e.target.value),autoComplete:"off"})))):"D"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:W,onChange:e=>X(e),maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:Z,onChange:e=>$(e),maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ee,onChange:e=>ae(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"A"},"Approved"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"R"},"Rejected"),n.a.createElement("option",{value:"P"},"Paid")))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={conveyanceFilter:Q,radioType:ce,location:te,multipleLocation:ne.join(),user:K,fromDate:Ue(W),toDate:Ue(Z),conveyanceStatus:ee,approval3:1};De("/api/tran_conveyance_a.php",[k,"coveyanceList",JSON.stringify(e)],e=>{J(JSON.parse(e))})})()},"List")," \xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void console.log("Send for Transfer Data.")},"Send for Transfer"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"conveyanceCheck"},n.a.createElement("span",{className:"d-inline-flex"},n.a.createElement(s.a.Check,{type:"checkbox",label:"",checked:me,onChange:e=>(e=>{ue(e),e?P.map(e=>({...e,selected:"1"==e.tce_approval_3?"0":"1"})):P.map(e=>({...e,selected:"0"}))})(e.target.checked)}),"\xa0 Select All")),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Mode"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"From Date"),n.a.createElement("th",null,"To Date"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"User Name"))),n.a.createElement("tbody",null,P.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("div",{style:{display:"1"==e.tce_approval_3?"none":"block"}},n.a.createElement("span",{style:{display:"inline-block"}},n.a.createElement(s.a.Check,{type:"checkbox",checked:me||"1"===e.ischecked&&"checked",name:"ischecked",onChange:e=>((e,a,t)=>{let l=P.map((l,n)=>e!==n?l:"ischecked"===t?(ue(!1),a.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}):void 0);J(l)})(a,e,"ischecked")})),"\xa0",n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t)=>{G("E");const l={srno:e,status:a,randomNumber:t};De("/api/tran_conveyance_a.php",[k,"edit",JSON.stringify(l)],e=>{let a=JSON.parse(e);q(a.convArray),V(a.docArray)})})(e.tce_srno,e.tce_status,e.tce_random_number)},n.a.createElement(pa.a,{icon:ba.f})),"\xa0")),n.a.createElement("td",null,e.tce_srno),n.a.createElement("td",null,"BV"===e.tce_type?"Branch Visit":"D"===e.tce_type?"Delivery":"LG"===e.tce_type?"Lead Generation":null),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,"H"===e.tce_mode?"Hotel":"F"===e.tce_mode?"Food":"B"===e.tce_mode?"Bike":"C"===e.tce_mode?"Car":"S"===e.tce_mode?"Bus":"M"===e.tce_mode?"Metro":"A"===e.tce_mode?"Auto":"Taxi"),n.a.createElement("td",null,e.tce_amount),n.a.createElement("td",null,e.tce_from_date),n.a.createElement("td",null,e.tce_to_date),n.a.createElement("td",null,"P"===e.tce_status?"Pending":"A"===e.tce_status?"Approved":"R"===e.tce_status?"Rejected":"Paid"),n.a.createElement("td",null,e.um_user_name)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Srno: ",n.a.createElement("b",null,null===(e=B[0])||void 0===e?void 0:e.tce_srno)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type: ",n.a.createElement("b",null,"BV"===(null===(a=B[0])||void 0===a?void 0:a.tce_type)?"Branch Visit":"D"===(null===(t=B[0])||void 0===t?void 0:t.tce_type)?"Manual No / Invoice No.":"Lead Generation")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch: ",n.a.createElement("b",null,null===(r=B[0])||void 0===r?void 0:r.entity_name)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode: ",n.a.createElement("b",null,"F"===(null===(c=B[0])||void 0===c?void 0:c.tce_mode)?"Food":"H"===(null===(o=B[0])||void 0===o?void 0:o.tce_mode)?"Hotel":"B"===(null===(u=B[0])||void 0===u?void 0:u.tce_mode)?"Bike":"C"===(null===(E=B[0])||void 0===E?void 0:E.tce_mode)?"Car":"BS"===(null===(d=B[0])||void 0===d?void 0:d.tce_mode)?"Bus":"M"===(null===(p=B[0])||void 0===p?void 0:p.tce_mode)?"Metro":"A"===(null===(b=B[0])||void 0===b?void 0:b.tce_mode)?"Auto":"Taxi"))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Place: ",n.a.createElement("b",null,null===(g=B[0])||void 0===g?void 0:g.tce_from)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Place: ",n.a.createElement("b",null,null===(h=B[0])||void 0===h?void 0:h.tce_to)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Distance: ",n.a.createElement("b",null,null===(S=B[0])||void 0===S?void 0:S.tce_distance)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount: ",n.a.createElement("b",null,null===(y=B[0])||void 0===y?void 0:y.tce_amount))))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark: ",n.a.createElement("b",null,null===(O=B[0])||void 0===O?void 0:O.tce_remark)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date: ",n.a.createElement("b",null,null===(N=B[0])||void 0===N?void 0:N.tce_from_date)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date: ",n.a.createElement("b",null,null===(v=B[0])||void 0===v?void 0:v.tce_to_date)))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status: ",n.a.createElement("b",null,"P"===(null===(C=B[0])||void 0===C?void 0:C.tce_status)?"Pending":"R"===(null===(f=B[0])||void 0===f?void 0:f.tce_status)?"Rejected":"A"===(null===(j=B[0])||void 0===j?void 0:j.tce_status)?"Approved":"Paid"))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement("h5",{style:{paddingTop:"11px"}},"Uploaded Documents")),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Ext"),n.a.createElement("th",null,"Document Name"),n.a.createElement("th",null,"Document Description"))),n.a.createElement("tbody",null,z.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"textCenter"},"jpg"===e.tmd_doc_ext||"jpeg"===e.tmd_doc_ext||"png"===e.tmd_doc_ext||"pdf"===e.tmd_doc_ext||"bmp"===e.tmd_doc_ext||"gif"===e.tmd_doc_ext?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t,l)=>{const n={srno:e,lineNo:a,randomNumber:t,docExt:l,name:"conveyanceDoc",pageright:"TRAN_CONVEYANCE"};ea(U,[k,"docView",JSON.stringify(n)],e=>{let a=JSON.parse(e);ie(a.bs64),de(a.typ),be(a.desc),he(a.fname),ye(!0)})})(e.tmd_srno,e.tmd_line_no,e.tmd_random_number,e.tmd_doc_ext)},n.a.createElement(pa.a,{icon:ba.f})),"\xa0"):null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t)=>{const l={srno:e,lineNo:a,randomNumber:t,name:"conveyanceDoc",pageright:"TRAN_CONVEYANCE"};$e(U,"post",[k,"docdownload",JSON.stringify(l)])})(e.tmd_srno,e.tmd_line_no,e.tmd_random_number)},n.a.createElement(pa.a,{icon:ja.j}))),n.a.createElement("td",null,e.tmd_doc_ext),n.a.createElement("td",null,e.tmd_doc_name),n.a.createElement("td",null,e.tmd_doc_desc))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void G("")},"Back")))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(Ba.a,{show:Se,onHide:()=>ye(!1),size:"xl",centered:!0},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,{id:"example-custom-modal-styling-title"},pe+" : "+ge)),n.a.createElement(Ba.a.Body,null,n.a.createElement("embed",{src:se,type:Ee,style:{minHeight:"100vh",minWidth:"100%"}}))),n.a.createElement(Sa,{isOpen:I,onClose:e=>w(!1)},M))};var jn=()=>{const[e,a]=Object(l.useState)(""),[t,r]=Object(l.useState)("N"),c=Object(m.n)(),o=sessionStorage.getItem("sessionId"),u=sessionStorage.getItem("startDate"),E=sessionStorage.getItem("endDate"),b=sessionStorage.getItem("branchDisable"),[g,h]=Object(l.useState)([]),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)([]),[T,k]=Object(l.useState)([]),[L,x]=Object(l.useState)([]),[A,I]=Object(l.useState)([]),[w,M]=Object(l.useState)([]),[F,R]=Object(l.useState)([]),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)([]),[q,z]=Object(l.useState)([]),[V,Q]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,Ee]=Object(l.useState)(""),[de,pe]=Object(l.useState)(""),[be,ge]=Object(l.useState)(new Date),[he,Se]=Object(l.useState)(new Date),[ye,Oe]=Object(l.useState)("N"),[ve,Ce]=Object(l.useState)(""),[_e,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)("E"),[Ae,we]=Object(l.useState)("PP"),[Me,Fe]=Object(l.useState)(""),[Re,Ge]=Object(l.useState)(""),[Je,qe]=Object(l.useState)(""),[ze,Ve]=Object(l.useState)(""),[Qe,Ke]=Object(l.useState)(""),[He,la]=Object(l.useState)(""),[na,ra]=Object(l.useState)(""),[ca,ma]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(null),[ia,Ea]=Object(l.useState)(""),[da,ga]=Object(l.useState)(""),[ha,va]=Object(l.useState)(null),[Ca,_a]=Object(l.useState)(""),[Ta,Da]=Object(l.useState)(""),[xa,Aa]=Object(l.useState)([]);let Ia=[],wa=0;const[Ma,Fa]=Object(l.useState)(""),[Ga,Pa]=Object(l.useState)(""),[Ja,za]=Object(l.useState)(""),[Va,Qa]=Object(l.useState)(""),[Ua,Ya]=Object(l.useState)(!1),[Ka,Ha]=Object(l.useState)([]),[Wa,Xa]=Object(l.useState)([]),[Za,$a]=Object(l.useState)("0"),[et,at]=Object(l.useState)(""),[lt,mt]=Object(l.useState)(!1),[ut,st]=Object(l.useState)(""),[it,Et]=Object(l.useState)(0),[dt,pt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[bt,gt]=Object(l.useState)(!1),[ht,St]=Object(l.useState)(""),[yt,Ot]=Object(l.useState)([]),[Nt,vt]=Object(l.useState)(0),[Ct,_t]=Object(l.useState)(0),[ft,jt]=Object(l.useState)(0),[Tt,kt]=Object(l.useState)(""),[Dt,Lt]=Object(l.useState)(""),[xt,It]=Object(l.useState)(""),[wt,Mt]=Object(l.useState)([]),[Ft,Rt]=Object(l.useState)(!1),[Pt,Jt]=Object(l.useState)(0),[Bt,qt]=Object(l.useState)(0),[zt,Vt]=Object(l.useState)(0),[Qt,Ut]=Object(l.useState)(0),[Yt,Kt]=Object(l.useState)("C"),[Ht,Wt]=Object(l.useState)(null),[Xt,Zt]=Object(l.useState)(""),[$t,el]=Object(l.useState)(""),[al,tl]=Object(l.useState)(""),[ll,nl]=Object(l.useState)([]),[rl,cl]=Object(l.useState)(0),[ol,ml]=Object(l.useState)(0),[ul,sl]=Object(l.useState)(null),[il,El]=Object(l.useState)(0),[dl,pl]=Object(l.useState)(0),[bl,gl]=Object(l.useState)(0),[hl,Sl]=Object(l.useState)(0),[yl,Ol]=Object(l.useState)(""),[Nl,vl]=Object(l.useState)(""),[Cl,_l]=Object(l.useState)(!1),[fl,jl]=Object(l.useState)("N"),[Tl,kl]=Object(l.useState)(new Date),[Dl,Ll]=Object(l.useState)(new Date),[xl,Al]=Object(l.useState)(),[Il,wl]=Object(l.useState)(!0),[Ml,Fl]=Object(l.useState)(""),[Rl,Gl]=Object(l.useState)(""),[Pl,Jl]=Object(l.useState)(""),[Bl,ql]=Object(l.useState)(""),[zl,Vl]=Object(l.useState)(null),[Ql,Ul]=Object(l.useState)("A"),[Yl,Kl]=Object(l.useState)("PM"),[Hl,Wl]=Object(l.useState)("CM"),[Xl,Zl]=Object(l.useState)(""),[$l,en]=Object(l.useState)("O"),[an,tn]=Object(l.useState)(new Date),[ln,nn]=Object(l.useState)(new Date);Object(l.useEffect)(()=>{oa().then(e=>{ee(e),null!=e&&rn(e)}),De(_,[o,"all","TRAN_MODULE_PAYMENT"],function(e){let a=JSON.parse(e);"1"===a.query?(h(a),"1"===a.add&&"N"==t||r("S")):c("/")}),De(_,[o,"all","TRAN_PAYMENT_APPROVE_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&y(a)}),De(_,[o,"all","TRAN_PAYMENT_APPROVE_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&N(a)}),De(_,[o,"all","TRAN_PAYMENT_BANK_FILE_DOWNLOAD"],function(e){let a=JSON.parse(e);"1"===a.query&&C(a)}),De(_,[o,"all","TRAN_PAYMENT_FA_DOWNLOAD"],function(e){let a=JSON.parse(e);"1"===a.query&&j(a)}),De(_,[o,"all","TRAN_PAYMENT_ENCASHMENT_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&k(a)}),De(_,[o,"all","TRAN_PAYMENT_ENCASHMENT_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&x(a)}),De(_,[o,"all","TRAN_PAYMENT_THIRD_PARTY_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&I(a)}),De(_,[o,"all","TRAN_PAYMENT_THIRD_PARTY_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&M(a)}),De(_,[o,"all","TRAN_PAYMENT_FUND_TRANSFER_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&R(a)}),De(_,[o,"all","TRAN_PAYMENT_FUND_TRANSFER_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&P(a)}),De(_,[o,"all","TRAN_PAYMENT_EXPENSE_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&B(a)}),De(_,[o,"all","TRAN_PAYMENT_EXPENSE_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&z(a)});const e={group:4505,srno:1005,account_num:12345,location:ae};De(D,[o,"activebank",JSON.stringify(e)],function(e){const a=JSON.parse(e);console.log(a),Al(a)}),De(Ne,[o,"getCategory"],e=>{let a=JSON.parse(e);console.log(a),Xa(a)})},[]);const rn=e=>{Ha([]),ee(e);const a=e.id.split("^");te(a[1]),ne(a[2]),sessionStorage.activeBranch=a[1]},cn=()=>{const e={remark:ut,activitytype:1==it?"MODIFY":"CREATE",subtranno:it,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,srno:Za,uniquekey:Nt,tmp_location:ae,tmp_to_location:oe,tmp_request_date:Ue(X),tmp_type:"PM",tmp_remark:_e,tmpUploadDoc:ve,tmp_paycategory:ke,tmp_encashment_number:Me||"0",tmp_encashment_type:Ae,tmp_tpdepositor_name:Re,tmp_tptransaction_desc:Je,tmp_tprelationship_manager:ze,tmp_document_collected:Qe,tmp_from_bank:ua,tmp_from_ftbank_group:ia||"0",tmp_from_ftbank_account:da||"0",tmp_to_bank:ua,tmp_to_ftbank_group:Ca||"0",tmp_to_ftbank_account:Ta||"0",tmp_refCode:Bl,tmp_amount:je,tmp_account_name:He.toUpperCase(),tmp_account_number:na.toUpperCase(),tmp_ifsc:ca.toUpperCase(),uploadedDoc:xa,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:be,tpToDate:he,tpCommentData:yt,tpStatus:ye,resStatus:Dt,tp_user:sessionStorage.getItem("userSrno"),tmp_bk_number:Xl};De(Ne,[o,"saveEntry",JSON.stringify(e)],function(e){let t=JSON.parse(e);Ha(t),La()(".loader").hide(),$a("0"),Aa([]),a(""),_t(0),Ot([]),mt(!1),st("")})},on=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].tmpfa_credit_debit?t+=1*e[a].tmpfa_amount:l+=1*e[a].tmpfa_amount;gl(l),Sl(t);let n=t-l;ml(n),console.log(n)};function mn(e){const a=e.getDate().toString().padStart(2,"0"),t=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear(),n=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0"),c=e.getSeconds().toString().padStart(2,"0");return"".concat(a,"-").concat(t,"-").concat(l," ").concat(n,":").concat(r,":").concat(c)}return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Payment Module  ",n.a.createElement("span",{style:{color:"white"}},ft)))),n.a.createElement(Oa.a,null,"\xa0"),""===e?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},"1"===g.add?n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===t,onChange:()=>r("N"),type:"radio",label:"New"})):null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===t,onChange:()=>r("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===t,onChange:()=>r("D"),type:"radio",label:"Date"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"St"===t,onChange:()=>r("St"),type:"radio",label:"Status"})),"1"===f.query&&n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"Fa"===t,onChange:()=>r("Fa"),type:"radio",label:"FA Download"})))))),n.a.createElement(Oa.a,null,"St"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ye,onChange:e=>(e=>{Oe(e.target.value),Ha([])})(e),required:!0},n.a.createElement("option",{value:"N"},"New"),n.a.createElement("option",{value:"PA1"},"Pending Approval 1"),n.a.createElement("option",{value:"PA2"},"Pending Approval 2"),n.a.createElement("option",{value:"PT"},"Pending Transfer"),n.a.createElement("option",{value:"D"},"Done")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Ql,onChange:e=>Ul(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"D"===ye&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:an,onChange:e=>tn(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:ln,onChange:e=>nn(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),"O"===Ql&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Yl,onChange:e=>Kl(e.target.value),required:!0},n.a.createElement("option",{value:"PM"},"Payment"),n.a.createElement("option",{value:"CM"},"Commission"))))):null,"N"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:X,minDate:new Date(u),maxDate:new Date(E),onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"S"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ie,maxLength:20,onChange:e=>Ie(e.target.value,Ee),placeholder:"From"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:de,maxLength:20,onChange:e=>Ie(e.target.value,pe),placeholder:"To"})))):"D"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:be,onChange:e=>ge(e),dateFormat:"dd/MM/yyyy",placeholderText:"From Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:he,onChange:e=>Se(e),dateFormat:"dd/MM/yyyy",placeholderText:"To Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"Fa"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Download",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:fl,onChange:e=>(e=>{jl(e.target.value),Ha([])})(e),required:!0},n.a.createElement("option",{value:"N"},"New"),n.a.createElement("option",{value:"P"},"Period")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Hl,onChange:e=>Wl(e.target.value),required:!0},n.a.createElement("option",{value:"CM"},"CM"),n.a.createElement("option",{value:"PM"},"PM")))),"1"===f.query&&"P"===fl&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:Tl,onChange:e=>kl(e),dateFormat:"dd/MM/yyyy",placeholderText:"From Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:Dl,onChange:e=>Ll(e),dateFormat:"dd/MM/yyyy",placeholderText:"To Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))))):null,""!==t&&n.a.createElement(Oa.a,null,"St"===t&&"PT"===ye?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location One/All",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:$l,onChange:e=>(e=>{en(e),Ha([])})(e.target.value)},n.a.createElement("option",{value:"O"},"One"),n.a.createElement("option",{value:"A"},"All")))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6",style:{display:"A"===$l&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:$,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:rn,isDisabled:"true"===b}))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"1"===g.add&&"N"===t?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ue(X);$&&X?e>E||e<u?(K(!0),W(d("MSG0010"))):(vt(Xe(20)),$a(0),a("A"),fe(""),Te(""),Ce(""),Le("E"),we("PP"),Fe(""),Ge(""),qe(""),Ve(""),Ke(""),la(""),ra(""),ma(""),sa(null),va(null),Ea(""),ga(""),Aa([]),Et(0),_t(0),St(""),Ot([]),Lt("N"),It(Ye(X)),ql(""),ce(null),Gl(""),Jl(""),Fl(""),Zl("")):(Ia[wa++]=d("MSG0006"),Ia[wa++]=$?"":"Location.",Ia[wa++]=X?"":"Date.",W(ta(Ia)),K(!0))})()},"Add New"):null,"\xa0","1"!==g.query||"S"!==t&&"D"!==t&&"St"!==t?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{La()(".loader").show();var e=Ue(be),a=Ue(he);if(!$||"S"===t&&!ie||"S"===t&&!de||"D"===t&&!be||"D"===t&&!he)Ia[wa++]=d("MSG0006"),Ia[wa++]=$?"":"Location.",Ia[wa++]="S"!==t||ie?"":"From Srno.",Ia[wa++]="S"!==t||de?"":"To Srno.",Ia[wa++]="D"!==t||be?"":"From Date.",Ia[wa++]="D"!==t||he?"":"To Date.",La()(".loader").hide(),W(ta(Ia)),K(!0);else if("D"===t&&(a>E||e<u))La()(".loader").hide(),K(!0),W(d("MSG0010"));else{const e={tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:Ue(be),tpToDate:Ue(he),tpStatus:ye,tmp_type:"PM",paymentOption:Ql,paymentPayType:Yl,locationOneAll:$l,frmdate:Ue(an),todate:Ue(a)};De(Ne,[o,"listEntry",JSON.stringify(e)],function(e){let a=JSON.parse(e);La()(".loader").hide(),Ha(a),Mt([]),wl(!0)})}})()},"List"),"1"===v.query&&"St"===t&&"PT"===ye&&Ka.length>0&&!0===Il?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>_l(!0)},"Download Bank File")):null,"1"===f.query&&"Fa"===t?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={remark:"Payment Transfer",activitytype:"MODIFY",subtranno:1,trantype:"PM",trancategory:"T",branch:ae,tpFaDownloadOption:fl,tpFromFaDownload:Tl,tpToFaDownload:Dl,tpModuleData:Ka,tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:Ue(be),tpToDate:Ue(he),tpStatus:ye,tmp_type:"PM",fadownloadtype:Hl};$e(Ne,"post",[o,"faDownload",JSON.stringify(e)])})()},"Download FA")):null)),"\xa0",Ka.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"1"===v.query&&"St"===t&&"PT"===ye&&n.a.createElement(s.a.Check,{type:"checkbox",label:"",checked:Ft,onChange:e=>{const a=e.target.checked;Rt(a);const t=Ka.map(e=>({...e,ischecked:a?"1":"0"}));Ha(t),Mt(a?t:[])}})),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Ref No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Payment Date"),n.a.createElement("th",null,"Net Payable"),n.a.createElement("th",null,"Remark"))),n.a.createElement("tbody",null,Ka.map((e,l)=>n.a.createElement("tr",{key:l},n.a.createElement("td",null,"1"===v.query&&"St"===t&&"PT"===ye?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{style:{display:"inline-block"}},n.a.createElement(s.a.Check,{type:"checkbox",label:"",checked:"1"===e.ischecked,name:"ischecked",onChange:e=>((e,a,t)=>{const l=a.target.checked,n=Ka.map((a,n)=>e===n?{...a,[t]:l?"1":"0"}:a);Ha(n);const r=n.filter(e=>"1"===e.ischecked);Mt(r)})(l,e,"ischecked")})),"\xa0"):null,n.a.createElement("span",{className:"pointer colorThemeBlue",style:{display:"inline-block"},onClick:()=>((e,t,l,n)=>{La()(".loader").show(),$a(e),at(l);const r={srno:e,location:t,type:l,date:n};De(Ne,[o,"viewModulePymentData",JSON.stringify(r)],e=>{let t=JSON.parse(e),l=t.modulePaymentData[0];Aa(t.docData),_t(t.commentMaxLine),Ot(t.commentData),cl(t.maxFaEntryLine),nl(t.faEntryData),on(t.faEntryData),Et(1),"CM"===l.tmp_type?Le("CM"):(console.log(l.tmp_paycategory),Le(l.tmp_paycategory)),Ol(l.tmp_approval_level1),vl(l.tmp_approval_level2),Lt(l.tmp_status),It(l.formatted_date),Oe(l.tmp_status),fe(l.tmp_remark),Fl(l.maker_name),Gl(l.checker1_name),Jl(l.checker2_name),Te(l.tmp_amount),Jt(l.tmp_gst),qt(l.tmp_tds),Ut(l.tmp_netpayable),Vt(l.tmp_othcharges),la(l.tmp_account_name),ra(l.tmp_account_number),ma(l.tmp_ifsc),we(l.tmp_encashment_type),Fe(l.tmp_encashment_number),Ge(l.tmp_tpdepositor_name),Ke(l.tmp_document_collected),Ve(l.tmp_tprelationship_manager),qe(l.tmp_tptransaction_desc),sa({id:NaN+l.tmp_from_ftbank_group+"^"+l.tmp_from_ftbank_account+"^"+l.frombankname+"^"+l.frombanktype,label:l.tmp_from_ftbank_group+" "+l.tmp_from_ftbank_account+" "+l.frombankname}),va({id:NaN+l.tmp_to_ftbank_group+"^"+l.tmp_to_ftbank_account+"^"+l.tobankname+"^"+l.tobanktype,label:l.tmp_to_ftbank_group+" "+l.tmp_to_ftbank_account+" "+l.tobankname}),Zl(l.tmp_bk_number),"0"!==l.tmp_party_group&&"0"!==l.tmp_party_account&&sl({id:NaN+l.tmp_party_group+"^"+l.tmp_party_account+"^"+l.partybankname+"^"+l.partybanktype,label:l.tmp_party_group+" "+l.tmp_party_account+" "+l.partybankname}),"F"===l.tmp_paycategory&&(sl({id:NaN+l.tmp_to_ftbank_group+"^"+l.tmp_to_ftbank_account+"^"+l.tobankname+"^"+l.tobanktype,label:l.tmp_to_ftbank_group+" "+l.tmp_to_ftbank_account+" "+l.tobankname}),El(l.tmp_to_ftbank_group),pl(l.tmp_to_ftbank_account),ql(l.tmp_ref_no),ce({label:l.tmp_to_location+" "+l.to_location_name})),La()(".loader").hide(),a("Q")})})(e.tmp_srno,e.tmp_location,e.tmp_type,e.tmp_request_date)},n.a.createElement(pa.a,{icon:ba.f}))),n.a.createElement("td",null,e.tmp_srno),n.a.createElement("td",null,e.tmp_ref_no),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tmp_type),n.a.createElement("td",null," ","PA1"===e.tmp_status?"Pending Approval 1":"PA2"===e.tmp_status?"Pending Approval 2":"PT"===e.tmp_status?"Pending Transfer":"D"===e.tmp_status?"Done":"New"),n.a.createElement("td",null,e.tmp_value_date),n.a.createElement("td",null,e.tmp_netpayable),n.a.createElement("td",null,e.tmp_remark)))))))):""!=e?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>a("")},"Back")," ","1"===g.query&&"Q"===e?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(gt(!0),void pt({trantype:"PM",trannumber:Za,trancategory:"T"}))},"Activity Log"),"\xa0"):null,"1"===g.add&&"N"===Dt&&""!==e?n.a.createElement(n.a.Fragment,null,"   ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(La()(".loader").show(),void(!_e&&"F"!==ke||xa.length<1&&"F"!==ke||"E"===ke&&!Me||"T"===ke&&!Re||"T"===ke&&!Je||"T"===ke&&!ze||"T"===ke&&!Qe||"F"===ke&&!ua||"F"===ke&&!ha||"F"===ke&&!Bl||!je||!He&&"F"!==ke||!na&&"F"!==ke||!ca&&"F"!==ke?(Ia[wa++]=d("MSG0006"),Ia[wa++]="E"!==ke||Me?"":"Encashment Number.",Ia[wa++]="T"!==ke||Re?"":"Depositor Name.",Ia[wa++]="T"!==ke||Je?"":"Transaction Description.",Ia[wa++]="T"!==ke||ze?"":"Relationship Manager.",Ia[wa++]="T"!==ke||Qe?"":"Document Description.",Ia[wa++]="F"!==ke||ua?"":"From Bank.",Ia[wa++]="F"!==ke||ha?"":"To Bank.",Ia[wa++]="F"!==ke||Bl?"":"Reference No.",Ia[wa++]=je?"":"Amount.",Ia[wa++]=He||"F"===ke?"":"Account Name.",Ia[wa++]=na||"F"===ke?"":"Account Number.",Ia[wa++]=ca||"F"===ke?"":"IFSC.",Ia[wa++]=xa.length<1&&"F"!==ke?"Upload at least one document Document.":"",Ia[wa++]=_e||"F"===ke?"":"Narration.",La()(".loader").hide(),W(ta(Ia)),K(!0)):"E"===e&&""===ut?(La()(".loader").hide(),mt(!0)):"F"===ke&&ia===Ca&&da===Ta?(W("From Bank and To Bank can't be same"),K(!0),La()(".loader").hide()):cn()))},"Save"),"\xa0"):null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location :")," ",le)),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Status :")," ","PA1"===Dt?"Pending Approval 1":"PA2"===Dt?"Pending Approval 2":"PT"===Dt?"Pending Transfer":"D"===Dt?"Done":"New")),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date :")," ",xt))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Maker :")," ",Ml)),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Checker 1 :")," ",Rl)),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Checker 2 :")," ",Pl))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Category",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ke,onChange:e=>Le(e.target.value),disabled:!("N"===Dt&&"1"===g.add)},Wa.map((e,a)=>n.a.createElement("option",{key:a,value:e.tpc_value},e.tpc_name)),"Q"===e&&"CM"===ke&&n.a.createElement("option",{value:ke},"Commission"))))),n.a.createElement(Oa.a,null,"E"===ke?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashment Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Ae,onChange:e=>we(e.target.value),disabled:!("N"===Dt&&"1"===g.add),required:!0},n.a.createElement("option",{value:"PP"},"PP"),n.a.createElement("option",{value:"PB"},"PB")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashment Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Me,maxLength:20,onChange:e=>Ie(e.target.value,Fe),placeholder:"Encashment Number",disabled:!("N"===Dt&&"1"===g.add)})))):"T"===ke?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Depositor Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Re,maxLength:200,onChange:e=>xe(e.target.value,Ge),placeholder:"Depositor Name",disabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Description",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Je,maxLength:50,onChange:e=>Pe(e.target.value,qe),placeholder:"Transaction Description",disabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Realationship Manager",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ze,maxLength:20,onChange:e=>xe(e.target.value,Ve),placeholder:"Realationship Manager",disabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document Collected",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Qe,maxLength:50,onChange:e=>Pe(e.target.value,Ke),placeholder:"Document Collected",disabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"BK Number","PA2"===Dt&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Xl,maxLength:50,onChange:e=>Pe(e.target.value,Zl),placeholder:"BK Number",disabled:!("PA2"===Dt&&"1"===O.query)})))):"Ex"===ke?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sub-category"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:zl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>(e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"expenseSubPurpose",srch:e};return nt.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))})(e),onInputChange:rt,onChange:e=>(e=>{Vl(e)})(e),isDisabled:!("N"===Dt&&"1"===g.add)})))):null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:je,maxLength:20,onChange:e=>Ie(e.target.value,Te),placeholder:"Amount",disabled:!("N"===Dt&&"1"===g.add)})))),n.a.createElement(Oa.a,null,"F"===ke&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:le,disabled:!0}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ua,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>At(e,ae,""),onInputChange:rt,onChange:e=>(e=>{sa(e);const a=e.id.split("^");Ea(a[1]),ga(a[2])})(e),isDisabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:re,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>{ce(e),va(null);const a=e.id.split("^");me(a[1]),se(a[2]),sessionStorage.activeBranch=a[1]},isDisabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ha,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>At(e,oe,""),onInputChange:rt,onChange:e=>(e=>{va(e);const a=e.id.split("^");_a(a[1]),Da(a[2]),ra(a[5]),ma(a[6])})(e),isDisabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No.",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Bl,maxLength:100,onChange:e=>Be(e.target.value,ql),placeholder:"Reference No.",disabled:!("N"===Dt&&"1"===g.add)}))))),"F"!==ke&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:He,maxLength:255,onChange:e=>xe(e.target.value,la),placeholder:"Account Name",disabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:na,maxLength:20,onChange:e=>Ie(e.target.value,ra),placeholder:"Account Number",disabled:!("N"===Dt&&"1"===g.add)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IFSC",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ca,maxLength:11,onChange:e=>Pe(e.target.value,ma),placeholder:"IFSC",disabled:!("N"===Dt&&"1"===g.add)})))),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Documents"))),"A"===e||"E"===e?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"uploadPaymentModuleDoc"},n.a.createElement(s.a.Label,null,"Upload Document","F"!=ke&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:ve,disabled:"Q"===e,onChange:e=>Ce(e.target.value)}),"\xa0")),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document Description","F"!=ke&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Tt,maxLength:50,onChange:e=>xe(e.target.value,kt),placeholder:"Document Description",disabled:"Q"===e}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{margin:"33px"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(La()(".loader").show(),void 0===document.getElementById("uploadPaymentModuleDoc").files[0])La()(".loader").hide(),W("Please select a file to upload."),K(!0);else if(document.getElementById("uploadPaymentModuleDoc").files[0].name.split(".").length>2)La()(".loader").hide(),W("(.) not allowed in file name."),K(!0);else if(document.getElementById("uploadPaymentModuleDoc").files[0].size>10485760)La()(".loader").hide(),W("Please select a file with in 10 MB size."),K(!0);else if(Tt){const e={uniquekey:Nt,location:ae,srno:Za,type:"PM",uploadType:"uploadPaymentModuleDoc",pageright:"TRAN_MODULE_PAYMENT",sid:o,file:ve,desc:Tt};console.log(e),Ze(JSON.stringify(e),"uploadPaymentModuleDoc",e=>{let a=JSON.parse(e);La()(".loader").hide(),Aa(a.docdetail),Ce(""),kt("")})}else La()(".loader").hide(),W("Please add document description."),K(!0)})()},"Add")),n.a.createElement(Na.a,null,"\xa0")):null,xa.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Ext"),n.a.createElement("th",null,"Document Name"),n.a.createElement("th",null,"Document Description"))),n.a.createElement("tbody",null,xa.map((a,t)=>n.a.createElement("tr",null,n.a.createElement("td",{className:"textCenter "},"A"===e||"E"===e?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{La()(".loader").show();const r={line:a,srno:t,type:"PM",location:n,uniquekey:Nt,scrMode:e};De(Ne,[o,"deleteUploadDoc",JSON.stringify(r)],e=>{let a=JSON.parse(e);Aa(a),La()(".loader").hide()})})(a.tmd_line_no,a.tmd_srno,a.tmd_type,a.tmd_location)},n.a.createElement(pa.a,{icon:ja.o})),"\xa0"):null,"jpg"===a.tmd_doc_ext||"jpeg"===a.tmd_doc_ext||"png"===a.tmd_doc_ext||"pdf"===a.tmd_doc_ext||"bmp"===a.tmd_doc_ext||"gif"===a.tmd_doc_ext?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((a,t,l,n,r)=>{if("xlsx"==t)W("You can't view "+t+" format"),K(!0);else if("xls"==t)W("You can't view "+t+" format"),K(!0);else{const t={line:a,srno:l,type:"PM",loc:ae,name:"paymentmoduledoc",pageright:"TRAN_MODULE_PAYMENT",scrMode:e};ea(U,[o,"docView",JSON.stringify(t)],e=>{let a=JSON.parse(e);Fa(a.bs64),Pa(a.typ),za(a.desc),Qa(a.fname),Ya(!0)})}})(a.tmd_line_no,a.tmd_doc_ext,a.tmd_srno,a.tmd_type,a.tmd_location)},n.a.createElement(pa.a,{icon:ba.f})),"\xa0"):null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((a,t,l,n)=>{var r={srno:t,type:l,loc:n,scrMode:e,line:a,name:"paymentmoduledoc",pageright:"TRAN_MODULE_PAYMENT"};$e(U,"post",[o,"docdownload",JSON.stringify(r)])})(a.tmd_line_no,a.tmd_srno,a.tmd_type,a.tmd_location)},n.a.createElement(pa.a,{icon:ja.j}))),n.a.createElement("td",null,a.tmd_doc_ext),n.a.createElement("td",null,a.tmd_doc_name),n.a.createElement("td",null,a.tmd_doc_desc)))))))):null,"1"===O.query&&"Q"===e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Pt,maxLength:20,onChange:e=>(e=>{let a=e.target.value;Ie(a,Jt),Ut(je-a-Bt-zt)})(e),placeholder:"GST",disabled:!(O.query&&"PA2"===Dt)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Bt,maxLength:20,onChange:e=>(e=>{let a=e.target.value;Ie(a,qt),Ut(je-a-zt-Pt)})(e),placeholder:"TDS",disabled:!(O.query&&"PA2"===Dt)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Charges",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:zt,maxLength:20,onChange:e=>(e=>{let a=e.target.value;Ie(a,Vt),Ut(je-a-Bt-Pt)})(e),placeholder:"Charges",disabled:!(O.query&&"PA2"===Dt)}))),n.a.createElement(Na.a,null),n.a.createElement(Na.a,null)),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Net Payable",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Qt,maxLength:20,placeholder:"Amount",disabled:!0}))),"1"===O.query&&"N"!==Dt&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ul,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,ae),onInputChange:rt,onChange:e=>{sl(e);const a=e.id.split("^");console.log(a),El(a[1]),pl(a[2])},isDisabled:!("1"===O.query&&"PA2"===Dt)||"F"===ke})))),"1"===O.query&&"PA2"===Dt?n.a.createElement(n.a.Fragment,null,n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cr/Dr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Yt,onChange:e=>Kt(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"Credit"),n.a.createElement("option",{value:"D"},"Debit")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Ht,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,ae),onInputChange:rt,onChange:e=>{Wt(e);const a=e.id.split("^");console.log(a),Zt(a[1]),el(a[2])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:al,maxLength:20,onChange:e=>Ie(e.target.value,tl),placeholder:"Amount"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{margin:"33px"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(La()(".loader").show(),Ht&&al)if(4===ll.length)W("You can add only four FA entries"),K(!0);else{cl(1*rl+1);const e={remark:"Fa Entry Added",activitytype:"MODIFY",subtranno:1,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,srno:Za,type:"PM",line:1*rl+1,location:ae,tpFaFlag:Yt,tpFaGroup:Xt,tpFaAccount:$t,tpFaAmount:al};De(Ne,[o,"addFaEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),tl(""),Kt("C"),Wt(null),nl(a),on(a),La()(".loader").hide()})}else Ia[wa++]=d("MSG0006"),Ia[wa++]=Ht?"":"Ledger.",Ia[wa++]=al?"":"Amount.",W(ta(Ia)),K(!0)})()},"Add")))):null,ll.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Credit"),n.a.createElement("th",null,"Debit"))),n.a.createElement("tbody",null,ll.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,"1"===O.query&&"PA2"===Dt&&n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l)=>{La()(".loader").show();const n={remark:"Fa Entry Deleted",activitytype:"MODIFY",subtranno:1,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,line:e,srno:a,location:t,type:l};De(Ne,[o,"deleteFaEntry",JSON.stringify(n)],e=>{let a=JSON.parse(e);console.log(a),nl(a),on(a),La()(".loader").hide()})})(e.tmpfa_line_no,e.tmpfa_srno,e.tmpfa_location,e.tmpfa_type)},n.a.createElement(pa.a,{icon:ja.o}))),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,"C"===e.tmpfa_credit_debit&&e.tmpfa_amount),n.a.createElement("td",null,"D"===e.tmpfa_credit_debit&&e.tmpfa_amount))),n.a.createElement("tr",null,n.a.createElement("td",{style:{textAlign:"left",color:"red"},colSpan:2},0!==ol&&n.a.createElement("b",null,"Difference : ",ol>0?ol+" Dr":-1*ol+" Cr")),n.a.createElement("td",{colSpan:1},n.a.createElement("b",null,bl)),n.a.createElement("td",{colSpan:1},n.a.createElement("b",null,hl)))))))),""!==e&&n.a.createElement(n.a.Fragment,null,n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},n.a.createElement(s.a.Label,null,"Narration","F"!=ke&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{as:"textarea",rows:3,maxLength:500,placeholder:"Narration",value:_e,onChange:e=>Pe(e.target.value,fe),disabled:"Q"===e})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"\xa0")),n.a.createElement("hr",null),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h4",null,"Comments"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,"Comment"),n.a.createElement(s.a.Control,{value:ht,onChange:e=>Pe(e.target.value,St),placeholder:"Add Comment"})),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{margin:"33px"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(La()(".loader").show(),ht){_t(1*Ct+1);const a={remark:"Comment added",activitytype:"MODIFY",subtranno:1,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,tc_line_no:1*Ct+1,location:ae,srno:Za,type:"PM",tc_branch:ae,srno:Za,tc_type:"PM",tc_comment:ht,tc_user_srno:sessionStorage.getItem("userSrno"),entity_name:le,um_user_name:sessionStorage.getItem("userName"),tc_timestamp:mn(new Date)};La()(".loader").hide(),"A"===e||"E"===e?Ot(We(yt,a)):"Q"===e&&De(Ne,[o,"addComment",JSON.stringify(a)],e=>{let a=JSON.parse(e);Ot(a)}),St("")}else La()(".loader").hide(),W("Add Comment"),K(!0)})()},"Add")),n.a.createElement(Na.a,null,"\xa0"),n.a.createElement(Na.a,null,"\xa0")),yt.length>0&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User Id"),n.a.createElement("th",null,"Comment"),n.a.createElement("th",null,"Timestamp"))),n.a.createElement("tbody",null,yt.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,e.um_user_name),n.a.createElement("td",null,e.tc_comment),n.a.createElement("td",null,e.tc_timestamp))))))),n.a.createElement("hr",null)),"Q"===e&&n.a.createElement(n.a.Fragment,null,(S.query||T.query||A.query||F.query||J.query)&&"N"===yl&&"PA1"===Dt&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(()=>{if(console.log(T.query),La()(".loader").show(),0!=ol)La()(".loader").hide(),W("Total Amount should be equal to total net payable"),K(!0);else if(Qt<0)La()(".loader").hide(),W(" Net Payable should be greater than zero"),K(!0);else if("1"!==T.query&&"E"===ke||"1"!==A.query&&"T"===ke||"1"!==F.query&&"F"===ke||"1"!==J.query&&"Ex"===ke)La()(".loader").hide(),W("You can't approve this entry"),K(!0);else{const e={remark:"Approval level 1",activitytype:"MODIFY",subtranno:1,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Za,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:Ue(be),tpToDate:Ue(he),tpStatus:ye,tpGst:Pt,tpTds:Bt,tpOtherCharges:zt,tpNetPayable:Qt,tpPartyGroup:il,tpPartyAccount:dl,tpChecker1:sessionStorage.getItem("userSrno")};De(Ne,[o,"approveLevelOne",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ha(t),La()(".loader").hide(),a("")})}})()},"Approval Level 1"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>(()=>{if(La()(".loader").show(),"1"!==T.query&&"E"===ke||"1"!==A.query&&"T"===ke||"1"!==F.query&&"F"===ke||"1"!==J.query&&"Ex"===ke)La()(".loader").hide(),W("You can't unlock this entry"),K(!0);else{const e={remark:"Unlock level 1",activitytype:"MODIFY",subtranno:1,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Za,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:be,tpToDate:he,tpStatus:ye};De(Ne,[o,"unlockLevelOne",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ha(t),sl(null),La()(".loader").hide(),a("")})}})()},"Unlock")))),(O.query||L.query||w.query||G.query||q.query)&&"Y"===yl&&"N"===Nl&&"PA2"===Dt&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(()=>{if(La()(".loader").show(),0!=ol)La()(".loader").hide(),W("Total Amount should be equal to total net payable"),K(!0);else if(Qt<0)La()(".loader").hide(),W(" Net Payable should be greater than zero"),K(!0);else if(ul)if("1"!==L.query&&"E"===ke||"1"!==w.query&&"T"===ke||"1"!==G.query&&"F"===ke||"1"!==q.query&&"Ex"===ke)La()(".loader").hide(),W("You can't approve this entry"),K(!0);else if("T"===ke&&""===Xl)La()(".loader").hide(),W("Please fill BK number."),K(!0);else{const e={remark:"Approval level 2",activitytype:"MODIFY",subtranno:1,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Za,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:Ue(be),tpToDate:Ue(he),tpStatus:ye,tpGst:Pt,tpTds:Bt,tpOtherCharges:zt,tpNetPayable:Qt,tpPartyGroup:il,tpPartyAccount:dl,tpChecker2:sessionStorage.getItem("userSrno"),tpBKNumber:Xl};De(Ne,[o,"approveLevelTwo",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ha(t),La()(".loader").hide(),a("")})}else La()(".loader").hide(),W("Please select party"),K(!0)})()},"Approval Level 2"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>(()=>{if(La()(".loader").show(),"1"!==L.query&&"E"===ke||"1"!==w.query&&"T"===ke||"1"!==G.query&&"F"===ke||"1"!==q.query&&"Ex"===ke)La()(".loader").hide(),W("You can't unlock this entry"),K(!0);else{const e={remark:"Unlock level 2",activitytype:"MODIFY",subtranno:1,trannumber:Za,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Za,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:be,tpToDate:he,tpStatus:ye};De(Ne,[o,"unlockLevelTwo",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ha(t),La()(".loader").hide(),a("")})}})()},"Unlock")))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")),n.a.createElement(Ba.a,{show:Ua,onHide:()=>Ya(!1),size:"xl",centered:!0},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,{id:"example-custom-modal-styling-title"},Ja+" : "+Va)),n.a.createElement(Ba.a.Body,null,n.a.createElement("embed",{src:Ma,type:Ga,style:{minHeight:"100vh",minWidth:"100%"}}))),n.a.createElement(qa,{logObject:dt,show:bt,onHide:()=>gt(!1)}),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:lt,onHide:()=>mt(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,"E"===e?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:ut,onChange:e=>Pe(e.target.value,st),autoComplete:"off",required:!0}))):null),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(La()(".loader").show(),void cn())},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>mt(!1)},"Cancel")))),n.a.createElement(Ba.a,{size:"lg",show:Cl,onHide:()=>_l(!1)},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Bank Detail")),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:xl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>At(e,ae,"AXIS"),onInputChange:rt,onChange:e=>(e=>{Al(e),e.id.split("^")})(e)}))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:()=>_l(!1)},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{const e=xl.id.split("^");if(0===wt.length)K(!0),W("Please select at least one record");else if(xl)if("AXIS"!==e[7])_l(!1),W("You can't download any other than Axis bank files "),K(!0);else{console.log(e);const a={tpBankData:wt,tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:de,tpFromDate:Ue(be),tpToDate:Ue(he),tpStatus:ye,tmp_type:"PM",tmp_from_bank_group:e[9],tmp_from_bank_account:e[8],tmp_account_number:e[5],tmp_ifdc:e[6],paymentOption:Ql,paymentPayType:Yl,locationOneAll:$l};$e(Ne,"post",[o,"downloadbankfile",JSON.stringify(a)]),_l(!1),wl(!1)}else W("Please select from bank"),K(!0)}},"Download Bank Files"))),n.a.createElement(Sa,{isOpen:Y,onClose:e=>K(!1)},H))},Tn=t(271);var kn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(!1),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)({value:0,label:"Select"}),[b,g]=Object(l.useState)("1"),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(!0),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)("0"),[k,D]=Object(l.useState)("0"),[L,x]=Object(l.useState)("0"),[A,I]=Object(l.useState)(null),[w,M]=Object(l.useState)(null),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),V=new Date,[Q,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""});Object(l.useEffect)(()=>{r||(oa().then(e=>{I(e),null!=e&&Z(e)}),De(_,[a,"all","TRAN_OPN_TRIAL"],function(a){let t=JSON.parse(a);"1"===t.query?O(t):e("/")}),c(!0))},[r,a,e]);var W=[],X=0;const Z=e=>{I(e);let a=e.id.split("^");R(a[1]),sessionStorage.activeBranch=a[1]},$=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].tfd_flag?t+=1*e[a].tfd_amount:l+=1*e[a].tfd_amount;T(t),D(l),x((t+l).toFixed(2))},ee=e=>{let t="";if(console.log(e),"selected"==e){if(""==F)return W[X++]=""===F?" Please select location.":"",B(ta(W)),void P(!0);t=F,console.log(F)}var l={srno:23,location:t};$e(H,"post",[a,"downloadOpnTrial",JSON.stringify(l)])};return n.a.createElement("div",null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Opening Trial"))),"\xa0",N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Z,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-10"},"1"===y.query&&n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(null==A)W[X++]=d("MSG0006"),W[X++]=null===A?" Please select location.":"",B(ta(W)),P(!0);else{v(!1);const e=A.id.split("^");R(e[1]),p(e[2]),De(H,[a,"listOpenTrial",e[1]],e=>{let a=JSON.parse(e);console.log(a),u(a),$(a),z(a.tfd_date)})}}},"List"),"\xa0",n.a.createElement("span",{className:"ml-2"},n.a.createElement(Tn.a,null,n.a.createElement(Tn.a.Toggle,{variant:"outline-primary",id:"dropdown-basic"},"Download"),n.a.createElement(Tn.a.Menu,null,n.a.createElement(Tn.a.Item,{onClick:()=>ee("all")},"All Location"),n.a.createElement(Tn.a.Item,{onClick:()=>ee("selected")},"Only selected location"))))))),"\xa0"):n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",E))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{f(!1),v(!0)}},"Back")," ","1"!==y.add||C?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=q,l=Ue(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNTRL",pageright:"TRAN_OPN_TRIAL"};De(Se,[a,"checkUnlock",JSON.stringify(o)],t=>{let l=JSON.parse(t);if(_e==c||"unlock"==l)f(!0);else{let t;De(Se,[a,"getStatus",JSON.stringify(o)],a=>{t=JSON.parse(a),K({trantype:"OPNTRL",trannumber:1,location:F,entity_name:E,tranDate:Ue(e),tdu_status:t}),U(!0)})}})})()},"Edit")))),"\xa0"),C&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flag",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:b,onChange:e=>g(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Credit"),n.a.createElement("option",{value:"0"},"Debit")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,1),onInputChange:rt,onChange:e=>{M(e)}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:h,onChange:e=>Me(e.target.value,S),placeholder:"Amount",maxLength:fe})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==w||""==h)W[X++]=d("MSG0006"),W[X++]=null===w?" Please select account.":"",W[X++]=""==h?" Please fill amount.":"",B(ta(W)),P(!0);else{La()(".loader").show(),console.log(w);const e=w.id.split("^"),t=e[1],l=e[2];console.log(e),console.log(t),console.log(l);const n={flag:b,acc:l,grp:t,amt:h,location:F};De(H,[a,"addNew",JSON.stringify(n)],e=>{let a=JSON.parse(e);u(a),$(a),La()(".loader").hide(),M(null),S("")});const r={srno:1,type:"OPNTRL",status:"E",currentDate:Ue(V),pageright:"TRAN_OPN_TRIAL"};De(Se,[a,"expireUnlock",JSON.stringify(r)],e=>{console.log(e)})}}},"Add")," ")),"\xa0"),!N&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,"0.00"!=L&&n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:4}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:2},n.a.createElement("b",null,"Total Difference:")," ",n.a.createElement("span",null,L)))),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:4}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Debit:")," ",n.a.createElement("span",null,j)),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Credit:")," ",n.a.createElement("span",null,-1*k))),n.a.createElement("tr",null,"1"===y.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"))),n.a.createElement("tbody",null,o.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===y.delete?n.a.createElement("td",{className:"textCenter"},C&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{De(H,[a,"deleteOpenTrial",e,F],e=>{let a=JSON.parse(e);u(a),$(a)})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.o})))):null,n.a.createElement("td",null,e.tfd_line_no),n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&-1*e.tfd_amount))))))))),n.a.createElement("div",null,n.a.createElement(Sa,{isOpen:G,onClose:e=>P(!1)},J),n.a.createElement(zt,{logObject:Y,show:Q,hdrNotExist:!0,onHide:()=>U(!1)}),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")))};var Dn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,g]=Object(l.useState)(null),[h,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)("D"),[F,R]=Object(l.useState)("N"),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(new Date),[q,z]=Object(l.useState)(""),[V,Q]=Object(l.useState)(""),[U,Y]=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),Object(l.useState)(new Date)),K=new Date,[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(!1),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(!1),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)("0"),[se,ie]=Object(l.useState)("0"),[Ee,pe]=Object(l.useState)(""),[be,ge]=Object(l.useState)(""),[he,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(""),[Ae,we]=Object(l.useState)(""),[Fe,Re]=Object(l.useState)(""),[Ge,Je]=Object(l.useState)(""),[qe,ze]=Object(l.useState)(""),[Ve,Qe]=Object(l.useState)([]),[Ke,Ze]=Object(l.useState)("D"),[$e,ea]=Object(l.useState)("10"),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(!1),[ma,ua]=Object(l.useState)("0"),[sa,ia]=Object(l.useState)([]),[Ea,da]=Object(l.useState)(!1),[ga,ha]=Object(l.useState)([]),[va,Ca]=Object(l.useState)("0"),[_a,Ta]=Object(l.useState)("0"),[Da,xa]=Object(l.useState)(!1),[Aa,Ia]=Object(l.useState)(""),[wa,Ma]=Object(l.useState)(""),[Fa,Ga]=Object(l.useState)(new Date),[Pa,za]=Object(l.useState)("0"),[Va,Qa]=Object(l.useState)("0"),[Ua,Ya]=Object(l.useState)("0"),[Ka,Ha]=Object(l.useState)(!1),[Wa,Xa]=Object(l.useState)(!1),[Za,$a]=Object(l.useState)(""),[et,at]=Object(l.useState)(0),[lt,nt]=Object(l.useState)("0"),[mt,ut]=Object(l.useState)(""),[st,it]=Object(l.useState)(""),[Et,dt]=Object(l.useState)(""),[pt,bt]=Object(l.useState)("T"),[ht,St]=Object(l.useState)(""),[yt,Ot]=Object(l.useState)(""),[Nt,Ct]=Object(l.useState)(""),[_t,ft]=Object(l.useState)(""),[Tt,kt]=Object(l.useState)(""),[Dt,xt]=Object(l.useState)(null),[At,It]=Object(l.useState)(null),[wt,Mt]=Object(l.useState)(!1),[Ft,Rt]=Object(l.useState)(null),[Pt,Jt]=Object(l.useState)({value:0,label:"Select"}),[Bt,qt]=Object(l.useState)(0),[Vt,Qt]=Object(l.useState)(""),[Ut,Yt]=Object(l.useState)(""),[Kt,Ht]=Object(l.useState)(!1),[Wt,Zt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[$t,el]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[al,tl]=Object(l.useState)(!1),[ll,nl]=Object(l.useState)(0);Object(l.useEffect)(()=>{E||(oa().then(e=>{g(e),null!=e&&rl(e)}),De(_,[a,"all","INTER_BRANCH_ENTRY"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[E,a,e]);const rl=e=>{g(e);const a=e.id.split("^");S(a[1]),O(a[2]),sessionStorage.activeBranch=a[1]},cl=()=>{var e=[],t=0;if(null==ce)e[t++]=d("MSG0006"),e[t++]=null==ce?"Please select account.":"",ae(ta(e)),Z(!0);else{const e={data:"".concat(Ke,"^").concat(me,"^").concat(se,"^").concat(Ue(U)),limit:$e,srch:la};De(de,[a,"getknockoff",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),Qe(a)}),ca(!0)}},ol=(e,a,t)=>{let l=Ve.map((l,n)=>e===n?"tfd_amount"===t?{...l,[t]:a.target.value}:a.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}:l);console.log(l),Qe(l)},ml=()=>{ca(!1)},ul=()=>{if("0"==lt&&"A"==H)ae("You can't save without adding data"),Z(!0);else if("E"===H&&""===Za)Xa(!0),La()(".loader").hide();else{const e={remark:Za,activitytype:1==et?"MODIFY":"CREATE",subtranno:et,trannumber:va,trantype:"IB",trancategory:"T",branch:h,location:h,toLocation:C,flag:w,date:Ue(U),type:"IB",narration:mt,bookList:sa,radioType:F,scrMode:H,srNo:va,totalCredit:Va,totalDebit:Pa,group:me,account:se,chequeSrno:_t,chequeLine:Nt,chequeLocation:Tt,chequeNum:Aa,randomString:_a,knockoffValue:Oe};if(De(de,[a,"saveIBEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);W("Q"),il(a.resarray),"N"==F?(ia(a.resarray),Ca(a.srno)):(ut(mt),ia(a.resarray)),Ha(!1),nt(0),$a(""),it(a.srno),ye("")}),"E"==H){const e={srno:va,type:"IB",status:"E",currentDate:Ue(K),pageright:"INTER_BRANCH_ENTRY"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}},sl=()=>{var e=[],t=0;if(null===b||"S"===F&&!q||"S"===F&&!V||"D"===F&&!G||"D"===F&&!J)e[t++]=d("MSG0006"),e[t++]=null===b?" From Branch.":"",e[t++]="S"!==F||q?"":" From Srno.",e[t++]="S"!==F||V?"":" To Srno.",e[t++]="D"!==F||G?"":" From date.",e[t++]="D"!==F||J?"":" To date.",ae(ta(e)),Z(!0);else{const e={date:Ue(U),type:"IB",location:h,radioType:F,fromSrno:q,toSrno:V,fromDate:Ue(G),toDate:Ue(J),flag:w};De(de,[a,"showIBEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),ha(a),da(!0)})}},il=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].tfd_flag?t+=1*e[a].tfd_amount:l+=e[a].tfd_amount<0?-1*e[a].tfd_amount:1*e[a].tfd_amount;za(t),Qa(l);let n=t-l;Ya(n.toFixed(2)),console.log(n),n<0?(console.log("jjjjjj"),Ze("D"),ye(-1*n)):0==n?ye(""):(Ze("C"),ye(n))},El=e=>{St(e);const a=e.id.split("^");console.log(a),Ia(a[4]),Ot(a[4]),ft(a[1]),Ct(a[2]),kt(a[3]),Ga(a[5])};return n.a.createElement(n.a.Fragment,null,wt?n.a.createElement(pl,{value:"FABOOK",hideIndividualProfile:(e,t)=>{Mt(e),t>0&&De($,[a,"individual",t],e=>{console.log(e);let a=JSON.parse(e);It(a)})}}):n.a.createElement(n.a.Fragment,null,"  ",n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"Inter Branch Entry ",n.a.createElement("span",{style:{color:"white"}},ma)))),"\xa0",""==H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>rl(e),isDisabled:"true"===c}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Lt,onInputChange:rt,onChange:e=>(e=>{v(e);const a=e.id.split("^");f(a[1]),T(a[2]),D(a[6]),x(a[7]),I(a[8])})(e)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Note Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:w,onChange:e=>(e=>{let a=e.target.value;M(a),R("C"==a?"S":"N")})(e)},n.a.createElement("option",{value:"D"},"Debit"),n.a.createElement("option",{value:"C"},"Credit")))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},"D"==w&&n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===F,onChange:()=>R("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===F,onChange:()=>R("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===F,onChange:()=>R("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Oa.a,null,"N"===F?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:q,onChange:e=>Ie(e.target.value,z),placeholder:"From Srno"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:V,onChange:e=>Ie(e.target.value,Q),placeholder:"To Srno"})))):"D"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"N"==F?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ue(U);null!==b&&null!==N&&U?h===C?(ae("From Branch and To Branch should not be same!."),Z(!0)):l>r||l<t?(ae(d("MSG0010")),Z(!0)):(W("A"),Ta(Xe(15)),ye(""),ia([])):(e[a++]=d("MSG0006"),e[a++]=null===b?" From Branch.":"",e[a++]=null===N?" To Branch.":"",e[a++]=U?"":" Select date.",ae(ta(e)),Z(!0))}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:sl},"List"))),"\xa0",Ea&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Debit"),n.a.createElement("th",null,"Total Credit"))),n.a.createElement("tbody",null,ga.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l,n,r,c)=>{La()(".loader").show(),Yt(c),"N"==F&&R("A"),console.log(c),Ca(e);const o={srNo:e,location:h,toLocation:C,type:t};De(de,[a,"viewdata",JSON.stringify(o)],a=>{let t=JSON.parse(a);console.log(t),ia(t),La()(".loader").hide(),W("Q"),da(!1),da(!1),xa(!0),dt(l),it(e),il(t),It(null),g(null)})})(e.tfh_srno,e.tfh_type,e.formatted_date,e.entity_name,e.hdr_group,e.mvli_ledger_name,e.tfh_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfh_total_debit),n.a.createElement("td",null,e.tfh_total_credit)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"A"==H||"E"==H?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{re("Do you really want to exit"),le(!0)}},"Cancel"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{W("")}},"Back"),"\xa0","1"===o.edit&&"Q"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Et.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5),m={srno:st,type:"IB",pageright:"INTER_BRANCH_ENTRY"};De(Se,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);_e==o||"unlock"==t?W("E"):(Ht(!0),Zt({trantype:"IB",trannumber:st,location:h,tranDate:Ue(e)}))})})()},"Edit")):null,"1"===o.edit&&"E"===H||"1"===o.add&&"A"===H?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:ul},"Save"):null,"\xa0","1"!==o.query||"E"!==H&&"Q"!==H?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(tl(!0),void el({trantype:"IB",trannumber:va,trancategory:"T"}))},"Activity Log")))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",ll)),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type : IB"))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Branch : ",y))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Branch : ",j))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,"A"==H?n.a.createElement(s.a.Label,null,"Date : ",Ye(U)," "):n.a.createElement(s.a.Label,null,"Date : ",Et," "))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Note Type : ","D"==w?"Debit":"Credit"))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Debit to branch : ",k," ",A)))),"\xa0","E"==H||"A"==H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ce,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,1),onInputChange:rt,onChange:e=>{oe(e);const a=e.id.split("^");ue(a[1]),ie(a[2]),pe(a[4]),ge(a[3])}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:he,maxLength:fe,onChange:e=>Me(e.target.value,ye),placeholder:"Amount"})))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Knockoff"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>jt(e,1,"".concat(Ke,"^").concat(me,"^").concat(se,"^").concat(Ue(U))),onInputChange:rt,onChange:e=>{Ne(e);const a=e.id.split("^");Ce(a[3]),Te(a[2]),Le(a[6]),Re(a[4]),we(a[8]),Je(a[9]),ze(a[10])}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-primary",onClick:cl},"Selective Knockoff"))),"\xa0",n.a.createElement(Ba.a,{show:ra,onHide:ml,size:"xl"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Selective Knockoff")),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Control,{value:la,maxLength:fe,placeholder:"Search",onChange:e=>Pe(e.target.value,na)})),"\xa0",n.a.createElement(Na.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:$e,onChange:e=>ea(e.target.value),required:!0},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"2"},"15"),n.a.createElement("option",{value:"20"},"20"))),"\xa0",n.a.createElement(Na.a,{className:"col-md-3 "},n.a.createElement(i.a,{variant:"outline-primary",onClick:cl},"Search"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Pending"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Amount"),n.a.createElement("th",null,"KnockOff Amount"))),n.a.createElement("tbody",null,Ve.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null," ",n.a.createElement(s.a.Check,{type:"checkbox",checked:"1"==e.ischecked,name:"ischecked",onChange:e=>ol(a,e,"ischecked")})),n.a.createElement("td",null," ",n.a.createElement(s.a.Control,{value:e.tfd_amount,name:"tfd_amount",onChange:e=>ol(a,e,"tfd_amount")})),n.a.createElement("td",null,e.tfd_knockoff_type),n.a.createElement("td",null,e.tfd_date),n.a.createElement("td",null,e.total_amount),n.a.createElement("td",null,e.knockoff_amount)))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:ml},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{const e={knockoffData:Ve,randomString:_a,flag:"C"};De(de,[a,"addknockoffSelective",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),ca(!1),ua(ma+1),xa(!0),oe(null),It(null),il(a),Ne(null),Te(""),Ce(""),Le(""),ye(""),nt(lt+1);for(let t=0;t<Ve.length;t++)Ve[t].tfd_transfer_type="",Ve[t].tfd_cheque_status="",Ve[t].cheque_date="",Ve[t].tfd_cheque_bank_name="",Ve[t].tfd_cheque_no="",Ve[t].tfd_individual_code="",Ve[t].tfd_account_type="",Ve[t].chequeValueNum="",Ve[t].tfd_flag=w,Ve[t].tfd_srno=a[0].tfd_srno,Ve[t].tfd_line_no=a[0].tfd_line_no,Ve[t].tfd_knockoff_amount=a[0].tfd_amount,"0"!=Ve[t].ischecked&&ia(We(sa,Ve[t]))})}},"Add"))),n.a.createElement(Oa.a,null,"BANK"==Ee&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:pt,onChange:e=>bt(e.target.value),required:!0},n.a.createElement("option",{value:"T"},"Transfer/Ref No."),n.a.createElement("option",{value:"C"},"Cheque")))),"CHEQUE"==Ee?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Aa,maxLength:fe,onChange:e=>Be(e.target.value,Ia),placeholder:"CHEQUE"==Ee||"BANK"==Ee&&"C"==pt?"Cheque Number":"Reference Number"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:wa,maxLength:100,onChange:e=>xe(e.target.value,Ma),placeholder:"Bank Name"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:Fa,onChange:e=>Ga(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"BANK"==Ee?n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,"C"==w&&"T"==pt&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Aa,maxLength:100,onChange:e=>Be(e.target.value,Ia),placeholder:"Reference Number"})),"C"==w&&"C"==pt&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ht,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>vt(e,me,se,h),onInputChange:rt,onChange:e=>El(e)})),"D"==w&&"T"==pt&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Aa,maxLength:100,onChange:e=>Be(e.target.value,Ia),placeholder:"Reference Number"})),"\xa0","D"==w&&"C"==pt&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ht,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>vt(e,me,se,h),onInputChange:rt,onChange:e=>El(e)})),"\xa0")),"D"==w&&"C"==pt&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:wa,maxLength:100,onChange:e=>xe(e.target.value,Ma),placeholder:"Bank Name"}))),"\xa0"):null),n.a.createElement(Oa.a,null,"WALKIN"==Ee&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile","A"===H&&n.a.createElement("span",null,"  ",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>void Mt(!0)},"Not in list? Create New "),n.a.createElement("span",null,n.a.createElement(Xt.a,{bg:"secondary",onClick:()=>{It(null)}},"Reset")))),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:At,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:gt,onInputChange:rt,onChange:e=>{console.log(e),It(e),null==Ft&&Jt({value:Bt,label:Vt})},isDisabled:"Q"===H})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(La()(".loader").show(),null==ce||""===he||"CHEQUE"==Ee&&null==Fa||"CHEQUE"==Ee&&""==Aa||"CHEQUE"==Ee&&""==wa||"BANK"==Ee&&"C"==w&&"T"==pt&&""==Aa||"BANK"==Ee&&"C"==w&&"C"==pt&&""==Aa||"D"==w&&"T"==pt&&"BANK"==Ee&&""==Aa||"D"==w&&"C"==pt&&"BANK"==Ee&&""==Aa||"D"==w&&"C"==pt&&"BANK"==Ee&&""==wa)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]=null==ce?"Please select account.":"",e[t++]=""===he?"Please fill amount.":"",e[t++]="CHEQUE"==Ee&&""==Aa?"Fill Cheque number":"",e[t++]="CHEQUE"==Ee&&""==wa?"Fill Bank Name":"",e[t++]="CHEQUE"==Ee&&null==Fa?"Please select date.":"",e[t++]="BANK"==Ee&&"C"==w&&"T"==pt&&""==Aa?"Fill Reference Number":"",e[t++]="BANK"==Ee&&"C"==w&&"C"==pt&&""==Aa?"Fill Cheque Number":"",e[t++]="BANK"==Ee&&"D"==w&&"T"==pt&&""==Aa?"Fill Reference Number":"",e[t++]="BANK"==Ee&&"D"==w&&"C"==pt&&""==Aa?"Fill Cheque Number":"",e[t++]="D"==w&&"C"==pt&&"BANK"==Ee&&""==wa?"Fill Bank Name":"",ae(ta(e)),Z(!0);else{nt(lt+1);let e="",t=0;if(console.log(At),null!=At){let a=At.id.split("^");e=a[2],t=a[1],console.log(a[2]),console.log(a[1])}let l,n="",r="";"CHEQUE"==Ee?n=Ue(Fa):"BANK"==Ee&&(r=pt,n=Fa),null==Oe?l={uniquekey:Xe(15),tfd_date:Ue(U),tfd_type:"IB",tfd_flag:"C",tfd_amount:he,tfd_location:h,tfd_group:me,tfd_account:se,tfd_account_type:Ee,mvli_ledger_name:be,srno:va,tfd_individual:e,tfd_individual_code:t,tfd_cheque_no:Aa,tfd_cheque_bank_name:"BANK"==Ee?be:wa,cheque_date:Ue(n),tfd_cheque_status:Dt,chequeValueNum:yt,tfd_transfer_type:r,tfd_knockoff_srno:"null",tfd_knockoff_type:"",tfd_knockoff_lineno:"null",delny:"Y"}:(l={tfd_line_no:"",tfd_location:h,tfd_type:"IB",tfd_srno:"",tfd_knockoff_type:je,tfd_knockoff_srno:ve,tfd_knockoff_lineno:Fe,tfd_group:me,tfd_account:se,tfd_amount:he,tfd_flag:"C",tfd_date:Ue(U),mvli_ledger_name:qe,randomString:_a,delny:"Y",tfd_transfer_type:"",tfd_cheque_status:"",cheque_date:"",tfd_cheque_bank_name:"",tfd_cheque_no:"",tfd_individual_code:"",tfd_account_type:"",chequeValueNum:""},De(de,[a,"addknockoffSingle",JSON.stringify(l)],e=>{let a=JSON.parse(e);l.tfd_line_no=a[0].tfd_line_no,l.tfd_srno=a[0].tfd_srno})),ia(We(sa,l)),ua(ma+1),xa(!0),ye(""),M("D"),oe(null),Ma(""),Ia(""),Ma(""),It(null),xt(null),il(sa),Ga(new Date),pe(""),bt("T"),Ne(null),Te(""),Ce(""),Le(""),La()(".loader").hide()}}},"Add"),n.a.createElement(s.a.Check,{type:"checkbox",label:"Show Additional Details",checked:Ka,onChange:()=>{Ha(!Ka)}}))),"\xa0"):null,Da&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,Ka?n.a.createElement("td",{colSpan:10}):n.a.createElement("td",{colSpan:7}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Credit:")," ",n.a.createElement("span",null,Va))),n.a.createElement("tr",null,"1"===o.delete?n.a.createElement("th",null):null,n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Knockoff"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"),Ka&&n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Cheque Number"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Cheque Bank Name")))),n.a.createElement("tbody",null,sa.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"E"!=H&&"A"!=H||"Y"!=e.delny?null:n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r)=>{const c={location:t,flag:w,type:"IB",srno:l,lineno:n,amt:r<0?-1*r:r,randomString:_a};De(de,[a,"deleteKnockoff",JSON.stringify(c)],e=>{let a=JSON.parse(e);ia(a)}),ia(He(sa,"uniquekey",e)),ua(ma-1),il(sa)})(e.uniquekey,e.tfd_location,e.tfd_srno,e.tfd_line_no,e.tfd_amount)},n.a.createElement(pa.a,{icon:ja.o}))):null,n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tfd_individual),n.a.createElement("td",null,"null"==e.tfd_knockoff_srno||null==e.tfd_knockoff_srno?null:e.tfd_knockoff_type+" "+e.tfd_knockoff_srno),n.a.createElement("td",{style:{textAlign:"right"}},"D"===e.tfd_flag?e.tfd_amount:""),n.a.createElement("td",{style:{textAlign:"right"}},"C"===e.tfd_flag?e.tfd_amount<0?-1*e.tfd_amount:e.tfd_amount:""),Ka&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.cheque_date),n.a.createElement("td",null,e.tfd_cheque_bank_name))))))))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))),n.a.createElement(Sa,{isOpen:X,onClose:e=>Z(!1)},ee),n.a.createElement(Ja,{isOpen:te,onYes:e=>(W(""),da(!0),sl(),Ha(!1),le(!1),ye(""),void oe(null)),onNo:e=>le(!1)},ne),n.a.createElement(qa,{logObject:$t,show:al,onHide:()=>tl(!1)}),n.a.createElement(zt,{logObject:Wt,show:Kt,onHide:()=>Ht(!1)}),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:Wa,onHide:()=>Xa(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,"E"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:Za,onChange:e=>xe(e.target.value,$a),autoComplete:"off",required:!0}))):null),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===H&&""===Za?(Xa(!1),ae("Please fill Activity Remark!"),Z(!0)):(ul(),Xa(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Xa(!1)},"Cancel")))))},Ln=t(161);var xn=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)([]),[m,u]=Object(l.useState)(0);Object(l.useEffect)(()=>{const t={srno:e.srno,location:e.location,type:e.type};De($,[a,"download",JSON.stringify(t)],e=>{let a=JSON.parse(e);console.log(a.header),console.log(a.detail),r(a.detail),o(a.header[0]),u(a.credit),console.log(a.header[0].tfh_total_credit)})},[]);const s={border:"1px solid black",textAlign:"left",fontFamily:"Bookman Old Style"},E={borderLeft:"1px solid black",borderRight:"1px solid black"};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"Button"},n.a.createElement(i.a,{variant:"outline-success",size:"sm",onClick:()=>void e.hidePrint("")},"Back")),n.a.createElement("div",{className:"container-fluid"},n.a.createElement("p",{style:{marginTop:"30px",fontFamily:"Bookman Old Style"}}," ZENITH LEISURE HOLIDAYS LTD ",n.a.createElement("br",null),"68, BALLYGUNGE, CIRCULAR ROAD, ANNAPURNA APARTMENT, 1ST FLOOR, ",n.a.createElement("br",null),"KOLKOTA-700019"),n.a.createElement("p",{style:{marginLeft:"260px",fontWeight:"bold",fontFamily:"Bookman Old Style",marginTop:"10px"}},"Bank Book Voucher"),n.a.createElement("table",{className:"col-md-5 col-12",style:{borderCollapse:"collapse",border:"1px solid black",fontFamily:"Bookman Old Style"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{style:{float:"left"}},"Entered By:SUPPORTHO3")),n.a.createElement("td",null),n.a.createElement("td",null,n.a.createElement("span",{style:{float:"right"}},"Trans. No.:",c.tfh_srno)),n.a.createElement("td",null),n.a.createElement("td",{style:{colSpan:3}},n.a.createElement("span",{style:{float:"right"}},"Date:",c.tfh_date))),n.a.createElement("tr",null,n.a.createElement("th",{style:{...s,textAlign:"center"}},"Account Name"),n.a.createElement("th",{style:{...s,textAlign:"center"}},"Debit"),n.a.createElement("th",{style:{...s,textAlign:"center"}},"Credit"),n.a.createElement("th",{style:{...s,textAlign:"center"}},"Cheque No."),n.a.createElement("th",{style:{...s,textAlign:"center"}},"Bank Name"))),n.a.createElement("tbody",null,t.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",{style:E},e.mvli_ledger_name),n.a.createElement("td",{style:{...E,textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{...E,textAlign:"right"}},"C"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:E},e.tfd_cheque_no),n.a.createElement("td",{style:E},e.tfd_cheque_bank_name)))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("td",{style:{...s,textAlign:"right"}},"Total"),n.a.createElement("td",{style:s},c.tfh_total_debit),n.a.createElement("td",{style:s},c.tfh_total_credit),n.a.createElement("td",{style:s}),n.a.createElement("td",{style:s})))),n.a.createElement("p",{style:{fontFamily:"Bookman Old Style"}},n.a.createElement("br",null),"Amount in Words:( ",m,") ",n.a.createElement("br",null),n.a.createElement("span",null,c.tfh_narration)),n.a.createElement("p",null,n.a.createElement("span",null,"Prepared By"),n.a.createElement("span",{style:{marginLeft:"120px"}},"Authorized By"),n.a.createElement("span",{style:{marginLeft:"160px"}},"Payee's Signature"))))};var An=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)([]),[m,u]=Object(l.useState)(0);Object(l.useEffect)(()=>{const t={srno:e.srno,location:e.location,type:e.type};De($,[a,"download",JSON.stringify(t)],e=>{let a=JSON.parse(e);console.log(a.header),console.log(a.detail),r(a.detail),o(a.header[0]),u(a.credit),console.log(a.header[0].tfh_total_credit)})},[]);const s={border:"1px solid black",textAlign:"left",fontFamily:"Bookman Old Style"};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"Button"},n.a.createElement(i.a,{variant:"outline-success",size:"sm",onClick:()=>void e.hidePrint("")},"Back")),n.a.createElement("div",{className:"container-fluid"},n.a.createElement("p",{style:{marginLeft:"120px",fontFamily:"Bookman Old Style"}}," ZENITH LEISURE HOLIDAYS LTD ",n.a.createElement("br",null),"68, BALLYGUNGE, CIRCULAR ROAD, ",n.a.createElement("br",null)," ANNAPURNA APARTMENT, 1ST FLOOR, ",n.a.createElement("br",null),"KOLKOTA-700019 ",n.a.createElement("br",null)," RBI LICENCE NO.-FE.KOL/ADCAT-II/01-2017"),n.a.createElement("p",{style:{marginLeft:"220px",fontFamily:"Bookman Old Style"}},"RECEIPT"),n.a.createElement("p",{style:{marginLeft:"6px"}},"RECEIPT No: ",n.a.createElement("span",null,"Date:"),n.a.createElement("br",null),"AMOUNT RECEIVED FROM : ",n.a.createElement("br",null),"201002059946 ",n.a.createElement("br",null),"ON ACCOUNT OF      : ",n.a.createElement("br",null),"REFERENCE NO.      : 0 ",n.a.createElement("br",null),"Cheque/Cash Detail for Payments received"),n.a.createElement("table",{className:"col-md-5 col-12",style:{borderCollapse:"collapse",border:"1px solid black",fontFamily:"Bookman Old Style"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{...s,textAlign:"center"}},"Drawee Bank & Branch"),n.a.createElement("th",{style:{...s,textAlign:"center"}},"Cheque No."),n.a.createElement("th",{style:{...s,textAlign:"center"}},"Amount"))),n.a.createElement("tbody",null,t.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",{style:{...s}},e.mvli_ledger_name),n.a.createElement("td",{style:{...s}},e.tfd_cheque_no),n.a.createElement("td",{style:{...s}},e.tfd_amount))))),n.a.createElement("p",{style:{marginLeft:"400px"}},"____________________________________________",n.a.createElement("br",null),"Stamp & Signature of Authorized Official"),n.a.createElement("p",{style:{marginLeft:"6px"}},"Conditions :"),n.a.createElement("ol",null,n.a.createElement("li",null,"Forex to be released, subject to be realization of cheque."),n.a.createElement("li",null,"Forex rate shall be aplicable on the day on which FOREX is released ",n.a.createElement("br",null)," and all relevant documents are duly signed by passanger."),n.a.createElement("li",null,"Subject to KOLKOTA Jurisdiction."),n.a.createElement("li",null,"Please retail Receipt & produce while availing forex."))))};var In=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),c=sessionStorage.getItem("startDate"),o=sessionStorage.getItem("endDate"),u=sessionStorage.getItem("branchDisable"),[E,p]=Object(l.useState)(null),[b,g]=Object(l.useState)(new Date),[h,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)({value:"BK",label:"Bank Book"}),[N,v]=Object(l.useState)("C"),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[k,D]=Object(l.useState)("N"),[L,x]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(null),[F,R]=Object(l.useState)("0"),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(!1),[V,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)([]),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)([]),[Z,ee]=Object(l.useState)("0"),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(null),[ue,se]=Object(l.useState)([]),[ie,Ee]=Object(l.useState)(null),[de,pe]=Object(l.useState)(""),[be,ge]=Object(l.useState)(""),[he,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[ke,Le]=Object(l.useState)(""),[Ae,we]=Object(l.useState)(!0),[Fe,Re]=Object(l.useState)(!1),[Ge,Je]=Object(l.useState)("10"),[qe,ze]=Object(l.useState)(""),[Ve,Qe]=Object(l.useState)("0"),[Ke,Ze]=Object(l.useState)("0"),[$e,ea]=Object(l.useState)("0"),[la,na]=Object(l.useState)(!1),[ra,ca]=Object(l.useState)(""),[ma,ua]=Object(l.useState)(!1),[sa,ia]=Object(l.useState)(""),[Ea,da]=Object(l.useState)(""),[ga,ha]=Object(l.useState)(""),[va,Ca]=Object(l.useState)("0"),[_a,Ta]=Object(l.useState)(!1),[Da,xa]=Object(l.useState)(null),[Aa,Ia]=Object(l.useState)(null),[wa,Ma]=Object(l.useState)({value:0,label:"Select"}),[Fa,Ga]=Object(l.useState)(0),[Pa,za]=Object(l.useState)(""),[Va,Qa]=Object(l.useState)(!1),[Ya,Ka]=Object(l.useState)(!1),[Ha,Wa]=Object(l.useState)(""),[Xa,Za]=Object(l.useState)(""),[$a,et]=Object(l.useState)(new Date),[at,lt]=Object(l.useState)(""),[nt,mt]=Object(l.useState)(null),[ut,st]=Object(l.useState)("T"),[it,Et]=Object(l.useState)(""),[dt,pt]=Object(l.useState)(""),[bt,ht]=Object(l.useState)(""),[St,yt]=Object(l.useState)(""),[Ot,Nt]=Object(l.useState)(""),[Ct,_t]=Object(l.useState)("0"),[ft,Tt]=Object(l.useState)("0"),[kt,Dt]=Object(l.useState)(""),[Lt,xt]=Object(l.useState)(!1),[At,Mt]=Object(l.useState)(!1),[Ft,Rt]=Object(l.useState)(""),[Pt,Jt]=Object(l.useState)(0),[Bt,qt]=Object(l.useState)(!1),[Vt,Qt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Ut,Yt]=Object(l.useState)(""),[Kt,Ht]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Wt,Zt]=Object(l.useState)(!1),[$t,el]=Object(l.useState)("0"),al=new Date;Object(l.useEffect)(()=>{j||(oa().then(e=>{p(e),null!=e&&ml(e)}),De(_,[a,"all","TRAN_BOOK_ENTRY"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),T(!0))},[j,a,e]);const tl=()=>{var e=[],t=0;if(console.log(U),console.log(Ke),console.log(Ve),console.log($e),"0"==U.length)ca("You can't save without adding data"),na(!0);else if("0.00"!=$e)e[t++]="0.00"!=$e?"Total Debit and Total Credit should be equal":"",ca(ta(e)),na(!0);else if("E"===ga&&""===Ft)Mt(!0),La()(".loader").hide();else{const e={remark:Ft,activitytype:1==Pt?"MODIFY":"CREATE",subtranno:Pt,trannumber:F,trantype:y.value,trancategory:"T",branch:J,location:J,date:Ue(V),type:y.value,narration:Ea,bookList:U,radioType:k,scrMode:ga,srNo:F,totalCredit:Ke,totalDebit:Ve,chequeSrno:St,chequeLine:bt,chequeLocation:Ot,chequeNum:Ha,randomString:$t,knockoffValue:ie};if(console.log(e),De($,[a,"saveBookEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);te(a.srno),console.log(a),"N"==k?(Y(a.resarray),R(a.srno),ha("Q"),Yt(Ue(new Date))):(da(Ea),Y(a.resarray),ha("Q")),xt(!1),Ca(0),Ta(!1),Rt("")}),"E"==ga){const e={srno:F,type:y.value,status:"E",currentDate:Ue(al),pageright:"TRAN_BOOK_ENTRY"};De(Se,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}},ll=()=>{var e=[],t=0;if(null===E||"S"==k&&!L||"S"==k&&!A||"D"==k&&!b||"D"==k&&!h)e[t++]=d("MSG0006"),e[t++]=null==E?" Select location.":"",e[t++]="S"!=k||L?"":" From Srno.",e[t++]="S"!=k||A?"":" To Srno.",e[t++]="D"!=k||b?"":" From date.",e[t++]="D"!=k||h?"":" To date.",ca(ta(e)),na(!0);else{const e={date:Ue(V),type:y.value,location:J,radioType:k,fromSrno:L,toSrno:A,fromDate:Ue(b),toDate:Ue(h)};De($,[a,"showBookEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),X(a),H(!0)})}},nl=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++){let n=0;"D"==e[a].tfd_flag?t+=1*(n=e[a].tfd_amount<0?-1*e[a].tfd_amount:e[a].tfd_amount):l+=1*(n=e[a].tfd_amount>0?-1*e[a].tfd_amount:e[a].tfd_amount)}Qe(t),Ze(l);let n=t+l;console.log("hi",n,typeof n),ea(n.toFixed(2)),console.log(n),n<0?(console.log("jjjjjj"),v("D"),f(-1*n)):0==n?f(""):(v("C"),f(n))},rl=()=>{Re(!1),we(!0)},cl=()=>{var e=[],t=0;if(null==w)e[t++]=d("MSG0006"),e[t++]=null==w?"Please select account.":"",ca(ta(e)),na(!0);else{const e={data:"".concat(N,"^").concat(Ct,"^").concat(ft,"^").concat(Ue(V)),limit:Ge,srch:qe};De($,[a,"getknockoff",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),se(a)}),Re(!0),we(!1)}},ol=(e,a,t)=>{let l=ue.map((l,n)=>e===n?"tfd_amount"===t?{...l,[t]:a.target.value}:a.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}:l);console.log(l),se(l)},ml=e=>{p(e);const a=e.id.split("^");B(a[1]),P(a[2]),sessionStorage.activeBranch=a[1]},ul=e=>{Et(e);const a=e.id.split("^");console.log(a),Wa(a[4]),pt(a[4]),yt(a[1]),ht(a[2]),Nt(a[3]),et(a[5])},sl=e=>{Dt(e)};return n.a.createElement(n.a.Fragment,null,"P"===kt?n.a.createElement(n.a.Fragment,null,n.a.createElement(xn,{srno:F,location:J,type:y.value,hidePrint:sl})):"A"===kt?n.a.createElement(n.a.Fragment,null,n.a.createElement(An,{srno:F,location:J,type:y.value,hidePrint:sl})):n.a.createElement(n.a.Fragment,null,Va?n.a.createElement(pl,{value:"FABOOK",hideIndividualProfile:(e,t)=>{Qa(e),t>0&&De($,[a,"individual",t],e=>{console.log(e);let a=JSON.parse(e);xa(a)})}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h2",null,"FA Book Entry  ",n.a.createElement("span",{style:{color:"white"}},Z)))),"\xa0",""==ga?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:E,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:e=>ml(e),isDisabled:"true"===u}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(Ua.a,{value:y,onChange:e=>O(e),options:[{value:"BK",label:"Bank Book"},{value:"CS",label:"Cash Book"},{value:"JV",label:"Journal Voucher"}]}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Oa.a,{style:{marginTop:"30px"}},n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"N"===k,onChange:()=>D("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"S"===k,onChange:()=>D("S"),type:"radio",label:"SrNo"})),n.a.createElement(Na.a,null,n.a.createElement(s.a.Check,{checked:"D"===k,onChange:()=>D("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Oa.a,null,"N"===k?n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:V,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))):"S"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:L,onChange:e=>Ie(e.target.value,x)}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:A,onChange:e=>Ie(e.target.value,I)})))):"D"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:b,onChange:e=>g(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:h,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"N"==k?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,t=Ue(V);null!==E&&V?t>o||t<c?(ca(d("MSG0010")),na(!0)):(ha("A"),R(0),M(null),H(!1),z(!0),Y([]),Ze("0"),Qe("0"),ea("0"),da(""),ce(y.value),ne(Ye(V)),el(Xe(15))):(e[a++]=d("MSG0006"),e[a++]=null===E?"Select Location.":"",e[a++]=V?"":"Select Date.",ca(ta(e)),na(!0)),Ca(0),Jt(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:ll},"List"))),"\xa0",K&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===t.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Debit"),n.a.createElement("th",null,"Total Credit"))),n.a.createElement("tbody",null,W.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===t.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l,n,r)=>{La()(".loader").show(),Yt(r),"N"==k&&D("A"),R(e);const c={srNo:e,location:J,date:l,type:t,narration:n,operation:"view"};De($,[a,"viewdata",JSON.stringify(c)],a=>{let r=JSON.parse(a);console.log(r),Y(r),La()(".loader").hide(),ha("Q"),H(!1),z(!0),te(e),ne(l),ce(t),da(n),nl(r),xa(null),p(null)})})(e.tfh_srno,e.tfh_type,e.formatted_date,e.tfh_narration,e.tfh_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(pa.a,{icon:ba.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfh_total_debit),n.a.createElement("td",null,e.tfh_total_credit)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"A"==ga||"E"==ga?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{ua(!0),ia("Do you really want to exit")}},"Cancel"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{ha("")}},"Back"),"\xa0","1"===t.edit&&"Q"===ga?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Ut.split("/");console.log(t);const l=t[2]+"-"+t[1]+"-"+t[0],n=Ue(e),r=new Date(l),c=new Date(n),o=c-r;console.log(c,r);const m=Math.ceil(o/864e5);console.log(m);const u={srno:0===F?ae:F,type:y.value,pageright:"TRAN_BOOK_ENTRY"};De(Se,[a,"checkUnlock",JSON.stringify(u)],a=>{let t=JSON.parse(a);_e==m||"unlock"==t?ha("E"):(qt(!0),Qt({trantype:y.value,trannumber:0==ae?F:ae,location:J,tranDate:Ue(e)}))})})()},"Edit"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void Dt("P")},"Print")," \xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void Dt("A")},"Advance")):null,"1"===t.edit&&"E"===ga||"1"===t.add&&"A"===ga?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{let e;if("BK"===y.value)e=["BANK","CHEQUE"];else if("CS"===y.value)e=["CASH"];else if("JV"===y.value){if(U.some(e=>["BANK","CASH","CHEQUE"].includes(e.tfd_account_type)))return ca("No account should have type BANK , CHEQUE or CASH"),void na(!0);tl()}if(e){if(!U.some(a=>Array.isArray(e)?e.includes(a.tfd_account_type):a.tfd_account_type===e))return ca("At least one account should be of  '".concat(e.join("' or '"),"'")),void na(!0);tl()}}},"Save"):null,"\xa0","1"!==t.query||"E"!==ga&&"Q"!==ga?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Zt(!0),void Ht({trantype:y.value,trannumber:F,trancategory:"T"}))},"Activity Log")))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",F))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type : ",re))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",G))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",le)))),"\xa0","E"==ga||"A"==ga?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cr/Dr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:N,onChange:e=>(e=>{v(e.target.value);const a=e.target.value;null!=w&&"CHEQUE"==w.id.split("^")[4]&&"C"==a&&(ca("'CHEQUE'can not be Credit"),na(!0),v("D"))})(e),required:!0},n.a.createElement("option",{value:"C"},"Credit"),n.a.createElement("option",{value:"D"},"Debit")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ot(e,1),onInputChange:rt,onChange:e=>{M(e),me(e);const a=e.id.split("^");console.log(a),a[1];const t=a[4];lt(t),_t(a[1]),Tt(a[2]),"WALKIN"==t?(Ta(!0),mt(null)):"CHEQUE"==t?(v("D"),Ka(!0),xa(null),Ta(!1),mt("I")):(xa(null),Ta(!1),Ka(!1),mt(null))}}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:C,maxLength:fe,onChange:e=>Me(e.target.value,f),placeholder:"Amount",disabled:!Ae})))),"\xa0",n.a.createElement(Oa.a,null,Ae&&n.a.createElement(Na.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Knockoff",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:ie,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>jt(e,1,"".concat(N,"^").concat(Ct,"^").concat(ft,"^").concat(Ue(V))),onInputChange:rt,onChange:e=>{Ee(e),console.log(e);const a=e.id.split("^");console.log(a),pe(a[3]),ge(a[2]),ye(a[6]),Ce(a[4]),Ne(a[8]),Te(a[9]),Le(a[10])}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-primary",onClick:cl},"Selective Knockoff"))),"\xa0",n.a.createElement(Ba.a,{show:Fe,onHide:rl,size:"xl"},n.a.createElement(Ba.a.Header,{closeButton:!0},n.a.createElement(Ba.a.Title,null,"Selective Knockoff")),n.a.createElement(Ba.a.Body,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Control,{value:qe,maxLength:fe,placeholder:"Search",onChange:e=>Pe(e.target.value,ze)})),"\xa0",n.a.createElement(Na.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:Ge,onChange:e=>Je(e.target.value),required:!0},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"2"},"15"),n.a.createElement("option",{value:"20"},"20"))),"\xa0",n.a.createElement(Na.a,{className:"col-md-3 "},n.a.createElement(i.a,{variant:"outline-primary",onClick:cl},"Search"))),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Pending"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Amount"),n.a.createElement("th",null,"KnockOff Amount"))),n.a.createElement("tbody",null,ue.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null," ",n.a.createElement(s.a.Check,{type:"checkbox",checked:"1"==e.ischecked,name:"ischecked",onChange:e=>ol(a,e,"ischecked")})),n.a.createElement("td",null," ",n.a.createElement(s.a.Control,{value:e.tfd_amount,name:"tfd_amount",onChange:e=>ol(a,e,"tfd_amount")})),n.a.createElement("td",null,e.tfd_knockoff_type),n.a.createElement("td",null,e.tfd_date),n.a.createElement("td",null,e.total_amount),n.a.createElement("td",null,e.knockoff_amount)))))))),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:rl},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{const e={knockoffData:ue,randomString:$t};De($,[a,"addknockoffSelective",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),Re(!1),we(!0),ee(Z+1),z(!0),v("C"),M(null),xa(null),nl(a),Ee(null),ge(""),pe(""),ye(""),f("")});for(let a=0;a<ue.length;a++)ue[a].tfd_transfer_type="",ue[a].tfd_cheque_status="",ue[a].cheque_date="",ue[a].tfd_cheque_bank_name="",ue[a].tfd_cheque_no="",ue[a].tfd_individual_code="",ue[a].tfd_account_type="",ue[a].chequeValueNum="","0"!=ue[a].ischecked&&Y(We(U,ue[a]))}},"Add"))),n.a.createElement(Oa.a,null,"BANK"==at&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ut,onChange:e=>st(e.target.value),required:!0},n.a.createElement("option",{value:"T"},"Transfer/Ref No."),n.a.createElement("option",{value:"C"},"Cheque")))),"CHEQUE"==at?n.a.createElement(n.a.Fragment,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ha,maxLength:fe,onChange:e=>Be(e.target.value,Wa),placeholder:"CHEQUE"==at||"BANK"==at&&"C"==ut?"Cheque Number":"Reference Number"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Xa,maxLength:100,onChange:e=>xe(e.target.value,Za),placeholder:"Bank Name"}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:$a,onChange:e=>et(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))):"BANK"==at?n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,"C"==N&&"T"==ut&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ha,maxLength:100,onChange:e=>Be(e.target.value,Wa),placeholder:"Reference Number"})),"C"==N&&"C"==ut&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:it,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>vt(e,Ct,ft,J),onInputChange:rt,onChange:e=>ul(e)})),"D"==N&&"T"==ut&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ha,maxLength:100,onChange:e=>Be(e.target.value,Wa),placeholder:"Reference Number"})),"\xa0","D"==N&&"C"==ut&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:it,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>vt(e,Ct,ft,J),onInputChange:rt,onChange:e=>ul(e)})),"\xa0")),"D"==N&&"C"==ut&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Xa,maxLength:100,onChange:e=>xe(e.target.value,Za),placeholder:"Bank Name"}))),"\xa0"):null),n.a.createElement(Oa.a,null,_a&&n.a.createElement(Na.a,{className:"col-md-9  col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile","A"===ga&&n.a.createElement("span",null,"  ",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>void Qa(!0)},"Not in list? Create New "),n.a.createElement("span",null,n.a.createElement(Xt.a,{bg:"secondary",onClick:()=>{xa(null)}},"Reset")))),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:Da,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:gt,onInputChange:rt,onChange:e=>{console.log(e),xa(e),null==Aa&&Ma({value:Fa,label:Pa})},isDisabled:"Q"===ga,formatOptionLabel:It,components:{Menu:wt}})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;let l,n;if(La()(".loader").show(),null!=w&&(n=(l=w.id.split("^"))[4]),""==C||null==w||"CHEQUE"==n&&null==$a||"CHEQUE"==n&&""==Ha||"CHEQUE"==n&&""==Xa||"BANK"==n&&"C"==N&&"T"==ut&&""==Ha||"BANK"==n&&"C"==N&&"C"==ut&&""==Ha||"D"==N&&"T"==ut&&"BANK"==n&&""==Ha||"D"==N&&"C"==ut&&"BANK"==n&&""==Ha||"D"==N&&"C"==ut&&"BANK"==n&&""==Xa)La()(".loader").hide(),e[t++]=d("MSG0006"),e[t++]=null==w?"Please select account.":"",e[t++]=""===C?"Please fill amount.":"",e[t++]="CHEQUE"==n&&""==Ha?"Fill Cheque number":"",e[t++]="CHEQUE"==n&&""==Xa?"Fill Bank Name":"",e[t++]="CHEQUE"==n&&null==$a?"Please select date.":"",e[t++]="BANK"==n&&"C"==N&&"T"==ut&&""==Ha?"Fill Reference Number":"",e[t++]="BANK"==n&&"C"==N&&"C"==ut&&""==Ha?"Fill Cheque Number":"",e[t++]="BANK"==n&&"D"==N&&"T"==ut&&""==Ha?"Fill Reference Number":"",e[t++]="BANK"==n&&"D"==N&&"C"==ut&&""==Ha?"Fill Cheque Number":"",e[t++]="D"==N&&"C"==ut&&"BANK"==n&&""==Xa?"Fill Bank Name":"",ca(ta(e)),na(!0);else{Ca(va+1),La()(".loader").hide(),l[1],l[2];let e="",t=0;if(console.log(Da),null!=Da){let a=Da.id.split("^");e=a[2],t=a[1]}let r="",c="";"CHEQUE"==n?r=Ue($a):"BANK"==n&&(c=ut,r=$a);let o,m=C;"C"==N?C>0&&(m=-1*C):C<0&&(m=-1*C),null==ie?o={uniquekey:Xe(15),tfd_date:Ue(V),type:y.value,tfd_type:y,tfd_flag:N,tfd_amount:m,tfd_location:J,tfd_group:l[1],tfd_account:l[2],tfd_account_type:l[4],mvli_ledger_name:l[3],srno:F,tfd_individual:e,tfd_individual_code:t,tfd_cheque_no:Ha,tfd_cheque_bank_name:"BANK"==n?l[3]:Xa,cheque_date:Ue(r),tfd_cheque_status:nt,chequeValueNum:dt,tfd_transfer_type:c,tfd_knockoff_srno:"null",tfd_knockoff_type:"",tfd_knockoff_lineno:"null",delny:"Y"}:(o={tfd_location:J,tfd_type:be,tfd_srno:de,tfd_line_no:ve,tfd_knockoff_type:be,tfd_knockoff_srno:de,tfd_knockoff_lineno:ve,tfd_group:Ct,tfd_account:ft,tfd_amount:m,tfd_flag:"D"==je?"C":"D",tfd_date:Ue(V),mvli_ledger_name:ke,randomString:$t,delny:"Y",tfd_transfer_type:"",tfd_cheque_status:"",cheque_date:"",tfd_cheque_bank_name:"",tfd_cheque_no:"",tfd_individual_code:"",tfd_account_type:"",chequeValueNum:""},De($,[a,"addknockoffSingle",JSON.stringify(o)],e=>{JSON.parse(e)})),Y(We(U,o)),ee(Z+1),z(!0),f(""),v("C"),M(null),Za(""),Wa(""),Za(""),xa(null),mt(null),nl(U),et(new Date),lt(""),st("T"),Ee(null),ge(""),pe(""),ye("")}}},"Add"),"\xa0",n.a.createElement(s.a.Check,{type:"checkbox",label:"Show Additional Details",checked:Lt,onChange:()=>{xt(!Lt)}})))):null,"\xa0",q&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,"0"!=$e&&n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,Lt?n.a.createElement("td",{colSpan:10}):n.a.createElement("td",{colSpan:7}),0!=$e&&n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Difference:")," ",n.a.createElement("span",null,$e)))),n.a.createElement("tr",null,Lt?n.a.createElement("td",{colSpan:9}):n.a.createElement("td",{colSpan:6}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Debit:")," ",n.a.createElement("span",null,Math.abs(Ve))),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Credit:")," ",n.a.createElement("span",null,Math.abs(Ke)))),n.a.createElement("tr",null,"1"===t.delete?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Knockoff"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"),Lt&&n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Cheque Number"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Cheque Bank Name")))),n.a.createElement("tbody",null,U.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===t.delete?n.a.createElement("td",{className:"textCenter"},"E"!=ga&&"A"!=ga||"Y"!=e.delny?null:n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o)=>{if(console.log(e,t,l,n,r,c,o),"E"==ga){const t={location:l,type:n,srno:r,lineno:c,amt:o<0?-1*o:o,randomString:$t};console.log(t),De($,[a,"deleteKnockoff",JSON.stringify(t)],a=>{JSON.parse(a),Y(He(U,"uniquekey",e)),console.log(U),ee(Z-1),console.log(U),nl(U)})}else console.log(e),Y(He(U,"uniquekey",e)),ee(Z-1),console.log(U),nl(U),console.log(U)})(e.uniquekey,e.tfd_cheque_no,e.tfd_location,e.tfd_type,e.tfd_srno,e.tfd_line_no,e.tfd_amount)},n.a.createElement(pa.a,{icon:ja.o}))):null,n.a.createElement("td",null,e.tfd_line_no),n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tfd_individual),n.a.createElement("td",null,"null"==e.tfd_knockoff_srno||null==e.tfd_knockoff_srno?null:e.tfd_knockoff_type+"^"+e.tfd_knockoff_srno+"^"+e.tfd_knockoff_lineno),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&Math.abs(e.tfd_amount)),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&Math.abs(e.tfd_amount)),Lt&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.cheque_date),n.a.createElement("td",null,e.tfd_cheque_bank_name)))))))),""!=ga?n.a.createElement(Ln.a,{controlId:"floatingTextarea2",label:"Narration"},n.a.createElement(s.a.Control,{value:Ea,maxLength:500,as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:e=>da(e.target.value),disabled:"Q"==ga})):null),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0")))),n.a.createElement(qa,{logObject:Kt,show:Wt,onHide:()=>Zt(!1)}),n.a.createElement(Sa,{isOpen:la,onClose:e=>na(!1)},ra),n.a.createElement(Ja,{isOpen:ma,onYes:e=>(ha(""),H(!0),ll(),xt(!1),ua(!1),O({value:"BK",label:"Bank Book"}),f(""),M(null),xa(null),void Ta(!1)),onNo:e=>ua(!1)},sa),n.a.createElement(zt,{logObject:Vt,show:Bt,onHide:()=>qt(!1)}),n.a.createElement("div",null,n.a.createElement(Ba.a,{size:"lg",show:At,onHide:()=>Mt(!1),animation:!1,centered:!0},n.a.createElement(Ba.a.Body,null,"E"===ga?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:Ft,onChange:e=>xe(e.target.value,Rt),autoComplete:"off",required:!0}))):null),n.a.createElement(Ba.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===ga&&""===Ft?(Mt(!1),ca("Please fill Activity Remark!"),na(!0)):(tl(),Mt(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Mt(!1)},"Cancel")))))};var wn=function(){const e=sessionStorage.getItem("sessionId"),a=sessionStorage.getItem("userSrno"),t=Object(m.n)(),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(""),[L,x]=Object(l.useState)(1==b.edit?"G":"S"),[A,I]=Object(l.useState)(""),[w,M]=Object(l.useState)(!1),[F,R]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)("P"),[V,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)("10"),[se,ie]=Object(l.useState)();function Ee(e){x("S"),I(e)}function de(){M(!1),R("");var a=[],t=0;if(La()(".loader").show(),a[t++]=d("MSG0006"),!y&&(a[t++]=" Account."),!N&&!j&&(a[t++]=" Amount."),!C&&(a[t++]=" Till Date."),console.log(Ue(C),Ue(new Date),Ue(C)<Ue(new Date)),0===te&&C&&Ue(C)<Ue(new Date)&&(a[t++]=" Till Date can't be selected as Past date."),!j&&!N&&(a[t++]=" Additional Days."),!k&&(a[t++]=" Request Remark."),t>1)B(ta(a)),P(!0),La()(".loader").hide();else{const a=y.id.split("^")[1],t=y.id.split("^")[2],l={locationType:"G"===L?"G":"O",location:"G"===L?0:A.id.split("^")[1],group:a,account:t,amount:N||0,tillDate:Ue(C),additionalDays:j||0,remark:k,status:q,approverRemark:ee,srno:te,filterStatus:ce,limit:me};De(Ce,[e,"addNew",JSON.stringify(l)],e=>{La()(".loader").hide();let a=JSON.parse(e);""===a.err?(p(a.list),pe()):(B(a.err),P(!0)),c("")})}}function pe(){R(""),M(!1),D(""),T(),f(),v(),O(),z("P"),ae(""),le(0),Q(""),ie()}function be(){c(""),M(!1),R(""),pe()}return Object(l.useEffect)(()=>{o||(De(_,[e,"all","TRAN_ADDITIONAL_CREDIT"],function(e){let a=JSON.parse(e);"1"===a.query?S(a):t("/")}),De(_,[e,"all","TRAN_ADDITIONAL_CREDIT_APPROVAl"],function(e){let a=JSON.parse(e);"1"===a.query&&g(a)}),ct("").then(e=>{console.log(e),1===e.length&&(I(e[0]),console.log(e[0])),re(e)}).catch(e=>{console.error("Error fetching allowed locations:",e)}),u(!0))},[o,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Additional Limit"))),n.a.createElement(Oa.a,null,"\xa0"),""===r?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),"1"===b.edit?n.a.createElement(s.a.Select,{value:L,onChange:e=>(function(e){"G"===e?(x("G"),I("")):x(e)})(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),"1"===b.edit&&n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"S"},"Selective")):n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Ee,isDisabled:1===ne.length}))),"S"===L&&"1"===b.edit&&n.a.createElement(Na.a,{className:"col-md-4"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"\xa0"),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:Ee}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ce,onChange:e=>oe(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"A"},"Approved"),n.a.createElement("option",{value:"R"},"Rejected")))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Limit",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:me,onChange:e=>ue(e.target.value)},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"20"},"20"),n.a.createElement("option",{value:"50"},"50"))))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){var e=[],a=0;e[a++]=d("MSG0006"),"G"!=L&&!A&&(e[a++]=" Location."),a>1?(console.log("i",a),B(ta(e)),P(!0)):c("A")}},"Add New"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){La()(".loader").show(),console.log(L,A);var a=[],t=0;if(a[t++]=d("MSG0006"),"G"!==L&&!A&&(a[t++]=" Location."),t>1)console.log("i",t),B(ta(a)),P(!0),La()(".loader").hide();else{const a={locationType:"G"===L?"G":"O",location:"G"===L?0:null===A||void 0===A?void 0:A.id.split("^")[1],filterStatus:ce,limit:me};De(Ce,[e,"getCreditLimitList",JSON.stringify(a)],e=>{La()(".loader").hide();let a=JSON.parse(e);""===a.err?p(a.list):(B(a.err),P(!0))})}})()},"List"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===h.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Requester Name"),n.a.createElement("th",null,"Requesting Date"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Additional Amount"),n.a.createElement("th",null,"Additional Days"),n.a.createElement("th",null,"Till Date"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Approver Name"),n.a.createElement("th",null,"Approved Date"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.entity_id},n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue"},n.a.createElement(pa.a,{icon:ja.i,onClick:()=>(function(e){console.log(e.tilldate,"     ",typeof e.tilldate),c("V"),x(e.locationtype),I({id:"^"+e.location+"^"+e.branchname+"^",label:e.location+" "+e.branchname}),z(e.status),f(new Date(null===e||void 0===e?void 0:e.tilldate)),D(e.requesterremark),Y(e.requestername),$(e.requestingdate),H(e.approvername),X(e.approveddate),T(e.additionaldays),v(e.additionalamount),O({id:"^"+e.account.split(" ").join("^")+"^",label:e.account}),le(e.srno),Q(e.status),ae(e.approvedremark)})(e)}))),n.a.createElement("td",null,e.srno),n.a.createElement("td",null,"P"===e.status?"Pending":"A"===e.status?"Approved":"Rejected"),n.a.createElement("td",null,e.requestername),n.a.createElement("td",null,Ke(e.requestingdate)),n.a.createElement("td",null,e.account),n.a.createElement("td",null,e.additionalamount),n.a.createElement("td",null,e.additionaldays),n.a.createElement("td",null,Ke(e.tilldate)),n.a.createElement("td",null,"G"===e.locationtype?"G":e.branchname),n.a.createElement("td",null,e.approvername),n.a.createElement("td",null,Ke(e.approveddate))))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null," Srno : ")," ",te))," "),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"1"===b.edit&&"G"===L?n.a.createElement(n.a.Fragment,null," ",n.a.createElement("b",null,"Location : "),"Global"):n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null," Location : "),null===A||void 0===A?void 0:A.label)))),"A"!=r&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Requester Name : "),U," ")),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Requesting Date : "),Ke(Z))),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Approver Name : "),K,"  ")),n.a.createElement(Na.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Approving Date : "),Ke(W)," ")))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>mt(e,1),onInputChange:rt,onChange:function(e){O(e)},isDisabled:"V"===r||"P"!==V&&"E"===r||0!=te&&U.split(" ")[0]!==a}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:N,maxLength:fe,onChange:e=>Ie(e.target.value,v),placeholder:"Amount",disabled:"V"===r||"P"!==V&&"E"===r||0!=te&&U.split(" ")[0]!==a}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Additional Days",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:j,maxLength:3,onChange:e=>Ie(e.target.value,T),placeholder:"Additional Days",disabled:"V"===r||"P"!==V&&"E"===r||0!=te&&U.split(" ")[0]!==a}))),n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,{className:"al_date_picker_width"},n.a.createElement(s.a.Label,null,"Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(Gt.a,{className:"form-control",selected:C,onChange:e=>{f(e)},dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"V"===r||"P"!==V&&"E"===r||0!=te&&U.split(" ")[0]!==a,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-8 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Request Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:k,maxLength:"100",onChange:e=>xe(e.target.value,D),placeholder:"Request Remark",disabled:"V"===r||"P"!==V&&"E"===r||0!=te&&U.split(" ")[0]!==a})))),"\xa0",0!=te&&"A"!=r&&n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:q,onChange:e=>z(e.target.value),disabled:"V"===r||"1"!==b.edit||"P"!==V,required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"A"},"Approved"),n.a.createElement("option",{value:"R"},"Rejected")))),"P"!==q&&n.a.createElement(Na.a,{className:"col-md-8 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Approve Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ee,maxLength:"100",onChange:e=>xe(e.target.value,ae),placeholder:"Approve Remark",disabled:"V"===r||"P"!==V})))),"\xa0",n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,"A"===r?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:de},"Save"):"E"===r?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){"E"===r?(R("Do You Really want to Update;"),M(!0),ie(()=>de)):(M(!1),R(""),c(""),pe())}},"Update"):"P"===V&&(U.split(" ")[0]===a||"1"===b.edit)&&n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>c("E")},"Edit"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void("A"===r||"E"===r?(R(d("WRN0000")),M(!0),ie(be)):(M(!1),R(""),c(""),pe()))},"Back"))))),n.a.createElement(Ja,{isOpen:w,onYes:se,onNo:e=>M(!1)},F),n.a.createElement(Sa,{isOpen:G,onClose:e=>P(!1)},J))};function Mn(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,E]=Object(l.useState)([]),[d,p]=Object(l.useState)(null),[b,g]=Object(l.useState)(0),[h,S]=Object(l.useState)("A"),[y,O]=Object(l.useState)(!1);Object(l.useEffect)(()=>{c||(oa().then(e=>{p(e),null!=e&&N(e)}),De(_,[a,"all","TRAN_AUDIT_TRAIL"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);const N=e=>{O(!1),p(e);var a=e.id.split("^");g(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-3 col-md-3"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{La()(".loader").show();let e={location:b,product:h};De(pe,[a,"getratecard",JSON.stringify(e)],e=>{let a=JSON.parse(e);O(!0),E(a),La()(".loader").hide()})}},"Generate"))),n.a.createElement(Na.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:d,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:N}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:h,onChange:e=>{S(e.target.value),O(!1)},required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD")))),n.a.createElement(Oa.a,null,"\xa0"),y?n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement(Ra.a,{respo:!0,nsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Currencies"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"We Sell"),n.a.createElement("th",null,"We Buy"))),n.a.createElement("tbody",null,u.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.mrc_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,"C"==e.mrc_product?"CN":"R"==e.mrc_product?"Card":"D"==e.mrc_product?"DD":"T"==e.mrc_product?"TT":null),n.a.createElement("td",null,e.mrc_sale_rate),n.a.createElement("td",null,e.mrc_buy_rate))))))):null)))}var Fn=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(null),[u,E]=Object(l.useState)("V"),[d,p]=Object(l.useState)("0"),[b,g]=Object(l.useState)("G"),[h,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(new Date),[N,v]=Object(l.useState)(new Date),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)(""),[k,D]=Object(l.useState)(!0);Object(l.useEffect)(()=>{oa().then(e=>{o(e),null!=e&&L(e)}),De(_,[e,"all","REP_COMMISSION_VIEW"],function(e){let t=JSON.parse(e);r(t),"0"===t.query&&a("/")})},[]);const L=e=>{o(e);var a=e.id.split("^");p(a[1]),S([]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,null),n.a.createElement(ka,null),n.a.createElement(ya.a,{fluid:!0},n.a.createElement(Oa.a,null,n.a.createElement(Na.a,null,n.a.createElement("h3",null,"Commission Status"))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Type"),n.a.createElement(s.a.Select,{value:b,onChange:e=>(e=>{S([]),g(e)})(e.target.value)},n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"S"},"Selective")))),"S"===b&&n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(tt.a,{cacheOptions:!1,defaultOptions:!1,value:c,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ct,onInputChange:rt,onChange:L}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{value:u,onChange:e=>E(e.target.value)},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download")))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(Gt.a,{className:"form-control",selected:y,onChange:e=>O(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})}))),n.a.createElement(Na.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(Gt.a,{className:"form-control",selected:N,onChange:e=>v(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>aa(e.target.value,e.target)})})))),"1"===t.query&&n.a.createElement(Oa.a,{className:"mt-2"},n.a.createElement(Na.a,{className:"col-md-4 d-flex align-items-center"},n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>{La()(".loader").show();const a={location:d,locationtype:b,mode:u,frmdate:Ue(y),todate:Ue(N)};null===y||null===N?(La()(".loader").hide(),f(!0),T("Please fill from-to dates.")):"V"===u?De(ve,[e,"repcommissionstatus",JSON.stringify(a)],e=>{La()(".loader").hide(),console.log(e),S(JSON.parse(e))}):(La()(".loader").hide(),$e(ve,"post",[e,"repcommissionstatus",JSON.stringify(a)]))}},"Generate"),"\xa0\xa0",n.a.createElement("span",null,n.a.createElement(s.a.Check,{checked:k,onChange:e=>D(e.target.checked),type:"checkbox",label:"View Payment Details"})))),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,n.a.createElement(Ra.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Creation Date"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"Net Margin(Sale)"),n.a.createElement("th",null,"Total GST"),n.a.createElement("th",null,"Total TDS"),n.a.createElement("th",null,"Total Payable"),n.a.createElement("th",null,"Submitted for Approval"),n.a.createElement("th",null,"BM Approved"),n.a.createElement("th",null,"ZM Approved"),n.a.createElement("th",null,"Payment"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Reference No"),n.a.createElement("th",null,"Payment Date"),n.a.createElement("th",null,"Bank Group"),n.a.createElement("th",null,"Bank Account")))),n.a.createElement("tbody",null,h.map(e=>n.a.createElement("tr",{key:e.det_srno+""+e.det_location},n.a.createElement("td",null,e.det_srno),n.a.createElement("td",{style:{backgroundColor:"1"===e.tmp_bank_file_downloaded&&"green"}},e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.det_commission_total),n.a.createElement("td",null,e.det_margin_total),n.a.createElement("td",null,1*e.det_cgst+1*e.det_igst+1*e.det_sgst),n.a.createElement("td",null,e.det_tds),n.a.createElement("td",null,e.det_commission_net),n.a.createElement("td",null,"1"===e.det_submit_approval?"Yes":"No"),n.a.createElement("td",null,"1"===e.det_bm_approved?"Yes":"No"),n.a.createElement("td",null,"1"===e.det_zm_approved?"Yes":"No"),n.a.createElement("td",null,"1"===e.tmp_bank_file_downloaded?"Yes":"No"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tmp_ref_no),n.a.createElement("td",null,e.tmp_value_date),n.a.createElement("td",null,e.tmp_from_ftbank_group),n.a.createElement("td",null,e.tmp_from_ftbank_account)),"1"===sessionStorage.getItem("userSrno")&&n.a.createElement("td",null,e.det_bmhdr_srno))))))),n.a.createElement(Sa,{isOpen:C,onClose:e=>f(!1)},j),n.a.createElement(Oa.a,null,"\xa0"),n.a.createElement(Oa.a,null,"\xa0"))};let Rn={position:"fixed",bottom:"0",width:"100%",backgroundColor:"#00A1E4",color:"#ffffff"};var Gn=function(){return n.a.createElement("div",null,n.a.createElement(m.c,null,n.a.createElement(m.a,{exact:!0,path:"/",element:n.a.createElement(Fa,null)}),n.a.createElement(m.a,{exact:!0,path:"*",element:n.a.createElement(Fa,null)}),n.a.createElement(m.a,{exact:!0,path:"/login",element:n.a.createElement(Fa,null)}),n.a.createElement(m.a,{exact:!0,path:"/home",element:n.a.createElement(Ia,null)}),n.a.createElement(m.a,{exact:!0,path:"/user-list",element:n.a.createElement(Mt,null)}),n.a.createElement(m.a,{exact:!0,path:"/right-list",element:n.a.createElement(Ya,null)}),n.a.createElement(m.a,{exact:!0,path:"/changepassword",element:n.a.createElement(Aa,null)}),n.a.createElement(m.a,{exact:!0,path:"/country-list",element:n.a.createElement(Va,null)}),n.a.createElement(m.a,{exact:!0,path:"/city-list",element:n.a.createElement(za,null)}),n.a.createElement(m.a,{exact:!0,path:"/state-list",element:n.a.createElement($a,null)}),n.a.createElement(m.a,{exact:!0,path:"/issuer-list",element:n.a.createElement(Wa,null)}),n.a.createElement(m.a,{exact:!0,path:"/purpose-list",element:n.a.createElement(Xa,null)}),n.a.createElement(m.a,{exact:!0,path:"/isd-list",element:n.a.createElement(Ha,null)}),n.a.createElement(m.a,{exact:!0,path:"/id-type",element:n.a.createElement(Ka,null)}),n.a.createElement(m.a,{exact:!0,path:"/dealer-list",element:n.a.createElement(Qa,null)}),n.a.createElement(m.a,{exact:!0,path:"/voucher-group",element:n.a.createElement(Ft,null)}),n.a.createElement(m.a,{exact:!0,path:"/voucher-ledger",element:n.a.createElement(qt,null)}),n.a.createElement(m.a,{exact:!0,path:"/region-list",element:n.a.createElement(Za,null)}),n.a.createElement(m.a,{exact:!0,path:"/country-class",element:n.a.createElement(ol,null)}),n.a.createElement(m.a,{exact:!0,path:"/division-list",element:n.a.createElement(jl,null)}),n.a.createElement(m.a,{exact:!0,path:"/risk-list",element:n.a.createElement(Ol,null)}),n.a.createElement(m.a,{exact:!0,path:"/business-nature",element:n.a.createElement(rl,null)}),n.a.createElement(m.a,{exact:!0,path:"/legal-entity",element:n.a.createElement(gl,null)}),n.a.createElement(m.a,{exact:!0,path:"/district-list",element:n.a.createElement(ul,null)}),n.a.createElement(m.a,{exact:!0,path:"/cost-center",element:n.a.createElement(cl,null)}),n.a.createElement(m.a,{exact:!0,path:"/gst-classification",element:n.a.createElement(dl,null)}),n.a.createElement(m.a,{exact:!0,path:"/msme",element:n.a.createElement(Sl,null)}),n.a.createElement(m.a,{exact:!0,path:"/designation",element:n.a.createElement(ml,null)}),n.a.createElement(m.a,{exact:!0,path:"/executive",element:n.a.createElement(El,null)}),n.a.createElement(m.a,{exact:!0,path:"/voucher-type",element:n.a.createElement(fl,null)}),n.a.createElement(m.a,{path:"/purchase-from-public",element:n.a.createElement(En,null)}),n.a.createElement(m.a,{exact:!0,path:"/individual-profile",element:n.a.createElement(pl,null)}),n.a.createElement(m.a,{exact:!0,path:"/group-doc",element:n.a.createElement(_l,null)}),n.a.createElement(m.a,{exact:!0,path:"/financial-year",element:n.a.createElement(Qt,null)}),n.a.createElement(m.a,{exact:!0,path:"/sampleform",element:n.a.createElement(vl,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-trial",element:n.a.createElement(kn,null)}),n.a.createElement(m.a,{exact:!0,path:"/residential-status",element:n.a.createElement(yl,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-cmrcmp",element:n.a.createElement(an,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-currency-stock",element:n.a.createElement(Wl,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-vtc",element:n.a.createElement(cn,null)}),n.a.createElement(m.a,{exact:!0,path:"/opn-bank-statement",element:n.a.createElement(Ql,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-tc",element:n.a.createElement(nn,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-etc",element:n.a.createElement(tn,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-encashment",element:n.a.createElement(yn,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-evtm",element:n.a.createElement(ln,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-encashment",element:n.a.createElement(yn,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-settlement",element:n.a.createElement(on,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-book-in",element:n.a.createElement(Vt,null)}),n.a.createElement(m.a,{exact:!0,path:"/tc-settlement",element:n.a.createElement(rn,null)}),n.a.createElement(m.a,{exact:!0,path:"/fa-book-entry",element:n.a.createElement(In,null)}),n.a.createElement(m.a,{exact:!0,path:"/purchase-bulk",element:n.a.createElement(un,null)}),n.a.createElement(m.a,{exact:!0,path:"/sale-public",element:n.a.createElement(pn,null)}),n.a.createElement(m.a,{exact:!0,path:"/transfer-vtc",element:n.a.createElement(Sn,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-deposit",element:n.a.createElement(al,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-book-out",element:n.a.createElement(Wt,null)}),n.a.createElement(m.a,{exact:!0,path:"/received-cheque-bounce",element:n.a.createElement(ll,null)}),n.a.createElement(m.a,{exact:!0,path:"/issue-cheque-bounce",element:n.a.createElement(tl,null)}),n.a.createElement(m.a,{exact:!0,path:"/bank-reconciliation",element:n.a.createElement($t,null)}),n.a.createElement(m.a,{exact:!0,path:"/manual-book",element:n.a.createElement(bn,null)}),n.a.createElement(m.a,{exact:!0,path:"/ledger",element:n.a.createElement(xl,null)}),n.a.createElement(m.a,{exact:!0,path:"/testing",element:n.a.createElement(Kt,null)}),n.a.createElement(m.a,{exact:!0,path:"/sale-bulk",element:n.a.createElement(dn,null)}),n.a.createElement(m.a,{exact:!0,path:"/trial-balance",element:n.a.createElement(Al,null)}),n.a.createElement(m.a,{exact:!0,path:"/out-vtc",element:n.a.createElement(hn,null)}),n.a.createElement(m.a,{exact:!0,path:"/out-currency",element:n.a.createElement(gn,null)}),n.a.createElement(m.a,{exact:!0,path:"/accept-interbranch",element:n.a.createElement(ql,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-fin-recv-bill-wise-detail",element:n.a.createElement(Tl,null)}),n.a.createElement(m.a,{exact:!0,path:"/ledger-link",element:n.a.createElement(bl,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-in-hand-report",element:n.a.createElement(Ll,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-used-report",element:n.a.createElement(Dl,null)}),n.a.createElement(m.a,{exact:!0,path:"/ib-entry",element:n.a.createElement(Dn,null)}),n.a.createElement(m.a,{exact:!0,path:"/margin",element:n.a.createElement(hl,null)}),n.a.createElement(m.a,{exact:!0,path:"/ibr",element:n.a.createElement(nl,null)}),n.a.createElement(m.a,{exact:!0,path:"/data-unlock",element:n.a.createElement(Zl,null)}),n.a.createElement(m.a,{exact:!0,path:"/transaction-report",element:n.a.createElement(Gl,null)}),n.a.createElement(m.a,{exact:!0,path:"/currency-writeoff",element:n.a.createElement(vn,null)}),n.a.createElement(m.a,{exact:!0,path:"/purchase-invoice",element:n.a.createElement(sn,null)}),n.a.createElement(m.a,{exact:!0,path:"/global-vtm-settlement",element:n.a.createElement(en,null)}),n.a.createElement(m.a,{exact:!0,path:"/currency-change",element:n.a.createElement(Nn,null)}),n.a.createElement(m.a,{exact:!0,path:"/cancellation",element:n.a.createElement(Yl,null)}),n.a.createElement(m.a,{exact:!0,path:"/manual-cancellation",element:n.a.createElement(Ul,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-cancellation",element:n.a.createElement(Ht,null)}),n.a.createElement(m.a,{exact:!0,path:"/entity",element:n.a.createElement(il,null)}),n.a.createElement(m.a,{exact:!0,path:"/settlement-vtm",element:n.a.createElement(On,null)}),n.a.createElement(m.a,{exact:!0,path:"/expense-transfer",element:n.a.createElement(Cn,null)}),n.a.createElement(m.a,{exact:!0,path:"/fund-transfer",element:n.a.createElement(_n,null)}),n.a.createElement(m.a,{exact:!0,path:"/stock-in-hand-report",element:n.a.createElement(Pl,null)}),n.a.createElement(m.a,{exact:!0,path:"/manual-book-report",element:n.a.createElement(Ml,null)}),n.a.createElement(m.a,{exact:!0,path:"/fund-request",element:n.a.createElement(zl,null)}),n.a.createElement(m.a,{exact:!0,path:"/master-dsr",element:n.a.createElement(sl,null)}),n.a.createElement(m.a,{exact:!0,path:"/flm-report",element:n.a.createElement(Jl,null)}),n.a.createElement(m.a,{exact:!0,path:"/fx-document",element:n.a.createElement(Vl,null)}),n.a.createElement(m.a,{exact:!0,path:"/evtm-surrender",element:n.a.createElement($l,null)}),n.a.createElement(m.a,{exact:!0,path:"/commission-module",element:n.a.createElement(Hl,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-module-payment",element:n.a.createElement(jn,null)}),n.a.createElement(m.a,{exact:!0,path:"/agent-linking",element:n.a.createElement(Cl,null)}),n.a.createElement(m.a,{exact:!0,path:"/bill-wise-detail-payable",element:n.a.createElement(kl,null)}),n.a.createElement(m.a,{exact:!0,path:"/commission-tds",element:n.a.createElement(Bl,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-payment-report",element:n.a.createElement(Fl,null)}),n.a.createElement(m.a,{exact:!0,path:"/conveyance-module",element:n.a.createElement(fn,null)}),n.a.createElement(m.a,{exact:!0,path:"/activity-log-report",element:n.a.createElement(wl,null)}),n.a.createElement(m.a,{exact:!0,path:"/additional-limit",element:n.a.createElement(wn,null)}),n.a.createElement(m.a,{exact:!0,path:"/rate-card",element:n.a.createElement(Mn,null)}),n.a.createElement(m.a,{exact:!0,path:"/commission-status",element:n.a.createElement(Fn,null)})),n.a.createElement("div",{style:Rn},1==sessionStorage.getItem("userSrno")?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{fontSize:"12px"}},sessionStorage.getItem("startDate"),"\xa0",sessionStorage.getItem("endDate"),"\xa0",sessionStorage.getItem("dbname"),"\xa0",sessionStorage.getItem("branchallowed"))):null,n.a.createElement("div",{style:{fontSize:"12px",textAlign:"center"}},"Copyright \xa9 2023 Zenith. All rights reserved.")))};var Pn=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,278)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:r,getTTFB:c}=a;t(e),l(e),n(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,null,n.a.createElement(Gn,null)))),Pn()}},[[165,1,2]]]);
//# sourceMappingURL=main.d9a8557b.chunk.js.map