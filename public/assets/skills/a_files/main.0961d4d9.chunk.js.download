(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,a,t){},166:function(e,a,t){e.exports=t(255)},174:function(e,a,t){},191:function(e,a,t){},192:function(e,a,t){},255:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(155),c=t.n(r),o=t(11),m=(t(174),t(175),t(16)),u=t(276),s=t(274),i=t(159),d=[];d.ERR0000="Unidentified Error. Please contact to administrator",d.MSG0000="Bill Saved",d.MSG0001="Invalid username or password.",d.MSG0002="Session has been expired. Please login again.",d.MSG0003="User is inactive.",d.MSG0004="User is blocked by Admin or Head office.",d.MSG0005="Please check password policy.",d.MSG0006="Please fill mandatory feilds.",d.MSG0007="Date of birth sould be less than today.",d.MSG0008="Payment does not tally. Please check.",d.MSG0009="New password and confirm password does not match.",d.MSG0010="Date should be within financial year.",d.WRN0000="Do you really want to discard the changes.",d.MSG0011="Entry can't be made for Future date.",d["GSTWRN000."]="Invalid GSTIN.";const E=e=>d[e],p="/api/picklist_a.php",b="/api/login_a.php",h="/api/user_a.php",g="/api/country_a.php",S="/api/state_a.php",y="/api/city_a.php",O="/api/isd_a.php",N="/api/issuer_a.php",v="/api/entity_a.php",C="/api/right_group_a.php",_="/api/right_a.php",f="/api/purpose_a.php",j="/api/idtype_a.php",T="/api/dealer_a.php",D="/api/voucher_a.php",L="/api/ledger_a.php",k="/api/region_a.php",x="/api/country_class_a.php",w="/api/division_a.php",A="/api/risk_a.php",I="/api/business_nature_a.php",M="/api/legal_entity_a.php",R="/api/district_a.php",F="/api/cost_center_a.php",G="/api/gst_classification_a.php",P="/api/msme_a.php",J="/api/designation_a.php",B="/api/executive_a.php",q="/api/voucher_type_a.php",V="/api/individual_profile_a.php",z="/api/doc_link_a.php",Q="/api/report_a.php",U="/api/document_a.php",Y="/api/finyear_a.php",K="/api/tran_pp_a.php",H="/api/tran_opn_trial_a.php",W="/api/residential_status_a.php",X="/api/tran_opn_cmr_a.php",Z="/api/tran_opn_vtc_a.php",$="/api/opn_bank_statement_a.php",ee="/api/vtm_encashment_a.php",ae="/api/tran_opn_evtm_a.php",te="/api/tran_opn_vtm_st_a.php",le="/api/tran_book_entry_a.php",ne="/api/tran_pb_a.php",re="/api/tran_sp_a.php",ce="/api/tran_trf_vtc_a.php",oe="/api/cheque_deposit_a.php",me="/api/bank_cheque_book_out_a.php",ue="/api/download_format_a.php",se="/api/print_a.php",ie="/api/bank_reconciliation_a.php",de="/api/sample_checkbox_a.php",Ee="/api/tran_trf_manual_book_a.php",pe="/api/calc_invoice_a.php",be="/api/tran_transfer_out_vtc_a.php",he="/api/tran_sb_a.php",ge="/api/ledger_link_a.php",Se="/api/inter_branch_entry_a.php",ye="/api/IBR_a.php",Oe="/api/tran_data_unlock_a.php",Ne="/api/currency_write_off_a.php",ve="/api/tran_pi_a.php",Ce="/api/tt_settlement_a.php",_e="/api/unlock_a.php",fe="/api/glb_vtm_settlement_a.php",je="/api/fund_request_a.php",Te="/api/master_dsr_a.php",De="/api/flm_report_a.php",Le="/api/tran_module_payment_a.php",ke="/api/commission_a.php",xe="/api/creditlimit_a.php",we="/api/einvoice_a.php",Ae="/api/tran_modification_a.php",Ie="/api/modification_commission_a.php",Me="/api/tran_si_a.php",Re="/api/tran_modification_payment_a.php",Fe="/api/source_of_fund_a.php",Ge="/api/visa_type_a.php",Pe="/api/vtm_activation.php",Je="/api/tran_crossknockoff_a.php",Be=1,qe=10,Ve=5,ze=new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,20}$");function Qe(e){return"number"!=typeof e&&null!=e&&(e=(e=(e=(e=(e=e.replace(/\#/g,"^^hash^^")).replace(/\+/g,"^^plus^^")).replace(/\%/g,"^^mod^^")).replace(/\&amp;/g,"^^and^^")).replace(/\&/g,"^^and^^")),e}function Ue(){if(window.XMLHttpRequest)return new XMLHttpRequest}const Ye=(e,a,t)=>{var l="";if("undefined"!=typeof a)for(let r=0;r<a.length;r++)l.length>0&&(l+="&"),l=l+(r+1)+"="+Qe(a[r]);var n=new Ue;n.onreadystatechange=function(){if(4===n.readyState){var e=n.responseText.replace(/[\r\n\s]*</g,"<").replace(/[\r\n\s]*$/g,"");if(e.indexOf(".php")>=0)alert(e);else if('{"status": "MSG0002"}'===e.trim()){sessionStorage.clear();const e=window.location.href.split("/");window.location.replace(e[0]+"//"+e[2]+"/")}else t(e)}},n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(l)},Ke=e=>new Intl.NumberFormat("en-IN").format(e),He=new RegExp("^([a-zA-Z ]+)$"),We=(e,a)=>{if(""!==e&&!He.test(e))return!1;a(e)},Xe=new RegExp("^([0-9]+)$"),Ze=(e,a)=>{if(""!==e&&!Xe.test(e))return!1;a(e)},$e=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$"),ea=(e,a)=>{if(""!==e&&!$e.test(e))return!1;a(e)},aa=new RegExp("^([0-9a-zA-Z]+)$"),ta=(e,a)=>{if(""!==e&&!aa.test(e))return!1;a(e)},la=new RegExp("^([0-9a-zA-Z ]+)$"),na=(e,a)=>{if(""!==e&&!la.test(e))return!1;a(e)},ra=new RegExp("^([0-9a-zA-Z- ]+)$"),ca=(e,a)=>{if(""!==e&&!ra.test(e))return!1;a(e)},oa=new RegExp("^([0-9a-zA-Z/-_!@$^*()#%& ]+)$"),ma=(e,a)=>{if(""!==e&&!oa.test(e))return!1;a(e)},ua=new RegExp("^[a-zA-Z0-9_.-]+@[a-zA-Z0-9]+[.]+[A-Za-z]+$"),sa=(e,a)=>{""===e||ua.test(e)?a(e):a("")},ia=new RegExp("^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$"),da=(e,a)=>{var t=(e=e.toUpperCase()).substring(3,4);(""===e||ia.test(e))&&/([A,B,C,F,G,H,J,L,P,T])/.test(t)?a(e):a("")},Ea=e=>{if(""===e||null===e)return e;var a=e.toString();return a=a.replace("00:00:00 GMT+0530","05:30:00 GMT+0530"),(e=new Date(a)).toJSON().slice(0,10)},pa=e=>""===e||null===e?e:e.toJSON().slice(0,10).split("-").reverse().join("/"),ba=e=>""===e||null===e?e:e.slice(0,10).split("-").reverse().join("/"),ha=(e,a)=>{let t=!1;return null!=e&&null!=a&&e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear()&&(t=!0),t},ga=(e,a,t)=>{if(e.length>0)for(var l=0;l<e.length;++l)e[l][a]===t&&e.splice(l,1);return e},Sa=(e,a)=>(e.push(a),e),ya=(e,a,t,l,n)=>{if(e.length>0)for(var r=0;r<e.length;++r)e[r][a]===t&&(e[r][l]=n);return e},Oa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return((Math.random()+1).toString(36).substring(2)+(Math.random()+1).toString(36).substring(2)).substring(0,e)},Na=(e,a,t)=>{var l=document.getElementById(a).files[0],n=new FormData;n.append("1",e),n.append("file",l,l.name);var r=new XMLHttpRequest;r.open("POST","/api/upload_a.php",!0),r.onload=function(){if(200===r.status){var e=r.responseText.replace(/[\r\n\s]*</g,"<").replace(/[\r\n\s]*$/g,"");if(e.indexOf(".php")>=0)alert(e);else if('{"status": "MSG0002"}'===e.trim()){sessionStorage.clear();const e=window.location.href.split("/");window.location.replace(e[0]+"//"+e[2]+"/")}else t(e)}else t("Upload error. Try again.")},r.send(n)},va=(e,a,t)=>{var l=document.createElement("form");l.setAttribute("method",a),l.setAttribute("action",e),l._submit_function_=l.submit;for(var n=1;n<=t.length;n++){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",n),r.setAttribute("value",t[n-1]),l.appendChild(r)}document.body.appendChild(l),l._submit_function_()},Ca=(e,a,t,l)=>{for(var n=new FormData,r=0;r<t.length;r++)n.append("".concat(r+1),t[r]);var c=new XMLHttpRequest;c.open(a,e,!0),c.responseType="blob",c.onload=function(){if(200===c.status){const e=c.response;console.log(e);const a=c.getResponseHeader("Content-Disposition");console.log(a);let t="downloaded_file.xlsx";if(a&&-1!==a.indexOf("attachment")){const e=a.split("filename=");console.log(e),2===e.length&&(t=e[1])}const n=window.URL.createObjectURL(e);console.log(n);const r=document.createElement("a");console.log(r),r.href=n,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),l&&l("File downloaded successfully")}else console.error("Error during file download: ",c.statusText)},c.onerror=function(){console.error("Error during XMLHttpRequest")},c.send(n)},_a=(e,a,t)=>{var l="";if("undefined"!=typeof a)for(let r=0;r<a.length;r++)l.length>0&&(l+="&"),l=l+(r+1)+"="+Qe(a[r]);var n=new Ue;n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(l)},fa=(e,a)=>{var t=e.length;2!==t&&5!==t||(a.value=e+"/")},ja=e=>{var a="",t=0;if("undefined"!=typeof e)for(;t<e.length;t++)""!==e[t]&&(a=a+"<div class='row'><div class='col-sm-12'>"+e[t]+"</div></div>");return a};const Ta=new RegExp("^[A-Z][1-9]\\d\\s?\\d{4}[1-9]$"),Da=(e,a)=>{""===e||Ta.test(e)?a(e):a("")},La=new RegExp("^[2-9]{1}[0-9]{3}[0-9]{4}[0-9]{4}$"),ka=(e,a)=>{""===(e=e.toUpperCase())||La.test(e)?a(e):a("")};function xa(){return new Promise((e,a)=>{const t=sessionStorage.getItem("sessionId"),l=sessionStorage.getItem("activeBranch");Ye(v,[t,"activelocation",l],a=>{const t=JSON.parse(a);e(t)})})}const wa=new RegExp("^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$"),Aa=(e,a)=>{""===(e=e.toUpperCase())||wa.test(e)?a(e):a("")},Ia=new RegExp("^[A-Z]{4}0[A-Z0-9]{6}$");const Ma=new RegExp("^[6-9]{1}[0-9]{9}$"),Ra=(e,a)=>{""===e||Ma.test(e)?a(e):a("")},Fa=[{id:"1",desc:"DUPLICATE"},{id:"2",desc:"DATA ENTRY MISTAKE"},{id:"3",desc:"ORDER CANCELLED"},{id:"4",desc:"OTHERS"}];function Ga(e,a){return new Promise((t,l)=>{Ye(e,a,function(e){try{const n=JSON.parse(e);t(n)}catch(a){l(a)}})})}function Pa(e){return/^\d+$/.test(e.trim())}function Ja(e,a){const t={},l={};return e.forEach(e=>{for(const n in e){const r=e[n],c=a.find(e=>n in e);if(c){const e=c[n];"object"===typeof r&&null!==r?"object"===typeof e&&null!==e?r.label&&e.label&&r.label!==e.label&&(t[n]=r,l[n]=e):(t[n]=r,l[n]=null):r!==e&&(t[n]=r,l[n]=e)}else t[n]=r,l[n]=null}}),{deleted:t,added:l}}function Ba(e,a,t){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n={TabType:"Info",...null!==l&&{TLoc:l},ALineNo:e.length+1,TType:t,AType:"A"},r={TabType:"Info",...null!==l&&{TLoc:l},ALineNo:e.length+1,TType:t,AType:"D"},c={...a.added,...n},o={...a.deleted,...r};return Sa(e,c),Sa(e,o),e}function qa(e,a){return a.find(a=>{const t=a.tp_payment_type===e.tp_payment_type&&a.tp_account===e.tp_account&&a.tp_group===e.tp_group,l="BANK"!==e.tp_payment_type||a.tp_cheque===e.tp_cheque,n="CHEQUE"!==e.tp_payment_type||a.chequeValue===e.chequeValue;return t&&l&&n})}var Va=t(68),za=t(3),Qa=t(6);let Ua={width:"500px",maxWidth:"100%",margin:"0 auto",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)",zindex:"999",backgroundColor:"#fff",padding:"10px 20px 40px",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 0 40px 20px rgba(0,0,0,0.26)"},Ya={marginBottom:"15px",padding:"3px 8px",cursor:"pointer",borderRadius:"50%",border:"none",width:"30px",height:"30px",fontWeight:"bold",alignSelf:"flex-end"};var Ka=function(e){let a=n.a.createElement("div",{style:Ua},n.a.createElement("button",{style:Ya,onClick:e.onClose},n.a.createElement(za.a,{icon:Qa.g})),n.a.createElement("div",null,Object(Va.a)(e.children)),n.a.createElement("br",null),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:e.onClose},"OK")));return e.isOpen||(a=null),n.a.createElement("div",null,a)},Ha=t(265),Wa=t(266),Xa=t(160),Za=t(267);let $a={marginBottom:"1px"},et={height:"80px"};var at=function(){var e,a;const t=Object(m.n)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{xs:4},n.a.createElement(Za.a,{style:et,src:"img/logo.png",fluid:!0,onClick:e=>t("/home")})),n.a.createElement(Xa.a,{xs:8},n.a.createElement("div",{className:"divContentRight",style:$a},"Zenith Leisure Holidays Limited",n.a.createElement("br",null),"Financial Year : ",sessionStorage.getItem("finyear"),"\xa0(",null===(e=sessionStorage.getItem("startDate"))||void 0===e?void 0:e.split("-").reverse().join("/")," \xa0",null===(a=sessionStorage.getItem("endDate"))||void 0===a?void 0:a.split("-").reverse().join("/"),")",n.a.createElement("br",null),sessionStorage.getItem("userId"),":",sessionStorage.getItem("userName")))))))},tt=t(7),lt=t(131);t(191);var nt=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]);function u(a){switch(clearInterval(sessionStorage.myInterval),a){case 0:sessionStorage.clear(),e("/");break;case"home":e("/home");break;case"userlist":e("/user-list");break;case"right":e("/right-list");break;case"country":e("/country-list");break;case"city":e("/city-list");break;case"state":e("/state-list");break;case"district":e("/district-list");break;case"issuer":e("/issuer-list");break;case"purpose":e("/purpose-list");break;case"currency":e("/isd-list");break;case"idtype":e("/id-type");break;case"dealer":e("/dealer-list");break;case"vouchergroup":e("/voucher-group");break;case"voucherledger":e("/voucher-ledger");break;case"region":e("/region-list");break;case"countryclass":e("/country-class");break;case"division":e("/division-list");break;case"risk":e("/risk-list");break;case"businessnature":e("/business-nature");break;case"legalentity":e("/legal-entity");break;case"costcenter":e("/cost-center");break;case"gstclassification":e("/gst-classification");break;case"msme":e("/msme");break;case"designation":e("/designation");break;case"executive":e("/executive");break;case"vouchertype":e("/voucher-type");break;case"purchasepublic":e("/purchase-from-public");break;case"purchasebulk":e("/purchase-bulk");break;case"individualprofile":e("/individual-profile");break;case"groupdoc":e("/group-doc");break;case"finyear":e("/financial-year");break;case"sampleform":e("/sampleform");break;case"trial":e("/tran-opn-trial");break;case"residentialstatus":e("/residential-status");break;case"cmrcmp":e("/tran-opn-cmrcmp");break;case"stock":e("/tran-currency-stock");break;case"vtm":e("/tran-opn-vtc");break;case"bankstatement":e("/opn-bank-statement");break;case"tc":e("/tran-opn-tc");break;case"etc":e("/tran-opn-etc");break;case"vtmencash":e("/vtm-encashment");break;case"evtm":e("/tran-opn-evtm");break;case"tc-settlement":e("/tc-settlement");break;case"vtm-settlement":e("/vtm-settlement");break;case"chequebookin":e("/cheque-book-in");break;case"fa-book-entry":e("/fa-book-entry");break;case"salespublic":e("/sale-public");break;case"transfer-vtc":e("/transfer-vtc");break;case"chequedeposit":e("/cheque-deposit");break;case"chequebookout":e("/cheque-book-out");break;case"chequebounce":e("/received-cheque-bounce");break;case"issuechequebounce":e("/issue-cheque-bounce");break;case"bankreconciliation":e("/bank-reconciliation");break;case"testing":e("/testing");break;case"manual-book":e("/manual-book");break;case"ledger":e("/ledger");break;case"salebulk":e("/sale-bulk");break;case"trialbalance":e("/trial-balance");break;case"transferoutvtc":e("/out-vtc");break;case"transeroutcurrency":e("/out-currency");break;case"acceptinterbranch":e("/accept-interbranch");break;case"repfinrecvbillwisedetail":e("/rep-fin-recv-bill-wise-detail");break;case"ledgerlink":e("/ledger-link");break;case"chequeinhandreport":e("/cheque-in-hand-report");break;case"chequeusedreport":e("/cheque-used-report");break;case"ib-entry":e("/ib-entry");break;case"margin":e("/margin");break;case"ibr":e("/ibr");break;case"dataunlock":e("/data-unlock");break;case"transactionreport":e("/transaction-report");break;case"currencywriteoff":e("/currency-writeoff");break;case"purchaseinvoice":e("/purchase-invoice");break;case"globalvtmsettle":e("/global-vtm-settlement");break;case"currencychange":e("/currency-change");break;case"cancellation":e("/cancellation");break;case"entity":e("/entity");break;case"settlement-vtm":e("/settlement-vtm");break;case"expense-transfer":e("/expense-transfer");break;case"fund-transfer":e("/fund-transfer");break;case"stockinhandreport":e("/stock-in-hand-report");break;case"manualbookreport":e("/manual-book-report");break;case"fundRequest":e("/fund-request");break;case"masterdsr":e("/master-dsr");break;case"flmreport":e("/flm-report");break;case"fxdocument":e("/fx-document");break;case"evtmsurrender":e("/evtm-surrender");break;case"commission":e("/commission-module");break;case"conveyance":e("/conveyance-module");break;case"tranmodulepayment":e("/tran-module-payment");break;case"agentlinking":e("/agent-linking");break;case"chngpass":e("/changepassword");break;case"billwisedetailpayable":e("/bill-wise-detail-payable");break;case"commissiontds":e("/commission-tds");break;case"tranpaymentreport":e("/tran-payment-report");break;case"activityreport":e("/activity-log-report");break;case"additionallimit":e("/additional-limit");break;case"ratecard":e("/rate-card");break;case"repcommissionstatus":e("/commission-status");break;case"transactionmodification":e("/transaction-modification");break;case"tranmodificationcommission":e("/modification-commission");break;case"tranmodificationdate":e("/modification-date");break;case"saleinvoice":e("/sale-invoice");break;case"tranmodificationpayment":e("/payment-modification");break;case"sourceoffund":e("/source-of-fund");break;case"vtmsettlementreportglobal":e("/vtm-settlement-report-global",{state:{dropdownType:"GLOBAL"}});break;case"vtmsettlementreportlocal":e("/vtm-settlement-report-local",{state:{dropdownType:"LOCAL"}});break;case"vtmutilization":e("/vtm-utilization");break;case"repchequeutilization":e("/cheque-utilization");break;case"repoutstandingcmrp":e("/outstanding-cmrp");break;case"vtmactivation":e("/vtm-activation");break;default:e("/");break;case"mastervisatype":e("/master_visa_type");break;case"crossknockoff":e("/tran-cross-knockoff");break;case"knockoffview":e("/tran_knockoff_view");break;case"tran_tt_settlement":e("/tran_tt_settlement");break;case"repvtmprofitabilitylocal":e("/rep-vtm-profitability-local",{state:{dropdownType:"LOCAL"}});break;case"repvtmprofitabilityglobal":e("/rep-vtm-profitability-global",{state:{dropdownType:"GLOBAL"}});break;case"repvaluationlocal":e("/rep-valuation-local",{state:{dropdownType:"LOCAL"}});break;case"repvaluationglobal":e("/rep-valuation-global",{state:{dropdownType:"GLOBAL"}});break;case"rbipurchasestatementreport":e("/rep-rbi-purchase-statement");break;case"rbiturnoverreport":e("/rep-rbi-turnover");break;case"gstreport":e("/rep-gst")}}return Object(l.useEffect)(()=>{t||(Ye(_,[a,"allrightquery"],function(a){let t,l,n;try{t=lt.Buffer.from(a,"base64").toString(),l=JSON.parse(t)}catch(r){l=JSON.parse('{"LOGOUT": ""}')}try{n=JSON.parse(a)}catch(r){n=JSON.parse('{"status": ""}')}o(l),console.log(l),"0"!==l.LOGOUT&&"MSG0002"!==n.status||e("/")}),r(!0))},[t,a]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"textRight mt-0 p-0 userStrip"}),n.a.createElement("div",{className:"menuBar"},n.a.createElement("ul",null,n.a.createElement("li",{onClick:e=>u("home")},n.a.createElement("div",{className:"menuHomeIcon"},n.a.createElement(za.a,{icon:tt.m,className:"menuIcon"}),"\xa0")),n.a.createElement("li",{style:{display:"1"===c.MASTER?"block":"none"}},n.a.createElement("div",null,n.a.createElement(za.a,{icon:tt.o,className:"menuIcon"}),"\xa0Master"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.INDIVIDUALPROFILE?"block":"none"},onClick:e=>u("individualprofile")},n.a.createElement("div",null,"Individual Profile")),n.a.createElement("li",{style:{display:"1"===c.MASTER_RATE?"block":"none"}},n.a.createElement("div",null,"Rate\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.MARGIN?"block":"none"},onClick:e=>u("margin")},n.a.createElement("div",null,"Margin")),n.a.createElement("li",{style:{display:"1"===c.IBR?"block":"none"},onClick:e=>u("ibr")},n.a.createElement("div",null,"IBR")),n.a.createElement("li",{style:{display:"1"===c.MASTER_DSR?"block":"none"},onClick:e=>u("masterdsr")},n.a.createElement("div",null,"DSR/DER"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_FINANCIAL?"block":"none"}},n.a.createElement("div",null,"Financial\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.MASTER_FINANCIAL_PARAMETER?"block":"none"}},n.a.createElement("div",null,"Parameters\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.VOUCHERTYPE?"block":"none"},onClick:e=>u("vouchertype")},n.a.createElement("div",null,"Voucher Type")),n.a.createElement("li",{style:{display:"1"===c.DOCUMENTLINK?"block":"none"},onClick:e=>u("groupdoc")},n.a.createElement("div",null,"Group Document")),n.a.createElement("li",{style:{display:"1"===c.DEALERLIST?"block":"none"},onClick:e=>u("dealer")},n.a.createElement("div",null,"Dealer Category")),n.a.createElement("li",{style:{display:"1"===c.RISK?"block":"none"},onClick:e=>u("risk")},n.a.createElement("div",null,"Risk")),n.a.createElement("li",{style:{display:"1"===c.BUSINESSNATURE?"block":"none"},onClick:e=>u("businessnature")},n.a.createElement("div",null,"Business Nature")),n.a.createElement("li",{style:{display:"1"===c.LEGALSTATUS?"block":"none"},onClick:e=>u("legalentity")},n.a.createElement("div",null,"Legal Entity")),n.a.createElement("li",{style:{display:"1"===c.GSTCLASSIFICATION?"block":"none"},onClick:e=>u("gstclassification")},n.a.createElement("div",null,"GST Cassification")),n.a.createElement("li",{style:{display:"1"===c.MSME?"block":"none"},onClick:e=>u("msme")},n.a.createElement("div",null,"MSME")),n.a.createElement("li",{style:{display:"1"===c.MASTER_SOURCEOFFUND?"block":"none"},onClick:e=>u("sourceoffund")},n.a.createElement("div",null,"Source of Fund")),n.a.createElement("li",{style:{display:"1"===c.MASTER_VISATYPE?"block":"none"},onClick:e=>u("mastervisatype")},n.a.createElement("div",null,"Visa Type"))))),n.a.createElement("li",{style:{display:"1"===c.VOUCHERGROUP?"block":"none"},onClick:e=>u("vouchergroup")},n.a.createElement("div",null,"Voucher Group")),n.a.createElement("li",{style:{display:"1"===c.VOUCHERLEDGER?"block":"none"},onClick:e=>u("voucherledger")},n.a.createElement("div",null,"Voucher Ledger")),n.a.createElement("li",{style:{display:"1"===c.MASTER_LEDGER_LINK?"block":"none"},onClick:e=>u("ledgerlink")},n.a.createElement("div",null,"Ledger Link")),n.a.createElement("li",{style:{display:"1"===c.MASTER_AGENT_LINK?"block":"none"},onClick:e=>u("agentlinking")},n.a.createElement("div",null,"Agent Link"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_ACCESS?"block":"none"}},n.a.createElement("div",null,"Access\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.RIGHT?"block":"none"},onClick:e=>u("right")},n.a.createElement("div",null,"Right")),n.a.createElement("li",{style:{display:"1"===c.USER?"block":"none"},onClick:e=>u("userlist")},n.a.createElement("div",null,"User"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_AREA?"block":"none"}},n.a.createElement("div",null,"Area\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REGION?"block":"none"},onClick:e=>u("region")},n.a.createElement("div",null,"Region")),n.a.createElement("li",{style:{display:"1"===c.COUNTRYCLASS?"block":"none"},onClick:e=>u("countryclass")},n.a.createElement("div",null,"Country class")),n.a.createElement("li",{style:{display:"1"===c.COUNTRY?"block":"none"},onClick:e=>u("country")},n.a.createElement("div",null,"Country")),n.a.createElement("li",{style:{display:"1"===c.STATE?"block":"none"},onClick:e=>u("state")},n.a.createElement("div",null,"State")),n.a.createElement("li",{style:{display:"1"===c.DISTRICT?"block":"none"},onClick:e=>u("district")},n.a.createElement("div",null,"District")),n.a.createElement("li",{style:{display:"1"===c.CITY?"block":"none"},onClick:e=>u("city")},n.a.createElement("div",null,"City"))))),n.a.createElement("li",{style:{display:"1"===c.MASTER_PARAMETER?"block":"none"}},n.a.createElement("div",null,"Parameter\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.DIVISION?"block":"none"},onClick:e=>u("division")},n.a.createElement("div",null,"Division")),n.a.createElement("li",{style:{display:"1"===c.COSTCENTER?"block":"none"},onClick:e=>u("costcenter")},n.a.createElement("div",null,"Cost Center")),n.a.createElement("li",{style:{display:"1"===c.DESIGNATION?"block":"none"},onClick:e=>u("designation")},n.a.createElement("div",null,"Designation")),n.a.createElement("li",{style:{display:"1"===c.EXECUTIVE?"block":"none"},onClick:e=>u("executive")},n.a.createElement("div",null,"Executive")),n.a.createElement("li",{style:{display:"1"===c.MASTER_RESIDENTIAL?"block":"none"},onClick:e=>u("residentialstatus")},n.a.createElement("div",null,"Residential Status")),n.a.createElement("li",{style:{display:"1"===c.CURRENCY?"block":"none"},onClick:e=>u("currency")},n.a.createElement("div",null,"Currency")),n.a.createElement("li",{style:{display:"1"===c.PURPOSE?"block":"none"},onClick:e=>u("purpose")},n.a.createElement("div",null,"Purpose")),n.a.createElement("li",{style:{display:"1"===c.ISSUER?"block":"none"},onClick:e=>u("issuer")},n.a.createElement("div",null,"Issuer")),n.a.createElement("li",{style:{display:"1"===c.IDTYPE?"block":"none"},onClick:e=>u("idtype")},n.a.createElement("div",null,"ID type"))))),n.a.createElement("li",{style:{display:"1"===c.ENTITY?"block":"none"},onClick:e=>u("entity")},n.a.createElement("div",null,"Entity")),n.a.createElement("li",{style:{display:"1"===c.USER?"block":"none"},onClick:e=>u("finyear")},n.a.createElement("div",null,"Fin Year")),n.a.createElement("li",{style:{display:"1"===c.USER?"block":"none"},onClick:e=>u("sampleform")},n.a.createElement("div",null,"Sample"))))),n.a.createElement("li",{style:{display:"1"===c.TRANSACTION?"block":"none"}},n.a.createElement("div",null,n.a.createElement(za.a,{icon:tt.p,className:"menuIcon"}),"\xa0Transaction"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_PURCHASES?"block":"none"}},n.a.createElement("div",null,"Purchases\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_PP?"block":"none"},onClick:e=>u("purchasepublic")},n.a.createElement("div",null,"From public")),n.a.createElement("li",{style:{display:"1"===c.TRAN_VTM_REQUEST?"block":"none"},onClick:e=>u("vtmencash")},n.a.createElement("div",null,"VTM Encashment")),n.a.createElement("li",{style:{display:"1"===c.TRAN_PB?"block":"none"},onClick:e=>u("purchasebulk")},n.a.createElement("div",null,"Bulk")),n.a.createElement("li",{style:{display:"1"===c.TRAN_PI?"block":"none"},onClick:e=>u("purchaseinvoice")},n.a.createElement("div",null,"Invoice")),n.a.createElement("li",{style:{display:"1"===c.TRAN_SETTLEMENT_VTM?"block":"none"},onClick:e=>u("settlement-vtm")},n.a.createElement("div",null,"Settlement VTM")),n.a.createElement("li",{style:{display:"1"===c.TRAN_GL_SETTLEMENT_VTM?"block":"none"},onClick:e=>u("globalvtmsettle")},n.a.createElement("div",null,"Global Settl. VTM"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_SALES?"block":"none"}},n.a.createElement("div",null,"Sales\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_SP?"block":"none"},onClick:e=>u("salespublic")},n.a.createElement("div",null,"Public")),n.a.createElement("li",{style:{display:"1"===c.TRAN_SB?"block":"none"},onClick:e=>u("salebulk")},n.a.createElement("div",null,"Bulk")),n.a.createElement("li",{style:{display:"1"===c.TRAN_EVTM_SURRENDER?"block":"none"},onClick:e=>u("evtmsurrender")},n.a.createElement("div",null,"EVTM Surrender")),n.a.createElement("li",{style:{display:"1"===c.TRAN_SI?"block":"none"},onClick:e=>u("saleinvoice")},n.a.createElement("div",null,"Invoice")),n.a.createElement("li",{style:{display:"1"===c.TRAN_VTM_ACTIVATION?"block":"none"},onClick:e=>u("vtmactivation")},n.a.createElement("div",null,"VTM Activation")),n.a.createElement("li",{style:{display:"1"===c.TRAN_TT_SETTLEMENT?"block":"none"},onClick:e=>u("tran_tt_settlement")},n.a.createElement("div",null,"TT "))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_VOUCHER?"block":"none"}},n.a.createElement("div",null,"Voucher\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_BOOK_ENTRY?"block":"none"},onClick:e=>u("fa-book-entry")},n.a.createElement("div",null,"FA Book")),n.a.createElement("li",{style:{display:"1"===c.INTER_BRANCH_ENTRY?"block":"none"},onClick:e=>u("ib-entry")},n.a.createElement("div",null,"IB Entry")),n.a.createElement("li",{style:{display:"1"===c.TRAN_CROSS_KNOCKOFF?"block":"none"},onClick:e=>u("crossknockoff")},n.a.createElement("div",null,"Cross Knockoff")),n.a.createElement("li",{style:{display:"1"===c.TRAN_KNOCKOFF_VIEW?"block":"none"},onClick:e=>u("knockoffview")},n.a.createElement("div",null,"Knockoff View"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF?"block":"none"}},n.a.createElement("div",null,"Transfer In \xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_VTC?"block":"none"},onClick:e=>u("transfer-vtc")},n.a.createElement("div",null,"VTM")),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_MANUAL_BOOK?"block":"none"},onClick:e=>u("manual-book")},n.a.createElement("div",null,"Manual Book"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_OUT?"block":"none"}},n.a.createElement("div",null,"Transfer Out \xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_OUT_VTC?"block":"none"},onClick:e=>u("transferoutvtc")},n.a.createElement("div",null,"VTM")),n.a.createElement("li",{style:{display:"1"===c.TRAN_TRF_OUT_CURRENCY?"block":"none"},onClick:e=>u("transeroutcurrency")},n.a.createElement("div",null,"Currency"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPENING?"block":"none"}},n.a.createElement("div",null,"Opening\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_FINANCIAL?"block":"none"}},n.a.createElement("div",null,"Financial\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_TRIAL?"block":"none"},onClick:e=>u("trial")},n.a.createElement("div",null,"Trial")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_CMRCMP?"block":"none"},onClick:e=>u("cmrcmp")},n.a.createElement("div",null,"CMR/CMP")),n.a.createElement("li",{style:{display:"1"===c.OPN_BANK_STATEMENT?"block":"none"},onClick:e=>u("bankstatement")},n.a.createElement("div",null,"Bank Statement"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_STOCK?"block":"none"}},n.a.createElement("div",null,"Stock\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_CURRENCY_STOCK?"block":"none"},onClick:e=>u("stock")},n.a.createElement("div",null,"Currency Stock")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_VTC?"block":"none"},onClick:e=>u("vtm")},n.a.createElement("div",null,"VTM In Stock")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_TC?"block":"none"},onClick:e=>u("tc")},n.a.createElement("div",null,"TC")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_ETC?"block":"none"},onClick:e=>u("etc")},n.a.createElement("div",null,"ETC")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_EVTM?"block":"none"},onClick:e=>u("evtm")},n.a.createElement("div",null,"EVTM"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_LIABILITY?"block":"none"}},n.a.createElement("div",null,"Liability\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_TC_SETTLEMENT?"block":"none"},onClick:e=>u("tc-settlement")},n.a.createElement("div",null,"TC Settlement")),n.a.createElement("li",{style:{display:"1"===c.TRAN_OPN_VTM_SETTLEMENT?"block":"none"},onClick:e=>u("vtm-settlement")},n.a.createElement("div",null,"VTM Settlement")))))))),n.a.createElement("li",{style:{display:"1"===c.OTHERS?"block":"none"}},n.a.createElement("div",null,"Others\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_ACCEPT_BRANCH?"block":"none"},onClick:e=>u("acceptinterbranch")},n.a.createElement("div",null,"Accept Inter Branch")),n.a.createElement("li",{style:{display:"1"===c.CURRENCY_WRITE_OFF?"block":"none"},onClick:e=>u("currencywriteoff")},n.a.createElement("div",null,"Currency Write Off")),n.a.createElement("li",{style:{display:"1"===c.CURRENCY_CHANGE?"block":"none"},onClick:e=>u("currencychange")},n.a.createElement("div",null,"Currency Change")),n.a.createElement("li",{style:{display:"1"===c.EXPENSE_TRANSFER?"block":"none"},onClick:e=>u("expense-transfer")},n.a.createElement("div",null,"Expense Transfer")),n.a.createElement("li",{style:{display:"1"===c.FUND_TRANSFER?"block":"none"},onClick:e=>u("fund-transfer")},n.a.createElement("div",null,"Fund Transfer")),n.a.createElement("li",{style:{display:"1"===c.TRAN_COMMISSION?"block":"none"},onClick:e=>u("commission")},n.a.createElement("div",null,"Commission")),n.a.createElement("li",{style:{display:"1"===c.TRAN_CONVEYANCE?"block":"none"},onClick:e=>u("conveyance")},n.a.createElement("div",null,"Conveyance Entry")),n.a.createElement("li",{style:{display:"1"===c.TRAN_MODULE_PAYMENT?"block":"none"},onClick:e=>u("tranmodulepayment")},n.a.createElement("div",null,"Payment Module")),n.a.createElement("li",{style:{display:"1"===c.TRAN_ADDITIONAL_CREDIT?"block":"none"},onClick:e=>u("additionallimit")},n.a.createElement("div",null,"Additional Limit"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_UTILITY?"block":"none"}},n.a.createElement("div",null,"Utility\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_DATA_UNLOCK?"block":"none"},onClick:e=>u("dataunlock")},n.a.createElement("div",null,"Data Unlock")),n.a.createElement("li",{style:{display:"1"===c.CANCELLATION?"block":"none"},onClick:e=>u("cancellation")},n.a.createElement("div",null,"Cancellation")),n.a.createElement("li",{style:{display:"1"===c.COMMISSION_MODIFICATION?"block":"none"}},n.a.createElement("div",null,"Modification\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.TRAN_MODIFICATION?"block":"none"},onClick:e=>u("transactionmodification")},n.a.createElement("div",null,"Modification change ")),n.a.createElement("li",{style:{display:"1"===c.TRAN_MODIFICATION?"block":"none"},onClick:e=>u("tranmodificationdate")},n.a.createElement("div",null,"Date")),n.a.createElement("li",{style:{display:"1"===c.COMMISSION_MODIFICATION?"block":"none"},onClick:e=>u("tranmodificationcommission")},n.a.createElement("div",null,"Commission")),n.a.createElement("li",{style:{display:"1"===c.TRAN_PAYMENT_MODIFICATION?"block":"none"},onClick:e=>u("tranmodificationpayment")},n.a.createElement("div",null,"Payment")))))))),n.a.createElement("li",{style:{display:"1"===c.FUND_REQUEST?"block":"none"},onClick:e=>u("fundRequest")},n.a.createElement("div",null,"Fund Request")),n.a.createElement("li",{style:{display:"1"===c.FX_DOCUMENT_UPLOAD?"block":"none"},onClick:e=>u("fxdocument")},n.a.createElement("div",null,"Fx Document Upload"))))),n.a.createElement("li",{style:{display:"1"===c.BANK?"block":"none"}},n.a.createElement("div",null,n.a.createElement(za.a,{icon:tt.a,className:"menuIcon"}),"\xa0Bank"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.BANK_CHEQUES?"block":"none"}},n.a.createElement("div",null,"Cheques\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.BANK_TRANSFER_IN?"block":"none"},onClick:e=>u("chequebookin")},n.a.createElement("div",null,"Book Transfer In")),n.a.createElement("li",{style:{display:"1"===c.BANK_TRANSFER_OUT?"block":"none"},onClick:e=>u("chequebookout")},n.a.createElement("div",null,"Transfer Out")),n.a.createElement("li",{style:{display:"1"===c.CHEQUE_DEPOSIT?"block":"none"},onClick:e=>u("chequedeposit")},n.a.createElement("div",null,"Cheque Deposit ")),n.a.createElement("li",{style:{display:"1"===c.RECEIVED_CHEQUE_BOUNCE?"block":"none"},onClick:e=>u("chequebounce")},n.a.createElement("div",null,"Received Cheque Bounce")),n.a.createElement("li",{style:{display:"1"===c.ISSUE_CHEQUE_BOUNCE?"block":"none"},onClick:e=>u("issuechequebounce")},n.a.createElement("div",null,"Issue Cheque Bounce")),n.a.createElement("li",{style:{display:"1"===c.BANK_RECONCILIATION?"block":"none"},onClick:e=>u("bankreconciliation")},n.a.createElement("div",null,"Bank Reconciliation")))))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS?"block":"none"}},n.a.createElement("div",null,n.a.createElement(za.a,{icon:tt.d,className:"menuIcon"}),"\xa0Reports"),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS_MIS?"block":"none"}},n.a.createElement("div",null,"MIS\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS_MIS_CURRENCY?"block":"none"}},n.a.createElement("div",null,"Currency\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.STOCK_IN_HAND_REPORT?"block":"none"},onClick:e=>u("stockinhandreport")},n.a.createElement("div",null,"Stock in Hand Report"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_MIS_VTM?"block":"none"}},n.a.createElement("div",null,"VTM\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REP_MIS_VTM_UTILIZATION?"block":"none"},onClick:e=>u("vtmutilization")},n.a.createElement("div",null,"VTM Utilization")),n.a.createElement("li",{style:{display:"1"===c.REP_MIS_VTM_FOR_SETTLEMENT_GLOBAL?"block":"none"},onClick:e=>u("vtmsettlementreportglobal")},n.a.createElement("div",null,"VTM/EVTM Settlement Report Global")),n.a.createElement("li",{style:{display:"1"===c.REP_MIS_VTM_FOR_SETTLEMENT_LOCAL?"block":"none"},onClick:e=>u("vtmsettlementreportlocal")},n.a.createElement("div",null,"VTM/EVTM Settlement Report Local"))))),n.a.createElement("li",{style:{display:"1"===c.TRANSACTION_REPORT?"block":"none"},onClick:e=>u("transactionreport")},n.a.createElement("div",null,"Transaction")),n.a.createElement("li",{style:{display:"1"===c.MANUAL_BOOK_REPORT?"block":"none"},onClick:e=>u("manualbookreport")},n.a.createElement("div",null,"Manual Book Report")),n.a.createElement("li",{style:{display:"1"===c.REP_PROFITABILITY?"block":"none"}},n.a.createElement("div",null,"Profitability\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REP_VTM_PROFITABILITY_LOCAL?"block":"none"},onClick:e=>u("repvtmprofitabilitylocal")},n.a.createElement("div",null,"VTM Branch")),n.a.createElement("li",{style:{display:"1"===c.REP_VTM_PROFITABILITY_GLOBAL?"block":"none"},onClick:e=>u("repvtmprofitabilityglobal")},n.a.createElement("div",null,"VTM HO"))))),n.a.createElement("li",{style:{display:"1"===c.TRAN_PAYMENT_REPORT?"block":"none"},onClick:e=>u("tranpaymentreport")},n.a.createElement("div",null,"Tran Payment Report")),n.a.createElement("li",{style:{display:"1"===c.REPORTS?"block":"none"},onClick:e=>u("activityreport")},n.a.createElement("div",null,"Audit Report")),n.a.createElement("li",{style:{display:"1"===c.REPORTS?"block":"none"},onClick:e=>u("testing")},n.a.createElement("div",null,"Testing"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_FINANCIAL?"block":"none"}},n.a.createElement("div",null,"Financial\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REP_LEDGER?"block":"none"},onClick:e=>u("ledger")},n.a.createElement("div",null,"Ledger")),n.a.createElement("li",{style:{display:"1"===c.TRIAL_BALANCE?"block":"none"},onClick:e=>u("trialbalance")},n.a.createElement("div",null,"Trial Balance")),n.a.createElement("li",{style:{display:"1"===c.REPORT_GST?"block":"none"},onClick:e=>u("gstreport")},n.a.createElement("div",null,"GST Reports")),n.a.createElement("li",{style:{display:"1"===c.REP_VALUATION_GLOBAL?"block":"none"},onClick:e=>u("repvaluationglobal")},n.a.createElement("div",null,"Valuation Global")),n.a.createElement("li",{style:{display:"1"===c.REP_VALUATION_LOCAL?"block":"none"},onClick:e=>u("repvaluationlocal")},n.a.createElement("div",null,"Valuation Local")),n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"}},n.a.createElement("div",null,"Receivable\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REP_FIN_RECV_BILL_WISE_DETAIL?"block":"none"},onClick:e=>u("repfinrecvbillwisedetail")},n.a.createElement("div",null,"Bill Wise Detail"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"}},n.a.createElement("div",null,"Payable\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.BILL_WISE_DETAIL_PAYABLE?"block":"none"},onClick:e=>u("billwisedetailpayable")},n.a.createElement("div",null,"Bill Wise Detail"))))),n.a.createElement("li",{style:{display:"1"===c.REPORT_CHEQUE?"block":"none"}},n.a.createElement("div",null,"Cheque\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REP_CHEQUE_UTILIZATION?"block":"none"},onClick:e=>u("repchequeutilization")},n.a.createElement("div",null,"Cheque Utilization")),n.a.createElement("li",{style:{display:"1"===c.CHEQUE_IN_HAND_REPORT?"block":"none"},onClick:e=>u("chequeinhandreport")},n.a.createElement("div",null,"Hide Cheque In Hand")),n.a.createElement("li",{style:{display:"1"===c.CHEQUE_IN_HAND_REPORT?"block":"none"},onClick:e=>u("chequeusedreport")},n.a.createElement("div",null,"Hide Cheque Used Report"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_TDS?"block":"none"}},n.a.createElement("div",null,"Commission\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS_TDS_COMMISSION?"block":"none"},onClick:e=>u("commissiontds")},n.a.createElement("div",null,"TDS")),n.a.createElement("li",{style:{display:"1"===c.REP_COMMISSION_VIEW?"block":"none"},onClick:e=>u("repcommissionstatus")},n.a.createElement("div",null,"Status Report"))))),n.a.createElement("li",{style:{display:"1"===c.REP_FIN_OUTSTANDING?"block":"none"}},n.a.createElement("div",null,"Outstanding\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu3"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REP_FIN_OUTSTANDING_CMRP?"block":"none"},onClick:e=>u("repoutstandingcmrp")},n.a.createElement("div",null,"CMR/CMP")))))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_RBI?"block":"none"}},n.a.createElement("div",null,"RBI\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS_RBI_FLM?"block":"none"},onClick:e=>u("flmreport")},n.a.createElement("div",null,"FLMs")),n.a.createElement("li",{style:{display:"1"===c.REPORTS_RBI_PURCHASE_STATEMENT?"block":"none"},onClick:e=>u("rbipurchasestatementreport")},n.a.createElement("div",null,"RBI Purchase Statement")),n.a.createElement("li",{style:{display:"1"===c.REPORTS_RBI_TURNOVER_ADII?"block":"none"},onClick:e=>u("rbiturnoverreport")},n.a.createElement("div",null,"RBI Turnover ADII"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_STATUTORY?"block":"none"}},n.a.createElement("div",null,"Statutory\xa0",n.a.createElement(za.a,{className:"arrowIcon",icon:tt.g})),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"},onClick:e=>u("home")},n.a.createElement("div",null,"Dummy")),n.a.createElement("li",{style:{display:"1"===c.REPORTS1?"block":"none"},onClick:e=>u("home")},n.a.createElement("div",null,"Dummy"))))),n.a.createElement("li",{style:{display:"1"===c.REPORTS_STATUTORY?"block":"none"},onClick:e=>u("ratecard")},n.a.createElement("div",null," Rate Card"),n.a.createElement("div",{className:"subMenu2"},n.a.createElement("ul",null)))))),n.a.createElement("li",{style:{display:"block",right:"0",position:"absolute"}},n.a.createElement("div",{className:"menuProfileIcon"},n.a.createElement(za.a,{icon:tt.s})),n.a.createElement("div",{className:"subMenu1"},n.a.createElement("ul",null,n.a.createElement("li",{style:{display:"block"},onClick:e=>u(0)},n.a.createElement("div",null,"Log Out")),n.a.createElement("li",{style:{display:"block"},onClick:e=>u("chngpass")},n.a.createElement("div",null,"Change Password"))))))))},rt=t(1),ct=t.n(rt);let ot={width:"650px",maxWidth:"100%"};var mt=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,d]=Object(l.useState)(""),[p,b]=Object(l.useState)(""),[g,S]=Object(l.useState)("");return n.a.createElement(n.a.Fragment,null,"0"===sessionStorage.chngPassOnLogin?n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null)),n.a.createElement("div",{className:"divContentCenter d-flex justify-content-center"},n.a.createElement("div",{style:ot,className:"Shadow"},n.a.createElement(u.a,null,n.a.createElement(u.a.Header,null,n.a.createElement("h6",null,"Change Password")),n.a.createElement(u.a.Body,null,n.a.createElement(s.a,null,n.a.createElement(s.a.Group,{className:"mb-3"},n.a.createElement(s.a.Label,null,"New Password"),n.a.createElement(s.a.Control,{type:"Password",maxLength:"20",autoComplete:"off",onChange:e=>b(e.target.value.trim())})),n.a.createElement(s.a.Group,{className:"mb-3"},n.a.createElement(s.a.Label,null,"Confirm Password"),n.a.createElement(s.a.Control,{type:"Password",maxLength:"20",autoComplete:"off",onChange:e=>S(e.target.value.trim())})),n.a.createElement(s.a.Group,{className:"mb-3"},n.a.createElement(s.a.Label,null,"Old Password"),n.a.createElement(s.a.Control,{type:"Password",maxLength:"20",autoComplete:"off",onChange:e=>d(e.target.value.trim())})),n.a.createElement(s.a.Group,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){ct()(".loader").show();let a=0;if(c(""),ze.test(p)?""===o||""===p||""===g?(c(E("MSG0005")),a++):p!==g&&(c(E("MSG0009")),a++):(a++,c(E("MSG0005"))),a>0)ct()(".loader").hide(),t(!0);else{let a={old:o,new:p,rnew:g};Ye(h,[sessionStorage.sessionId,"chngpass",JSON.stringify(a)],function(a){ct()(".loader").hide();let l=JSON.parse(a);""===l.msg?(c(l.err),t(!0)):(c(l.msg),t(!0),console.log(l,"chngps"),"1"==l.newr&&"1"===sessionStorage.chngPassOnLogin?(sessionStorage.chngPassOnLogin=0,e("/home")):"0"===sessionStorage.chngPassOnLogin&&"1"==l.newr?(c("Password Change Succesfully"),t(!0)):e("/"))})}}},"Change Password"),"\xa0"),n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("ul",{style:{listStyleType:"none"}},n.a.createElement("li",null,"Password can not be blank"),n.a.createElement("li",null,"Minimum 8 characters"),n.a.createElement("li",null,"Atleast 1 capital character"),n.a.createElement("li",null,"Atleast 1 small character"),n.a.createElement("li",null,"Atleast 1 numeric character")))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r)))};var ut=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null))},st=t(101);t(192);let it={height:"100px"};var dt=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!0),[s,i]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[h,g]=Object(l.useState)(""),[S,y]=Object(l.useState)(""),O=sessionStorage.getItem("activeBranch");sessionStorage.clear(),sessionStorage.setItem("activeBranch",O);const N=()=>{i(!1),u(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ha.a,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},"\xa0")),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-12 col-lg-12 align-middle",style:{height:"100vh"}},n.a.createElement("div",{className:"wrap d-md-flex"},n.a.createElement("div",{className:"login-wrap"},n.a.createElement(Za.a,{src:"img/loginpage.png",fluid:!0})),n.a.createElement("div",{className:"login-wrap p-4 p-md-5"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col",align:"center"},n.a.createElement(Za.a,{style:it,src:"img/logo.png",fluid:!0}))),n.a.createElement("div",{className:"d-flex"},n.a.createElement("div",{className:"w-100"},n.a.createElement("h3",{className:"mb-4"},o?"Sign In":"Reset Password")),n.a.createElement("div",{className:"w-100"},n.a.createElement("p",{className:"social-media d-flex justify-content-end"},n.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/zenithfinserv/",className:"social-icon d-flex align-items-center justify-content-center"},n.a.createElement(za.a,{icon:st.a})),n.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://twitter.com/ZenithFinserv",className:"social-icon d-flex align-items-center justify-content-center"},n.a.createElement(za.a,{icon:st.c})),n.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.instagram.com/zenithfinserv/",className:"social-icon d-flex align-items-center justify-content-center"},n.a.createElement(za.a,{icon:st.b}))))),n.a.createElement("form",{className:"signin-form"},n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{className:"label text-uppercase mb-1"},"Username"),n.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",required:"",maxLength:"20",value:d,onChange:e=>ma(e.target.value.trim(),p),autoComplete:"off"})),o?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{className:"label text-uppercase mb-1"},"Password"),n.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",required:"",maxLength:"20",value:h,onChange:e=>ma(e.target.value.trim(),g),autoComplete:"off"})),n.a.createElement("div",{className:"form-group pt-2"},n.a.createElement("button",{type:"button",className:"form-control btn btn-lg btn-primary rounded px-3",onClick:a=>void(""===d||""===h?(c(E("MSG0001")),t(!0)):Ye(b,["validate",d,h],function(a){let l=JSON.parse(a);if(console.log(a),"MSG0000"===l.status){sessionStorage.sessionId=l.session,sessionStorage.userName=l.name.toUpperCase(),sessionStorage.entityId=l.entityid,sessionStorage.entityType=l.entitytype,sessionStorage.dbname=l.dbname,sessionStorage.branchallowed=l.entitybranchallowed,sessionStorage.userSrno=l.srno,sessionStorage.startDate=l.fystart_date,sessionStorage.endDate=l.fyend_date,sessionStorage.myInterval="",sessionStorage.finyear=l.finyear,sessionStorage.userId=l.id.toUpperCase();const a=l.entitybranchallowed.split(",").map(Number);sessionStorage.branchDisable=!1,1==a.length&&(sessionStorage.branchDisable=!0);const n=sessionStorage.getItem("activeBranch");n&&a.includes(1*n)||(sessionStorage.activeBranch=l.activeBranch),console.log("Inside Sign In "),"0"===l.chg_pw_on_logon||0===l.chg_pw_on_logon?(sessionStorage.chngPassOnLogin=0,e("/home")):"1"===l.chg_pw_on_logon||1===l.chg_pw_on_logon?(sessionStorage.chngPassOnLogin=1,e("/changepassword")):(c(E("ERR0000")),t(!0))}else c(E(l.status)),t(!0)}))},"Sign In"))):null,s?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{className:"label text-uppercase mb-1"},"Email Id"),n.a.createElement("input",{type:"email",className:"form-control form-control-lg",placeholder:"Email",required:"",onChange:e=>y(e.target.value.trim()),autoComplete:"off",onBlur:e=>sa(e.target.value.trim(),y)})),n.a.createElement("div",{className:"form-group pt-2"},n.a.createElement("button",{type:"button",className:"form-control btn btn-lg btn-primary rounded px-3",onClick:e=>(ct()(".loader").show(),void(""===d||""===S?(ct()(".loader").hide(),c("Invalid User Id or Email Id."),t(!0)):Ye(b,["reset",d,S],function(e){let a=JSON.parse(e);ct()(".loader").hide(),c(a.msg),t(!0),N()})))},"Reset"),"\xa0",n.a.createElement("button",{type:"button",className:"form-control btn btn-lg btn-primary rounded px-3",onClick:e=>N()},"Back"))):null,o?n.a.createElement("div",{className:"form-group d-flex my-3"},n.a.createElement("div",{className:"w-50 text-start"}),n.a.createElement("div",{className:"w-50 text-end"},n.a.createElement("span",{onClick:()=>{u(!1),i(!0)},className:"handCursor colorBlue"},"Forgot Password"))):null),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col",align:"center"},n.a.createElement(za.a,{icon:Qa.e}),"\xa0appsupport@zenithforex.com\xa0\xa0"))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r)))},Et=t(268),pt=t(273);var bt=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[m,u]=Object(l.useState)(!1),[s,d]=Object(l.useState)([]),[E,p]=Object(l.useState)(0);Object(l.useEffect)(()=>{e.show&&Ye("/api/activitylog_a.php",[a,"getlog",JSON.stringify(e.logObject)],e=>{let a=JSON.parse(e);r(a)})},[e.show]);return n.a.createElement("div",null,n.a.createElement(pt.a,Object.assign({},e,{animation:!1,size:"xl",centered:!0}),n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Activity Log")),n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Timestamp"),n.a.createElement("th",null,"Activity"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,t.map((t,l)=>n.a.createElement("tr",{key:l},n.a.createElement("td",null,t.lg_usersrno),n.a.createElement("td",null,t.lg_remark),n.a.createElement("td",null,t.date_time),n.a.createElement("td",null,t.lg_activity_type),n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((t,l)=>{e.onHide(),ct()(".loader").show(),u(!0);const n={logno:t,branch:l};Ye("/api/activitylog_a.php",[a,"getaudittrail",JSON.stringify(n)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),d("")):d(a)})})(t.lg_logno,t.lg_branch),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"OK"))),n.a.createElement(pt.a,{show:m,size:"xl",onHide:()=>u(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"Audit Trail Info"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>{u(!1)},variant:"outline-danger",size:"sm",className:"buttonStyle"},"Back")),n.a.createElement(Xa.a,null),n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Activity Type"),n.a.createElement("th",null,"Tab Type"),n.a.createElement("th",null,"Description"))),n.a.createElement("tbody",null,s.map((e,a)=>{const t=(e=>{const a=e.split("^"),t={};return a.forEach(e=>{const[a,l]=e.split(":");t[a]=l}),t})(e.tat_description),l=Object.keys(t);return n.a.createElement("tr",{key:a},n.a.createElement("td",null,"A"==e.tat_activity_type?"Add":"Delete"),n.a.createElement("td",null,e.tat_tab),n.a.createElement("td",null,n.a.createElement(Et.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("th",{key:a},e)))),n.a.createElement("tbody",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("td",{key:a},t[e])))))))})))))))};let ht={width:"500px",maxWidth:"100%",margin:"0 auto",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)",zindex:"999",backgroundColor:"#fff",padding:"10px 20px 40px",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 0 40px 20px rgba(0,0,0,0.26)"},gt={marginBottom:"15px",padding:"3px 8px",cursor:"pointer",borderRadius:"50%",border:"none",width:"30px",height:"30px",fontWeight:"bold",alignSelf:"flex-end"};var St=function(e){let a=n.a.createElement("div",{style:ht},n.a.createElement("button",{style:gt,onClick:e.onNo},n.a.createElement(za.a,{icon:Qa.g})),n.a.createElement("div",null,Object(Va.a)(e.children)),n.a.createElement("br",null),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:e.onYes},"Yes"),"\xa0\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:e.onNo},"No"),"\xa0\xa0"));return e.isOpen||(a=null),n.a.createElement("div",null,a)};var yt=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[h,O]=Object(l.useState)(!0),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(0),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)(0),[F,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(0),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)(0),[U,Y]=Object(l.useState)([]),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)(0),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)([]),[me,ue]=Object(l.useState)("Q"),[se,ie]=Object(l.useState)(!1),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(!1),[he,ge]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Se,ye]=Object(l.useState)([]),[Oe,Ne]=Object(l.useState)([]);function ve(e){J(e),Ye(S,[o,"ddlistjson",e],function(e){G(JSON.parse(e))})}function Ce(e){M(e),Ye(R,[o,"ddlistjson",e],function(e){Y(JSON.parse(e)),le(0)})}function _e(e){le(e),Ye(y,[o,"listjson",e],function(e){b(JSON.parse(e))})}Object(l.useEffect)(()=>{u||(A([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),Ye(_,[o,"all","CITY"],function(a){let t=JSON.parse(a);"1"===t.query?oe(t):e("/")}),Ye(g,[o,"ddlistjson"],function(e){X(JSON.parse(e)),q(JSON.parse(e)),H(0)}),Ye(S,[o,"ddlistjson",K],function(e){G(JSON.parse(e)),ae(JSON.parse(e)),$(0)}),Ye(R,[o,"ddlistjson",Z],function(e){Y(JSON.parse(e)),re(JSON.parse(e)),le(0)}),d(!0))},[u,o,e,K,Z]);const fe=()=>{ie(!1),v(!1),O(!0),be(!1)},je=e=>{const a={city:e.city,dist:e.dist,state:e.statesrno,remark:e.remark};Ne([a])};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"City Master "))),h?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===ce.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){f(0),x(1),ue("A"),T(""),z(0),M(0),J(0),v(!0),O(!1)}},"Add New"):null,"1"===ce.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"CITY"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:C,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"City",maxLength:50,value:j,onChange:e=>We(e.target.value,T),autoComplete:"off",disabled:"Q"===me})))),n.a.createElement(Wa.a,null,"A"===me?n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:P,onChange:e=>ve(e.target.value),disabled:"Q"===me},B.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))):null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:I,onChange:e=>Ce(e.target.value),disabled:"Q"===me},F.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:V,onChange:e=>z(e.target.value),disabled:"Q"===me},U.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:k,onChange:e=>x(e.target.value),disabled:"Q"===me},w.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),"E"===me?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:D,onChange:e=>We(e.target.value,L),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===me||"E"===me?(Ee("Do you really want to exit ?"),ie(!0)):fe())},"Back"),"\xa0\xa0","1"===ce.edit&&"Q"===me?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void ue("E")},"Edit"),"\xa0"):null,"1"===ce.edit&&"E"===me||"1"===ce.add&&"A"===me?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){var e=[],a=0;if(""===j||"0"==V||"0"==I||"0"==P)e[a++]=E("MSG0006"),e[a++]=""===j?"City.":"",e[a++]="0"==V?"District.":"",e[a++]="0"==I?"State.":"",e[a++]="0"==P?"Country.":"",c(ja(e)),t(!0);else if("E"===me&&""===D)c("Please fill Remark!"),t(!0);else{var l={srno:C,city:j,dist:V,state:I,act:k,branch:0,activitytype:1*C>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCITY",trannumber:C,subtranno:0,remark:D};const e=Ja(Oe,[l]);"1"===ce.edit&&"E"===me&&ye(Ba(Se,e,"MCITY")),Ye(y,[o,"save",C,JSON.stringify(l),JSON.stringify(Se)],function(e){let a=JSON.parse(e);""===a.err?(v(!1),O(!0),L(""),_e(te)):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==ce.query||"E"!==me&&"Q"!==me?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(be(!0),void ge({trantype:"MCITY",trannumber:C,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,pe&&n.a.createElement(n.a.Fragment,null,n.a.createElement(bt,{logObject:he,show:pe,onHide:()=>be(!1)})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(s.a.Select,{value:K,onChange:e=>(function(e){H(e),Ye(S,[o,"ddlistjson",e],function(e){ae(JSON.parse(e)),Z(0)})})(e.target.value)},W.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State"),n.a.createElement(s.a.Select,{value:Z,onChange:e=>(function(e){$(e),Ye(R,[o,"ddlistjson",e],function(e){re(JSON.parse(e)),te(0)})})(e.target.value)},ee.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District"),n.a.createElement(s.a.Select,{value:te,onChange:e=>(function(e){le(e),_e(e),te(0)})(e.target.value)},ne.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===ce.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"City"),n.a.createElement("th",null,"District"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.city_id},"1"===ce.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){ue("Q"),be(!1),Ye(y,[o,"detail",e],function(e){let a=JSON.parse(e);je(a),f(a.srno),T(a.city),ve(a.cntsrno),x(a.active),M(a.statesrno),z(a.dist),v(!0),Ce(a.statesrno),O(!1)})})(e.city_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.city_id),n.a.createElement("td",null,e.city_name),n.a.createElement("td",null,e.dist_district_name),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.city_active))))))))),n.a.createElement(bt,{logObject:he,show:pe,onHide:()=>be(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:se,onYes:e=>fe(),onNo:e=>ie(!1)},de)))};var Ot=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[h,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(!0),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(0),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)(0),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)([]),[z,U]=Object(l.useState)(0),[Y,K]=Object(l.useState)("Q"),[H,W]=Object(l.useState)(!1),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(!1),[ae,te]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[le,ne]=Object(l.useState)([]),[re,ce]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(M([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),P([{name:"YES",value:"1"},{name:"No",value:"0"}]),Ye(g,[o,"listjson"],function(e){b(JSON.parse(e))}),Ye(_,[o,"all","COUNTRY"],function(a){let t=JSON.parse(a);"1"===t.query?B(t):e("/")}),Ye(g,[o,"listclass"],function(e){V(JSON.parse(e))}),d(!0))},[u,o,e]);const oe=()=>{var e=[],a=0;if(""===C||""===j||""===D)e[a++]=E("MSG0006"),e[a++]=""===C?"Country.":"",e[a++]=""===j?"Nationality.":"",e[a++]=""===D?"Swift Code.":"",c(ja(e)),t(!0);else if("E"===Y&&""===k)c("Please fill Remark!"),t(!0);else{var l={srNo:N,cnt:C,act:w,cls:z,nat:j,swtcd:D,fatf:R,branch:0,activitytype:1*N>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCNT",trannumber:N,subtranno:0,remark:k};const e=Ja(re,[l]);"1"===J.edit&&"E"===Y&&ne(Ba(le,e,"MCNT")),Ye(g,[o,"save",N,JSON.stringify(l),JSON.stringify(le)],function(e){let a=JSON.parse(e);""===a.err?(S(!1),O(!0),x(""),Ye(g,[o,"listjson"],function(e){b(JSON.parse(e))}),ne([])):(c(a.err),t(!0))})}},me=()=>{W(!1),S(!1),O(!0),ee(!1)},ue=e=>{const a={Country:e.country,Status:e.active,Class:e.cclass,Nationality:e.natlty,SwiftCode:e.swift,remark:e.remark};ce([a])};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Country Master"))),y?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===J.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){v(0),f(""),T(""),L(""),F(0),A(1),K("A"),U(0),S(!0),O(!1)}},"Add New"):null,"1"===J.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"COUNTRY"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:N,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Country",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",disabled:"Q"===Y})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nationality",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Nationality",maxLength:50,value:j,onChange:e=>We(e.target.value,T),autoComplete:"off",disabled:"Q"===Y}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Swift Code",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Swift Code",maxLength:10,value:D,onChange:e=>na(e.target.value,L),autoComplete:"off",disabled:"Q"===Y})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FATF"),n.a.createElement(s.a.Select,{value:R,onChange:e=>F(e.target.value),disabled:"Q"===Y},G.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:w,onChange:e=>A(e.target.value),disabled:"Q"===Y},I.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Class"),n.a.createElement(s.a.Select,{value:z,onChange:e=>U(e.target.value),disabled:"Q"===Y},q.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),"E"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:k,onChange:e=>We(e.target.value,x),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===Y||"E"===Y?(Z("Do you really want to exit ?"),W(!0)):me())},"Back"),"\xa0\xa0","1"===J.edit&&"Q"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void K("E")},"Edit"),"\xa0"):null,"1"===J.edit&&"E"===Y||"1"===J.add&&"A"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>oe()},"Save"),"\xa0"):null,"1"!==J.query||"E"!==Y&&"Q"!==Y?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ee(!0),void te({trantype:"MCNT",trannumber:N,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))))))):n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===J.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Nationality"),n.a.createElement("th",null,"Swift Code"),n.a.createElement("th",null,"FATF"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",{id:"tblBody"},p.map(e=>n.a.createElement("tr",{key:e.cnt_srno},"1"===J.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){K("Q"),ee(!1),Ye(g,[o,"detail",e],function(e){let a=JSON.parse(e);ue(a),v(a.srno),f(a.country),T(a.natlty),L(a.swift),F(a.fatf),A(a.active),U(a.cclass),S(!0),O(!1)})})(e.cnt_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.cnt_srno),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.cnt_nationality),n.a.createElement("td",null,e.cnt_swiftcode),n.a.createElement("td",null,e.cnt_fatf),n.a.createElement("td",null,e.cnt_active)))))))),n.a.createElement(bt,{logObject:ae,show:$,onHide:()=>ee(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:H,onYes:e=>me(),onNo:e=>W(!1)},X)))};var Nt=function(){const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)([]),o=Object(m.n)(),[u,s]=Object(l.useState)([]);return Object(l.useEffect)(()=>{a||(Ye(_,[e,"all","DEALERLIST"],function(a){let t=JSON.parse(a);"1"===t.query?(s(t),Ye(T,[e,"listdealer"],e=>{c(JSON.parse(e))})):o("/")}),t(!0))},[a]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Dealer Category"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===u.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[e,JSON.stringify({right:"DEALERLIST"})])}},"Export")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Expirable"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,r.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.md_code),n.a.createElement("td",null,e.md_desc),n.a.createElement("td",null,1==e.md_tax_applicable?"Yes":"No"),n.a.createElement("td",null,1==e.md_active?"ACTIVE":"INACTIVE")))))))))},vt=t(30);var Ct=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)("Q"),[h,g]=Object(l.useState)([]),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(!1),[v,f]=Object(l.useState)(!0),[j,T]=Object(l.useState)(0),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(0),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)(1),[R,F]=Object(l.useState)(1),[G,P]=Object(l.useState)(1),[J,B]=Object(l.useState)(1),[q,V]=Object(l.useState)([]);function z(){N(!1),f(!0),b("Q"),x(0)}function Q(){if(""===D)c("Plese fill Group!."),t(!0);else{var e={srno:j,group:D};Ye(C,[o,"save",j,JSON.stringify(e)],function(e){let a=JSON.parse(e);""===a.err?(b("Q"),N(!1),f(!0),Ye(C,[o,"listjson"],function(e){g(JSON.parse(e))})):(c(a.err),t(!0))})}}function U(e){Ye(C,[o,"detail",e],function(e){let a=JSON.parse(e);T(a.srno),L(a.group),y(a.detail),N(!0),f(!1),b("E")})}return Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","RIGHT"],function(a){let t=JSON.parse(a);"1"===t.query?V(t):e("/")}),Ye(_,[o,"ddlistjson"],function(e){console.log(JSON.parse(e)),A(JSON.parse(e))}),Ye(C,[o,"listjson"],function(e){g(JSON.parse(e))}),d(!0))},[u,o,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Right Group Master"))),v?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===q.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){T(0),L(""),y([]),N(!0),f(!1),b("A")}},"Add New"):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),O?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:j,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Group",value:D,onChange:e=>L(e.target.value),autoComplete:"off",disabled:"E"===p||"Q"===p})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),"A"===p?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Q()},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>z()},"Back"))):null,"E"===p?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Right",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(vt.a,{options:w,value:k,onChange:e=>x(e)}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Query",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:I,onChange:e=>M(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Add",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:R,onChange:e=>F(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Edit",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Delete",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:J,onChange:e=>B(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Xa.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){if(0===k)c(E("MSG0006")),t(!0);else{var e={srno:j,right:k.value,rightQuery:I,rightAdd:R,rightEdit:G,rightDelete:J};Ye(C,[o,"saveright",JSON.stringify(e)],function(e){U(j)})}})()},"Change"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>z()},"Cancel"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Key"),n.a.createElement("th",null,"Right"),n.a.createElement("th",null,"Query"),n.a.createElement("th",null,"Add"),n.a.createElement("th",null,"Edit"),n.a.createElement("th",null,"Delete"))),n.a.createElement("tbody",{id:"tblBody"},S.map(e=>n.a.createElement("tr",{key:e.right_srno},n.a.createElement("td",{className:"textRight"},e.right_srno),n.a.createElement("td",null,e.right_key),n.a.createElement("td",null,e.right_desc),n.a.createElement("td",null,e.right_query),n.a.createElement("td",null,e.right_add),n.a.createElement("td",null,e.right_edit),n.a.createElement("td",null,e.right_delete))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))))))):null,"Q"===p?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===q.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Group"))),n.a.createElement("tbody",null,h.map(e=>n.a.createElement("tr",{key:e.group_srno},"1"===q.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>U(e.group_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.group_srno),n.a.createElement("td",null,e.group_name))))))):null),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r)))};var _t=function(){const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)([]),o=Object(m.n)(),[u,s]=Object(l.useState)([]);return Object(l.useEffect)(()=>{a||(Ye(_,[e,"all","IDTYPE"],function(a){let t=JSON.parse(a);"1"===t.query?(s(t),Ye(j,[e,"listidtype"],e=>{c(JSON.parse(e))})):o("/")}),t(!0))},[a]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"ID Type"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===u.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[e,JSON.stringify({right:"IDTYPE"})])}},"Export")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Expirable"),n.a.createElement("th",null,"Active"))),n.a.createElement("tbody",null,r.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.id_code),n.a.createElement("td",null,e.id_desc),n.a.createElement("td",null,1==e.id_expirable?"Yes":"No"),n.a.createElement("td",null,1==e.id_active?"Yes":"No")))))))))};var ft=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[h,S]=Object(l.useState)(!0),[y,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)(0),[L,k]=Object(l.useState)([]),[x,w]=Object(l.useState)(0),[A,I]=Object(l.useState)([]),[M,R]=Object(l.useState)([]),[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)(!1),[V,z]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(!1),[K,H]=Object(l.useState)("Q"),[W,X]=Object(l.useState)(!1),[Z,$]=Object(l.useState)("");function ee(){var e=[],a=0;if(""===v||""===f)e[a++]=E("MSG0006"),e[a++]=""===v?"Currency Code.":"",e[a++]=""===f?" Currency Name .":"",c(ja(e)),t(!0);else{var l={isd:v,isdName:f,countrySrno:x,act:T,cnCheck:F?1:0,ttCheck:V?1:0,tcCheck:P?1:0,vtcCheck:B?1:0,ddCheck:U?1:0};Ye(O,[o,"save",JSON.stringify(l)],function(e){N(!1),S(!0),Ye(O,[o,"listjson"],function(e){b(JSON.parse(e))})})}}Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","CURRENCY"],function(a){let t=JSON.parse(a);"1"===t.query?R(t):e("/")}),k([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),Ye(O,[o,"listjson"],function(e){b(JSON.parse(e))}),Ye(g,[o,"ddlistjson"],function(e){I(JSON.parse(e))}),d(!0))},[u,o,e]);const ae=()=>{X(!1),N(!1),S(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"ISD Master "))),h?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===M.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){C(""),j(""),D(1),H("A"),w(0),G(!1),z(!1),J(!1),q(!1),Y(!1),N(!0),S(!1)}},"Add New"):null,"1"===M.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"CURRENCY"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),y?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency Code",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Currency Code",maxLength:3,value:v,onChange:e=>We(e.target.value,C),autoComplete:"off",disabled:"Q"===K}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Currency Name",maxLength:50,value:f,onChange:e=>We(e.target.value,j),autoComplete:"off",disabled:"Q"===K})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(s.a.Select,{value:x,onChange:e=>w(e.target.value),disabled:"Q"===K},A.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:T,onChange:e=>D(e.target.value),disabled:"Q"===K},L.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4",style:{display:"flex"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:F,label:"CN",value:F,onChange:e=>G(e.target.checked),disabled:"Q"===K})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:P,label:"TC",value:P,onChange:e=>J(e.target.checked),disabled:"Q"===K})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:B,label:"VTM",value:B,onChange:e=>q(e.target.checked),disabled:"Q"===K})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:V,label:"TT",value:V,onChange:e=>z(e.target.checked),disabled:"Q"===K})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{type:"checkbox",checked:U,label:"DD",value:U,onChange:e=>Y(e.target.checked),disabled:"Q"===K})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===K||"E"===K?($("Do you really want to exit ?"),X(!0)):ae())},"Back"),"\xa0\xa0","1"===M.edit&&"Q"===K?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void H("E")},"Edit"),"\xa0"):null,"1"===M.edit&&"E"===K||"1"===M.add&&"A"===K?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ee()},"Save"),"\xa0"):null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===M.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Code"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.isd_code},"1"===M.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){H("Q"),Ye(O,[o,"detail",e],function(e){let a=JSON.parse(e);C(a.isd),j(a.isdName),w(a.countrySrno),D(a.active),G("1"===a.cn),z("1"===a.tt),J("1"===a.tc),q("1"===a.vtc),Y("1"===a.dd),N(!0),S(!1)})})(e.isd_code)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.isd_code),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.isd_active))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:W,onYes:e=>ae(),onNo:e=>X(!1)},Z)))};var jt=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(!0),[y,O]=Object(l.useState)(0),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)(1),[L,k]=Object(l.useState)([]),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)("Q"),[M,R]=Object(l.useState)(!1),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[V,z]=Object(l.useState)([]);function U(){if(""===v)c("Please fill Issuer!"),t(!0);else if("E"===A&&""===f)c("Please fill remark!"),t(!0);else{var e={srno:y,issuer:v,act:T,branch:0,activitytype:1*y>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MISUR",trannumber:y,subtranno:0,remark:f},a={TabType:"Edit",ALineNo:V.length+1,AType:"A",TType:"MISUR",Issuer:v,Act:T,Remark:f},l=Sa(V,a);z(l),Ye(N,[o,"save",y,JSON.stringify(e),JSON.stringify(l)],function(e){let a=JSON.parse(e);""===a.err?(h(!1),S(!0),j(""),Ye(N,[o,"listjson"],function(e){p(JSON.parse(e))}),z([])):(c(a.err),t(!0))})}}Object(l.useEffect)(()=>{u||(k([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),Ye(_,[o,"all","ISSUER"],function(a){let t=JSON.parse(a);"1"===t.query?w(t):e("/")}),Ye(N,[o,"listjson"],function(e){p(JSON.parse(e))}),d(!0))},[u,o,e]);const Y=()=>{R(!1),h(!1),S(!0),J(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Issuer Master"))),g?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===x.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){O(0),C(""),D(1),I("A"),h(!0),S(!1)}},"Add New"):null,"1"===x.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"ISSUER"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:y,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"issuer",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Issuer",maxLength:50,value:v,onChange:e=>We(e.target.value,C),autoComplete:"off",disabled:"Q"===A})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:T,onChange:e=>D(e.target.value),disabled:"Q"===A},L.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,"\xa0")),"E"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:f,onChange:e=>We(e.target.value,j),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===A||"E"===A?(G("Do you really want to exit ?"),R(!0)):Y())},"Back"),"\xa0\xa0","1"===x.edit&&"Q"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void I("E")},"Edit"),"\xa0"):null,"1"===x.edit&&"E"===A||"1"===x.add&&"A"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>U()},"Save"),"\xa0"):null,"1"!==x.query||"E"!==A&&"Q"!==A?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(J(!0),void q({trantype:"MISUR",trannumber:y,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,P&&n.a.createElement(bt,{logObject:B,show:P,onHide:()=>J(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===x.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",{id:"tblBody"},E.map(e=>n.a.createElement("tr",{key:e.issuer_id},"1"===x.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){I("Q"),J(!1),Ye(N,[o,"detail",e],function(e){let a=JSON.parse(e);O(a.srno),C(a.issuer),D(a.active),h(!0),S(!1)})})(e.issuer_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.issuer_id),n.a.createElement("td",null,e.issuer_name),n.a.createElement("td",null,e.issuer_active))))))))),n.a.createElement(bt,{logObject:B,show:P,onHide:()=>J(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:M,onYes:e=>Y(),onNo:e=>R(!1)},F)))};var Tt=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)([]),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(0),[C,j]=Object(l.useState)([]),[T,D]=Object(l.useState)(0),[L,k]=Object(l.useState)([]),[x,w]=Object(l.useState)("0");return Object(l.useEffect)(()=>{t||(j([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),Ye(_,[a,"all","PURPOSE"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),Ye(f,[a,"listjson"],function(e){let a=JSON.parse(e);d(a)}),Ye(f,[a,"ddlistjsondoc"],function(e){let a=JSON.parse(e);k(a)}),r(!0))},[t,a,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Purpose Master"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===c.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[a,JSON.stringify({right:"PURPOSE"})])}},"Export")):null)),n.a.createElement(Wa.a,null,"\xa0"),b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purpose",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"purpose",maxLength:50,value:y,onChange:e=>O(e.target.value),autoComplete:"off",disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:!0},C.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:T,onChange:e=>D(e.target.value)},L.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Required",n.a.createElement("span",{className:"mandatory"},"*")),n.a.createElement(s.a.Select,{value:x,onChange:e=>w(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"Yes"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Xa.a,{xs:6},n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){var e={srno:g,document:T,docRequired:x};Ye(f,[a,"docchange",JSON.stringify(e)],function(e){let a=JSON.parse(e);S(a.purpose_id),O(a.purpose_name),v(a.purpose_tt),p(a.doc_list)})})()},"Change"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void h(!1)},"Cancel"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"Required")),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.docm_id},n.a.createElement("td",{className:"textRight"},e.docm_id),n.a.createElement("td",null,e.docm_desc),n.a.createElement("td",null,e.doc_required)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===c.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Purpose"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,u.map(e=>n.a.createElement("tr",{key:e.purpose_id},"1"===c.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){Ye(f,[a,"detail",e],function(e){let a=JSON.parse(e);S(a.purpose_id),O(a.purpose_name),v(a.purpose_tt),p(a.doc_list),h(!0),D(0),w("0")})})(e.purpose_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.d})))):null,n.a.createElement("td",{className:"textRight"},e.purpose_id),n.a.createElement("td",null,e.purpose_name),n.a.createElement("td",null,e.purpose_activedesc))))))))))};var Dt=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[d,E]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(1),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!0),[x,w]=Object(l.useState)(!1),[A,I]=Object(l.useState)(!1),[M,R]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[F,G]=Object(l.useState)([]),[P,J]=Object(l.useState)("Q"),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{b||(Ye(_,[p,"all","REGION"],function(a){let t=JSON.parse(a);"1"===t.query?G(t):e("/")}),Ye(k,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),h(!0))},[b,p,e]);const U=()=>{u(!1),w(!1),L(!0),I(!1)},Y=e=>{J("Q"),I(!1),Ye(k,[p,"editdata",e],e=>{let a=JSON.parse(e);(e=>{const a={region:e.region,status:e.status,remark:e.remark};z([a])})(a),O(a.srno),v(a.region),f(a.status),w(!0),L(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null," Master Region List"))),D?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===F.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{O(0),v(""),f(1),J("A"),w(!0),L(!1)}}," Add New"),"\xa0"):null,"1"===F.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[p,JSON.stringify({right:"REGION"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),x?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:y,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Region",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Region",maxLength:50,value:N,onChange:e=>We(e.target.value,v),disabled:"Q"===P,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:C,onChange:e=>f(e.target.value),disabled:"Q"===P,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===P?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:j,onChange:e=>We(e.target.value,T),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===P||"E"===P?(E("Do you really want to exit ?"),u(!0)):U())},"Back"),"\xa0\xa0","1"===F.edit&&"Q"===P?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void J("E")},"Edit"),"\xa0"):null,"1"===F.edit&&"E"===P||"1"===F.add&&"A"===P?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===N)c("Please fill Region!"),t(!0);else if("E"===P&&""===j)c("Please fill Remark!"),t(!0);else{var e={srno:y,region:N,status:C,branch:0,activitytype:1*y>0?"MODIFY":"CREATE",trancategory:"M",trantype:"REGN",trannumber:y,subtranno:0,remark:j};const a=Ja(V,[e]);"1"===F.edit&&"E"===P&&q(Ba(B,a,"REGN")),Ye(k,[p,"savelistData",y,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(w(!1),L(!0),T(""),Ye(k,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==F.query||"E"!==P&&"Q"!==P?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(I(!0),void R({trantype:"REGN",trannumber:y,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,A&&n.a.createElement(n.a.Fragment,null))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===F.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Region"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",{key:e.mr_srno},n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.mr_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))),n.a.createElement("td",{className:"textRight"},e.mr_srno),n.a.createElement("td",null,e.mr_region),n.a.createElement("td",null,1==e.mr_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(bt,{logObject:M,show:A,onHide:()=>I(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:o,onYes:e=>U(),onNo:e=>u(!1)},d)))};var Lt=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[h,y]=Object(l.useState)(!0),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(0),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(0),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)(0),[M,R]=Object(l.useState)([]),[F,G]=Object(l.useState)("S"),[P,J]=Object(l.useState)(0),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]),[U,Y]=Object(l.useState)("Q"),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(!1),[ee,ae]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""});function te(e){J(e),Ye(S,[o,"listjson",e],function(e){b(JSON.parse(e))})}Object(l.useEffect)(()=>{u||(w([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),Ye(g,[o,"ddlistjson"],function(e){R(JSON.parse(e)),q(JSON.parse(e)),J(0)}),Ye(_,[o,"all","STATE"],function(a){let t=JSON.parse(a);"1"===t.query?z(t):e("/")}),d(!0))},[u,o,e]);const le=()=>{H(!1),N(!1),y(!0),$(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"State Master "))),h?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===V.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){C(0),k(1),Y("A"),j(""),G("S"),I(0),N(!0),y(!1)}},"Add New"):null,"1"===V.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"STATE"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),O?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:v,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"State",maxLength:50,value:f,onChange:e=>We(e.target.value,j),autoComplete:"off",disabled:"Q"===U})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:A,onChange:e=>I(e.target.value),disabled:"Q"===U},M.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State Type"),n.a.createElement(s.a.Select,{value:F,onChange:e=>G(e.target.value),disabled:"Q"===U,required:!0},n.a.createElement("option",{value:"S"},"State"),n.a.createElement("option",{value:"U"},"Union Territory"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:L,onChange:e=>k(e.target.value),disabled:"Q"===U},x.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,"\xa0")),"E"===U?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:T,onChange:e=>We(e.target.value,D),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===U||"E"===U?(X("Do you really want to exit ?"),H(!0)):le())},"Back"),"\xa0\xa0","1"===V.edit&&"Q"===U?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void Y("E")},"Edit"),"\xa0"):null,"1"===V.edit&&"E"===U||"1"===V.add&&"A"===U?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){if(""===f||0===A)c(E("MSG0006")),t(!0);else if("E"===U&&""===T)c("Please fill remark!"),t(!0);else{var e={state:f,cnt:A,act:L,type:F,branch:0,activitytype:1*v>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MSTAT",trannumber:v,subtranno:0,remark:T};Ye(S,[o,"save",v,JSON.stringify(e)],function(e){let a=JSON.parse(e);""===a.err?(N(!1),y(!0),D(""),te(P)):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==V.query||"E"!==U&&"Q"!==U?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>($(!0),void ae({trantype:"MSTAT",trannumber:v,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,Z&&n.a.createElement(n.a.Fragment,null,n.a.createElement(bt,{logObject:ee,show:Z,onHide:()=>$(!1)})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Select,{value:P,onChange:e=>(function(e){J(e),te(e)})(e.target.value)},B.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===V.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.state_id},"1"===V.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){Y("Q"),$(!1),Ye(S,[o,"detail",e],function(e){let a=JSON.parse(e);C(a.srno),j(a.state),I(a.countrysrno),k(a.active),N(!0),y(!1)})})(e.state_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.state_id),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.state_active))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:K,onYes:e=>le(),onNo:e=>H(!1)},W)))},kt=t(275),xt=t(277),wt=t(2),At=t(31),It=t(272);const Mt=e=>{},Rt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"locationallowed",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},Ft=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"ledgerallowed",srch:e,location:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Gt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"additionalCreditledgerallowed",srch:e,location:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Pt=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PURCHASE";var t={sid:sessionStorage.getItem("sessionId"),type:"individual",srch:e,trantype:a,a:"b"};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Jt=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"ledgerfromtype",srch:e,grouptype:a,location:t};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},Bt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"currencyallowed",srch:e,product:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},qt=(e,a,t,l)=>{if(""==l)return null;var n={sid:sessionStorage.getItem("sessionId"),type:"vtmencashment",srch:e,status:a,location:t,individualSrno:l};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))},Vt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"executive",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},zt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"purpose",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},Qt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"sourceoffund",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},Ut=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"visatype",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},Yt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"country",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},Kt=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"individualList",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},Ht=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"state",srch:e,country:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Wt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"district",srch:e,state:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Xt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"city",srch:e,district:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},Zt=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"groupfromtype",srch:e,grouptype:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},$t=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"bank",srch:e,location:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},el=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"banklocal",srch:e,location:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},al=(e,a,t,l)=>{var n={sid:sessionStorage.getItem("sessionId"),type:"chequebookbank",srch:e.trim(),groupCode:a,bankCode:t,location:l};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))},tl=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"manualall",srch:e,location:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},ll=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"manualtype",srch:e,location:a,trantype:t};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},nl=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"dealertype",srch:e,location:a,dealertype:t};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},rl=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"knockoff",srch:e,location:a,data:t};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},cl=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"vtcinlist",srch:e,location:a.location,group:a.group,isd:a.isd,account:a.account};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},ol=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"vtcbilllist",srch:e,location:a.location,group:a.group,isd:a.isd,account:a.account};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},ml=(e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"vtsettled",srch:e,location:a.location,group:a.group,isd:a.isd,account:a.account,trtype:a.type};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))},ul=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"location",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},sl=e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"countryIssue",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))},il=(e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"bankDetails",srch:e,location:a,bank:t};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))},dl=e=>{let{ID:a,label:t,desc:l}=e;const r=l.split("^");return n.a.createElement("div",{style:{width:"100%",display:"flex",paddingBottom:"0px"}},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"28%",paddingLeft:"3%"}},r[0]),n.a.createElement("div",{style:{width:"22%",paddingLeft:"3%"}},r[1]),n.a.createElement("div",{style:{width:"30%",paddingLeft:"3%"}},r[2]),n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},r[3])))},El=e=>n.a.createElement(At.p.Menu,e,n.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},n.a.createElement("thead",{style:{width:"100%"}},n.a.createElement("tr",{style:{width:"100%",display:"flex",fontWeight:"bold",backgroundColor:"#f8f9fa"}},n.a.createElement("div",{style:{width:"28%",paddingLeft:"4%"}},"Name"),n.a.createElement("div",{style:{width:"22%",paddingLeft:"3%"}},"Pancard no"),n.a.createElement("div",{style:{width:"30%",paddingLeft:"3%"}},"Id"),n.a.createElement("div",{style:{width:"20%",paddingLeft:"2%"}},"Country"))),n.a.createElement("tbody",null,e.children))),pl=e=>{let{id:a,label:t}=e;const l=t.split(" ");let r=l[0].split(":")[1],c=l[1].split(":")[1],o=l[2].split(":")[1],m=l[4]+" "+l[3],u=l[5];return n.a.createElement("div",{style:{width:"100%",display:"flex",paddingBottom:"0px"}},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},r),n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},c),n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},o),n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},m),n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},u)))},bl=e=>n.a.createElement(At.p.Menu,e,n.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},n.a.createElement("thead",{style:{width:"100%"}},n.a.createElement("tr",{style:{width:"100%",display:"flex",fontWeight:"bold",backgroundColor:"#f8f9fa"}},n.a.createElement("div",{style:{width:"20%",paddingLeft:"4%"}},"Pending"),n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},"Total"),n.a.createElement("div",{style:{width:"20%",paddingLeft:"3%"}},"Received"),n.a.createElement("div",{style:{width:"20%",paddingLeft:"2%"}},"Voucher"),n.a.createElement("div",{style:{width:"20%",paddingLeft:"2%"}},"Date"))),n.a.createElement("tbody",null,e.children))),hl=e=>n.a.createElement(At.p.Menu,e,n.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},n.a.createElement("thead",{style:{width:"100%"}},n.a.createElement("tr",{style:{width:"100%",display:"flex",fontWeight:"bold",backgroundColor:"#f8f9fa"}},n.a.createElement("div",{style:{width:"8%",paddingLeft:"2%"}},"ISD"),n.a.createElement("div",{style:{width:"12%",paddingLeft:"2%"}},"Enchased Value"),n.a.createElement("div",{style:{width:"22%",paddingLeft:"2%"}},"Issuer"),n.a.createElement("div",{style:{width:"8%",paddingLeft:"2%"}},"Card No"),n.a.createElement("div",{style:{width:"16%",paddingLeft:"2%"}},"Ref No"),n.a.createElement("div",{style:{width:"28%",paddingLeft:"2%"}},"Croporate"))),n.a.createElement("tbody",{style:{paddingInline:"0px"}},e.children))),gl=e=>{let{id:a,label:t,desc:l}=e;const r=l.split("^");let c=r[2],o=r[14],m=r[3]+" "+r[4]+" "+r[5],u=r[9],s=r[10],i=(0==r[6]?" ":r[6])+" "+(0==r[7]?" ":r[7])+" "+r[8];return n.a.createElement("div",{style:{width:"100%",display:"flex",paddingBottom:"0px"}},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"8%",paddingLeft:"1%"}},c),n.a.createElement("div",{style:{width:"12%",paddingLeft:"1%"}},o),n.a.createElement("div",{style:{width:"22%",paddingLeft:"1%"}},m),n.a.createElement("div",{style:{width:"8%",paddingLeft:"2%"}},u),n.a.createElement("div",{style:{width:"16%",paddingLeft:"2%"}},s),n.a.createElement("div",{style:{width:"24%",paddingLeft:"2%"}},i)))};var Sl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)("Q"),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(!0),[f,j]=Object(l.useState)(0),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[M,R]=Object(l.useState)(0),[F,G]=Object(l.useState)([]),[P,J]=Object(l.useState)("0"),[B,q]=Object(l.useState)("0"),[V,z]=Object(l.useState)([]),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)([]),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)(0),[me,ue]=Object(l.useState)(0),[se,ie]=Object(l.useState)([]),[de,Ee]=Object(l.useState)([]),[pe,be]=Object(l.useState)([]),[he,ge]=Object(l.useState)(!1),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)([]),[ve,Ce]=Object(l.useState)(!1),[_e,fe]=Object(l.useState)(null),[je,Te]=Object(l.useState)(0),[De,Le]=Object(l.useState)([]),[ke,xe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[we,Ae]=Object(l.useState)(!1);function Ie(){var e=[],a=0;if(""===T||""===L||""===x||""===A||null===_e)e[a++]=E("MSG0006"),e[a++]=""===T?"User Name.":"",e[a++]=""===L?" User ID.":"",e[a++]=""===x?" Mobile.":"",e[a++]=""===A?" Email.":"",e[a++]=null===_e?" Executive.":"",c(ja(e)),t(!0);else if("E"!==p||W){var l={umSrNo:f,umUserName:T,umId:L,umMob:x,umEml:A,umEnable:M,umEntityType:B,umEntityCode:P,umActive:U,umRightGroup:me,umExecutive:je,branch:0,activitytype:1*f>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MUSER",trannumber:f,subtranno:0,remark:W},n={TabType:"Info",ALineNo:De.length+1,AType:"A",TType:"MUSER",Id:L,UserName:T,Mobile:x,Email:A,Enable:M,EntityType:B,EntityCode:P,Active:U,RightGroup:me,Executive:je,Remark:W},r=Sa(De,n);Le(r),Ye(h,[o,"save",f,JSON.stringify(l),JSON.stringify(r)],function(e){let a=JSON.parse(e);""===a.err?(b("Q"),O(!1),v(!0),X(""),Ye(h,[o,"listjson"],function(e){S(JSON.parse(e))}),Ce(!1),Le([])):(Ce(!1),c(a.err),t(!0))})}else Ce(!0)}Object(l.useEffect)(()=>{u||($([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),G([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),z([{name:"Select",value:"0"},{name:"Agent",value:"A"},{name:"Branch",value:"B"}]),ae([{name:"Select",value:"0"}]),Ye(_,[o,"all","USER"],function(a){let t=JSON.parse(a);"1"===t.query?be(t):e("/")}),Ye(h,[o,"listjson"],function(e){S(JSON.parse(e))}),Ye(h,[o,"ddlistjson","B"],function(e){re(JSON.parse(e))}),Ye(C,[o,"ddlistjson"],function(e){ie(JSON.parse(e))}),d(!0))},[u,o,e]);const Me=()=>{ge(!1),O(!1),v(!0)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"User Master"))),N?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===pe.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){j(0),D(""),k(""),w(""),I(""),R(1),q("0"),J(0),b("A"),Y(1),le(0),ue(0),H([]),fe(null),O(!0),v(!1)}},"Add New"):null,"1"===pe.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"USER"})])}},"Export")):null)):n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===p||"E"===p?(ye("Do you really want to exit ?"),ge(!0)):Me())},"Back"),"\xa0\xa0","1"===pe.edit&&"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void b("E")},"Edit"),"\xa0"):null,"1"===pe.edit&&"E"===p||"1"===pe.add&&"A"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Ie()},"Save"),"\xa0"):null,"1"!==pe.query||"E"!==p&&"Q"!==p?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ae(!0),void xe({trantype:"MUSER",trannumber:f,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),y?n.a.createElement(n.a.Fragment,null,n.a.createElement(kt.a,null,n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:f,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"User Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"User",maxLength:50,value:T,onChange:e=>We(e.target.value,D),autoComplete:"off",disabled:"Q"===p}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"User ID",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"User ID",maxLength:50,disabled:"A"!==p,value:L,onChange:e=>na(e.target.value,k),autoComplete:"off"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:50,value:x,onChange:e=>Ze(e.target.value,w),autoComplete:"off",disabled:"Q"===p}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"email",placeholder:"Email",maxLength:50,autoComplete:"off",value:A,onChange:e=>I(e.target.value),onBlur:e=>sa(e.target.value,I),disabled:"Q"===p}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Enable"),n.a.createElement(s.a.Select,{value:M,onChange:e=>R(e.target.value),disabled:"Q"===p},F.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:U,onChange:e=>Y(e.target.value),disabled:"Q"===p},Z.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{disabled:"Q"===p,value:B,onChange:e=>(function(e){q(e),Ye(h,[o,"ddlistjson",e],function(e){ae(JSON.parse(e))})})(e.target.value)},V.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),"A"===B?n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Master Head",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:P,onChange:e=>J(e.target.value)},ee.map(e=>n.a.createElement("option",{value:e.value},e.name))))):n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:_e,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Vt,onInputChange:Mt,onChange:e=>{console.log(e),fe(e);const a=e.id.split("^");Te(a[1])}})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),"E"===p||"Q"===p?n.a.createElement(xt.a,{eventKey:"LOCATION",title:"Location"},"B"===B?n.a.createElement(n.a.Fragment,null,"E"===p?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value)},ne.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Allowed"),n.a.createElement(s.a.Select,{value:ce,onChange:e=>oe(e.target.value)},n.a.createElement("option",{key:"1",value:"1"},"YES"),n.a.createElement("option",{key:"0",value:"0"},"No")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"\xa0"),n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>(function(){if(0===te)c(E("MSG0006")),t(!0);else{var e={umSrNo:f,umRightBranch:te,umRightBranchAllow:ce},a={TabType:"Location",ALineNo:De.length+1,AType:"A",TType:"MUSER",RightBranch:te,RightBranchAllowed:ce};if("1"===pe.edit&&"E"===p){var l=Sa(De,a);Le(l)}Ye(h,[o,"saveright",JSON.stringify(e)],function(e){""===e?Ye(h,[o,"locationright",f],function(e){H(JSON.parse(e))}):(c(e),t(!0))})}})()},"Change Right")))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Branch Name"),n.a.createElement("th",null,"Allowed"))),n.a.createElement("tbody",null,K.map(e=>n.a.createElement("tr",{key:e.entity_id},n.a.createElement("td",{className:"textRight"},e.entity_id),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.entity_right))))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))):null):null,"E"===p||"Q"===p?n.a.createElement(xt.a,{eventKey:"GROUP",title:"Group"},"E"===p?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:me,onChange:e=>ue(e.target.value)},se.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(i.a,{size:"sm",style:{marginTop:"33px"},className:"buttonStyle",variant:"outline-primary",onClick:()=>(function(){if(0!=me){var e={TabType:"Group",ALineNo:De.length+1,AType:"A",TType:"MUSER",Group:me},a=Sa(De,e);Le(a),Ye(h,[o,"addgroup",f,me],e=>{Ee(JSON.parse(e)),ue(0)})}})()},"Add"))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,de.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.um_id),n.a.createElement("td",null,e.group_name),n.a.createElement("td",null,"E"===p&&1==pe.add?n.a.createElement("span",{className:"colorThemeBlue handCursor",onClick:()=>(function(e,a){const t=de.find(a=>a.delgroup===e);if(t){const e={TabType:"Group",ALineNo:De.length+1,AType:"D",TType:"MUSER",Group:t.group_name};"1"===pe.edit&&"E"===p&&Le(a=>[...a,e])}Ye(h,[o,"delgroup",e,a],e=>{Ee(JSON.parse(e))})})(e.rgtgrp_userno,e.rgtgrp_grpno)},n.a.createElement(za.a,{icon:tt.r})):null)))))):null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===pe.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",{id:"tblBody"},g.map(e=>n.a.createElement("tr",{key:e.um_srno},"1"===pe.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e,a){Ye(h,[o,"detail",e,a],function(e){b("Q");let a=JSON.parse(e);j(a.umSrNo),console.log("serial number is ",a.umSrNo),D(a.umUserName),k(a.umId),w(a.umMob),I(a.umEml),R(a.umEnable),q(a.umEntityType),Y(a.umActive),H(a.umDetail),fe({id:a.umExecutive,label:a.umExecutive}),Ye(h,[o,"ddlistjson",a.umEntityType],function(e){ae(JSON.parse(e)),J(a.umEntityCode)}),"B"===a.umEntityType&&le(0),Ee(a.grouplist),O(!0),v(!1)})})(e.um_srno,e.um_executive)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.um_srno),n.a.createElement("td",null,e.um_username),n.a.createElement("td",null,e.um_id),n.a.createElement("td",null,e.um_active))))))))),n.a.createElement(bt,{logObject:ke,show:we,onHide:()=>Ae(!1)}),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:ve,onHide:()=>Ce(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,"E"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:499,value:W,onChange:e=>We(e.target.value,X),autoComplete:"off",required:!0}))):null),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Ie()},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Ce(!1)},"Cancel")))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:he,onYes:e=>Me(),onNo:e=>ge(!1)},Se)))};var yl=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)(!1),[h,g]=Object(l.useState)(""),[S,y]=Object(l.useState)({value:0,label:"None"}),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)("G"),[f,j]=Object(l.useState)("1"),[T,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)({value:0,label:"Select"}),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)([{value:0,label:"NONE"},{value:"DEALER",label:"DEALER"},{value:"CORPORATE",label:"CORPORATE"},{value:"AGENT",label:"AGENT"},{value:"BANK",label:"BANK"},{value:"CASH",label:"CASH"}]),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(!1),[q,V]=Object(l.useState)({value:0,label:"All"}),[z,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)("1"),[X,Z]=Object(l.useState)("1"),[$,ee]=Object(l.useState)([]),[ae,te]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[le,ne]=Object(l.useState)(!1),[re,ce]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(Ye(_,[e,"all","VOUCHERGROUP"],function(t){let l=JSON.parse(t);"1"===l.query?(o(l),Ye(D,[e,"parentgrpjson"],e=>{M(JSON.parse(e))}),oe()):a("/")}),r(!0))},[t]);const oe=()=>{const a={srchParentGrp:q.value};Ye(D,[e,"listdata",JSON.stringify(a)],e=>{N(JSON.parse(e))})},me=()=>{U(!1),d("")},ue=a=>{ct()(".loader").show(),d("Q"),Ye(D,[e,"parentgrpjson"],e=>{M(JSON.parse(e))}),Ye(D,[e,"details",a],e=>{let t=JSON.parse(e);1===t.msg&&(ct()(".loader").hide(),(e=>{const a={vgName:e.groupname,vgCategory:e.category,vgParentGrpCode:e.parentgroup,vgStatus:e.status,vgType:e.type,debtor:e.debtorallow,creditor:e.creditorallow,remark:""};ce([a])})(t),x(t.groupname),C(t.category),L(a),j(t.status),A({value:t.parentgroup,label:t.parentname}),y({value:t.type,label:t.type}),W(t.debtorallow),Z(t.creditorallow),t.parentexist?B(!0):B(!1))})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Voucher Group"))),""===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Parent Group"),n.a.createElement(vt.a,{options:I,value:q,onChange:e=>V(e)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===c.add?n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(Ye(D,[e,"parentgrpjson"],e=>{M(JSON.parse(e))}),d("A"),C("G"),x(""),A(""),j("1"),y({value:0,label:"NONE"}),L(0),Z("1"),void W("1"))},"Add New"):null,"\xa0",n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-success",onClick:()=>oe()},"List")," \xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a={right:"VOUCHERGROUP",srchParentGrp:q.value};va(Q,"post",[e,JSON.stringify(a)])})()},"Export"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Parent Group"),n.a.createElement("th",null,"Category"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,O.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"1"===c.edit?n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>ue(e.mvg_srno)},n.a.createElement(za.a,{icon:tt.k})):null),n.a.createElement("td",null,e.mvg_srno),n.a.createElement("td",null,e.mvg_group_name),n.a.createElement("td",null,e.mvg_parent_group),n.a.createElement("td",null,"G"===e.mvg_category?"Group":"Ledger"),n.a.createElement("td",null,1==e.mvg_status?"Active":"Inactive")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Srno"),n.a.createElement(s.a.Control,{disabled:!0,value:T,onChange:e=>L(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:80,value:k,onChange:e=>na(e.target.value,x),disabled:"Q"===u}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Parent Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(vt.a,{options:I,isDisabled:"E"===u||"Q"===u,value:w,onChange:e=>A(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Category"),n.a.createElement(s.a.Select,{value:v,disabled:"Q"===u,onChange:e=>C(e.target.value)},n.a.createElement("option",{value:"G"},"Group"),n.a.createElement("option",{value:"L"},"Ledger")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(vt.a,{options:R,value:S,onChange:e=>y(e),isDisabled:"Q"===u}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:f,onChange:e=>j(e.target.value),disabled:"Q"===u},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Debtor"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:H,onChange:e=>W(e.target.value),disabled:"Q"===u},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Creditor"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:X,onChange:e=>Z(e.target.value),disabled:"Q"===u},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),"E"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"remark",maxLength:50,value:G,onChange:e=>We(e.target.value,P),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===u||"E"===u?(K("Do you really want to exit ?"),U(!0)):me())},"Back"),"\xa0\xa0","1"===c.edit&&"Q"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void d("E")},"Edit"),"\xa0"):null,"1"!==c.edit||"E"!==u&&"Q"!==u?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ne(!0),void te({trantype:"MVGRP",trannumber:T,trancategory:"M",subtranno:q.value}))},"Activity Log"),"\xa0"),"1"===c.edit&&"E"===u||"1"===c.add&&"A"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a={srno:T,vgName:k,vgCategory:v,vgParentGrpCode:w.value,vgStatus:f,vgType:S.value,branch:0,activitytype:1*T>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MVGRP",trannumber:T,debtor:H,creditor:X,remark:G,subtranno:q.value};const t=Ja(re,[a]);"1"===c.edit&&"Q"===u&&ee(Ba($,t,"MVGRP"));var l=[],n=0;""===k||"0"==w.value?(l[n++]=E("MSG0006"),l[n++]=""===k?" Please fill group name.":"",l[n++]="0"==w.value?" Please select parent.":"",g(ja(l)),b(!0)):"E"===u&&""===G?(g("Please fill remark!"),b(!0)):Ye(D,[e,"savevgroup",JSON.stringify(a),JSON.stringify($)],e=>{N(JSON.parse(e)),d(""),P(""),ee([])})})()},"Save"),"\xa0"):null)))),n.a.createElement(bt,{logObject:ae,show:le,onHide:()=>ne(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:p,onClose:e=>b(!1)},h),n.a.createElement(St,{isOpen:z,onYes:e=>me(),onNo:e=>U(!1)},Y)))},Ol=t(269),Nl=t(4),vl=t.n(Nl),Cl=(t(211),t(38));var _l=function(e){let{commissionList:a,updateCommissionList:t,ldgsrno:r,ldggrpsrno:c,visiblePg:o,deleteRight:m}=e;const u=sessionStorage.getItem("sessionId"),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)([]),[C,_]=Object(l.useState)({value:"",label:"Select"}),[f,j]=Object(l.useState)(0),[T,D]=Object(l.useState)(!1),[k,x]=Object(l.useState)("");Object(l.useEffect)(()=>{O(a)},[a]),console.log(y);const w=()=>{p(""),h(""),S(""),_({value:"",label:"Select"})};return n.a.createElement("div",null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Commission"))),"Q"!==o&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{md:3,sm:6},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:d,onChange:e=>(e=>{p(e),Ye(L,[u,"getisd",e],e=>{v(JSON.parse(e))})})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"CN"},"Currency"),n.a.createElement("option",{value:"VTM"},"VTM")))),n.a.createElement(Xa.a,{md:3,sm:6},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:b,onChange:e=>h(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paise"),n.a.createElement("option",{value:"R"},"Percentage")))),n.a.createElement(Xa.a,{md:3,sm:6},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ISD",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vt.a,{options:N,value:C,onChange:e=>_(e)}))),n.a.createElement(Xa.a,{md:3,sm:6},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Value",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Value",value:g,onChange:e=>ea(e.target.value,S)})))),n.a.createElement(Wa.a,{className:"mt-2"},n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",onClick:()=>{if(!(()=>{const e=[];if(d||e.push("Product"),b||e.push("Type"),C.value||e.push("ISD"),g||e.push("Value"),e.length>0){const a=ja([E("MSG0006"),...e]);return x(a),D(!0),!1}return!0})())return;let e=f+1;const a={vlc_srno:e,vlc_product:d,vlc_type:b,vlc_value:g,vlc_isd:C.value,vlc_ldgsrno:r,vlc_group:c};O(l=>{const n=l.filter(e=>{var a,t,l;const n=(null===(a=e.vlc_product)||void 0===a?void 0:a.trim())||"",r=(null===(t=e.vlc_type)||void 0===t?void 0:t.trim())||"",c=(null===(l=e.vlc_isd)||void 0===l?void 0:l.trim())||"";return n!==d.trim()||r!==b.trim()||c!==C.value.trim()});let r=[];return r="A"===d.trim()?[...n.filter(e=>{var a,t,l;const n=(null===(a=e.vlc_product)||void 0===a?void 0:a.trim())||"",r=(null===(t=e.vlc_type)||void 0===t?void 0:t.trim())||"",c=(null===(l=e.vlc_isd)||void 0===l?void 0:l.trim())||"";return!(("CN"===n||"VTM"===n)&&r===b.trim()&&c===C.value.trim())}),{...a,vlc_product:"CN",vlc_srno:e++},{...a,vlc_product:"VTM",vlc_srno:e++}]:Sa(n,a),t(r),r}),j(e+1),w()}},"Add")))),n.a.createElement(Wa.a,{className:"mt-3"},n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Value"))),n.a.createElement("tbody",null,y.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===o||"0"===m?null:n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>(e=>{const a=y.filter(a=>a.vlc_srno!==e);O(a),t(a)})(e.vlc_srno),style:{cursor:"pointer"}},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.vlc_product),n.a.createElement("td",null,"P"===e.vlc_type?"Paise":"Percentage"),n.a.createElement("td",null,e.vlc_isd),n.a.createElement("td",null,e.vlc_value))))))),n.a.createElement(Ka,{isOpen:T,onClose:()=>D(!1)},k))};var fl=function(e){const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(""),[m,u]=Object(l.useState)({value:0,label:"Select"}),[d,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)([]),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[_,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,k]=Object(l.useState)("");return Object(l.useEffect)(()=>{g(e.ledgerDocument),Ye(L,[a,"getalldocs",e.listType],e=>{r(JSON.parse(e))})},[e.ledgerDocument]),console.log(e.ledgerDocument),n.a.createElement(n.a.Fragment,null,n.a.createElement(Ha.a,{fluid:!0},"Q"===e.visiblePg?null:n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(vt.a,{options:t,value:m,onChange:e=>u(e)}))),0!=m.value?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"uploadGroupDoc"},n.a.createElement(s.a.Label,null,"File",n.a.createElement("span",{className:"mandatory text-danger"},"*")," MAX(10MB)"),n.a.createElement(s.a.Control,{type:"file",value:c,onChange:e=>o(e.target.value)}))):null,n.a.createElement(Xa.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",onClick:()=>(()=>{const t={uploadType:"linkdocument",pageright:"VOUCHERLEDGER",sid:a,docsrno:m.value,ldgsrno:e.ldgsrno,ldggrpsrno:e.ldggrpsrno,groupType:e.listType};Na(JSON.stringify(t),"uploadGroupDoc",e=>{console.log(e);let a=JSON.parse(e);g(a.docdetail)})})()},"Add"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"File Name"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,h.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.docm_desc),n.a.createElement("td",null,e.mvld_filename),n.a.createElement("td",null,"png"==e.mvld_ext||"pdf"==e.mvld_ext||"jpg"==e.mvld_ext||"jpeg"==e.mvld_ext||"jfif"==e.mvld_ext||"gif"==e.mvld_ext||"bmp"==e.mvld_ext?n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>((e,t,l)=>{const n={name:"ledgerdoc",lineno:e,filename:t,pageright:"VOUCHERLEDGER"};_a(U,[a,"docView",JSON.stringify(n)],function(e){let a=JSON.parse(e);ct()(".loader").hide(),C(a.bs64),f(a.typ),T(a.desc),k(a.fname),N(!0)})})(e.mvld_lineno,e.mvld_filename,e.mvld_ext)},n.a.createElement(za.a,{icon:Qa.f})):null,"\xa0",n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>((e,t,l)=>{const n={name:"ledgerdoc",lineno:e,filename:t,pageright:"VOUCHERLEDGER"};va(U,"post",[a,"docdownload",JSON.stringify(n)])})(e.mvld_lineno,e.mvld_filename,e.mvld_ext)},n.a.createElement(za.a,{icon:tt.i})))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:d,onClose:e=>E(!1)},p)),n.a.createElement(pt.a,{show:O,onHide:()=>N(!1),size:"xl",centered:!0},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,{id:"example-custom-modal-styling-title"},j.toUpperCase()+" : "+D)),n.a.createElement(pt.a.Body,null,n.a.createElement("embed",{src:v,type:_,style:{minHeight:"100vh",minWidth:"100%"}}))))};var jl=function(e){const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)({value:0,label:"Select"}),[m,u]=Object(l.useState)("1"),[d,E]=Object(l.useState)([]),[p,b]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{p||(Ye(v,[a,"listjson"],e=>{r(JSON.parse(e))}),E(e.locationLink),b(!0))},[p]),Object(l.useEffect)(()=>{E(e.locationLink)},[e.locationLink]),n.a.createElement(n.a.Fragment,null,"Q"===e.visiblePg?null:n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location"),n.a.createElement(vt.a,{isDisabled:"Q"===e.visiblePg,options:t,value:c,onChange:e=>o(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{disabled:"Q"===e.visiblePg,value:m,onChange:e=>u(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),n.a.createElement(Xa.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const t={location:c.value,status:m,ldgsrno:e.ldgsrno,ldggroupsrno:e.ldggrpsrno};0!=c.value&&Ye(L,[a,"isdstatus",JSON.stringify(t)],e=>{E(JSON.parse(e))})})()},"Save"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Active"))),n.a.createElement("tbody",null,d.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_id),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.active))))))};var Tl=function(){const e=[{value:0,label:"Select"},{value:1,label:"Gst"},{value:2,label:"Unregistered"},{value:3,label:"Gst Excluded"}],a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)([]),p=Object(m.n)(),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[M,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(new Date),[z,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)("1"),[H,W]=Object(l.useState)("1"),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)("1"),[ue,se]=Object(l.useState)(""),[ie,de]=Object(l.useState)(null),[Ee,pe]=Object(l.useState)(""),[be,he]=Object(l.useState)(0),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)(""),[fe,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)(""),[Le,ke]=Object(l.useState)(""),[xe,we]=Object(l.useState)(""),[Ae,Ie]=Object(l.useState)(""),[Me,Re]=Object(l.useState)(""),[Fe,Ge]=Object(l.useState)(""),[Pe,Je]=Object(l.useState)(""),[Be,Ve]=Object(l.useState)(""),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,Xe]=Object(l.useState)(""),[$e,aa]=Object(l.useState)({value:0,label:"Select"}),[ta,la]=Object(l.useState)({value:0,label:"Select"}),[na,ra]=Object(l.useState)({value:0,label:"Select"}),[ca,oa]=Object(l.useState)({value:0,label:"Select"}),[ua,ia]=Object(l.useState)({value:0,label:"Select"}),[ba,ha]=Object(l.useState)({value:0,label:"Select"}),[ga,ya]=Object(l.useState)(e),[Oa,_a]=Object(l.useState)([{value:0,label:"Select"},{value:1,label:"Dummy"}]),[Ta,Da]=Object(l.useState)([]),[La,ka]=Object(l.useState)([{value:0,label:"Select"},{value:1,label:"Dummy"}]),[xa,wa]=Object(l.useState)([]),[Ma,Ra]=Object(l.useState)([{value:0,label:"Select"},{value:1,label:"Dummy"}]),[Fa,Ga]=Object(l.useState)([]),[Pa,Ba]=Object(l.useState)([]),[qa,Va]=Object(l.useState)([]),[Ua,Ya]=Object(l.useState)([]),[Za,$a]=Object(l.useState)([]),[et,lt]=Object(l.useState)([]),[rt,ot]=Object(l.useState)({value:0,label:"Select"}),[mt,ut]=Object(l.useState)({value:0,label:"Select"}),[st,it]=Object(l.useState)({value:0,label:"Select"}),[dt,pt]=Object(l.useState)({value:0,label:"Select"}),[ht,gt]=Object(l.useState)({value:0,label:"Select"}),[yt,Ot]=Object(l.useState)({value:0,label:"Select"}),[Nt,Ct]=Object(l.useState)([]),[_t,ft]=Object(l.useState)(!1),[jt,Tt]=Object(l.useState)([]),[Dt,Lt]=Object(l.useState)(""),[At,It]=Object(l.useState)({value:"ALL",label:"All"}),[Ft,Gt]=Object(l.useState)(!1),[Pt,Jt]=Object(l.useState)(""),[Bt,qt]=Object(l.useState)([]),[Vt,zt]=Object(l.useState)([]),[Qt,Ut]=Object(l.useState)([]),[Yt,Kt]=Object(l.useState)(""),[Ht,Wt]=Object(l.useState)(""),[Xt,$t]=Object(l.useState)([]),[el,al]=Object(l.useState)({value:0,label:"Select"}),[tl,ll]=Object(l.useState)(""),[nl,rl]=Object(l.useState)(""),[cl,ol]=Object(l.useState)([]),[ml,ul]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[sl,il]=Object(l.useState)(!1),[dl,El]=Object(l.useState)(),[pl,bl]=Object(l.useState)(),[hl,gl]=Object(l.useState)(0),[Sl,yl]=Object(l.useState)(),[Nl,Tl]=Object(l.useState)([]),[Dl,Ll]=Object(l.useState)(0),[kl,xl]=Object(l.useState)(null),[wl,Al]=Object(l.useState)(""),[Il,Ml]=Object(l.useState)("F"),[Rl,Fl]=Object(l.useState)(!1),[Gl,Pl]=Object(l.useState)(null),[Jl,Bl]=Object(l.useState)([]),[ql,Vl]=Object(l.useState)(""),[zl,Ql]=Object(l.useState)([]),[Ul,Yl]=Object(l.useState)([]),[Kl,Hl]=Object(l.useState)([]),[Wl,Xl]=Object(l.useState)([]),[Zl,$l]=Object(l.useState)(""),[en,an]=Object(l.useState)("");Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","VOUCHERLEDGER"],function(e){let t=JSON.parse(e);"1"===t.query?(o(t),Ye(L,[a,"getoptions"],e=>{let a=JSON.parse(e);$a(a.dealer),Ga(a.country),wa(a.businessnature),Da(a.risk),ka(a.legal),_a(a.msme)}),Ye(L,[a,"distinctgrouptype"],e=>{Tt(JSON.parse(e))})):p("/")}),Ye(_,[a,"all","VOUCHERLEDGER_UPLOAD"],function(e){let a=JSON.parse(e);"1"===a.query&&d(a)}),r(!0))},[t]);const tn=()=>{ct()(".loader").show();const e={type:At.value};"OTHER"===At.value&&ql?e.filterGroupCode=ql:"OTHER"!=At.value&&Vl(""),Ye(L,[a,"getlist",JSON.stringify(e)],e=>{ct()(".loader").hide(),Ct(JSON.parse(e))})},ln=()=>{"ALL"==At.value?(S(!0),O("Please select list type.")):(h("A"),Ye(L,[a,"getgroupval",At.value],e=>{let a=JSON.parse(e);lt(a),a.length>1?(ft(!1),ha({id:"^0^SELECT^0^SELECT^",label:"Select"}),k(0)):(ha(a),ft(!0),k(a[0].id.split("^")[1]))})),v(0),w(""),f(""),P(new Date),V(new Date),I(""),F(""),B(""),U("G"),K("1"),T(""),te(""),ee(""),W("1"),se(""),de(null),Z(""),ce(""),ne(""),ut({value:0,label:"Select"}),me("0"),he(0),Se(""),Oe(""),it({value:1,label:"LOW"}),pt({value:0,label:"Select"}),gt({value:0,label:"Select"}),je(""),_e(""),ve(""),De(""),ke(""),we(""),Ie(""),Re(""),Ge(""),Ve(""),Je(""),Qe(""),Ke(""),Xe(""),ra({value:0,label:"Select"}),aa({value:0,label:"Select"}),oa({value:0,label:"Select"}),la({value:0,label:"Select"}),ia({value:0,label:"Select"}),ot({value:0,label:"Select"}),Ot({value:0,label:"Select"}),al({value:0,label:"Select"}),rl(""),ll(""),Kt(""),Wt(""),pe(""),xl(""),Pl(null),$l(""),an(""),"BANK"==At.value&&rn(),"WALKIN"==At.value&&(Ll(0),Tl([]))},nn=()=>{ct()(".loader").show();var e=[],t=0;if("AGENT"===At.value||"CORPORATE"===At.value||"DEALER"===At.value?(""===C.trim()||0==ba.value||"DEALER"===At.value&&(0==ua.value||""==M)||""==G||""==q||""===z||0==rt.value||""===ae||""===x||1==$e.value&&(0==ta.value||0==na.value||!A)||"CORPORATE"===At.value&&(0==dt.value||0==ht.value)||"1"==rt.value&&""===ue||"0"===H&&null===ie||1==be&&(""==ge||""==ye)||0==st.value||"AGENT"==At.value&&""===$||"DEALER"==At.value&&5==ua.value&&""===$||"DEALER"==At.value&&7==ua.value&&""===$)&&(e[t++]=E("MSG0006"),e[t++]="^0^SELECT^0^SELECT^"==ba.id?"Info-> Group.":"",e[t++]=""===C.trim()?"Info-> Ledger Name.":"",e[t++]="AGENT"==At.value&&""===$?"Taxation-> TDS%.":"",e[t++]=""===x?"Info-> Address.":"",e[t++]=0==$e.value?"Info-> Country.":"",1==$e.value&&(console.log("ldgPinCode",A),e[t++]=0==ta.value?"Info-> State.":"",e[t++]=0==na.value?"Info-> District.":"",e[t++]=A?"":"Info-> Pincode."),e[t++]=""===G?"Info->  Last review date.":"",e[t++]=""===q?"Info->  Validity.":"",e[t++]=""===z?"Info->  Scope.":"","DEALER"===At.value&&(e[t++]=0==ua.value?"Info-> Dealer Type.":"",e[t++]=""===M?"Info-> RBI License.":"",5!=ua.value&&7!=ua.value||(e[t++]=""===$?"Taxation-> TDS%.":"")),e[t++]="0"==rt.value?"Taxation-> Tax class.":"",e[t++]=""===ae?"Taxation-> Pancard.":"",1==rt.value&&(e[t++]=""===ue?"Taxation-> GSTIN.":""),"0"===H&&(e[t++]=null===ie?"Taxation-> GST Exemption date.":""),e[t++]=0==st.value?"Risk-> Risk.":"","CORPORATE"===At.value&&(e[t++]="0"==dt.value?"Risk-> Legal Status.":"",e[t++]="0"==ht.value?"Risk-> Nature of business.":""),1==be&&(e[t++]=""==ge?"Risk-> Credit limit.":"",e[t++]=""==ye?"Risk-> Credit Period.":""),ct()(".loader").hide(),S(!0),O(ja(e))):"WALKIN"!==At.value||""!==C&&""!==z?"BANK"===At.value&&(""==Yt||""==Ht||""===C||""===z||"S"===z&&null==Gl)?(e[t++]=E("MSG0006"),e[t++]=""===C?" Ledger name.":"",e[t++]=""==Yt?" Account Number.":"",e[t++]=""==Ht?" Bank IFSC Code.":"",e[t++]=""===z?" Scope.":"",e[t++]="S"===z&&null==Gl?"Info->  Location.":"",ct()(".loader").hide(),S(!0),O(ja(e))):""!==C&&"^0^SELECT^0^SELECT^"!=ba.id&&""!==G&&""!==q&&""!==z||(e[t++]=E("MSG0006"),e[t++]="^0^SELECT^0^SELECT^"==ba.id?" Group.":"",e[t++]=""===C?" Ledger name.":"",e[t++]=""===G?" Last review date.":"",e[t++]=""===q?" Validity.":"",e[t++]=""===z?" Scope.":"",ct()(".loader").hide(),S(!0),O(ja(e))):(e[t++]=E("MSG0006"),e[t++]=""===C?" Ledger name.":"",e[t++]=""===z?" Scope.":"",ct()(".loader").hide(),S(!0),O(ja(e))),ae&&ue&&(ue.includes(ae)||(e[t++]="GSTIN is not matching with PAN Number ",ct()(".loader").hide(),S(!0),O(ja(e)))),0==e.length){const e={ldgName:C,ldglegalName:j,ldgAddress:x,ldgSrno:N,ldgCity:ca.value,ldgCountry:$e.value,ldgState:ta.value,ldgDistrict:na.value,ldgDealer:ua.value,ldgGroup:D,ldgPinCode:A,ldgValidity:Ea(q),ldgLastReviewDate:Ea(G),ldgWebsite:J,ldgStatus:Y,ldgScope:z,ldgRbiLicense:M,ldgPan:ae,ldgTaxclass:rt.value,ldgServiceCharge:oe,ldgTds:$,ldgGst:H,ldgGstin:ue,ldgGstExemptionDate:Ea(ie),ldgARN:X,ldgUIN:re,ldgAadhar:le,ldgMSME:mt.value,ldgServiceChargeVal:""==Ee||"0"==oe?0:Ee,ldgGstinPrev:en,ldgCreditAllow:be,ldgCreditLimit:ge,ldgCreditPeriod:ye,ldgRisk:st.value,ldgLegalStatus:dt.value,ldgNatureStatus:ht.value,ldgExpectedVolLow:Ne,ldgExpectedVolMedium:Ce,ldgExpectedVolHigh:fe,ldgPhone:Te,ldgMobile:Le,ldgEmail:xe,ldgListedIn:Ae,ldgBeneOwner:Me,ldgBeneMobile:Fe,ldgAccManager:yt.value,ldgBankName:Be,ldgBankAccNum:"BANK"===At.value?Yt:Pe,ldgFundSource:ze,ldgPaymentMode:Ue,ldgSocialStatus:He,bankIfsc:Ht,fxGroup:tl||0,fxAccount:nl||0,bankCode:el||{value:"",label:"Select"},TabType:"INFO",ALineNo:cl.length+1,AType:"A",TType:"MVLGD",bankOneLocation:"BANK"===At.value&&"S"===z?kl:0,listType:At.value,commissionlist:Vt};"WALKIN"===At.value&&(e.walkinCreditLimitList=Nl),(e=>{const a=Ja(zl,[e]);if(Ja(Ul,[e]),Ja(Kl,[e]),Ja(Wl,[e]),"1"===c.edit&&"E"===b){const e={TabType:"Info",ALineNo:cl.length+1,TType:"MVLGD",AType:"A"},t={TabType:"Info",ALineNo:cl.length+1,TType:"MVLGD",AType:"D"},l={...a.added,...e},n={...a.deleted,...t};ol(Sa(cl,l)),ol(Sa(cl,n))}})(e),Ye(L,[a,"savedata",JSON.stringify(e),JSON.stringify(cl)],e=>{ct()(".loader").hide();let a=JSON.parse(e);"MSG0000"===a.msg?(h(""),tn(),ol([]),Tl([]),Ll(0)):"ERR0000"===a.msg?(S(!0),ct()(".loader").hide(),O(E(a.err))):(ct()(".loader").hide(),S(!0),O(a.err))})}},rn=async()=>{console.log("bank option"),await Ye(L,[a,"getBank"],e=>{$t(JSON.parse(e))})},cn=(t,l)=>{v(t),h("Q"),ft(!0),Ye(L,[a,"details",t,l],a=>{let t=JSON.parse(a);if("MSG0000"===t.msg&&((e=>{const a={ldgName:e.name,ldglegalName:e.legalName,ldgAddress:e.address,ldgCity:e.city,ldgCountry:e.country,ldgState:e.state,ldgDistrict:e.district,ldgDealer:{value:e.dealer,label:e.dealername},ldgGroup:{value:e.group,label:e.group+" "+e.groupname},ldgPinCode:e.pin,ldgValidity:e.validity,ldgLastReviewDate:e.lastreview,ldgWebsite:e.website,ldgStatus:e.status,ldgScope:e.scope,ldgRbiLicense:e.rbilic,ldgPan:e.pancard,ldgTaxclass:e.taxclass,ldgServiceCharge:e.servicecharge,ldgTds:e.tds,ldgGst:e.gst,ldgGstin:e.gstin,ldgGstExemptionDate:e.exemptiondate,ldgARN:e.arn,ldgUIN:e.uin,ldgAadhar:e.aadhar,ldgMSME:e.msme,ldgServiceChargeVal:e.serviceAmount,ldgCreditAllow:e.creditallowed,ldgCreditLimit:e.creditlimit,ldgCreditPeriod:e.creditperiod,ldgRisk:e.risk,ldgLegalStatus:e.legalstatus,ldgNatureStatus:e.businessnature,ldgExpectedVolLow:e.expvolumelow,ldgExpectedVolMedium:e.expvolumemed,ldgExpectedVolHigh:e.expvolumehigh,ldgPhone:e.phone,ldgMobile:e.mobile,ldgEmail:e.email,ldgListedIn:e.listedin,ldgBeneOwner:e.beneowner,ldgBeneMobile:e.benemobile,ldgAccManager:e.amtmanager,ldgBankName:e.bankname,ldgBankAccNum:(e.grouptype,e.accountnum),ldgFundSource:e.fundsource,ldgPaymentMode:e.paymentmode,ldgSocialStatus:e.socialstatus,bankIfsc:e.bankIfsc,fxGroup:e.fxGroup?e.fxGroup:0,fxAccount:e.fxAccount?e.fxAccount:0,bankCode:e.bankCode?{value:e.bankCode,label:e.bankName}:{value:"",label:"Select"}};Ql([a])})(t),f(t.name),T(t.legalName),w(t.address),aa({value:t.country,label:t.cntname}),oa({value:t.city,label:t.cityname}),ra({value:t.district,label:t.distname}),la({value:t.state,label:t.statename}),ia({value:t.dealer,label:t.dealername}),F(t.rbilic),V(new Date(t.validity)),P(new Date(t.lastreview)),B(t.website),U(t.scope),K(t.status),me(t.servicecharge),he(t.creditallowed),Se(t.creditlimit),Oe(t.creditperiod),ve(t.expvolumelow),_e(t.expvolumemed),je(t.expvolumehigh),De(t.phone),ke(t.mobile),we(t.email),Ie(t.listedin),Re(t.beneowner),Ge(t.benemobile),Ot({value:t.amtmanager,label:"Select"}),ha({value:t.group,label:t.group+" "+t.groupname}),Ve(t.bankname),Je(t.accountnum),Qe(t.fundsource),Ke(t.paymentmode),Xe(t.socialstatus),k(t.group),It({value:t.grouptype,label:t.grouptype}),ut({value:t.msme,label:t.msmedesc}),te(t.pancard),ee(t.tds),ot(e.filter(e=>e.value==t.taxclass)[0]),W(t.gst),se(t.gstin),an(t.gstin),""!==t.exemptiondate&&de(new Date(t.exemptiondate)),Z(t.arn),ce(t.uin),ne(t.aadhar),me(t.servicecharge),I(t.pin),pt({value:t.legalstatus,label:t.legalstatusdesc}),gt({value:t.businessnature,label:t.businessnaturedesc}),it({value:t.risk,label:t.riskdesc}),r(!1),Kt(t.accountnum),Wt(t.bankIfsc),rl(t.fxAccount),ll(t.fxGroup),qt(t.ledgerdocument),zt(t.commissiondetail),Ut(t.locationlist),pe(t.serviceAmount),$l(t.gstin_verify_timestamp),null==t.locid?Pl(null):Pl({id:t.locid,label:t.locname}),"BANK"==At.value&&(console.log("bank"),rn(),al({value:t.bankCode,label:t.bankName})),"WALKIN"==At.value)){const e=t.walkincreditlist;Ll(e.length),Tl(e.map((e,a)=>({srno:e.srno,branch:{id:"^"+e.branch.split(" ").join("^")+"^",label:e.branch},creditdays:e.creditdays,creditamount:e.creditamount,creditdate:new Date(e.date),tempsrno:a+1,isActive:1})))}})},on=()=>{Gt(!1),h("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Voucher Ledger"))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{xs:3},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(vt.a,{options:jt,value:At,onChange:e=>It(e)}))),"OTHER"===At.value&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Jl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Zt(e,"OTHER").then(e=>[{id:"",label:"All"},...e]),onInputChange:Mt,onChange:function(e){console.log(e),Bl(e);const a=e.id.split("^");Vl(a[1]),console.log("Filter Group Code",a[1])}})))),n.a.createElement(Wa.a,{xs:9},"1"!==u.add||"CORPORATE"!==At.value&&"DEALER"!==At.value&&"AGENT"!==At.value?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:()=>{ct()(".loader").show();var e={listtype:At.value};Ca(L,"post",[a,"LedgerUploadFormat",JSON.stringify(e)],e=>{ct()(".loader").hide(),O(ja([e])),S(!0)})}},"Ledger Upload Format ",n.a.createElement(za.a,{icon:Cl.faDownload}))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>tn()},"List"),"\xa0","1"===c.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>ln()},"Add New"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e={right:"VOUCHERLEDGER",type:At.value,groupCode:ql||""};va(Q,"post",[a,JSON.stringify(e)])})()},"Export")," \xa0"):null,"1"!==u.add||"CORPORATE"!==At.value&&"DEALER"!==At.value&&"AGENT"!==At.value||Rl?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Fl(!Rl)},"Upload Data")," \xa0"),"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"1"!==u.add||!0!==Rl||"CORPORATE"!==At.value&&"DEALER"!==At.value&&"AGENT"!==At.value?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-3"},n.a.createElement(s.a.Group,{controlId:"uploadEntries"},n.a.createElement(s.a.Label,null,"File* (MAX 10MB)"),n.a.createElement(s.a.Control,{type:"file",value:wl,onChange:e=>(e=>{Al(e)})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-2 col-2"},n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=document.getElementById("uploadEntries").files[0];if(void 0===e)ct()(".loader").hide(),O("Please select a file to upload."),S(!0);else if(e.name.split(".").length>2)ct()(".loader").hide(),O("(.) not allowed in file name."),S(!0);else if("xlsx"!==e.name.split(".")[1])ct()(".loader").hide(),O("File extension must be xlsx."),S(!0);else if(e.size>10485760)ct()(".loader").hide(),O("Please select a file with in 10 MB size."),S(!0);else{const e={sid:a,pageright:"VOUCHERLEDGER_UPLOAD",uploadType:"uploadledgerdata",reportType:At.value,filename:wl};Na(JSON.stringify(e),"uploadEntries",e=>{ct()(".loader").hide();let t=JSON.parse(e);0===t.error?(S(!0),O(t.errordata[0].desc),Ct(t.ledgerList)):1==t.error?Ye(L,[a,"errorLedgerUploadData",JSON.stringify(t.errordata)],e=>{window.open().document.write(e)}):(S(!0),O(t.errordata[0].desc)),Al(""),Fl(!Rl)})}})()},"Submit")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Ledger Name"),n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Group Name"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,Nt.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{className:"colorThemeBlue",onClick:()=>cn(e.mvli_srno,e.mvli_group)},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.mvli_srno),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.mvli_group),n.a.createElement("td",null,e.mvg_group_name),n.a.createElement("td",null,1==e.mvli_status?"ACTIVE":"INACTIVE")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{size:"sm",className:"buttonStyle",variant:"outline-primary",onClick:()=>void("A"===b||"E"===b?(Jt("Do you really want to exit ?"),Gt(!0)):on())},"Back"),"\xa0","1"===c.edit&&"E"===b||"1"===c.add&&"A"===b?n.a.createElement(i.a,{size:"sm",className:"buttonStyle",variant:"outline-primary",onClick:()=>nn()},"Save"):null,"\xa0","1"!==c.edit||"Q"!==b&&"E"!==b?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(il(!0),console.log("this is ledger group",ba.value),void ul({trantype:"MVLGD",trannumber:N,trancategory:"M",subtranno:ba.value}))},"Activity Log"),"\xa0"),"\xa0","1"===c.edit&&"Q"===b?n.a.createElement(i.a,{size:"sm",className:"buttonStyle",variant:"danger",onClick:()=>void h("E")},"Edit"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,null,n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo"),n.a.createElement(s.a.Control,{disabled:!0,value:N,onChange:e=>v(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:_t,cacheOptions:!1,defaultOptions:!1,value:ba,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Zt(e,At.value),onInputChange:Mt,onChange:e=>{ha(e);const a=e.id.split("^");k(a[1])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Name",maxLength:"100",value:C,onChange:e=>ma(e.target.value,f)}))),"AGENT"===At.value||"BANK"===At.value||"CORPORATE"===At.value||"DEALER"===At.value||"ISSUER"===At.value?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Legal Name"),n.a.createElement(s.a.Control,{disabled:"A"!==b,type:"text",placeholder:"Legal Name",maxLength:"100",value:j,onChange:e=>ma(e.target.value,T)}))):null,";"),"BANK"==At.value&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank"),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Xt,value:el,onChange:e=>(e=>{console.log("hello"),al(e)})(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Account Number",maxLength:"20",value:Yt,onChange:e=>Kt(e.target.value),onBlur:e=>Ze(e.target.value,Kt)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IFSC Code",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"IFSC Code",value:Ht,maxLength:11,onBlur:e=>(function(e,a){if(e=e.toUpperCase(),console.log("hello",e),!Ia.test(e)&&""!==e)return a("");a(e)})(e.target.value,Wt),onChange:e=>Wt(e.target.value)}))),n.a.createElement(Xa.a,null),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address","CORPORATE"===At.value||"DEALER"===At.value||"AGENT"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Address",maxLength:"200",value:x,onChange:e=>w(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country","CORPORATE"===At.value||"DEALER"===At.value||"AGENT"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Fa,value:$e,onChange:e=>(e=>{aa(e),la({value:"0",label:"Select"}),ra({value:"0",label:"Select"}),oa({value:"0",label:"Select"}),Ye(L,[a,"getstate",e.value],e=>{Ba(JSON.parse(e))})})(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",1!=$e.value||"CORPORATE"!==At.value&&"DEALER"!==At.value&&"AGENT"!==At.value?null:n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Pa,value:ta,onChange:e=>(e=>{la(e),ra({value:"0",label:"Select"}),oa({value:"0",label:"Select"}),Ye(R,[a,"getdistrict",e.value],e=>{Va(JSON.parse(e))})})(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",1!=$e.value||"CORPORATE"!==At.value&&"DEALER"!==At.value&&"AGENT"!==At.value?null:n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:qa,value:na,onChange:e=>(e=>{ra(e),oa({value:"0",label:"Select"});const t={district:e.value,state:ta.value};Ye(L,[a,"getcity",JSON.stringify(t)],e=>{Ya(JSON.parse(e))})})(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City"),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Ua,value:ca,onChange:e=>oa(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Pin Code","CORPORATE"===At.value||"DEALER"===At.value||"AGENT"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===b,placeholder:"Pin Code",type:"text",maxLength:6,value:A,onChange:e=>Ze(e.target.value,I)}))),"DEALER"===At.value?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Za,value:ua,onChange:e=>ia(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"RBI License",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",maxLength:100,value:M,onChange:e=>F(e.target.value)})))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Last Review",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===b,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Website"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Website",maxLength:"100",value:J,onChange:e=>B(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Validity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:q,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===b,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Scope",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:z,disabled:!("A"===b),onChange:e=>U(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"S"},"BANK"===At.value?"One":"Selective")))),"BANK"===At.value&&"S"===z?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Gl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>{Pl(e),xl(e.id.split("^")[1])},isDisabled:"A"!==b}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:Y,disabled:"Q"===b,onChange:e=>K(e.target.value)},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Fx Group"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"number",placeholder:"Fx Group Number",maxLength:"20",value:tl,onChange:e=>ll(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Fx Account"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Fx Account Number",maxLength:"20",value:nl,onChange:e=>rl(e.target.value)}))))),"DEALER"===At.value||"CORPORATE"===At.value||"AGENT"===At.value?n.a.createElement(xt.a,{eventKey:"TAXATION",title:"Taxation"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN Card",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",maxLength:"10",placeholder:"Pan",value:ae,onChange:e=>te(e.target.value),onBlur:e=>da(e.target.value,te)}))),"AGENT"==At.value||"DEALER"==At.value&&5==ua.value||"DEALER"==At.value&&7==ua.value?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS(%)"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",value:$,onChange:e=>ea(e.target.value,ee)}))):null,"CORPORATE"===At.value||"WALKIN"===At.value?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Service Charge"),n.a.createElement(s.a.Select,{disabled:"Q"===b,value:oe,onChange:e=>me(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),"1"===oe?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Service Charge Amount"),n.a.createElement(s.a.Control,{disabled:"Q"===b,value:Ee,onChange:e=>pe(e.target.value)}))):n.a.createElement(Xa.a,{className:"col-md-3"},"\xa0")):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Tax Class",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:ga,value:rt,onChange:e=>ot(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIN",1==rt.value?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"text-danger"},"*"),n.a.createElement("span",{style:{fontSize:"14px",display:"A"===b&&"none"}},"\xa0\xa0",""===Zl?n.a.createElement(Ol.a,{bg:"danger"},"Not Verified"):n.a.createElement(Ol.a,{bg:"success"},"Verified ",Zl))):null),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",maxLength:"15",placeholder:"GstIn",value:ue,onChange:e=>se(e.target.value),onBlur:e=>Aa(e.target.value,se)}))),"CORPORATE"===At.value&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST"),n.a.createElement(s.a.Select,{disabled:"Q"===b,value:H,onChange:e=>W(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),"0"===H&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Gst Exemption Till","0"===H?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(vl.a,{className:"form-control",selected:ie,onChange:e=>de(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===b,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ARN"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",maxLength:"23",placeholder:"ARN",value:X,onChange:e=>Z(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"UIN"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",maxLength:"15",placeholder:"UIN",value:re,onChange:e=>ce(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Aadhar Card"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",maxLength:"12",placeholder:"Aadhar Num",value:le,onChange:e=>Ze(e.target.value,ne)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"MSME"),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Oa,value:mt,onChange:e=>ut(e)}))))):null,"DEALER"===At.value||"CORPORATE"===At.value||"AGENT"===At.value?n.a.createElement(xt.a,{eventKey:"RISK",title:"Risk"},n.a.createElement(Wa.a,null,"DEALER"===At.value||"CORPORATE"===At.value?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credited Allowed"),n.a.createElement(s.a.Select,{disabled:"Q"===b,value:be,onChange:e=>he(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),"1"===be?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Limit"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Limit",maxLength:"10",value:ge,onChange:e=>Ze(e.target.value,Se)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Period"),n.a.createElement(s.a.Control,{disabled:"Q"===b,placeholder:"Credit Period",type:"text",maxLength:"10",value:ye,onChange:e=>Ze(e.target.value,Oe)})))):null):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Risk",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Ta,value:st,onChange:e=>it(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expected volume low"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Volume low",value:Ne,onChange:e=>ea(e.target.value,ve)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expected volume medium"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Volume medium",value:Ce,onChange:e=>ea(e.target.value,_e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expected volume high"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Volume high",value:fe,onChange:e=>ea(e.target.value,je)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Legal Status","CORPORATE"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:La,value:dt,onChange:e=>pt(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nature of Business","CORPORATE"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:xa,value:ht,onChange:e=>gt(e)}))))):null,"DEALER"===At.value||"CORPORATE"===At.value||"AGENT"===At.value?n.a.createElement(xt.a,{eventKey:"ADDITIONAL",title:"Additional"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Phone","CORPORATE"===At.value||"DEALER"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Phone",maxLength:10,value:Te,onChange:e=>ea(e.target.value,De)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile","CORPORATE"===At.value||"DEALER"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Mobile",maxLength:10,value:Le,onChange:e=>ea(e.target.value,ke)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email","CORPORATE"===At.value||"DEALER"===At.value?n.a.createElement("span",{className:"text-danger"},"*"):null),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Email",maxLength:100,value:xe,onChange:e=>we(e.target.value.trim()),onBlur:e=>sa(e.target.value.trim(),we)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Listed In"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Listed In",maxLength:100,value:Ae,onChange:e=>We(e.target.value,Ie)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Beneficiary Owner"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Bene Owner",maxLength:100,value:Me,onChange:e=>We(e.target.value,Re)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Beneficiary Mobile"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Bene Mobile",maxLength:10,value:Fe,onChange:e=>Ze(e.target.value,Ge)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account Manager"),n.a.createElement(vt.a,{isDisabled:"Q"===b,options:Ma,value:yt,onChange:e=>Ot(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Bank Name",maxLength:100,value:Be,onChange:e=>We(e.target.value,Ve)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Account Number"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Bank acc num",maxLength:100,value:Pe,onChange:e=>Ze(e.target.value,Je)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Source of Fund"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Source of fund",maxLength:100,value:ze,onChange:e=>We(e.target.value,Qe)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Mode"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Payment Mode",maxLength:50,value:Ue,onChange:e=>We(e.target.value,Ke)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Social Status"),n.a.createElement(s.a.Control,{disabled:"Q"===b,type:"text",placeholder:"Social Status",maxLength:100,value:He,onChange:e=>We(e.target.value,Xe)}))))):null,"S"===z&&"BANK"!==At.value?n.a.createElement(xt.a,{eventKey:"LOCATION",title:"Location"},n.a.createElement(jl,{ldggrpsrno:ba.value,ldgsrno:N,visiblePg:b,locationLink:Qt})):null,"AGENT"!==At.value||"E"!=b&&"Q"!=b?null:n.a.createElement(xt.a,{eventKey:"COMMISSION",title:"Commission"},n.a.createElement(_l,{deleteRight:c.delete,ldggrpsrno:ba.value,ldgsrno:N,visiblePg:b,commissionList:Vt,updateCommissionList:e=>{zt(e)}})),("AGENT"===At.value||"DEALER"===At.value||"CORPORATE"===At.value)&&N>0?n.a.createElement(xt.a,{eventKey:"DOCUMENTS",title:"Documents"},n.a.createElement(fl,{ldggrpsrno:ba.value,ldgsrno:N,visiblePg:b,listType:At.value,ledgerDocument:Bt})):null,"WALKIN"===At.value?n.a.createElement(xt.a,{eventKey:"CREDITLIMIT",title:"Credit Limit"},n.a.createElement(n.a.Fragment,null,"Q"!=b&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,{className:"walkinUpDownIconRemove"},n.a.createElement(Xa.a,{className:"col-md-4"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:dl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:El}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Amount"),n.a.createElement(s.a.Control,{value:pl,maxLength:qe,onChange:e=>Ze(e.target.value,bl),type:"number",placeholder:"Credit Amount"}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Credit Days"),n.a.createElement(s.a.Control,{value:Sl,maxLength:3,onChange:e=>Ze(e.target.value,yl),type:"number",placeholder:"Credit Days"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){let e=0,a=[];if(a[e++]=E("MSG0006"),!dl&&(a[e++]=" Branch."),!pl&&(a[e++]=" Credit Amount."),!Sl&&(a[e++]=" Credit Days."),e>1)S(!0),O(ja(a));else{const e=Nl.map(e=>e.branch.id===dl.id?{...e,isActive:0}:e),a={srno:0,tempsrno:Dl+1,branch:dl,creditamount:pl,creditdays:Sl,creditdate:new Date,isActive:1};Tl([...e,a]),Ll(e=>e+1),bl(0),El({id:"",label:""}),yl(0)}}},"Add"))),"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"Q"!=b&&n.a.createElement("th",null,"Action"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Credit Amount"),n.a.createElement("th",null,"Credit  Days"),n.a.createElement("th",null,"Created Date"))),n.a.createElement("tbody",null,null===Nl||void 0===Nl?void 0:Nl.map((e,a)=>0!==(null===e||void 0===e?void 0:e.isActive)?n.a.createElement("tr",{key:a},"Q"!=b&&n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(function(e){const a=Nl.map(a=>a.tempsrno===e?0!=a.srno?{...a,isActive:0}:void 0:a.tempsrno>e?{...a,tempsrno:a.tempsrno-1}:a).filter(Boolean);console.log(a),Tl(a),Ll(e=>e-1)})(e.tempsrno)},"Q"!=b&&n.a.createElement(za.a,{icon:tt.r}))," "),n.a.createElement("td",null,e.branch.label),n.a.createElement("td",null,e.creditamount),n.a.createElement("td",null,e.creditdays),n.a.createElement("td",null,pa(e.creditdate)+" "+e.creditdate.toTimeString().split(" ")[0])):null))))))):null),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(bt,{logObject:ml,show:sl,onHide:()=>il(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:g,onClose:e=>S(!1)},y)),n.a.createElement(St,{isOpen:Ft,onYes:e=>on(),onNo:e=>Gt(!1)},Pt))};var Dl=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(""),[m,u]=Object(l.useState)("");Object(l.useEffect)(()=>{e.show&&Ye("/api/tran_data_unlock_request_a.php",[a,"getData",JSON.stringify(e.logObject)],e=>{let a=JSON.parse(e);u(a.unlock_status),o(E("MSG0012"))})},[e.show]);return n.a.createElement("div",null,n.a.createElement(pt.a,Object.assign({},e,{animation:!1,centered:!0}),n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,c)),n.a.createElement(pt.a.Body,null,"P"===m?"Request already pending.":"R"===m?"Your previous request has been rejected, you want to send unlock request again?":"Do you want to send unlock request ?"),n.a.createElement(pt.a.Footer,null,"P"===m?n.a.createElement(i.a,{variant:"secondary",onClick:()=>e.onHide()},"Ok"):n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"secondary",onClick:()=>e.onHide()},"No"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{Ye("/api/tran_data_unlock_request_a.php",[a,"sendRequest",JSON.stringify(e.logObject)],e=>{console.log(e)}),e.onHide()}},"Yes")))))};var Ll=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(null),[R,F]=Object(l.useState)("N"),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(0),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(0),[pe,be]=Object(l.useState)(0),[he,ge]=Object(l.useState)(0),[Se,ye]=Object(l.useState)(0),[Oe,Ne]=Object(l.useState)(""),ve=new Date,[Ce,fe]=Object(l.useState)(!1),[je,Te]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[De,Le]=Object(l.useState)([]),[ke,xe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[we,Ae]=Object(l.useState)(!1),[Ie,Me]=Object(l.useState)("");var Re=[],Fe=0;Object(l.useEffect)(()=>{o||(xa().then(e=>{A(e),null!=e&&Ge(e)}),Ye(_,[e,"all","BANK_TRANSFER_IN"],function(e){let t=JSON.parse(e);"1"===t.query?p(t):a("/")}),u(!0))},[o,e,a]);const Ge=e=>{A(e),e.id;var a=e.id.split("^");Q(a[1]),Y(a[2]),M(null),sessionStorage.activeBranch=a[1]},Pe=()=>{S(!1),h(""),M(null)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cheque Book Transfer In",n.a.createElement("span",{style:{color:"white"}},pe)))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ge,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===R,onChange:()=>F("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===R,onChange:()=>F("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===R,onChange:()=>F("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:q,minDate:new Date(t),maxDate:new Date(r),onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK",z),onInputChange:Mt,onChange:e=>{M(e);const a=e.id.split("^");H(a[5])}})))):"S"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:W,maxLength:20,onChange:e=>Ze(e.target.value,X),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Z,maxLength:20,onChange:e=>Ze(e.target.value,$),placeholder:"To"})))):"D"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===d.add&&"N"===R?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(q);w&&I&&q?e>r||e<t?(v(!0),f(E("MSG0010"))):(h("A"),oe(""),ue(""),ie("")):(Re[Fe++]=E("MSG0006"),Re[Fe++]=w?"":"Location.",Re[Fe++]=I?"":"Bank.",Re[Fe++]=q?"":"Date.",f(ja(Re)),v(!0))})()},"Add New"):null,"\xa0","1"!==d.query||"S"!==R&&"D"!==R?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!w||"S"===R&&!W||"S"===R&&!Z||"D"===R&&!G||"D"===R&&!J)Re[Fe++]=E("MSG0006"),Re[Fe++]=w?"":"Location.",Re[Fe++]="S"!==R||W?"":"From Srno.",Re[Fe++]="S"!==R||Z?"":"To Srno.",Re[Fe++]="D"!==R||G?"":"From Date.",Re[Fe++]="D"!==R||J?"":"To Date.",f(ja(Re)),v(!0);else{const a={radioType:R,location:z,fromDate:Ea(G),toDate:Ea(J),fromSrno:W,toSrno:Z};Ye("/api/bank_cheque_book_in_a.php",[e,"list",JSON.stringify(a)],e=>{let a=JSON.parse(e);ae(a)})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===d.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,ee.map(a=>n.a.createElement("tr",{key:a.hdr_srno},"1"===d.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{h("Q"),Ee(a),ye(a),Ne(n);const r={srno:a,location:t,type:l};Ye("/api/bank_cheque_book_in_a.php",[e,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(le(a.chequeList),ge(a.maxlineno),Y(a.locationname),H(a.ledgername),M({id:a.bank}))})})(a.hdr_srno,a.hdr_location,a.hdr_type,a.new_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,a.hdr_srno),n.a.createElement("td",null,a.hdr_date),n.a.createElement("td",null,a.hdr_bank))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):Pe())},"Back")," ","1"===d.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const a=new Date,t=Oe.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(a),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:Se,type:"CHQIN",pageright:"BANK_TRANSFER_IN",location:z};Ye(_e,[e,"checkUnlock",JSON.stringify(m)],e=>{let t=JSON.parse(e);Me(t.requestsrc),Be==o||"unlock"==t.msg?(h("E"),oe(""),ue(""),ie("")):(fe(!0),Te({trantype:"CHQIN",trannumber:Se,location:z,tranDate:Ea(a)}))})})()},"Edit"),"\xa0"):null,"1"===d.edit&&"E"===b||"1"===d.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(te.length<1)f("Empty List!"),v(!0);else{const a=I.id.split("^"),t={group:a[1],bank:a[2],location:z,srno:de,date:Ea(q),data:te,radioType:R,location:z,fromDate:Ea(G),toDate:Ea(J),fromSrno:W,toSrno:Z};if(Ye("/api/bank_cheque_book_in_a.php",[e,"save",JSON.stringify(t),JSON.stringify(De)],e=>{let a=JSON.parse(e);ae(a),M(null),le([]),h(""),Le([])}),"E"==b&&"SELF"!==Ie){const a={srno:de,type:"CHQIN",status:"E",currentDate:Ea(ve),pageright:"BANK_TRANSFER_IN"};Ye(_e,[e,"expireUnlock",JSON.stringify(a)],e=>{console.log(e)})}}})()},"Save")):null,"1"===d.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ae(!0),void xe({trantype:"CHQIN",trannumber:Se,trancategory:"T",location:z}))},"Activity Log"),"\xa0"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Sr No : ",de)),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location : ",U)),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",K))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,onChange:e=>(e=>{Ze(e.target.value,oe),""===e.target.value||""===me?ie(""):ie(1*e.target.value+(1*me-1))})(e),placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:me,maxLength:20,onChange:e=>(e=>{Ze(e.target.value,ue),""===ce||""===e.target.value?ie(""):ie(1*ce+(1*e.target.value-1))})(e),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:se,maxLength:20,onChange:e=>ie(e.target.value),placeholder:"To",disabled:!0})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===d.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(""===ce||""===me)e[a++]=E("MSG0006"),e[a++]=""===ce?"Quantity":"",e[a++]=""===me?"From":"",f(ja(e)),v(!0);else if(ce>=101)f("Quantity Should be less than 101!"),v(!0);else{console.log(I);const e=I.id.split("^"),a=e[1],t=e[2],l={unique_no:Oa(5),tcb_srno:de,tcb_account:t,tcb_group:a,tcb_bankname:K,tcb_location:z,tcb_quantity:ce,tcb_from:me,tcb_to:se,tcb_date:pa(q),tcb_line_no:1*he+1,del:"Y"};le(Sa(te,l)),console.log(te);const n={TabType:"Product",ALineNo:De.length+1,AType:"A",TLoc:z,TType:"CHQIN",Srn0:de,Account:t,GroupCode:a,BankName:K,Quantity:ce,From:me,To:se,Date:pa(q)};"1"===d.edit&&"E"===b&&Le(e=>[...e,n]),oe(""),ue(""),ie(""),ge(he+1)}})()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===d.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,te.map((a,t)=>n.a.createElement("tr",{key:t},"1"===d.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===a.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=te.find(a=>a.unique_no===e);if(a){const e={TabType:"Product",ALineNo:De.length+1,AType:"D",TLoc:z,TType:"CHQIN",Srno:a.tcb_srno,Account:a.tcb_account,Group:a.tcb_group,BankName:a.tcb_bankname,Quantity:a.tcb_quantity,From:a.tcb_from,To:a.tcb_to,Date:a.tcb_date};console.log(e),"1"===d.edit&&"E"===b&&Le(a=>[...a,e])}le(ga(te,"unique_no",e)),be(pe+1)})(a.unique_no)},n.a.createElement(za.a,{icon:tt.r}))," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{const r={srno:a,lineno:t,location:l,type:n};Ye("/api/bank_cheque_book_in_a.php",[e,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);re(a)}),x(!0)})(a.tcb_srno,a.tcb_line_no,a.tcb_location,a.tcb_type)},n.a.createElement(za.a,{icon:Qa.f})):null):null,n.a.createElement("td",null,a.tcb_srno),n.a.createElement("td",null,a.tcb_quantity),n.a.createElement("td",null,a.tcb_from),n.a.createElement("td",null,a.tcb_to),n.a.createElement("td",null,a.tcb_date),n.a.createElement("td",null,a.tcb_group," ",a.tcb_account," ",a.tcb_bankname)))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:g,onYes:e=>Pe(),onNo:e=>S(!1)},y),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(Dl,{logObject:je,show:Ce,onHide:()=>fe(!1)})),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:k,onHide:()=>x(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,ne.map(e=>n.a.createElement("tr",{key:e.tcb_line_no},n.a.createElement("td",null,e.tcbb_from),n.a.createElement("td",null,e.tcbb_out_srno),n.a.createElement("td",null,e.tcbb_out_type),n.a.createElement("td",null,e.tcbb_out_line_no),n.a.createElement("td",null,"0"===e.tcbb_out_location.split(" ")[0]?0:e.tcbb_out_location),n.a.createElement("td",null))))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>x(!1)},"Close"))),n.a.createElement(bt,{logObject:ke,show:we,onHide:()=>Ae(!1)})))};var kl=function(){const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)("0"),[r,c]=Object(l.useState)(!1),[o,m]=Object(l.useState)("");return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Financial Year"),n.a.createElement(s.a.Select,{value:a,onChange:e=>t(e.target.value)},n.a.createElement("option",{value:"0"},"Select"),n.a.createElement("option",{value:"2324"},"2324"),n.a.createElement("option",{value:"2425"},"2425"),n.a.createElement("option",{value:"2526"},"2526")))),n.a.createElement(Xa.a,{style:{marginTop:"31px"}},n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>void("0"===a?(c(!0),m("Please select financial year!")):Ye(Y,[e,"changefinyr",a],e=>{console.log(e);let a=JSON.parse(e);c(!0),m(a.msg),sessionStorage.dbname=a.dbname,sessionStorage.startDate=a.startdate,sessionStorage.endDate=a.enddate}))},"Save")))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:r,onClose:e=>c(!1)},o)))};var xl=e=>{let{onDataFromChild:a}=e;const t=sessionStorage.getItem("sessionId"),r=sessionStorage.getItem("branchDisable"),c=Object(m.n)(),[o,u]=Object(l.useState)([]),[i,d]=Object(l.useState)([]),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)("A"),[g,S]=Object(l.useState)(null),[y,O]=Object(l.useState)(0);Object(l.useEffect)(()=>{xa().then(e=>{S(e),null!=e&&v(e)}),Ye(_,[t,"all","REPORTS"],function(e){let a=JSON.parse(e);"1"===a.query?u(a):c("/")}),Ye(de,[t,"location"],e=>{let a=JSON.parse(e);d(a)}),a(y,E.toString(),b),"true"===r&&h("O")},[E]);const N=e=>{h(e),S(null),O(0),p([]),a(y,E,e)},v=e=>{S(e);var t=e.id.split("^");O(t[1]),a(t[1],E,b),sessionStorage.activeBranch=t[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{disabled:"true"===r,checked:"A"===b,onChange:()=>N("A"),type:"radio",label:"All"}),"\xa0",n.a.createElement(s.a.Check,{checked:"O"===b,onChange:()=>N("O"),type:"radio",label:"One"}),"\xa0",n.a.createElement(s.a.Check,{disabled:"true"===r,checked:"S"===b,onChange:()=>N("S"),type:"radio",label:"Selective"}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},"A"===b?n.a.createElement(n.a.Fragment,null):"O"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:g,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:v,isDisabled:"true"===r}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{height:"250px",border:"1px solid black"}},n.a.createElement("div",{style:{backgroundColor:"lightblue",color:"white",padding:"0 0 0 10px"}},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Locations List")))),n.a.createElement("div",{style:{height:"195px",overflow:"hidden scroll",padding:"5px 10px"}},i.map((e,a)=>n.a.createElement("div",{key:a,className:"mb-3"},n.a.createElement(s.a.Check,{label:e.entity,type:"checkbox",value:e.entity_id,onChange:e=>(e=>{let a=e.target.checked,t=e.target.value;p(e=>a?[...e,t]:e.filter(e=>e!==t))})(e)})))))))))};var wl=e=>{let{onDataFromChild2:a}=e;const t=sessionStorage.getItem("sessionId"),r=Object(m.n)(),[c,o]=Object(l.useState)([]),[u,i]=Object(l.useState)([]),[d,E]=Object(l.useState)([]),[p,b]=Object(l.useState)("A"),[h,g]=Object(l.useState)(null),[S,y]=Object(l.useState)(0);Object(l.useEffect)(()=>{Ye(_,[t,"all","REPORTS"],function(e){let a=JSON.parse(e);"1"===a.query?o(a):r("/")}),Ye(de,[t,"currency"],e=>{let a=JSON.parse(e);i(a)}),a(S,d.toString(),p)},[d]);const O=e=>{b(e),g(null),y(0),E([]),a(S,d,e)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"A"===p,onChange:()=>O("A"),type:"radio",label:"All"}),n.a.createElement(s.a.Check,{checked:"O"===p,onChange:()=>O("O"),type:"radio",label:"One"}),n.a.createElement(s.a.Check,{checked:"S"===p,onChange:()=>O("S"),type:"radio",label:"Selective"}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},"A"===p?n.a.createElement(n.a.Fragment,null):"O"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:h,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{g(e);var t=e.id.split("^");y(t[1]),a(t[1],d,p)}}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{height:"250px",border:"1px solid black"}},n.a.createElement("div",{style:{backgroundColor:"lightblue",color:"white",padding:"0 0 0 10px"}},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Locations List")))),n.a.createElement("div",{style:{height:"195px",overflow:"hidden scroll",padding:"5px 10px"}},u.map((e,a)=>n.a.createElement("div",{key:a,className:"mb-3"},n.a.createElement(s.a.Check,{label:e.isd,type:"checkbox",value:e.isd_code,onChange:e=>(e=>{let a=e.target.checked,t=e.target.value;E(e=>a?[...e,t]:e.filter(e=>e!==t))})(e)})))))))))};var Al=()=>{const[e,a]=Object(l.useState)(0),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)("A"),[m,u]=Object(l.useState)(0),[s,i]=Object(l.useState)([]),[d,E]=Object(l.useState)("A");return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(xl,{onDataFromChild:(e,t,l)=>{a(e),r(t),o(l)}}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Location from Picklist: ",e),n.a.createElement("h4",null,"Location from Dropdown: ",t),n.a.createElement("h4",null,"Radio Button : ",c))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(wl,{onDataFromChild2:(e,a,t)=>{u(e),i(a),E(t)}}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Currency from Picklist: ",m),n.a.createElement("h4",null,"Currency from Dropdown: ",s),n.a.createElement("h4",null,"Radio Button : ",d))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")))};var Il=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(0),[d,p]=Object(l.useState)("N"),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(new Date),[D,L]=Object(l.useState)(new Date),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(!1),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)([]);var se=[],ie=0;Object(l.useEffect)(()=>{R||(xa().then(e=>{h(e),null!=e&&de(e)}),Ye(_,[e,"all","CHEQUE_CANCELLATION"],function(e){let t=JSON.parse(e);"1"===t.query?P(t):a("/")}),F(!0))},[R,e,a]);console.log(z);const de=e=>{h(e);var a=e.id.split("^");u(a[1]),M(a[1]),x(a[2])},Ee=()=>{ae(!1),B("")};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cheque Book Cancellation"))),"\xa0",""==J?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:de,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===d,onChange:()=>p("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===d,onChange:()=>p("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===d,onChange:()=>p("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:g,minDate:new Date(t),maxDate:new Date(r),onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK",o),onInputChange:Mt,onChange:e=>{console.log(e),O(e);const a=e.id.split("^");console.log(a),$(a[1]),X(a[2]),A(a[5])}})))):"S"===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:N,maxLength:20,onChange:e=>v(e.target.value),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:C,maxLength:20,onChange:e=>f(e.target.value),placeholder:"To"})))):"D"===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:j,onChange:e=>T(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:D,onChange:e=>L(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>a("/cancellation")},"Back"),"\xa0","1"===G.add&&"N"==d?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void(!b||"N"==d&&!y||"N"==d&&!g?(se[ie++]=E("MSG0006"),se[ie++]=b?"":"Please select location",se[ie++]="N"!=d||y?"":"Please select bank",se[ie++]="N"!=d||g?"":"Please select date",oe(ja(se)),re(!0)):B("A"))},"Add New"):null,"\xa0","1"===G.query&&"N"!==d?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!b||"S"==d&&""==N||"S"==d&&!C||"D"==d&&!j||"D"==d&&!D)se[ie++]=E("MSG0006"),se[ie++]=b?"":"Please select location",se[ie++]="S"==d&&""==N?"Please enter from srno":"",se[ie++]="S"!=d||C?"":"Please enter to srno",se[ie++]="D"!=d||j?"":"Please select from date",se[ie++]="D"!=d||D?"":"Please select to date",oe(ja(se)),re(!0);else{const a={location:o,fromSrno:N,toSrno:C,fromDate:j,toDate:D,radioType:d};Ye("/api/bank_cheque_book_caancellation_a.php",[e,"getCancelledCheque",JSON.stringify(a)],e=>{console.log(e);let a=JSON.parse(e);ue(a)})}})()},"List"):null)),"\xa0",me.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===G.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Cheque No."))),n.a.createElement("tbody",null,me.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===G.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.tcbb_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tcbb_from))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===J||"E"===J?(le("Do you really want to exit ?"),ae(!0)):Ee())},"Back")," ")),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",k)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",w))),"\xa0","E"===J||"A"===J?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:q,onChange:e=>(e=>{Ze(e.target.value,V),""===e.target.value||""===z?H(""):H(1*e.target.value+(1*z-1))})(e),placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:U,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,Z,W,I),onInputChange:Mt,onChange:e=>{const a=e.id.split("^");Q(a[4]),Y(e),console.log(a),""===q||""===a[4]?H(""):H(1*q+(1*a[4]-1))}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:K,maxLength:20,onChange:e=>H(e.target.value),placeholder:"To",disabled:!0})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===G.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(q&&z&&K){const a={quantity:q,from:z,to:K,date:Ea(g),location:o,radioType:d};Ye("/api/bank_cheque_book_caancellation_a.php",[e,"cancelChequeBook",JSON.stringify(a)],e=>{console.log(e);let a=JSON.parse(e);ue(a)}),B(""),h(""),O(""),S("")}else se[ie++]=E("MSG0006"),se[ie++]=q?"":"Please enter quantity",se[ie++]=z?"":"Please enter from",oe(ja(se)),re(!0)})()},"Cancel Cheque Book"):null))):null)),n.a.createElement(n.a.Fragment,null,n.a.createElement(Ka,{isOpen:ne,onClose:e=>re(!1)},ce),n.a.createElement(St,{isOpen:ee,onYes:e=>Ee(),onNo:e=>ae(!1)},te)))};var Ml=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(null),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)(0),[z,Q]=Object(l.useState)(0),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(new Date),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(0),[ue,se]=Object(l.useState)(0),[ie,de]=Object(l.useState)([]),[Ee,pe]=Object(l.useState)([]),[be,he]=Object(l.useState)([]),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,fe]=Object(l.useState)(0),[je,Te]=Object(l.useState)(0),[De,Le]=Object(l.useState)(0),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)(0),[Ie,Me]=Object(l.useState)(""),Re=new Date,[Fe,Ge]=Object(l.useState)(!1),[Pe,Je]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[qe,Ve]=Object(l.useState)([]),[ze,Qe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Ue,Ke]=Object(l.useState)(!1),[He,We]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)("");Object(l.useEffect)(()=>{o||(xa().then(e=>{A(e),null!=e&&ea(e)}),Ye(_,[e,"all","BANK_TRANSFER_OUT"],function(e){let t=JSON.parse(e);"1"===t.query?p(t):a("/")}),u(!0))},[o,e,a]);const ea=e=>{A(e);var a=e.id.split("^");V(a[1]),Y(a[2]),M(null),F(null),sessionStorage.activeBranch=a[1]},aa=()=>{if(Ee.length<-1)f("Empty List!"),v(!0);else{const a=R.id.split("^"),t={group:a[1],bank:a[2],fromLocation:q,toLocation:z,srno:Ce,date:Ea(J),data:Ee,status:"P",type:"CHQOUT",filterRadioType:G,filterLocation:q,filterFromDate:Ea(Z),filterToDate:Ea(ee),filterFromSrno:te,filterToSrno:ne};Ye(me,[e,"save",JSON.stringify(t),JSON.stringify(qe)],a=>{let t=JSON.parse(a);if(!t.status)return f(t.msg),v(!0),void Ve([]);de(t.data),function(){if("E"==b&&"SELF"!==He){const a={srno:Ce,type:"CHQOUT",status:"E",currentDate:Ea(Re),pageright:"BANK_TRANSFER_OUT"};Ye(_e,[e,"expireUnlock",JSON.stringify(a)],e=>{console.log(e)})}}(),M(null),F(null),pe([]),h(""),Ve([])})}},ta=()=>{S(!1),h(""),F(null)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cheque Book Transfer Out"))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:ea,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:J,minDate:new Date(t),maxDate:new Date(r),onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK",q),onInputChange:Mt,onChange:e=>{F(e);const a=e.id.split("^");oe(a[1]),se(a[2]),X(a[5])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ul(e),onInputChange:Mt,onChange:e=>{M(e);var a=e.id.split("^");Q(a[1]),H(a[2])}})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:te,maxLength:20,onChange:e=>Ze(e.target.value,le),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ne,maxLength:20,onChange:e=>Ze(e.target.value,re),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Z,onChange:e=>$(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:ee,onChange:e=>ae(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===d.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(J),a=[],l=0;null===w||null===R||null===I?(a[l++]=E("MSG0006"),a[l++]=null===w?" From Location.":"",a[l++]=null===R?"Bank.":"",a[l++]=null===I?" To Location.":"",f(ja(a)),v(!0)):U===K?(f("From location and To location should not be same!."),v(!0)):e>r||e<t?(v(!0),f(E("MSG0010"))):(pe([]),Se(""),xe(""),ve(""),h("A"),fe(0),$e(""))})()},"Add New"):null,"\xa0","1"!==d.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a=[],t=0;if(null===w||"S"===G&&!te||"S"===G&&!ne||"D"===G&&!Z||"D"===G&&!ee)a[t++]=E("MSG0006"),a[t++]=null===w?" Location.":"",a[t++]="S"!==G||te?"":" From Srno.",a[t++]="S"!==G||ne?"":" To Srno.",a[t++]="D"!==G||Z?"":" From Date.",a[t++]="D"!==G||ee?"":" To Date.",f(ja(a)),v(!0);else{const a={filterRadioType:G,filterLocation:q,filterFromDate:Ea(Z),filterToDate:Ea(ee),filterFromSrno:te,filterToSrno:ne};Ye(me,[e,"list",JSON.stringify(a)],e=>{let a=JSON.parse(e);de(a)})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===d.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,null===ie||void 0===ie?void 0:ie.map(a=>n.a.createElement("tr",{key:a.hdr_srno},"1"===d.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{h("Q"),fe(a),Me(n),Ae(a);const r={srno:a,location:t,type:l};Ye(me,[e,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(pe(a.chequeList),Le(a.maxlineno),Y(a.locationname),H(a.tolocationname),X(a.ledgername),se(a.ledgercode),oe(a.groupcode),Q(a.tolocation),F({id:a.bank}),$e(a.status))}),console.log(R)})(a.hdr_srno,a.hdr_location,a.hdr_type,a.new_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,a.hdr_srno),n.a.createElement("td",null,a.hdr_date),n.a.createElement("td",null,a.hdr_bank))),n.a.createElement("tr",null))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):ta())},"Back")," ","1"===d.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const a=new Date,t=Ie.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(a),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:we,type:"CHQOUT",pageright:"BANK_TRANSFER_OUT",location:q};Ye(_e,[e,"checkUnlock",JSON.stringify(m)],e=>{let t=JSON.parse(e);We(t.requestsrc),Be==o||"unlock"==t.msg?(h("E"),Se(""),Oe(""),ve("")):(Ge(!0),Je({trantype:"CHQOUT",trannumber:we,location:q,tranDate:Ea(a)}))})})()},"Edit"),"\xa0"):null,"1"===d.edit&&"E"===b||"1"===d.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>aa()},"Save")):null,"1"===d.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ke(!0),void Qe({trantype:"CHQOUT",trannumber:we,trancategory:"T",location:q}))},"Activity Log"),"\xa0"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial No : ",Ce)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"From Location : ",U)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"To Location : ",K)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",W))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ge,onChange:e=>(e=>{Ze(e.target.value,Se),""===e.target.value||""===ke?ve(""):ve(1*e.target.value+(1*ke-1))})(e),placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ye,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,ce,ue,q),onInputChange:Mt,onChange:e=>{Oe(e);const a=e.id.split("^");xe(a[4]),""===ge||""===a[4]?ve(""):ve(1*ge+(1*a[4]-1))}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:Ne,maxLength:20,onChange:e=>ve(e.target.value),placeholder:"To",disabled:!0})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===d.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a=[],t=0;if(""===ge||""===ye)a[t++]=E("MSG0006"),a[t++]=""===ge?"Quantity":"",a[t++]=""===ye?"From":"",f(ja(a)),v(!0);else if(ge>=101)f("Quantity Should be less than 101!"),v(!0);else{let a=!0;if(Ee.map(e=>{(e.tcb_from<=1*ke&&1*ke<=e.tcb_to||e.tcb_from<=1*Ne&&1*Ne<=e.tcb_to)&&(f("From value and To value can not lie between  "+e.tcb_from+" and "+e.tcb_to),v(!0),a=!1)}),a){const a={group:ce,bank:ue,location:q,from:ke,to:Ne};Ye(me,[e,"chequebook",JSON.stringify(a)],e=>{if(JSON.parse(e)===ge){const e={unique_no:Oa(5),tcb_srno:Ce,tcb_account:ue,tcb_group:ce,tcb_bankname:W,tcb_location:q,tcb_quantity:ge,tcb_from:1*ke,tcb_to:1*Ne,tcb_date:pa(J),tcb_line_no:1*De+1,del:"Y"};pe(Sa(Ee,e)),console.log(Ee);const a={TabType:"Product",ALineNo:qe.length+1,AType:"A",TLoc:q,TType:"CHQOUT",Srn0:Ce,Account:ue,GroupCode:ce,BankName:W,Quantity:ge,From:ke,To:Ne,Date:pa(J)};"1"===d.edit&&"E"===b&&Ve(e=>[...e,a]),Se(""),Oe(""),ve(""),Le(De+1)}else f("Doesn't exist!"),v(!0)})}}})()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===d.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank"))),n.a.createElement("tbody",null,Ee.map((a,t)=>n.a.createElement("tr",{key:t},"1"===d.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===a.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{if(Xe&&Ce>0)return f("First Delete From Inter Branch Exchange Module!"),void v(!0);const a=Ee.find(a=>a.unique_no===e);if(a){const e={TabType:"Product",ALineNo:qe.length+1,AType:"D",TLoc:q,TType:"CHQOUT",Srno:a.tcb_srno,Account:a.tcb_account,Group:a.tcb_group,BankName:a.tcb_bankname,Quantity:a.tcb_quantity,From:a.tcb_from,To:a.tcb_to,Date:a.tcb_date};console.log(e),"1"===d.edit&&"E"===b&&Ve(a=>[...a,e])}pe(ga(Ee,"unique_no",e)),Te(je+1)})(a.unique_no)},n.a.createElement(za.a,{icon:tt.r}))," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{const r={srno:a,lineno:t,location:l,type:n};Ye(me,[e,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);he(a)}),x(!0)})(a.tcb_srno,a.tcb_line_no,a.tcb_location,a.tcb_type)},n.a.createElement(za.a,{icon:Qa.f})):null):null,n.a.createElement("td",null,a.tcb_srno),n.a.createElement("td",null,a.tcb_quantity),n.a.createElement("td",null,a.tcb_from),n.a.createElement("td",null,a.tcb_to),n.a.createElement("td",null,a.tcb_date),n.a.createElement("td",null,a.tcb_group," ",a.tcb_account," ",a.tcb_bankname)))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:g,onYes:e=>ta(),onNo:e=>S(!1)},y),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(Dl,{logObject:Pe,show:Fe,onHide:()=>Ge(!1)})),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:k,onHide:()=>x(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"In Sr No."),n.a.createElement("th",null,"In Type"),n.a.createElement("th",null,"In Line No."))),n.a.createElement("tbody",null,be.map(e=>n.a.createElement("tr",{key:e.tcb_line_no},n.a.createElement("td",null,e.tcbb_from),n.a.createElement("td",null,e.tcbb_srno),n.a.createElement("td",null,e.tcbb_type),n.a.createElement("td",null,e.tcbb_line_no),n.a.createElement("td",null))))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>x(!1)},"Close"))),n.a.createElement(bt,{logObject:ze,show:Ue,onHide:()=>Ke(!1)})))};var Rl=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{e.show&&Ye("/api/reconciliation_activity_a.php",[a,"getlog",JSON.stringify(e.logObject)],e=>{r(JSON.parse(e))})},[e.show]),n.a.createElement("div",null,n.a.createElement(pt.a,Object.assign({},e,{animation:!1,size:"lg",centered:!0}),n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Activity Log")),n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Timestamp"),n.a.createElement("th",null,"Activity"))),n.a.createElement("tbody",null,t.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.lg_usersrno),n.a.createElement("td",null,e.lg_remark),n.a.createElement("td",null,e.date_time),n.a.createElement("td",null,e.lg_activity_type))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"OK"))))};var Fl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(null),[u,d]=Object(l.useState)(new Date),[p,b]=Object(l.useState)(new Date),[h,g]=Object(l.useState)("50"),[S,y]=Object(l.useState)("2"),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(!1),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(!1),[x,w]=Object(l.useState)(""),[A,I]=Object(l.useState)(""),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(""),B=new Date,q=sessionStorage.getItem("startDate"),V=sessionStorage.getItem("endDate"),[z,Q]=Object(l.useState)([]),[U,Y]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)(null),[Z,$]=Object(l.useState)("");var ee=[],ae=0;Object(l.useEffect)(()=>{L||(xa().then(e=>{null!=e&&te(e)}),Ye(_,[a,"all","BANK_RECONCILIATION"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),k(!0))},[L,a,e]);const te=e=>{X(e);var a=e.id.split("^");$(a[1])};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Bank Reconciliation"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:W,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>te(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:c,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>$t(e,Z),onInputChange:Mt,onChange:e=>{o(e);const a=e.id.split("^");I(a[1]),R(a[2]);const t=a[3];w(t)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:u,onChange:e=>d(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:p,onChange:e=>b(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Realisation",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:S,onChange:e=>{const a=e.target.value;y(a)}},n.a.createElement("option",{value:"2"},"Not Realised"),n.a.createElement("option",{value:"1"},"Realised"),n.a.createElement("option",{value:"3"},"Both"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Limit",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:h,onChange:e=>{const a=e.target.value;g(a)}},n.a.createElement("option",{value:"50"},"50"),n.a.createElement("option",{value:"100"},"100"),n.a.createElement("option",{value:"0"},"All"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Ref/Cheque Number"),n.a.createElement(s.a.Control,{value:F,maxLength:100,onChange:e=>ma(e.target.value,G),placeholder:"Ref/Cheque Number"})),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:P,maxLength:15,onChange:e=>ea(e.target.value,J),placeholder:"Amount"}))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"==t.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(N([]),null==c||""==u||""==p||""==S||""==h||u&&u>B||Ea(u)<q||Ea(p)>V||u>p)ee[ae++]=E("MSG0006"),ee[ae++]=null==c?"Please select bank.":"",ee[ae++]=""==u?"Please select from date.":"",ee[ae++]=""==p?"Please select to date.":"",ee[ae++]=""==S?"Please select realisation.":"",ee[ae++]=""==h?"Please select limit.":"",ee[ae++]=u&&u>B?"From Date can't be selected as future date.":"",ee[ae++]=Ea(u)<q?"From Date should be within financial year.":"",ee[ae++]=p&&p>B?"To Date can't be selected as future date.":"",ee[ae++]=u>p?"From Date should be less than To Date.":"",D(ja(ee)),j(!0);else{const e={bankGroup:A,bankAccount:M,fromDate:Ea(u),toDate:Ea(p),realisation_date:S,limit:h,chequeNum:F,amount:P,location:Z};Ye(ie,[a,"showList",JSON.stringify(e)],e=>{let a=JSON.parse(e);N(a)}),C(!0)}}},"List"):null,"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:function(){if(N([O]),null==c||""==u||""==p||""==S||""==h||u&&u>B||Ea(u)<q||Ea(p)>V||u>p)ee[ae++]=E("MSG0006"),ee[ae++]=null==c?"Please select bank.":"",ee[ae++]=""==u?"Please select from date.":"",ee[ae++]=""==p?"Please select to date.":"",ee[ae++]=""==S?"Please select realisation.":"",ee[ae++]=""==h?"Please select limit.":"",ee[ae++]=u&&u>B?"From Date can't be selected as future date.":"",ee[ae++]=Ea(u)<q?"From Date should be within financial year.":"",ee[ae++]=p&&p>B?"To Date can't be selected as future date.":"",ee[ae++]=u>p?"From Date should be less than To Date.":"",D(ja(ee)),j(!0);else{const e={bankGroup:A,bankAccount:M,fromDate:Ea(u),toDate:Ea(p),realisation_date:S,limit:h,chequeNum:F,amount:P,bankname:x,location:Z};Ca(ie,"post",[a,"downloadlist",JSON.stringify(e)]),C(!0)}}},"Download"))),"\xa0",v&&n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Voucher"),n.a.createElement("th",{style:{textAlign:"right"}},"Ref/Cheque Number"),n.a.createElement("th",{style:{textAlign:"right"}},"Deposit"),n.a.createElement("th",{style:{textAlign:"right"}},"Withdraw"),n.a.createElement("th",null,"Realisation Date"),n.a.createElement("th",null,"Log"))),n.a.createElement("tbody",null,O.map((e,l)=>n.a.createElement("tr",{key:e.index},n.a.createElement("td",null,e.tfd_location),n.a.createElement("td",null,e.tfd_location,"   ",e.entity_name),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_srno,"   ",e.tfd_type),n.a.createElement("td",{style:{textAlign:"right"}},e.tfd_cheque_no),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&-1*e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},null!=e.realised_date?n.a.createElement(n.a.Fragment,null,e.realised_date,n.a.createElement("h6",null,n.a.createElement(Ol.a,{bg:"danger",style:{cursor:"pointer"},onClick:()=>((e,t,l,n)=>{const r={activitytype:"Removed",subtranno:n,trannumber:l,trantype:t,branch:e,remark:"Date removed",location:e,type:t,srno:l,line:n,realisedDate:null,bankGroup:A,bankAccount:M,fromDate:Ea(u),toDate:Ea(p),realisation_date:S,limit:h,chequeNum:F,amount:P};Ye(ie,[a,"setRealised",JSON.stringify(r)],e=>{let a=JSON.parse(e);N(a),Q([])})})(e.tfd_location,e.tfd_type,e.tfd_srno,e.tfd_line_no)},"Remove"))):n.a.createElement(vl.a,{className:"form-control",selected:z[l],onChange:t=>((e,t,l,n,r,c)=>{const o=[...z];o[e]=t,Q(o);const m="".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")),s=m.split("-").reverse().join("-"),i={activitytype:"Added",subtranno:c,trannumber:r,trantype:n,branch:l,remark:"Date added ".concat(s),location:l,type:n,srno:r,line:c,realisedDate:m,bankGroup:A,bankAccount:M,fromDate:Ea(u),toDate:Ea(p),realisation_date:S,limit:h,chequeNum:F,amount:P};Ye(ie,[a,"setRealised",JSON.stringify(i)],e=>{let a=JSON.parse(e);console.log(a),N(a),Q([])})})(l,t,e.tfd_location,e.tfd_type,e.tfd_srno,e.tfd_line_no),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})),n.a.createElement("td",null,"1"===t.query?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",style:{cursor:"pointer"},onClick:()=>((e,a,t,l)=>{H(!0),Y({branch:e,trannumber:t,trantype:a,subtranno:l})})(e.tfd_location,e.tfd_type,e.tfd_srno,e.tfd_line_no)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.c})))):null))))),n.a.createElement(Ka,{isOpen:f,onClose:e=>j(!1)},T),n.a.createElement(Rl,{logObject:U,show:K,onHide:()=>H(!1)})),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};t(105);var Gl=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{e.show&&Ye("/api/fa_view_a.php",[a,"getlog",JSON.stringify(e.faViewObject)],e=>{let a=JSON.parse(e);console.log(a),r(a)})},[e.show]),n.a.createElement("div",null,n.a.createElement(pt.a,Object.assign({},e,{size:"xl",centered:!0,dialogClassName:"custom-modal-width"}),n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"FA View")),n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Tran No"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Cr/Dr"),n.a.createElement("th",{className:"text-end"},"Amount"))),n.a.createElement("tbody",null,t.filter(e=>"GB"!==e.tfd_reftype).map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.location),n.a.createElement("td",null,e.tranno),n.a.createElement("td",null,e.data),n.a.createElement("td",null,"C"==e.tfd_flag?"Cr":"Dr"),n.a.createElement("td",{className:"text-end"},Ke("C"==e.tfd_flag?-1*e.tfd_amount:e.tfd_amount),"\xa0")))),n.a.createElement("br",null),n.a.createElement("tbody",null,t.filter(e=>"GB"===e.tfd_reftype).map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.location),n.a.createElement("td",null,e.tranno),n.a.createElement("td",null,e.data),n.a.createElement("td",null,"C"==e.tfd_flag?"Cr":"Dr"),n.a.createElement("td",{className:"text-end"},Ke("C"==e.tfd_flag?-1*e.tfd_amount:e.tfd_amount),"\xa0"))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"OK"))))};var Pl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("userSrno"),r=sessionStorage.getItem("startDate"),c=sessionStorage.getItem("endDate"),o=sessionStorage.getItem("branchDisable"),[u,d]=Object(l.useState)([]),[b,h]=Object(l.useState)("0"),[g,S]=Object(l.useState)("0"),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(null),[j,T]=Object(l.useState)(new Date),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(new Date),[I,M]=Object(l.useState)(new Date),R=new Date,[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)([]),[B,q]=Object(l.useState)(!1),[V,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)("N"),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)("0"),[le,ne]=Object(l.useState)("0"),[re,ce]=Object(l.useState)("0"),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(!1),[de,Ee]=Object(l.useState)([]),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)("0"),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[fe,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)(""),[Le,ke]=Object(l.useState)(null),[xe,we]=Object(l.useState)(null),[Ae,Ie]=Object(l.useState)(!1),[Me,Re]=Object(l.useState)(""),[Fe,Ge]=Object(l.useState)(""),[Pe,Je]=Object(l.useState)(""),[qe,Ve]=Object(l.useState)(""),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,Xe]=Object(l.useState)(""),[$e,ea]=Object(l.useState)([]),[aa,ta]=Object(l.useState)(!1),[la,na]=Object(l.useState)([]),[ra,ca]=Object(l.useState)(""),[oa,ma]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(""),[ia,da]=Object(l.useState)(""),[ba,ha]=Object(l.useState)(""),[ya,Na]=Object(l.useState)(!1),[va,Ca]=Object(l.useState)(""),[_a,Ta]=Object(l.useState)(0),[Da,La]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ka,wa]=Object(l.useState)(!1),[Aa,Ia]=Object(l.useState)({location:"",trannumber:"",type:""}),[Ma,Ra]=Object(l.useState)(!1),[Fa,Ga]=Object(l.useState)(0),[Pa,Ja]=Object(l.useState)(0),Ba=()=>ta(!1),[qa,Va]=Object(l.useState)(!1),[Ua,Ya]=Object(l.useState)(""),[Za,$a]=Object(l.useState)(""),[et,lt]=Object(l.useState)(!1),[rt,ot]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[mt,ut]=Object(l.useState)("");Object(l.useEffect)(()=>{Ae||(xa().then(e=>{f(e),null!=e&&it(e)}),Ye(_,[a,"all","CHEQUE_DEPOSIT"],function(a){let t=JSON.parse(a);"1"===t.query?d(t):e("/")}),Ie(!0))},[Ae,a,e]);const st=()=>{if("0"==Se)z("You can't save without adding data"),q(!0);else if("E"===N&&""===va)Na(!0),ct()(".loader").hide();else{const e={remark:va,activitytype:1==_a?"MODIFY":"CREATE",subtranno:_a,trannumber:b,trantype:"CHKDP",trancategory:"T",branch:$,location:$,date:Ea(j),type:"CHKDP",bookList:de,radioType:H,scrMode:N,srNo:b,totalCredit:le,totalDebit:ae,random:qe,group:ra,account:oa,delClicked:qa,tfd_cheque_status:"I",tfd_cheque_deposit_date:null,uniquekey:Ua};if(Ye(oe,[a,"saveChequeDeposit",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),"N"==H?(J(a),ie(!1),v(""),G(!0)):(Ee(a.resarray),Ga(a.maxlineno),v("Q")),ye(0),Ca("")}),"E"==N&&"SELF"!==mt){const e={srno:b,type:"CHKDP",status:"E",currentDate:Ea(R),pageright:"CHEQUE_DEPOSIT"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}},it=e=>{f(e);const a=e.id.split("^");ee(a[1]),Z(a[2]),sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cheque Deposit ",n.a.createElement("span",{style:{color:"white"}},y)))),"\xa0",""==N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:C,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>it(e),isDisabled:"true"===o}))),"N"==H?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>$t(e,1),onInputChange:Mt,onChange:e=>{ue(e);const a=e.id.split("^");console.log(a),ca(a[1]),ma(a[2]);const t=a[4],l=a[3];De(l),je(t)}}))):null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===H,onChange:()=>W("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===H,onChange:()=>W("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===H,onChange:()=>W("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Wa.a,null,"N"===H?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Deposit Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:j,onChange:e=>T(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:D,onChange:e=>Ze(e.target.value,L)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:k,onChange:e=>Ze(e.target.value,x)})))):"D"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:w,onChange:e=>A(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"==H?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ea(j);null!==C&&null!==me&&j?l>c||l<r?(z(E("MSG0010")),q(!0)):(Ga(0),v("A"),h(0),Xe(t+"_CHKDP_"+Oa(15)),G(!1),ie(!0),Ee([]),ne("0"),te("0"),ce("0"),be(Te),ke("D"),ge(pa(j)),we(null),Ee([])):(e[a++]=E("MSG0006"),e[a++]=null===C?"Location.":"",e[a++]=null===me?" Bank.":"",e[a++]=j?"":"Date.",z(ja(e)),q(!0)),ye(0),Ta(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(null===C||"S"===H&&""===D||"S"===H&&""===k||"D"===H&&!w||"D"===H&&!I)e[t++]=E("MSG0006"),e[t++]=null===C?" Location.":"",e[t++]="S"!==H||D?"":" From Srno.",e[t++]="S"!==H||k?"":" To Srno.",e[t++]="D"!==H||w?"":" From Date.",e[t++]="D"!==H||I?"":" To Date.",z(ja(e)),q(!0);else{const e={date:Ea(j),type:"CHKDP",location:$,radioType:H,fromSrno:D,toSrno:k,fromDate:Ea(w),toDate:Ea(I)};Ye(oe,[a,"showChequeDepositHeader",JSON.stringify(e)],e=>{let a=JSON.parse(e);J(a),G(!0)})}}},"List"))),"\xa0",F&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===u.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Bank Name"))),n.a.createElement("tbody",null,P.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===u.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l,n)=>{ct()(".loader").show(),$a(n),"N"==H&&W("A"),h(e);const r={srNo:e,location:$,date:t,scrMode:N,lineNum:ze,type:"CHKDP"};Ye(oe,[a,"showChequeDeposit",JSON.stringify(r)],a=>{let n=JSON.parse(a);Ee(n.resarray),Ga(n.maxlineno),ct()(".loader").hide(),v("Q"),G(!1),ie(!0),Ce(e),ge(t),be(l)})})(e.hdr_srno,e.formatted_date,e.mvli_ledger_name,e.hdr_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_group),n.a.createElement("td",null,e.hdr_ledger),n.a.createElement("td",null,e.mvli_ledger_name)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"A"==N||"E"==N?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{U(!0),K("Do you really want to exit")}},"Cancel"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{v(""),W("N"),ue(null),f(null)}},"Back"),"\xa0","1"===u.edit&&"Q"===N?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,l=he.split("/"),n=l[2]+"-"+l[1]+"-"+l[0],r=Ea(e),c=new Date(n),o=new Date(r)-c,m=Math.ceil(o/864e5),u={srno:ve,type:"CHKDP",pageright:"CHEQUE_DEPOSIT",location:$};Ye(_e,[a,"checkUnlock",JSON.stringify(u)],a=>{let l=JSON.parse(a);ut(l.requestsrc),Be==m||"unlock"==l.msg?(Ta(1),v("E"),ye(1),Xe(t+"_CHKDP_"+Oa(15))):(lt(!0),ot({trantype:"CHKDP",trannumber:ve,location:$,tranDate:Ea(e)}))})})()},"Edit"):null,"\xa0","1"===u.edit&&"E"===N||"1"===u.add&&"A"===N?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:st},"Save"):null,"\xa0","1"!==u.query||"E"!==N&&"Q"!==N?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(wa(!0),void La({trantype:"CHKDP",trannumber:b,trancategory:"T"}))},"Activity Log")),"\xa0","1"===u.query&&"Q"===N?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ra(!0),void Ia({location:$,trannumber:ve,type:"CHKDP"}))},"View")):null)),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",b))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank : ",pe))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",X))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",he)))),"\xa0","E"==N||"A"==N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:xe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l)=>{console.log(t);var n={sid:sessionStorage.getItem("sessionId"),type:"cheque",srch:e,location:a,randomString:t,date:l};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))})(e,$,He,Ea(j)),onInputChange:Mt,onChange:e=>{we(e);const a=e.id.split("^");console.log(a),Re(a[1]),Ge(a[4]),Je(a[2]),Ve(a[5]),S(a[6]),Qe(a[7]),Ke(a[8]),sa(a[9]),da(a[10]),ha(a[11]);const t=a[3];Ne(t)}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(ct()(".loader").show(),null==xe)ct()(".loader").hide(),z("Please Select Cheque."),q(!0);else{let e=!0;if(de.forEach(a=>{a.tfd_cheque_no===Me&&a.formatted_date===Fe&&(e=!1)}),e){ye(Se+1),ct()(".loader").hide(),Xe(He);const e={type:Ue,randomString:He,line:ze,srno:g,location:ba};Ye(oe,[a,"addRandom",JSON.stringify(e)],e=>{JSON.parse(e)});const t={uniquekey:Oa(15),tfd_line_no:1*Fa+1,tfd_cheque_deposit_date:Ea(j),tfd_amount:Oe,srno:b,tfd_cheque_status:"D",tfd_cheque_no:Me,formatted_date:Fe,tfd_cheque_bank_name:Pe,tcd_ref_line_no:ze,tfd_type:Ue,tfd_srno:g,tfd_group:ua,tfd_account:ia,tcd_ref_location:ba,delny:"Y"};console.log(t),Ee(Sa(de,t)),O(y+1),ie(!0),we(null),Ga(1*Fa+1)}else ct()(".loader").hide(),z("This Cheque is already selected"),q(!0)}}},"Add")," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{Ye(oe,[a,"showChequeSelective",JSON.stringify({})],e=>{let a=JSON.parse(e);ea(a),ta(!0)})}},"Selective")," ")),"\xa0"):null,se&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===u.delete?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Cheque No."),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,de.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===u.delete?n.a.createElement("td",{className:"textCenter"},"E"!=N&&"A"!=N||"Y"!=e.delny?null:n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{Ee(ga(de,"uniquekey",e)),O(y-1),Va(!0),Ya(e)})(e.uniquekey)},n.a.createElement(za.a,{icon:tt.r}))):null,n.a.createElement("td",null,e.tfd_line_no),n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.tfd_cheque_bank_name),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_amount))))))))),n.a.createElement(Ka,{isOpen:B,onClose:e=>q(!1)},V),n.a.createElement(St,{isOpen:Q,onYes:e=>(v(""),W("N"),U(!1),ue(null),void f(null)),onNo:e=>U(!1)},Y),n.a.createElement(Dl,{logObject:rt,show:et,onHide:()=>lt(!1)}),n.a.createElement(pt.a,{show:aa,onHide:Ba},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Modal heading ",Pa)),n.a.createElement(pt.a.Body,null,"\xa0",n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",onChange:e=>(function(e){e?ct()(".selectorChkBox").attr("checked",!0):(ct()(".selectorChkBox").attr("checked",!1),ea([])),Ja(Pa+1)})(e.target.checked)})),n.a.createElement("th",null,"Cheque No"),n.a.createElement("th",null,"Bank Name"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,$e.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",value:e.tfd_srno,id:"id_"+e.tfd_line_no+"_"+e.tfd_srno,className:"selectorChkBox",onChange:a=>((e,a,t,l,n)=>{n?ct()("#id_"+e+"_"+a).attr("checked",!0):ct()("#id_"+e+"_"+a).removeAttr("checked"),Ja(Pa+1)})(e.tfd_line_no,e.tfd_srno,e.tcd_ref_location,e.tfd_type,a.target.checked)})),n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.tfd_cheque_bank_name),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_amount)))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:Ba},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{ye(Se+1),Ea(j),$e.map(e=>{Ee(Sa(de,{tfd_cheque_bank_name:e.tfd_cheque_bank_name,tfd_cheque_no:e.tfd_cheque_no,formatted_date:e.formatted_date,tfd_amount:e.tfd_amount,tfd_cheque_status:Le,tfd_line_no:e.tfd_line_no,tfd_type:e.tfd_type,tfd_srno:e.tfd_srno,srno:b,tcd_ref_location:e.tcd_ref_location,tfd_cheque_deposit_date:Ea(j),tfd_group:e.tfd_group,tfd_account:e.tfd_account}))}),Ba()}},"Add"))),n.a.createElement(bt,{logObject:Da,show:ka,onHide:()=>wa(!1)}),n.a.createElement(Gl,{faViewObject:Aa,show:Ma,onHide:()=>Ra(!1)}),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:ya,onHide:()=>Na(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,"E"===N?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:va,onChange:e=>We(e.target.value,Ca),autoComplete:"off",required:!0}))):null),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===N&&""===va?(Na(!1),z("Please fill Activity Remark!"),q(!0)):(st(),Na(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>ta(!1)},"Cancel")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Jl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[d,b]=Object(l.useState)([]),h=sessionStorage.getItem("userSrno"),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)("N"),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)(null),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(new Date),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Z,$]=Object(l.useState)(!1),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(!1),[me,ue]=Object(l.useState)([]),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)(null),[_e,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[De,Le]=Object(l.useState)(""),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)(""),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)(""),[Ge,Pe]=Object(l.useState)(""),[Je,Be]=Object(l.useState)("0"),[Ve,ze]=Object(l.useState)(""),[Qe,Ue]=Object(l.useState)(""),[Ke,He]=Object(l.useState)(null),[We,Xe]=Object(l.useState)(""),[$e,aa]=Object(l.useState)(""),[ta,la]=Object(l.useState)(""),[na,ra]=Object(l.useState)(""),[ca,oa]=Object(l.useState)(""),[ma,ua]=Object(l.useState)([]),[sa,ia]=Object(l.useState)(""),[da,ba]=Object(l.useState)({location:"",trannumber:"",type:""}),[ha,ga]=Object(l.useState)(!1);Object(l.useEffect)(()=>{o||(xa().then(e=>{f(e),null!=e&&Sa(e)}),Ye(_,[a,"all","ISSUE_CHEQUE_BOUNCE"],function(a){let t=JSON.parse(a);"1"===t.query?b(t):e("/")}),u(!0))},[o,a,e]);const Sa=e=>{f(e);const a=e.id.split("^");Le(a[1]),Te(a[2]),sessionStorage.activeBranch=a[1]},ya=()=>{var e=[],t=0;if(null===C||null===N||"S"===y&&!R||"S"===y&&!G||"D"===y&&!J||"D"===y&&!q)e[t++]=E("MSG0006"),e[t++]=null===C?" Location.":"",e[t++]=null===N?" Bank.":"",e[t++]="S"!==y||R?"":" From Srno.",e[t++]="S"!==y||G?"":" To Srno.",e[t++]="D"!==y||J?"":" From Date.",e[t++]="D"!==y||q?"":" To Date.",L(ja(e)),T(!0);else{const e={date:Ea(I),type:"ISSUECHQ",location:De,radioType:y,fromSrno:R,toSrno:G,fromDate:Ea(J),toDate:Ea(q)};Ye("/api/issue_cheque_bounce_a.php",[a,"showIssueChequeBounceHeader",JSON.stringify(e)],e=>{let a=JSON.parse(e);ua(a),re(!0)})}},Na=()=>{x(!0),A("Do you really want to exit")};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Issue Cheque Bounce "))),"\xa0",""==g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:C,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>Sa(e),isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>$t(e,1),onInputChange:Mt,onChange:e=>{v(e);const a=e.id.split("^");console.log(a),Ee(a[1]),be(a[2]);const t=a[3];xe(t),ge(t)}}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===y,onChange:()=>O("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===y,onChange:()=>O("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===y,onChange:()=>O("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===y?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:R,onChange:e=>Ze(e.target.value,F)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:G,onChange:e=>Ze(e.target.value,P)})))):"D"===y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:q,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"==y?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ea(I);null!==C&&null!==N&&I?l>r||l<t?(L(E("MSG0010")),T(!0)):(S("A"),ae(0),le(h+"_CHKDP_"+Oa(15)),re(!1),oe(!0),ue([]),ge(ke),ye(pa(I)),Ne(null),ie(""),Ce(null)):(e[a++]=E("MSG0006"),e[a++]=null===C?" Location.":"",e[a++]=null===N?" Bank.":"",e[a++]=null===I?" Date.":"",L(ja(e)),T(!0)),fe("AGENT,CORPORATE,DEALER,OTHER,ISSUER,WALKIN"),H(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:ya},"List"))),"\xa0",ne&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===d.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,ma.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===d.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l)=>{ct()(".loader").show(),ae(e);const n={srno:e,location:De,scrMode:g,type:t};Ye("/api/issue_cheque_bounce_a.php",[a,"showIssueChequeBounce",JSON.stringify(n)],a=>{let t=JSON.parse(a);console.log(t),ct()(".loader").hide(),ue(t),S("Q"),oe(!0),ia(e),ye(l)})})(e.tfh_srno,e.tfh_type,e.tfh_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"A"==g||"Q"==g?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:Na},"Back"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:Na},"Cancel"),"\xa0","1"===d.edit&&"E"===g||"1"===d.add&&"A"===g?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(null===Oe||null===ve)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null===ve?" Party.":"",e[t++]=null===Oe?" Cheque.":"",L(ja(e)),T(!0);else if("E"===g&&""===U)Q(!0),ct()(".loader").hide();else{const e={remark:U,activitytype:1==K?"MODIFY":"CREATE",subtranno:K,trannumber:ee,trantype:"ISSUECHQ",trancategory:"T",branch:De,uniquekey:Oa(15),date:Ea(I),amount:se,location:De,srno:ee,cheque_status:Ke,cheque_no:Ge,chequeDate:We,cheque_bank_name:$e,line_no:Ve,tfd_type:Qe,tfd_srno:Je,radioType:y,type:"ISSUECHQ",partyGroup:we,partyAccount:Ie,ref_location:ta,chequeGroup:na,chequeAccount:ca,bankGroup:de,bankAccount:pe};Ye("/api/issue_cheque_bounce_a.php",[a,"saveIssueChequeBounce",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a.resarray),S(""),Ne(null),Ce(null),ie(""),ua(a),re(!0)})}}},"Save"):null,"\xa0","1"!==d.query||"E"!==g&&"Q"!==g?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>($(!0),void X({trantype:"ISSUECHQ",trannumber:ee,trancategory:"T"}))},"Activity Log"),"\xa0","1"===d.query&&"Q"===g?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ga(!0),void ba({location:De,trannumber:ee,type:"ISSUECHQ"}))},"View"):null)),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",ee))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank : ",he))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",je))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",Se)))),"E"==g||"A"==g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l)=>{var n={sid:sessionStorage.getItem("sessionId"),type:"issuecheque",srch:e,location:a,bankGroup:t,bankAccount:l};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))})(e,De,de,pe),onInputChange:Mt,onChange:e=>{Ne(e);const a=e.id.split("^");console.log(a),Pe(a[1]),Be(a[6]),ze(a[7]),Ue(a[8]),la(a[9]),ra(a[10]),oa(a[11]);let t=a[3];console.log(t),t<0&&(t*=-1,console.log(t)),ie(t)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ve,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,_e,1),onInputChange:Mt,onChange:e=>{Ce(e);const a=e.id.split("^");console.log(a),Ae(a[1]),Me(a[2]),Fe(a[4])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:se,maxLength:qe,onChange:e=>ea(e.target.value,ie),placeholder:"Amount",disabled:!0}))))," \xa0"):null,ce&&me.map(e=>n.a.createElement(Wa.a,null,n.a.createElement(n.a.Fragment,{key:e.tfd_line_no},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No. : ",e.tcd_cheque_no))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Bank : ",e.tfd_cheque_bank_name))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date : ",e.formatted_date))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount : ",e.tcd_amount))))," ")))),n.a.createElement(bt,{logObject:W,show:Z,onHide:()=>$(!1)}),n.a.createElement(Gl,{faViewObject:da,show:ha,onHide:()=>ga(!1)}),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(St,{isOpen:k,onYes:e=>("A"==g||"Q"==g?(S(""),re(!0),ya()):S("Q"),x(!1),void v(null)),onNo:e=>x(!1)},w))};var Bl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[d,b]=Object(l.useState)([]),h=sessionStorage.getItem("userSrno"),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(new Date),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(new Date),[w,A]=Object(l.useState)(new Date),[I,M]=Object(l.useState)(!1),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)("N"),[U,Y]=Object(l.useState)(null),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(null),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(!1),[me,ue]=Object(l.useState)([]),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)([]),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(null),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[_e,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)("0"),[De,Le]=Object(l.useState)(""),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)(0),[Ie,Me]=Object(l.useState)(null),[Re,Fe]=Object(l.useState)(""),[Ge,Pe]=Object(l.useState)(""),[Je,Be]=Object(l.useState)(""),[Ve,ze]=Object(l.useState)("0"),[Qe,Ue]=Object(l.useState)(""),[Ke,He]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)(""),[aa,ta]=Object(l.useState)(""),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(""),[oa,ma]=Object(l.useState)(!1),[ua,sa]=Object(l.useState)(""),[ia,da]=Object(l.useState)(0),[ba,ha]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ga,Sa]=Object(l.useState)(!1),[ya,Na]=Object(l.useState)({location:"",trannumber:"",type:""}),[va,Ca]=Object(l.useState)(!1),[_a,Ta]=Object(l.useState)(0);Object(l.useEffect)(()=>{o||(xa().then(e=>{H(e),null!=e&&Da(e)}),Ye(_,[a,"all","RECEIVED_CHEQUE_BOUNCE"],function(a){let t=JSON.parse(a);"1"===t.query?b(t):e("/")}),u(!0))},[o,a,e]);const Da=e=>{H(e);const a=e.id.split("^");v(a[1]),O(a[2]),sessionStorage.activeBranch=a[1]},La=()=>{var e=[],t=0;if(null===Se||null===Ie)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null===Ie?" Party.":"",e[t++]=null===Se?" Cheque.":"",F(ja(e)),M(!0);else if("E"===q&&""===ua)ma(!0),ct()(".loader").hide();else{const e={remark:ua,activitytype:1==ia?"MODIFY":"CREATE",subtranno:ia,trannumber:W,trantype:"CHKBOUNCE",trancategory:"T",branch:N,uniquekey:Oa(15),tfd_line_no:1*_a+1,date:Ea(C),amount:he,location:N,srno:W,cheque_status:te,cheque_no:pe,chequeDate:ve,cheque_bank_name:Oe,line_no:De,tfd_type:ke,tfd_srno:je,radioType:z,type:"CHKBOUNCE",partyGroup:Re,partyAccount:Ge,ref_location:Ke,chequeGroup:Xe,chequeAccount:aa,bankGroup:la,bankAccount:ra};Ye("/api/received_cheque_bounce_a.php",[a,"saveReceivedChequeBounce",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a.resarray),V(""),ye(null),Me(null),ge(""),Ee(a),S(!0),ye(null),Me(null),ge("")})}},ka=()=>{var e=[],t=0;if(null===K||null===U||"S"===z&&!j||"S"===z&&!D||"D"===z&&!k||"D"===z&&!w)e[t++]=E("MSG0006"),e[t++]=null===K?" Location.":"",e[t++]=null===U?" Bank.":"",e[t++]="S"!==z||j?"":" From Srno.",e[t++]="S"!==z||D?"":" To Srno.",e[t++]="D"!==z||k?"":" From Date.",e[t++]="D"!==z||w?"":" To Date.",F(ja(e)),M(!0);else{const e={date:Ea(C),type:"CHKBOUNCE",location:N,radioType:z,fromSrno:j,toSrno:D,fromDate:Ea(k),toDate:Ea(w)};Ye("/api/received_cheque_bounce_a.php",[a,"showChequeBounceHeader",JSON.stringify(e)],e=>{let a=JSON.parse(e);Ee(a),S(!0)})}},wa=()=>{P(!0),B("Do you really want to exit")};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Received Cheque Bounce ",n.a.createElement("span",{style:{color:"white"}},we)))),"\xa0",""==q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>Da(e),isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:U,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>$t(e,1),onInputChange:Mt,onChange:e=>{Y(e);const a=e.id.split("^");console.log(a),na(a[1]),ca(a[2]);const t=a[3];re(t),ie(t)}}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===z,onChange:()=>Q("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===z,onChange:()=>Q("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===z,onChange:()=>Q("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Wa.a,null,"N"===z?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:C,onChange:e=>f(e),maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:j,onChange:e=>Ze(e.target.value,T)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:D,onChange:e=>Ze(e.target.value,L)})))):"D"===z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:k,onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:w,onChange:e=>A(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"==z?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ea(C);null!==K&&null!==U&&C?l>r||l<t?(F(E("MSG0010")),M(!0)):(Ta(0),V("A"),X(0),$(h+"_CHKDP_"+Oa(15)),S(!1),oe(!0),ue([]),ie(ne),le("B"),ae(pa(C)),ye([]),Me(null),ge("")):(e[a++]=E("MSG0006"),e[a++]=null===K?" Location.":"",e[a++]=null===U?" Bank.":"",e[a++]=C?"":" Date.",F(ja(e)),M(!0)),ze(0),Ue("AGENT,CORPORATE,DEALER,OTHER,ISSUER,WALKIN"),da(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:ka},"List"))),"\xa0",g&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===d.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,de.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===d.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l)=>{ct()(".loader").show(),X(e);const n={srno:e,location:N,scrMode:q,type:t};Ye("/api/received_cheque_bounce_a.php",[a,"showChequeBounce",JSON.stringify(n)],a=>{let t=JSON.parse(a);console.log(t),ct()(".loader").hide(),ue(t),V("Q"),oe(!0),fe(e),ae(l)})})(e.tfh_srno,e.tfh_type,e.tfh_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"A"==q||"Q"==q?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:wa},"Back"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:wa},"Cancel"),"\xa0","1"===d.edit&&"E"===q||"1"===d.add&&"A"===q?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:La},"Save"):null,"\xa0","1"!==d.query||"E"!==q&&"Q"!==q?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Sa(!0),void ha({trantype:"CHKBOUNCE",trannumber:W,trancategory:"T"}))},"Activity Log"),"\xa0","1"===d.query&&"Q"===q?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ca(!0),void Na({location:N,trannumber:W,type:"CHKBOUNCE"}))},"View"):null)),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",W))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank : ",se))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",y))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",ee))))," ",n.a.createElement("hr",null),"\xa0","E"==q||"A"==q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Se,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l)=>{var n={sid:sessionStorage.getItem("sessionId"),type:"receivedcheque",srch:e,location:a,bankGroup:t,bankAccount:l};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(n)).then(e=>JSON.parse(e.data))})(e,N,la,ra),onInputChange:Mt,onChange:e=>{ye(e);const a=e.id.split("^");console.log(a),be(a[1]),Ce(a[4]),Ne(a[2]),Te(a[6]),Le(a[7]),xe(a[8]),He(a[9]),$e(a[10]),ta(a[11]);const t=a[3];ge(t)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ie,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,Qe,1),onInputChange:Mt,onChange:e=>{Me(e);const a=e.id.split("^");console.log(a),Fe(a[1]),Pe(a[2]),Be(a[4])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:he,maxLength:qe,onChange:e=>ea(e.target.value,ge),placeholder:"Amount",disabled:!0}))))," \xa0"):null,ce&&me.map(e=>n.a.createElement(Wa.a,null,n.a.createElement(n.a.Fragment,{key:e.tfd_line_no},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No. : ",e.tcd_cheque_no))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date : ",e.formatted_date))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount : ",e.tcd_amount))))," ")))),n.a.createElement(bt,{logObject:ba,show:ga,onHide:()=>Sa(!1)}),n.a.createElement(Gl,{faViewObject:ya,show:va,onHide:()=>Ca(!1)}),n.a.createElement(Ka,{isOpen:I,onClose:e=>M(!1)},R),n.a.createElement(St,{isOpen:G,onYes:e=>("A"==q||"Q"==q?(V(""),S(!0),ka()):V("Q"),P(!1),void Y(null)),onNo:e=>P(!1)},J),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:oa,onHide:()=>ma(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,"E"===q?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:ua,onChange:e=>We(e.target.value,sa),autoComplete:"off",required:!0}))):null),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===q&&""===ua?(ma(!1),F("Please fill Activity Remark!"),M(!0)):(La(),ma(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>ma(!1)},"Cancel")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var ql=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)(!1),[S,y]=Object(l.useState)(null),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)("1"),[L,k]=Object(l.useState)(new Date),[x,w]=Object(l.useState)(new Date),[A,I]=Object(l.useState)("");Object(l.useEffect)(()=>{c||(Ye(_,[a,"all","IBR"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Master IBR"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"1"===t.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:L,onChange:e=>k(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:x,onChange:e=>w(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Limit",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:T,onChange:e=>D(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"10"},"50"),n.a.createElement("option",{value:"50"},"100")))),n.a.createElement(Xa.a,{style:{marginTop:"34px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={filterLimit:T,filterFromDate:Ea(L),filterToDate:Ea(x)};Ye(ye,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);C(a)}),j("")})()},"List"))):null),n.a.createElement(Wa.a,null,"1"===t.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:S,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{y(e);const a=e.id.split("^");N(a[1])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:f,onChange:e=>ea(e.target.value,j),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{style:{marginTop:"34px"}},n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],t=0;if(null===S||""===f)e[t++]=E("MSG0006"),e[t++]=null===S?" Currency.":"",e[t++]=""===f?"Rate.":"",b(ja(e)),d(!0);else{const e={filterLimit:T,filterFromDate:Ea(L),filterToDate:Ea(x),isd:O,rate:f};Ye(ye,[a,"add",JSON.stringify(e)],e=>{let a=JSON.parse(e);C(a),y(null),j("")})}})()},"Add"))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===t.query||"1"===t.add?n.a.createElement(n.a.Fragment,null,!h&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void g(!0)},"Upload"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e={filterLimit:T,filterFromDate:Ea(L),filterToDate:Ea(x)};Ye(ye,[a,"fetchonlinerates",JSON.stringify(e)],e=>{ct()(".loader").hide(),C(JSON.parse(e)),d(!0),b("Online rates imported successfully")})})()},"Fetch Online Rates"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void Ye(ye,[a,"ratecard"],e=>{console.log(e)})},"Generate Rate Card"),n.a.createElement("br",null)):null)),n.a.createElement(Wa.a,null,"\xa0"),h&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:A,onChange:e=>I(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:()=>{va(Q,"post",[a,JSON.stringify({right:"IBR"})])}},"Download ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),b("Please select a file to upload."),d(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),b("(.) not allowed in file name."),d(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),b("Please select a file with in 10 MB size."),d(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),b("File extension should be in xlsx format"),d(!0);else{const e={sid:a,srno:6666,isd:O,ibrFile:A,uploadType:"uploadIbr",pageright:"UPLOADIBR",filterLimit:T,filterFromDate:Ea(L),filterToDate:Ea(x)};Na(JSON.stringify(e),"fileExcel",e=>{let a=JSON.parse(e);ct()(".loader").hide(),b(a.msg),d(!0),g(!1),I("")})}}})()},"Submit")," "))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Rate"))),n.a.createElement("tbody",null,null===v||void 0===v?void 0:v.map(e=>n.a.createElement("tr",{key:e.ibr_srno},n.a.createElement("td",null,e.ibr_isd),n.a.createElement("td",null,Math.round(1e5*e.ibr_rate)/1e5)))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},p)))};var Vl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[d,E]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(1),[k,x]=Object(l.useState)(!0),[w,A]=Object(l.useState)(!1),[M,R]=Object(l.useState)("Q"),[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{b||(Ye(_,[p,"all","BUSINESSNATURE"],function(a){let t=JSON.parse(a);"1"===t.query?O(t):e("/")}),Ye(I,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),h(!0))},[b,p,e]);const U=()=>{u(!1),A(!1),x(!0),G(!1)},Y=e=>{R("Q"),G(!1),Ye(I,[p,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={business:e.business,status:e.status,remark:e.remark};z([a])})(a),v(a.srno),f(a.business),L(a.status),A(!0),x(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master Business Nature "))),k?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===y.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{v(0),f(""),L(1),R("A"),x(!1),A(!0)}}," Add New"):null,"1"===y.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[p,JSON.stringify({right:"BUSINESSNATURE"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:N,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Business Nature",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Business Nature",maxLength:100,value:C,onChange:e=>We(e.target.value,f),disabled:"Q"===M,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),required:!0,disabled:"Q"===M},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:j,onChange:e=>We(e.target.value,T),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===M||"E"===M?(E("Do you really want to exit ?"),u(!0)):U())},"Back"),"\xa0\xa0","1"===y.edit&&"Q"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void R("E")},"Edit"),"\xa0"):null,"1"===y.edit&&"E"===M||"1"===y.add&&"A"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===C)c("Please fill Business!"),t(!0);else if("E"===M&&""===j)c("Please fill Remark!"),t(!0);else{var e={business:C,status:D,branch:0,activitytype:1*N>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MBN",trannumber:N,subtranno:0,remark:j};const a=Ja(V,[e]);"1"===y.edit&&"E"===M&&q(Ba(B,a,"MBN")),Ye(I,[p,"savelist",N,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(A(!1),x(!0),T(""),Ye(I,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==y.query||"E"!==M&&"Q"!==M?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MBN",trannumber:N,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:P,show:F,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===y.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Business Nature"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",{key:e.mn_srno},"1"===y.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.mn_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.mn_srno),n.a.createElement("td",null,e.mn_business_name),n.a.createElement("td",null,1==e.mn_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:o,onYes:e=>U(),onNo:e=>u(!1)},d)))};var zl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)("Q"),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)(""),[R,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","COSTCENTER"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(F,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const U=()=>{A(!1),L(!1),T(!0),G(!1)},Y=e=>{x("Q"),G(!1),Ye(F,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={costcenter:e.costcenter,status:e.status,remark:e.remark};z([a])})(a),S(a.srno),O(a.costcenter),v(a.status),L(!0),T(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master Cost Center "))),j?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),L(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"COSTCENTER"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cost Center",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Cost center",maxLength:100,disabled:"Q"===k,value:y,onChange:e=>We(e.target.value,O),autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===k,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===k||"E"===k?(M("Do you really want to exit ?"),A(!0)):U())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===k||"1"===b.add&&"A"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Cost Center!"),t(!0);else if("E"===k&&""===C)c("Please fill Remark!"),t(!0);else{var e={costcenter:y,status:N,branch:0,activitytype:1*g>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCSC",trannumber:g,subtranno:0,remark:C};const a=Ja(V,[e]);"1"===b.edit&&"E"===k&&q(Ba(B,a,"MCSC")),Ye(F,[o,"savelist",g,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(L(!1),T(!0),f(""),Ye(F,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==k&&"Q"!==k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MCSC",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:P,show:R,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Cost Center"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.cc_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.cc_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.cc_srno),n.a.createElement("td",null,e.cc_cost_center),n.a.createElement("td",null,1==e.cc_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(bt,{logObject:P,show:R,onHide:()=>G(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:w,onYes:e=>U(),onNo:e=>A(!1)},I)))};var Ql=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,w]=Object(l.useState)(!1),[A,I]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[M,R]=Object(l.useState)("Q"),[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(1),[V,z]=Object(l.useState)([]),[U,Y]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","COUNTRYCLASS"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(x,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const K=()=>{G(!1),L(!1),T(!0),w(!1)},H=e=>{R("Q"),w(!1),Ye(x,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={classname:e.className,status:e.status,remark:e.remark,classValue:e.classValue};Y([a])})(a),S(a.srno),O(a.className),v(a.status),q(a.classValue),L(!0),T(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Country Class "))),j?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),R("A"),T(!1),L(!0),q("")}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"COUNTRYCLASS"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Class Name",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Class Name",maxLength:50,value:y,onChange:e=>na(e.target.value,O),autoComplete:"off",disabled:"Q"===M}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===M,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Class Value",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Class Value",maxLength:50,value:B,onChange:e=>Ze(e.target.value,q),autoComplete:"off",disabled:"Q"===M})))),"E"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"remark",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===M||"E"===M?(J("Do you really want to exit ?"),G(!0)):K())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void R("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===M||"1"===b.add&&"A"===M?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Class Name!"),t(!0);else if(""===B)c("Please fill Class Value"),t(!0);else if("E"===M&&""===C)c("Please fill remark!"),t(!0);else{var e={srno:g,classname:y,status:N,branch:0,activitytype:1*g>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MCC",trannumber:g,subtranno:0,remark:C,classValue:B};const a=Ja(U,[e]);"1"===b.edit&&"E"===M&&z(Ba(V,a,"MCC")),Ye(x,[o,"savelist",g,JSON.stringify(e),JSON.stringify(V)],e=>{let a=JSON.parse(e);""===a.err?(L(!1),T(!0),f(""),Ye(x,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),z([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==M&&"Q"!==M?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(w(!0),void I({trantype:"MCC",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Class Name"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Class Value"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.class_id},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>H(e.class_id)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.class_id),n.a.createElement("td",null,e.class_name),n.a.createElement("td",null,1==e.class_active?"ACTIVE":"INACTIVE"),n.a.createElement("td",null,e.class_value))))))))),n.a.createElement(bt,{logObject:A,show:k,onHide:()=>w(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:F,onYes:e=>K(),onNo:e=>G(!1)},P)))};var Ul=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(""),[r,c]=Object(l.useState)(!1),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)("Q"),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(!1),[G,P]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","DESIGNATION"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(J,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const U=()=>{A(!1),L(!1),T(!0),F(!1)},Y=e=>{x("Q"),F(!1),Ye(J,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={designation:e.designation,status:e.status,remark:e.remark};z([a])})(a),S(a.srno),O(a.designation),v(a.status),L(!0),T(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master Designation"))),j?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),L(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"DESIGNATION"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Designation",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Designation",maxLength:100,value:y,onChange:e=>We(e.target.value,O),autoComplete:"off",disabled:"Q"===k}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===k,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===k||"E"===k?(M("Do you really want to exit ?"),A(!0)):U())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===k||"1"===b.add&&"A"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)t("Please fill Designation!"),c(!0);else if("E"===k&&""===C)t("Please fill Remark!"),c(!0);else{var e={designation:y,status:N,branch:0,activitytype:1*g>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MDESG",trannumber:g,subtranno:0,remark:C};const a=Ja(V,[e]);"1"===b.edit&&"E"===k&&q(Ba(B,a,"MDESG")),Ye(J,[o,"savelist",g,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(T(!0),L(!1),f(""),Ye(J,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(t(a.err),c(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==k&&"Q"!==k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(F(!0),void P({trantype:"MDESG",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:G,show:R,onHide:()=>F(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Designation"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.md_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.md_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.md_srno),n.a.createElement("td",null,e.md_designation),n.a.createElement("td",null,1==e.md_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(bt,{logObject:G,show:R,onHide:()=>F(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:r,onClose:e=>c(!1)},a),n.a.createElement(St,{isOpen:w,onYes:e=>U(),onNo:e=>A(!1)},I)))};var Yl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)([]),[h,y]=Object(l.useState)(!0),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(0),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(0),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)(0),[M,F]=Object(l.useState)([]),[G,P]=Object(l.useState)(0),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)(0),[z,U]=Object(l.useState)([]),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)([]),[X,Z]=Object(l.useState)([]),[$,ee]=Object(l.useState)("Q"),[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(!1),[oe,me]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ue,se]=Object(l.useState)([]);function ie(e){P(e),Ye(S,[o,"ddlistjson",e],function(e){F(JSON.parse(e))})}function de(e){K(e),Ye(R,[o,"listjson",e],function(e){b(JSON.parse(e))})}Object(l.useEffect)(()=>{u||(w([{name:"Active",value:"1"},{name:"Inactive",value:"0"}]),Ye(_,[o,"all","DISTRICT"],function(a){let t=JSON.parse(a);"1"===t.query?Z(t):e("/")}),Ye(g,[o,"ddlistjson"],function(e){U(JSON.parse(e)),B(JSON.parse(e)),V(0)}),Ye(S,[o,"ddlistjson",q],function(e){F(JSON.parse(e)),W(JSON.parse(e))}),d(!0))},[u,o,e,q]);const Ee=()=>{te(!1),N(!1),y(!0),ce(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"District Master "))),h?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===X.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){C(0),k(1),ee("A"),j(""),I(0),P(0),N(!0),y(!1)}},"Add New"):null,"1"===X.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"DISTRICT"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),O?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:v,onChange:e=>C(e.target.value),disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"District",maxLength:100,value:f,onChange:e=>We(e.target.value,j),autoComplete:"off",disabled:"Q"===$})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>ie(e.target.value),disabled:"Q"===$},J.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:A,onChange:e=>I(e.target.value),disabled:"Q"===$},M.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name)))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:L,onChange:e=>k(e.target.value),disabled:"Q"===$},x.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null)),"E"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:T,onChange:e=>We(e.target.value,D),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===$||"E"===$?(ne("Do you really want to exit ?"),te(!0)):Ee())},"Back"),"\xa0\xa0","1"===X.edit&&"Q"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void ee("E")},"Edit"),"\xa0"):null,"1"===X.edit&&"E"===$||"1"===X.add&&"A"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){var e=[],a=0;if(""===f||"0"==G||"0"==A)e[a++]=E("MSG0006"),e[a++]=""===f?"District.":"",e[a++]="0"==A?"State.":"",e[a++]="0"==G?"Country.":"",c(ja(e)),t(!0);else if("E"===$&&""===T)c("Please fill remark!"),t(!0);else{var l={srno:v,state:A,country:G,district:f,act:L,branch:0,activitytype:1*v>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MDST",trannumber:v,subtranno:0,remark:T},n={TabType:"Edit",ALineNo:ue.length+1,AType:"A",TType:"MDST",State:A,Country:G,District:f,Act:L,remark:T},r=Sa(ue,n);se(r),Ye(R,[o,"save",v,JSON.stringify(l),JSON.stringify(r)],function(e){let a=JSON.parse(e);""===a.err?(ct()(".loader").hide(),N(!1),y(!0),de(Y),se([])):(ct()(".loader").hide(),c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==X.query||"E"!==$&&"Q"!==$?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ce(!0),void me({trantype:"MDST",trannumber:v,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,re&&n.a.createElement(n.a.Fragment,null,n.a.createElement(bt,{logObject:oe,show:re,onHide:()=>ce(!1)})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(s.a.Select,{value:q,onChange:e=>(function(e){V(e),Ye(S,[o,"ddlistjson",e],function(e){W(JSON.parse(e)),K(0)})})(e.target.value)},z.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State"),n.a.createElement(s.a.Select,{value:Y,onChange:e=>(function(e){K(e),de(e)})(e.target.value)},H.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===X.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"District"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.city_id},"1"===X.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(function(e){ee("Q"),ce(!1),ct()(".loader").show(),Ye(R,[o,"detail",e],function(e){let a=JSON.parse(e);ct()(".loader").hide(),C(a.srno),j(a.district),k(a.active),ie(a.country),I(a.statesrno),N(!0),y(!1)})})(e.dist_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.dist_srno),n.a.createElement("td",null,e.dist_district_name),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.dist_active))))))))),n.a.createElement(bt,{logObject:oe,show:re,onHide:()=>ce(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:ae,onYes:e=>Ee(),onNo:e=>te(!1)},le)))};var Kl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)([]),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(new Date),[f,j]=Object(l.useState)(new Date),[T,D]=Object(l.useState)("N"),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(!1),[A,I]=Object(l.useState)(null),[M,R]=Object(l.useState)(null),[F,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)("1");var U=[],Y=0;Object(l.useEffect)(()=>{c||(Ye(_,[a,"all","MASTER_DSR"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);const K=e=>{const a=e.target.value;d(a),console.log("Selected value:",a)};console.log(h);const H=e=>{I(e);const a=e.id.split("^");J(a[1])};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Master DSR DER"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===T,onChange:()=>D("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===T,onChange:()=>D("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"L"===T,onChange:()=>D("L"),type:"radio",label:"Latest "})))))),"\xa0",n.a.createElement(Wa.a,null,"N"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,"1"===t.add?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:u,onChange:e=>K(e)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"EVTM"},"EVTM"),n.a.createElement("option",{value:"VTM"},"VTM")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:H}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:B,onChange:e=>ea(e.target.value,q),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{style:{marginTop:"34px"}},n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],t=0;if(null===A||""===B)e[t++]=E("MSG0006"),e[t++]=null===A?" Currency.":"",e[t++]=""===B?"Rate.":"",N(ja(e)),y(!0);else{const e={filterLimit:V,product:u,isd:P,rate:B,radioType:T,selectedOption:u};Ye(Te,[a,"add",JSON.stringify(e)],e=>{let a=JSON.parse(e);g(a),I(null),q("")})}})()},"Add"))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},!x&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void w(!0)},"Upload"),n.a.createElement("br",null)))),n.a.createElement(Wa.a,null,"\xa0"),x&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"importExcel"},n.a.createElement(s.a.Label,null,"Upload File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:p,onChange:e=>b(e.target.value)}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:function(){ct()(".loader").show();const e={location:L,right:"MASTER_DSR"};Ca(Te,"post",[a,"downloadformat",JSON.stringify(e)],e=>{ct()(".loader").hide(),N(ja([e])),y(!0)})}},"DSR/DER Format ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),void 0===document.getElementById("importExcel").files[0])ct()(".loader").hide(),N("Please select a file to upload."),y(!0);else{var e=document.getElementById("importExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),N("(.) not allowed in file name."),y(!0);else if(document.getElementById("importExcel").files[0].size>10485760)ct()(".loader").hide(),N("Please select a file with in 10 MB size."),y(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),N("File extension should be in xlsx format"),y(!0);else{const e={srno:8888,uploadType:"uploadDSR",pageright:"MASTER_DSR",filterLimit:V,sid:a,file:p,fromDate:Ea(v),toDate:Ea(f),radioType:T};Na(JSON.stringify(e),"importExcel",e=>{let a=JSON.parse(e);console.log(a),ct()(".loader").hide(),y(!0),N(a.msg),g(a.docdetail),b(""),w(!1)})}}})()},"Upload")," ")))):"D"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:v,onChange:e=>C(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:f,onChange:e=>j(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:u,onChange:e=>K(e)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"EVTM"},"EVTM"),n.a.createElement("option",{value:"VTM"},"VTM"))))):"L"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:u,onChange:e=>K(e)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"EVTM"},"EVTM"),n.a.createElement("option",{value:"VTM"},"VTM"))),n.a.createElement("br",null)),n.a.createElement("br",null),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:H}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={fromDate:Ea(v),toDate:Ea(f),radioType:T,product:u,isd:null===A?"":A.id.split("^")[1]};Ye(Te,[a,"showRATE",JSON.stringify(e)],e=>{let a=JSON.parse(e);g(a)})})()},"Latest Rate"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={fromDate:Ea(v),toDate:Ea(f),radioType:T,product:u,isd:A.id.split("^")[1]};Ye(Te,[a,"printrate",JSON.stringify(e)],e=>{let a=JSON.parse(e);g(a.dsrrate),console.log("kkjjbnhjnknkj",a);const t=window.open("about:blank","_blank");t.document.write('\n                <html>\n                <head>\n                    <title>Master Rate</title>\n                    <style>\n                    table {\n                        width: 100%;\n                        border-collapse: collapse;\n                    }\n                    th, td  {\n                        border: 2px solid black;\n                        padding: 8px;\n                        text-align: left;\n                    }\n                    \n                    .header {\n                        display: flex;\n                        justify-content: space-between; /* Aligns items to opposite corners */\n                        align-items: center; /* Vertically centers items */\n                    }\n                    .container{\n                    background: aliceblue;\n                    padding: 20px;\n                    }\n                    </style>\n                </head>\n                <body>\n                     <div class="container">\n                <div class="header">\n                    <span>\n                        '.concat(a.name,"</br>\n                        ").concat(a.address,"<br/>\n                        ").concat(a.place,"<br/>\n                        ").concat(a.pin,"<br/>\n                        ").concat(a.licenceType,"<br/>\n                        RBI Licence No.: ").concat(a.licenseNo," <br />\n                    </span></br>       \n                </div>  \n                <center>\n                    <h2>Master Rate</h2>\n                </center>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Product</th>\n                            <th>Currencies</th>\n                            <th>Rate</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ").concat(a.dsrrate.map(e=>"\n                        <tr>\n                            <td>".concat(e.md_product,"</td>\n                            <td>").concat(e.md_isd,"</td>\n                            <td>").concat(e.md_rate,"</td>\n                        </tr>\n                        ")).join(""),"\n                    </tbody>\n                </table>\n            </div>\n                </body>\n                </html>\n\n              ")),t.document.close()})})()},"Print")))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===t.add&&"N"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(n.a.Fragment,null)):null,"\xa0","1"===t.query&&"D"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(v&&f){const e={fromDate:Ea(v),toDate:Ea(f),radioType:T,selectedOption:u};Ye(Te,[a,"showDSR",JSON.stringify(e)],e=>{let a=JSON.parse(e);g(a)})}else U[Y++]=E("MSG0006"),U[Y++]=v?"":"Select from date",U[Y++]=f?"":"Select to date",N(ja(U)),y(!0)})()},"List"),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Ol.a,{bg:"primary",onClick:e=>(e=>{e.preventDefault();var t={right:"MASTER_DSR",product:u,fromDate:Ea(v),toDate:Ea(new Date(f.setDate(f.getDate(e)+1)))};Ca(Q,"post",[a,JSON.stringify(t)])})(e)},"Download"))):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"))),n.a.createElement("tbody",null,h.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,e.md_product),n.a.createElement("td",null,e.md_isd),n.a.createElement("td",{style:{textAlign:"right"}},Math.round(1e5*e.md_rate)/1e5))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Ka,{isOpen:S,onClose:e=>y(!1)},O))};var Hl=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),Object(l.useState)([])),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)(!1),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)("B"),[w,A]=Object(l.useState)(0),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)("1"),[J,B]=Object(l.useState)(null),[q,V]=Object(l.useState)(0),[z,Q]=Object(l.useState)(null),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)(0),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)(0),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[_e,fe]=Object(l.useState)(!1),[je,Te]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[De,Le]=Object(l.useState)([]),[ke,xe]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[a,"all","ENTITY"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),d(!0),Ye(v,[a,"list",k],e=>{let a=JSON.parse(e);r(a)}))},[u,a,e]);const we=e=>{A(e),b("Q"),Ye(v,[a,"view",e],e=>{let a=JSON.parse(e);(e=>{const a={enName:e.entName,enPan:e.entPan,enAddress1:e.entAddress1,enAddress2:e.entAddress2,enAddress3:e.entAddress3,enCountry:e.entCountry,enState:e.entState,enDistrict:e.entDistrict,enCity:e.entCity,enPhoneno:e.entPhone,enActive:e.entActive,enMobileno:e.entMobile,enEmail:e.entEmail,enRbiLicence:e.entRbiLicence,enCinNo:e.entCinNo,enGSTIn:e.entGSTIn,enPincode:e.enPincode,enAlphaCode:e.entAlphaCode};xe([a])})(a),A(a.srno),M(a.entName),Ce(a.entAlphaCode),F(a.entPan),le(a.entAddress1),re(a.entAddress2),oe(a.entAddress3),B({value:a.entCountry,label:a.country}),Q({value:a.entState,label:a.state}),$({value:a.entCity,label:a.city}),H({value:a.entDistrict,label:a.district}),V(a.entCountry),Y(a.entState),ae(a.entCity),X(a.entDistrict),ue(a.entPhone),ie(a.entMobile),Ee(a.entEmail),be(a.entRbiLicence),ge(a.entCinNo),ye(a.entGSTIn),Ne(a.enPincode),P(a.entActive)})},Ae=()=>{g(!1),b("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Master Entity"))),n.a.createElement(Wa.a,null,"\xa0"),""===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(b("A"),x("B"),A(0),M(""),F(""),P("1"),B(null),Q(null),H(null),$(null),le(""),re(""),oe(""),ue(""),ie(""),Ee(""),be(""),ge(""),ye(""),Ne(""),void Ce(""))},"Add New"),"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===c.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Entity"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,t.map(e=>n.a.createElement("tr",{key:e.entity_id},"1"===c.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>we(e.entity_id)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.entity_type),n.a.createElement("td",null,e.entity_id),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,"1"===e.entity_active?"ACTIVE":"INACTIVE")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===p||"E"===p?(y("Do you really want to exit ?"),g(!0)):Ae())},"Back")," ","1"===c.edit&&"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void b("E")},"Edit")):null,"1"===c.edit&&"E"===p||"1"===c.add&&"A"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(function(){var e=[],t=0;if(""===I||""===te||null===J||null===K||null===z||null===Z)e[t++]=E("MSG0006"),e[t++]=""===I?" Name.":"",e[t++]=""===te?" Address1.":"",e[t++]=null===J?" Country.":"",e[t++]=null===z?" State.":"",e[t++]=null===Z?" City.":"",e[t++]=null===K?" District.":"",f(ja(e)),N(!0);else{const e={trancategory:"M",trantype:"MENTI",srno:w,enType:k,enId:w,enName:I,enPan:R,enActive:G,enCountry:q,enState:U,enDistrict:W,enCity:ee,enAddress1:te,enAddress2:ne,enAddress3:ce,enPhoneno:me,enMobileno:se,enEmail:de,enRbiLicence:pe,enCinNo:he,enGSTIn:Se,enPincode:Oe,enAlphaCode:ve},t=Ja(ke,[e]);"1"===c.edit&&"E"===p&&Le(Ba(De,t,"MENTI")),Ye(v,[a,"save",w,JSON.stringify(e),JSON.stringify(De)],function(e){let a=JSON.parse(e);r(a),b(""),Le([])})}})()},"Save")):null,"1"===c.query&&"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(fe(!0),void Te({trantype:"MENTI",trannumber:w,trancategory:"M"}))},"Activity Log"),"\xa0"):null)),n.a.createElement(Wa.a,null,"\xa0"),"E"===p||"A"===p||"Q"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"B"},"Branch")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",value:w,disabled:!0}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Name",maxLength:100,value:I,disabled:"Q"===p,onChange:e=>We(e.target.value,M)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Alpha code"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Alpha Code",maxLength:10,value:ve,disabled:"Q"===p,onChange:e=>We(e.target.value,Ce)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN",maxLength:10,value:R,disabled:"Q"===p,onChange:e=>F(e.target.value),onBlur:e=>da(e.target.value,F)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address Line 1",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Line 1",maxLength:100,value:te,disabled:"Q"===p,onChange:e=>le(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address Line 2"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Line 2",maxLength:100,value:ne,disabled:"Q"===p,onChange:e=>re(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address Line 3"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Line 3",maxLength:100,value:ce,disabled:"Q"===p,onChange:e=>oe(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Yt(e,""),onInputChange:Mt,onChange:e=>{B(e);const a=e.id.split("^");V(a[1]),Q(null),H(null),$(null)}})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ht(e,q),onInputChange:Mt,onChange:e=>{Q(e);const a=e.id.split("^");Y(a[1]),H(null),$(null)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Wt(e,U),onInputChange:Mt,onChange:e=>{H(e);const a=e.id.split("^");X(a[1]),$(null)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===p,cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Xt(e,W),onInputChange:Mt,onChange:e=>{$(e);const a=e.id.split("^");ae(a[1])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Phone No "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Phone",maxLength:50,value:me,disabled:"Q"===p,onChange:e=>Ze(e.target.value,ue)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile No "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:50,value:se,disabled:"Q"===p,onChange:e=>Ze(e.target.value,ie)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email "),n.a.createElement(s.a.Control,{type:"email",placeholder:"Email",maxLength:100,value:de,disabled:"Q"===p,onChange:e=>Ee(e.target.value),onBlur:e=>sa(e.target.value,Ee)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"RbiLicence"),n.a.createElement(s.a.Control,{type:"rbilicence",placeholder:"RbiLicence",maxLength:255,value:pe,disabled:"Q"===p,onChange:e=>na(e.target.value,be)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"CinNo"),n.a.createElement(s.a.Control,{type:"CinNo",placeholder:"CinNo",maxLength:255,value:he,disabled:"Q"===p,onChange:e=>na(e.target.value,ge)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIn"),n.a.createElement(s.a.Control,{type:"GSTIn",placeholder:"GSTIn",maxLength:15,value:Se,disabled:"Q"===p,onChange:e=>na(e.target.value,ye)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Pincode"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Pincode",maxLength:6,value:Oe,disabled:"Q"===p,onChange:e=>Ze(e.target.value,Ne)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),disabled:"Q"===p,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(bt,{logObject:je,show:_e,onHide:()=>fe(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:O,onClose:e=>N(!1)},C),n.a.createElement(St,{isOpen:h,onYes:e=>Ae(),onNo:e=>g(!1)},S),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D)))};var Wl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[O,N]=Object(l.useState)(0),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)({value:0,label:"Select"}),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)({value:0,label:"Select"}),[x,w]=Object(l.useState)({value:0,label:"Select"}),[A,I]=Object(l.useState)({value:0,label:"Select"}),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(""),[P,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(1),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)([]),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(!0),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)("Q"),[me,ue]=Object(l.useState)(!1),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(!1),[pe,be]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[he,ge]=Object(l.useState)([]),[Se,ye]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","EXECUTIVE"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(B,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),Ye(J,[o,"getSelect"],e=>{let a=JSON.parse(e);ae(a)}),Ye(g,[o,"getCnt"],function(e){H(JSON.parse(e))}),d(!0))},[u,o,e]);const Oe=()=>{ue(!1),re(!1),le(!0),Ee(!1)},Ne=e=>{oe("Q"),Ee(!1),Ye(B,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={employee:e.employee,designation:e.designation,address:e.address,country:e.country,state:e.state,city:e.city,mobile:e.mobile,pan:e.pan,email:e.email,status:e.status,remark:U};ye([a])})(a),N(a.srno),C(a.employee),j({value:a.designation,label:a.md_desig}),D(a.address),k({value:a.country,label:a.cnt_nm}),w({value:a.state,label:a.st_nm}),I({value:a.city,label:a.ct_nm}),R(a.mobile),G(a.pan),q(a.email),z(a.status),re(!0),le(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null," Executive "))),te?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{N(0),C(""),j({value:0,label:"Select"}),D(""),k({value:0,label:"Select"}),w({value:0,label:"Select"}),I({value:0,label:"Select"}),R(""),G(""),q(""),z(1),oe("A"),le(!1),re(!0)}},"Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"EXECUTIVE"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),ne?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:O,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Employee",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Employee",maxLength:100,value:v,onChange:e=>We(e.target.value,C),autoComplete:"off",disabled:"Q"===ce}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Designation"),n.a.createElement(vt.a,{options:ee,value:f,onChange:e=>j(e),isDisabled:"Q"===ce}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Address",maxLength:100,value:T,onChange:e=>D(e.target.value),autoComplete:"off",disabled:"Q"===ce})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country"),n.a.createElement(vt.a,{options:K,value:L,onChange:e=>(e=>{k(e),w({value:0,label:"Select"}),I({value:0,label:"Select"}),Ye(S,[o,"getState",e.value],function(e){$(JSON.parse(e))})})(e),isDisabled:"Q"===ce}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State"),n.a.createElement(vt.a,{options:Z,value:x,onChange:e=>(e=>{w(e),I({value:0,label:"Select"}),Ye(y,[o,"getCity",e.value],function(e){X(JSON.parse(e))})})(e),isDisabled:"Q"===ce}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City"),n.a.createElement(vt.a,{options:W,value:A,onChange:e=>I(e),isDisabled:"Q"===ce}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:10,value:M,onChange:e=>Ze(e.target.value,R),autoComplete:"off",disabled:"Q"===ce})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN",maxLength:100,value:F,onChange:e=>G(e.target.value),onBlur:e=>da(e.target.value,G),autoComplete:"off",disabled:"Q"===ce}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Email",maxLength:100,value:P,onChange:e=>q(e.target.value),onBlur:e=>sa(e.target.value,q),autoComplete:"off",disabled:"Q"===ce}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:V,onChange:e=>z(e.target.value),disabled:"Q"===ce,required:!0},n.a.createElement("option",{value:"1"},"ACTIVE"),n.a.createElement("option",{value:"0"},"INACTIVE")))),n.a.createElement(Xa.a,null,"\xa0")),"E"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:U,onChange:e=>We(e.target.value,Y),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===ce||"E"===ce?(ie("Do you really want to exit ?"),ue(!0)):Oe())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void oe("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===ce||"1"===b.add&&"A"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===v)c("Please fill Employee!"),t(!0);else if("E"===ce&&""===U)c("Please fill Remark!"),t(!0);else{var e={employee:v,designation:f.value,address:T,country:L.value,state:x.value,city:A.value,mobile:M,pan:F,email:P,status:V,branch:0,activitytype:1*O>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MEXEC",trannumber:O,subtranno:0,remark:U};const a=Ja(Se,[e]);"1"===b.edit&&"E"===ce&&ge(Ba(he,a,"MEXEC")),Ye(B,[o,"savelist",O,JSON.stringify(e),JSON.stringify(he)],e=>{let a=JSON.parse(e);""===a.err?(re(!1),le(!0),Y(""),Ye(B,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),ge([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==ce&&"Q"!==ce?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ee(!0),void be({trantype:"MEXEC",trannumber:O,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Employee"),n.a.createElement("th",null,"Designation"),n.a.createElement("th",null,"Address"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"State"),n.a.createElement("th",null,"City"),n.a.createElement("th",null,"Mobile"),n.a.createElement("th",null,"PAN"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.me_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Ne(e.me_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.me_srno),n.a.createElement("td",null,e.me_employee),n.a.createElement("td",null,e.md_designation),n.a.createElement("td",null,e.me_address),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.state_name),n.a.createElement("td",null,e.city_name),n.a.createElement("td",null,e.me_mobile),n.a.createElement("td",null,e.me_pan),n.a.createElement("td",null,e.me_email),n.a.createElement("td",null,1==e.me_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(bt,{logObject:pe,show:de,onHide:()=>Ee(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:me,onYes:e=>Oe(),onNo:e=>ue(!1)},se)))};var Xl=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)(1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(!0),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)("Q"),[R,F]=Object(l.useState)(!1),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(!1),[V,z]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[U,Y]=Object(l.useState)([]),[K,H]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","GSTCLASSIFICATION"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(G,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const W=()=>{F(!1),A(!1),x(!0),q(!1)},X=e=>{M("Q"),q(!1),Ye(G,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={gstclassification:e.gstclassification,gstapplicable:e.gstapplicable,gstreverse:e.gstreverse,status:e.status,remark:D};H([a])})(a),S(a.srno),O(a.gstclassification),v(a.gstapplicable),f(a.gstreverse),T(a.status),A(!0),x(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master GST Classification "))),k?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(0),f(0),T(1),M("A"),x(!1),A(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"GSTCLASSIFICATION"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Classification",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"GST Classification",maxLength:100,value:y,onChange:e=>We(e.target.value,O),autoComplete:"off",disabled:"Q"===I}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Applicable"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===I,required:!0},n.a.createElement("option",{value:"1"},"YES"),n.a.createElement("option",{value:"0"},"NO")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Reverse"),n.a.createElement(s.a.Select,{value:C,onChange:e=>f(e.target.value),disabled:"Q"===I,required:!0},n.a.createElement("option",{value:"1"},"YES"),n.a.createElement("option",{value:"0"},"NO")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:j,onChange:e=>T(e.target.value),disabled:"Q"===I,required:!0},n.a.createElement("option",{value:"1"},"ACTIVE"),n.a.createElement("option",{value:"0"},"INACTIVE"))))),"E"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:D,onChange:e=>We(e.target.value,L),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===I||"E"===I?(J("Do you really want to exit ?"),F(!0)):W())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void M("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===I||"1"===b.add&&"A"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill GST Classification!"),t(!0);else if("E"===I&&""===D)c("Please fill Remark!"),t(!0);else{var e={gstclassification:y,gstapplicable:N,gstreverse:C,status:j,branch:0,trancategory:"M",trantype:"MGSTC",trannumber:g,subtranno:0,remark:D};const a=Ja(K,[e]);"1"===b.edit&&"E"===I&&Y(Ba(U,a,"MGSTC")),Ye(G,[o,"savelist",g,JSON.stringify(e),JSON.stringify(U)],e=>{let a=JSON.parse(e);""===a.err?(A(!1),x(!0),L(""),Ye(G,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),Y([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==I&&"Q"!==I?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(q(!0),void z({trantype:"MGSTC",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:V,show:B,onHide:()=>q(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"GST Classification"),n.a.createElement("th",null,"GST Applicable"),n.a.createElement("th",null,"GST Reverse"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.mgc_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>X(e.mgc_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.mgc_srno),n.a.createElement("td",null,e.mgc_gst_classification),n.a.createElement("td",null,1==e.mgc_gst_applicable?"YES":"NO"),n.a.createElement("td",null,1==e.mgc_gst_reverse?"YES":"NO"),n.a.createElement("td",null,1==e.mgc_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:R,onYes:e=>W(),onNo:e=>F(!1)},P)))};var Zl=function(e){const a=Object(m.n)(),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)(""),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),h=sessionStorage.getItem("sessionId"),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(0),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(""),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(new Date),[G,P]=Object(l.useState)("M"),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(null),[U,Y]=Object(l.useState)(null),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)(null),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)({value:1,label:"LOW"}),[pe,be]=Object(l.useState)([]),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[_e,fe]=Object(l.useState)(new Date),[je,Te]=Object(l.useState)(""),[De,Le]=Object(l.useState)(""),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)({value:0,label:"Select"}),[Ie,Me]=Object(l.useState)([]),[Re,Fe]=Object(l.useState)(null),[Ge,Pe]=Object(l.useState)(0),[Je,Be]=Object(l.useState)(""),[qe,Ve]=Object(l.useState)(""),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(new Date),[He,Xe]=Object(l.useState)(!0),[$e,ea]=Object(l.useState)(!1),[aa,ta]=Object(l.useState)("Q"),[la,ra]=Object(l.useState)([]),[ca,oa]=Object(l.useState)(new Date),[ma,ua]=Object(l.useState)(""),[ia,pa]=Object(l.useState)(""),[ya,Na]=Object(l.useState)(""),[Ca,_a]=Object(l.useState)(10),[Ta,La]=Object(l.useState)(""),[xa,wa]=Object(l.useState)(""),[Ia,Ma]=Object(l.useState)(0),[Fa,Ga]=Object(l.useState)(0),[Pa,Ba]=Object(l.useState)(0),[qa,Va]=Object(l.useState)(0),[Ua,Ya]=Object(l.useState)(0),[Za,$a]=Object(l.useState)(0),[et,lt]=Object(l.useState)(!1),[rt,ot]=Object(l.useState)(!1),[mt,ut]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[st,it]=Object(l.useState)(!1),[dt,ht]=Object(l.useState)("CW"),[gt,yt]=Object(l.useState)("CD"),[Ot,Nt]=Object(l.useState)(0),[Ct,_t]=Object(l.useState)(0),[ft,jt]=Object(l.useState)(new Date),[Tt,Dt]=Object(l.useState)(new Date),[Lt,At]=Object(l.useState)(new Date),[It,Rt]=Object(l.useState)(0),[Ft,Gt]=Object(l.useState)(0),[Pt,Jt]=Object(l.useState)(!1),[Bt,qt]=Object(l.useState)(null),[Vt,zt]=Object(l.useState)(!1),[Qt,Ut]=Object(l.useState)(""),[Zt,$t]=Object(l.useState)([]),[el,al]=Object(l.useState)(0),[tl,ll]=Object(l.useState)(0),[nl,rl]=Object(l.useState)([]),[cl,ol]=Object(l.useState)("");Object(l.useEffect)(()=>{if(!g){if(Ye(_,[h,"all","INDIVIDUALPROFILE"],function(e){let t=JSON.parse(e);"1"===t.query?v(t):a("/")}),Ye(A,[h,"getRisk"],function(e){be(JSON.parse(e))}),Ye(j,[h,"getIdType"],function(e){Me(JSON.parse(e)),console.log(JSON.parse(e))}),"FABOOK"===e.value)ul();else if("TRAN_PP"===e.value||"TRAN_SP"===e.value||"TRAN_VTM_ENCASHMENT"===e.value)if("E"===e.reqObj.scrIndividual){const a={individualsrno:e.reqObj.nIndivualSrno};Ye(V,[h,"individualfrompicklist",JSON.stringify(a)],e=>{let a=JSON.parse(e);gl(a)})}else ul();"1"===sessionStorage.getItem("flag")&&(ml(),sessionStorage.removeItem("flag")),S(!0)}},[g,h,a]);const ml=()=>{ct()(".loader").show(),O([]),Rt(It+1);const e={id:Ta,code:C,limit:Ca,name:T,filterType:ya};Ye(V,[h,"getList",JSON.stringify(e)],e=>{let a=JSON.parse(e);O(a),f(""),D(""),_a(10),La(""),Rt(It+1),ct()(".loader").hide()})},ul=()=>{ct()(".loader").show(),ua(Oa(19)),f(0),k(""),w(""),M(""),F(new Date),P("M"),B(""),Ba(0),Y(null),z(null),H(null),$(null),X(null),Ma(0),Ba(0),Va(0),$a(0),Ya(0),Ee({value:1,label:"LOW"}),ae(""),le(""),re(""),oe(""),ue(""),ie(""),ge(""),ye(""),Ne(""),Ce(""),fe(new Date),Te(""),Le(""),Ae({value:0,label:"Select"}),Fe(null),Be(""),Ve(""),Qe(""),Ke(new Date),ta("A"),Xe(!1),ea(!0),Rt(0),ra([]),ol(""),ct()(".loader").hide()};function il(){const e=la.some(e=>"PASSPORT"===e.id_desc);return console.log("status",e),e}const pl=()=>{console.log("idData",la),ct()(".loader").show();var a=[],t=0;if(""===L||""===te||null==U||null===q||1==Pa&&(""===ne||""===ce)||1==Ia&&(null===K||null===W)||"TRAN_PP"===e.value&&la.length<1||("TRAN_SP"===e.value||"TRAN_VTM_ENCASHMENT"===e.value)&&!il()||"TRAN_SP"===e.value&&!me.trim()||1!=Ia&&""===cl)a[t++]=E("MSG0006"),a[t++]=""===L?"First Name.":"",a[t++]=""===te?"Address.":"",a[t++]=null===q?"Nationality.":"",a[t++]=null===U?"Country.":"",1!=Ia||null!==K&&null!==W||(a[t++]=null===K?"State.":"",a[t++]=null===W?"District.":""),"TRAN_SP"!==e.value||me||(a[t++]=me?"":" PAN Number."),1!=Pa||""!==ne&&""!==ce||(a[t++]=""===ne?"Mobile.":"",a[t++]=""===ce?"Email.":""),"TRAN_PP"===e.value&&la.length<1&&(a[t++]=la.length<1?" Add atleast one ID.":""),"TRAN_SP"!==e.value&&"TRAN_VTM_ENCASHMENT"!==e.value||il()||(a[t++]=il()?"":"Please add Passport."),a[t++]=1!=Ia&&""===cl?"State Name.":"",o(ja(a)),r(!0),ct()(".loader").hide();else if("E"===aa&&""===ke)lt(!0),ct()(".loader").hide();else{const a=se.slice(2,12);if(""!==me&&""!==se&&a!==me)o("Invalid Gstin."),r(!0),ct()(".loader").hide();else{var l={code:C,firstName:L,middleName:x,lastName:I,birthDate:Ea(R),gender:G,maiden:J,branch:0,activitytype:1*C>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MINDP",trannumber:C,subtranno:0,remark:ke,country:Ia,nationality:Pa,state:qa,city:Za,district:Ua,risk:de.value,pin:ee,address:te,mobile:ne,email:ce,pan:me,gstin:se,bankName:he,bankAcc:Se,sourceFund:Oe,modePayment:ve,review:Ea(_e),remark_indpro:je,socialFin:De,profileId:Ge,idType:we.value,countryIssue:Fa,idNumber:Je,issueBy:qe,issuePlace:ze,issueDate:Ea(Ue),randNum:ma,id:Ta,limit:Ca,name:L,filterType:ya,idData:la,routePage:e.value?e.value:"",stateName:cl};const a=Ja(nl,[l]);if("1"===N.edit&&"E"===aa){const e={TabType:"Info",ALineNo:Zt.length+1,TType:"MINDP",AType:"A"},t={TabType:"Info",ALineNo:Zt.length+1,TType:"MINDP",AType:"D"},l={...a.added,...e},n={...a.deleted,...t};$t(Sa(Zt,l)),$t(Sa(Zt,n))}Ye(V,[h,"savelist",C,JSON.stringify(l),JSON.stringify(Zt)],a=>{let t=JSON.parse(a);console.log("Individual response is:",t),""===t.err?("TRAN_PP"===e.value||"TRAN_SP"===e.value||"FABOOK"===e.value||"TRAN_VTM_ENCASHMENT"===e.value?(e.hideIndividualProfile(!1,t.srno),ct()(".loader").hide()):(ea(!1),Xe(!0),xe(""),O(t.data),ct()(".loader").hide(),xe("")),$t([])):(o(t.err),r(!0),ct()(".loader").hide())})}}},bl=()=>{d(!1),"TRAN_PP"===e.value||"TRAN_SP"===e.value||"FABOOK"===e.value||"TRAN_VTM_ENCASHMENT"===e.value?e.hideIndividualProfile(!1,0):(ea(!1),Xe(!0))},hl=e=>{ct()(".loader").show(),ta("Q"),ea(!0),Xe(!1),Ye(V,[h,"editList",e],a=>{let t=JSON.parse(a);const l={code:e,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,birthDate:t.birthDate,gender:t.gender,maiden:t.maiden,country:t.country,nationality:t.nationality,state:t.state,city:t.city,district:t.district,risk:t.risk,pin:t.pin,address:t.address,mobile:t.mobile,email:t.email,pan:t.pan,gstin:t.gstin,bankName:t.bankName,bankAcc:t.bankAcc,sourceFund:t.sourceFund,socialFin:t.socialFin,stateName:t.stateName};rl([l]),f(t.code),k(t.firstName),w(t.middleName),M(t.lastName),F(new Date(t.birthDate)),P(t.gender),z({value:t.nationality,label:t.cnt_nat}),Ba(t.nationality),B(t.maiden),Y({value:t.country,label:t.cnt_nm}),H({value:t.state,label:t.st_nm}),$({value:t.city,label:t.ct_nm}),X({value:t.district,label:t.district_nm}),Ma(t.country),Va(t.state),$a(t.city),Ya(t.district),ae(t.pin),le(t.address),re(t.mobile),oe(t.email),ue(t.pan),ie(t.gstin),Ee({value:t.risk,label:t.risk_nm}),ge(t.bankName),ye(t.bankAcc),Ne(t.sourceFund),Ce(t.modePayment),Le(t.socialFin),fe(new Date(t.review)),Te(t.remark_indpro),ra(t.iddetails),ol(t.state_name);for(var n=0,r=0;r<t.iddetails.length;r++)t.iddetails[r].mpid_srno>n&&(n=t.iddetails[r].mpid_srno);Gt(n),ct()(".loader").hide()})},gl=e=>{console.log("The Value is : ",e),qt(e),hl(e.id.split("^")[1]),ta("E")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null," Individual Profile "))),He&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Filter Type"),n.a.createElement(s.a.Select,{value:ya,onChange:e=>Na(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"Code"},"Code"),n.a.createElement("option",{value:"Name"},"Name"),n.a.createElement("option",{value:"ID"},"ID"),n.a.createElement("option",{value:"PAN"},"PAN"),n.a.createElement("option",{value:"Mobile"},"Mobile")))),"Code"==ya?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Code"),n.a.createElement(s.a.Control,{value:C,onChange:e=>f(e.target.value),required:!0}))):"Name"==ya||"Mobile"==ya||"PAN"==ya?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,ya),n.a.createElement(s.a.Control,{value:T,onChange:e=>D(e.target.value),required:!0}))):"ID"==ya?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID"),n.a.createElement(s.a.Control,{value:Ta,onChange:e=>La(e.target.value),required:!0}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:Ca,onChange:e=>_a(e.target.value),required:!0},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"20"},"20"),n.a.createElement("option",{value:"50"},"50"))))),"\xa0"),He?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:e=>ml()},"List")," \xa0","1"===N.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:e=>ul()},"Add New"):null,"\xa0","1"===N.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:e=>void ot(!0)},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),$e?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===aa||"E"===aa?(b("Do you really want to exit ?"),d(!0)):bl())},"Back"),"\xa0\xa0","1"===N.edit&&"Q"===aa?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void ta("E")},"Edit"),"\xa0"):null,"1"===N.edit&&"E"===aa||"1"===N.add&&"A"===aa?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>pl()},"Save"),"\xa0"):null,"1"!==N.query||"E"!==aa&&"Q"!==aa?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(it(!0),void ut({trantype:"MINDP",trannumber:C,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,"\xa0"),"TRAN_PP"===e.value||"TRAN_SP"===e.value||"FABOOK"===e.value||"TRAN_VTM_ENCASHMENT"===e.value?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search.."),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Bt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Kt,onInputChange:Mt,onChange:gl,formatOptionLabel:dl,components:{Menu:El}})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(kt.a,{id:"controlled-tab-example",defaultActiveKey:"basic-details",className:"mb-3"},n.a.createElement(xt.a,{eventKey:"basic-details",title:"Basic Details"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Code"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Code",value:C,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"First Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"First Name",maxLength:30,value:L,onChange:e=>We(e.target.value,k),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Middle Name"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Middle Name",maxLength:30,value:x,onChange:e=>We(e.target.value,w),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Last Name"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Last Name",maxLength:30,value:I,onChange:e=>We(e.target.value,M),disabled:"Q"===aa,autoComplete:"off"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date of Birth"),n.a.createElement(vl.a,{className:"form-control",selected:R,onChange:e=>F(e),disabled:"Q"===aa,maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Gender"),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),disabled:"Q"===aa,required:!0},n.a.createElement("option",{value:"M"},"Male"),n.a.createElement("option",{value:"F"},"Female")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nationality",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===aa,cacheOptions:!1,defaultOptions:!1,value:q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Yt(e,""),onInputChange:Mt,onChange:e=>{z(e);const a=e.id.split("^");Ba(a[1])}}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mother's maiden name "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mother's maiden name",maxLength:50,value:J,onChange:e=>We(e.target.value,B),disabled:"Q"===aa,autoComplete:"off"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===aa,cacheOptions:!1,defaultOptions:!1,value:U,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Yt(e,""),onInputChange:Mt,onChange:e=>{Y(e),console.log(e);const a=e.id.split("^");Ma(a[1]),H(null),X(null),$(null),Va(0),$a(0),Ya(0)}}))),1*Ia!==1&&0!=Ia?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State Name",1*Ia===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"State",maxLength:100,value:cl,onChange:e=>ol(e.target.value),disabled:"Q"===aa,autoComplete:"off"})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===aa||1*Ia!=1,cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ht(e,Ia),onInputChange:Mt,onChange:e=>{H(e);const a=e.id.split("^");Va(a[1]),X(null),$(null)}})))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",1*Ia===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===aa||1*Ia!=1,cacheOptions:!1,defaultOptions:!1,value:W,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Wt(e,qa),onInputChange:Mt,onChange:e=>{X(e);const a=e.id.split("^");Ya(a[1]),$(null)}}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City"),n.a.createElement(wt.a,{isDisabled:"Q"===aa||1*Ia!=1,cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Xt(e,Ua),onInputChange:Mt,onChange:e=>{$(e);const a=e.id.split("^");$a(a[1])}})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PIN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"PIN",maxLength:6,value:ee,onChange:e=>Ze(e.target.value,ae),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Address",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Address",maxLength:100,value:te,onChange:e=>le(e.target.value),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile",1*Pa===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Mobile",maxLength:10,value:ne,onChange:e=>re(e.target.value),onBlur:e=>Ra(e.target.value,re),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email",1*Pa===1&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Email",maxLength:30,value:ce,onChange:e=>oe(e.target.value),onBlur:e=>sa(e.target.value,oe),disabled:"Q"===aa,autoComplete:"off"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN","TRAN_SP"===e.value&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN",maxLength:10,value:me,onChange:e=>ue(e.target.value),onBlur:e=>da(e.target.value,ue),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIN"),n.a.createElement(s.a.Control,{type:"text",placeholder:"GSTIN",maxLength:15,value:se,onChange:e=>ie(e.target.value),onBlur:e=>Aa(e.target.value,ie),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Risk"),n.a.createElement(vt.a,{options:pe,value:de,onChange:e=>Ee(e),isDisabled:"Q"===aa}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Bank Name",maxLength:40,value:he,onChange:e=>We(e.target.value,ge),disabled:"Q"===aa,autoComplete:"off"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Account no"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Bank Account no",maxLength:40,value:Se,onChange:e=>Ze(e.target.value,ye),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Social and Financial Status"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Social and Financial Status",maxLength:100,value:De,onChange:e=>We(e.target.value,Le),disabled:"Q"===aa,autoComplete:"off"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Last Review"),n.a.createElement(vl.a,{className:"form-control",selected:_e,onChange:e=>fe(e),disabled:"Q"===aa,maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:je,onChange:e=>We(e.target.value,Te),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))),n.a.createElement(xt.a,{eventKey:"identity-details",title:"Identity Details"},"Q"===aa?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID Type",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(vt.a,{options:Ie,value:we,onChange:e=>(e=>{Ae(e);var a=e.value.split("^");Ut(a[1]),pa(a[2]),ll(a[2]),al(a[3]),oa(new Date),console.log("array 2:",a[2]),1*a[1]===4?(Fe({id:"^1^INDIA^INDIA^",label:"1 INDIA INDIA"}),Jt(!0)):Jt(!1)})(e),isDisabled:"Q"===aa}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country of Issue",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{isDisabled:"Q"===aa||Pt,cacheOptions:!1,defaultOptions:!1,value:Re,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>sl(e,""),onInputChange:Mt,onChange:e=>{Fe(e);const a=e.id.split("^");Ga(a[1]),wa(a[2])}}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID Number",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"ID Number",maxLength:20,value:Je,onChange:e=>Be(e.target.value.toUpperCase()),onBlur:e=>(e=>{var a=0;0!=we.value&&(a=we.value.split("^")[1]),1*a===1&&1*Fa===1?Da(e,Be):1*a===4?ka(e,Be):na(e,Be)})(e.target.value),disabled:"Q"===aa,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issue By "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Issue By",maxLength:30,value:qe,onChange:e=>We(e.target.value,Ve),disabled:"Q"===aa,autoComplete:"off"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issue Place "),n.a.createElement(s.a.Control,{type:"text",placeholder:"Issue Place",maxLength:30,value:ze,onChange:e=>We(e.target.value,Qe),disabled:"Q"===aa,autoComplete:"off"}))),1==el&&n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issue Date ",n.a.createElement("span",{className:" text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:Ue,onChange:e=>Ke(e),disabled:"Q"===aa,maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),"1"==tl?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expiry Date",n.a.createElement("span",{className:" text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:ca,onChange:e=>oa(e),minDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null,n.a.createElement(Xa.a,{style:{marginTop:"33px"}},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],a=0;if(null===Re||""===Je||" "===Je||"0"==we.value||1==el&&new Date(Ea(Ue))>new Date(Ea(new Date))||1==tl&&new Date(Ea(ca))<new Date(Ea(new Date))||1==tl&&1==el&&ha(ca,Ue))e[a++]=E("MSG0006"),e[a++]="0"==we.value?"ID Type.":"",e[a++]=null===Re?"Country of Issue.":"",e[a++]=""===Je?"ID Number.":"",e[a++]=" "===Je?"ID Number can't have space.":"",e[a++]=1==tl&&new Date(Ea(ca))<new Date(Ea(new Date))?"Expiry Date can not be earlier than today.":"",e[a++]=1==el&&new Date(Ea(Ue))>new Date(Ea(new Date))?"Issue Date can not be later than today.":"",e[a++]=1==tl&&1==el&&ha(ca,Ue)?"Issue Date and Expiry Date can'tt be same!.":"",o(ja(e)),r(!0);else{const e=we.value.split("^");var t=!0;for(a=0;a<la.length;a++)la[a].mpid_id_type===e[1]&&la[a].mpid_country_issue===Fa&&(la[a].mpid_id_number===Je?(t=!1,o("Id already exist.")):la[a].mpid_active="0");var l={uniquekey:Oa(10),formMode:aa,code:C,randNum:ma,mpid_country_issue:Fa,mpid_issue_by:qe,mpid_issue_place:ze,mpid_id_type:e[1],mpid_active:"1",id_expirable:e[2],id_desc:e[4],mpid_id_number:Je,mpid_issue_date:Ea(1==el?Ue:new Date("01/01/1901")),mpid_expiry_date:Ea(1==tl?ca:new Date("01/01/2999")),cnt_name:xa,mpid_srno:1*Ft+1,delny:"Y"};const n={TabType:"Identity",AType:"A",ALineNo:Zt.length+1,TType:"MINDP",CountryIssue:Fa,IssueBy:qe,IssuePlace:ze,IDType:e[1],IdActive:"1",IdExpirable:e[2],IdDescription:e[4],IDNumber:Je,IssueDate:Ea(1==el?Ue:new Date("01/01/1901")),ExpiryDate:Ea(1==tl?ca:new Date("01/01/2999")),IssueName:xa};t?("1"===N.edit&&$t(e=>[...e,n]),Gt(1*Ft+1),ra(Sa(la,l)),Ae({value:0,label:"Select"}),Fe(null),Be(""),Ve(""),Qe(""),Ke(new Date),oa(new Date),console.log(la),al(0),al(0)):r(!0),Rt(It+1)}ct()(".loader").hide()})()}," Add ")),"1"==ia?null:n.a.createElement(Xa.a,null)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Id Type"),n.a.createElement("th",null,"Country of Issue"),n.a.createElement("th",null,"Id Number"),n.a.createElement("th",null,"Issue Date"),n.a.createElement("th",null,"Expiry Date"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,la.map(e=>n.a.createElement("tr",{key:e.mpid_srno},n.a.createElement("td",{className:"textCenter"},"1"===N.delete&&"Q"!==aa?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t)=>{if("N"===t)r(!0),o("This id has been used before.");else{const e=la.find(e=>e.uniquekey===a);if(e){const a={TabType:"Identity",ALineNo:Zt.length+1,AType:"D",TType:"MINDP",IdType:e.id_desc,CountryofIssue:e.cnt_name,IdNumber:e.mpid_id_number,IssueDate:ba(e.mpid_issue_date),ExpiryDate:ba(e.mpid_expiry_date),Status:e.mpid_active};"1"===N.edit&&$t(e=>[...e,a])}ra(ga(la,"uniquekey",a)),Rt(It-1)}})(e.mpid_srno,e.uniquekey,e.delny)},n.a.createElement(za.a,{icon:tt.r})):null),n.a.createElement("td",null,e.id_desc),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.mpid_id_number),n.a.createElement("td",null,"1900-12-31"===e.mpid_issue_date?null:ba(e.mpid_issue_date)),n.a.createElement("td",null,"2999-01-01"===e.mpid_expiry_date?null:ba(e.mpid_expiry_date)),n.a.createElement("td",null,"1"===e.mpid_active?"Active":"Inactive"))))))))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===N.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Code"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"ID Type"),n.a.createElement("th",null,"ID Number"),n.a.createElement("th",null,"ID Country"),n.a.createElement("th",null,"PAN"),n.a.createElement("th",null,"Mobile"))),n.a.createElement("tbody",null,y.map(e=>n.a.createElement("tr",{key:e.bd_code},"1"===N.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>hl(e.bd_code)},n.a.createElement(za.a,{icon:Qa.f}),"\xa0","1"===e.mpid_active?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{sessionStorage.setItem("values",JSON.stringify({code:e,md_type:"PURCHASE"})),a("/purchase-from-public")})(e.bd_code)},n.a.createElement(za.a,{icon:tt.b}))," \xa0","PASSPORT"===e.id_desc&&n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{sessionStorage.setItem("values",JSON.stringify({code:e,md_type:"SALE"})),a("/sale-public")})(e.bd_code)},n.a.createElement(za.a,{icon:tt.c}))):null)):null,n.a.createElement("td",{className:"textRight"},e.bd_code),n.a.createElement("td",null,e.bd_first_name),n.a.createElement("td",null,e.id_desc),n.a.createElement("td",null,e.mpid_id_number),n.a.createElement("td",null,e.cnt_name),n.a.createElement("td",null,e.bd_pan),n.a.createElement("td",null,e.bd_mobile))))))))),n.a.createElement("div",null,n.a.createElement(bt,{logObject:mt,show:st,onHide:()=>it(!1)}),n.a.createElement(Ka,{isOpen:t,onClose:e=>r(!1)},c),n.a.createElement(St,{isOpen:u,onYes:e=>bl(),onNo:e=>d(!1)},p)),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:et,onHide:()=>lt(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,"E"===aa?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,{validated:Vt},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{maxLength:499,autoComplete:"off",value:ke,onChange:e=>We(e.target.value,xe),placeholder:"Reason",required:!0}),n.a.createElement(s.a.Control.Feedback,{type:"invalid"},"Please fill Reason.")))):null),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void(""===ke?zt(!0):(pl(),lt(!1),zt(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>lt(!1)},"Cancel")))),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:rt,onHide:()=>ot(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement("h4",null,"Filter"))),n.a.createElement(pt.a.Body,null,n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"Profle/Id wise")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"CW"===dt,onChange:()=>ht("CW"),type:"radio",label:"Profile Wise"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"IW"===dt,onChange:()=>ht("IW"),type:"radio",label:"Identity Wise"}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"Date/Srno Wise")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"CD"===gt,onChange:()=>yt("CD"),type:"radio",label:"Creation Date Range"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"CC"===gt,onChange:()=>yt("CC"),type:"radio",label:"Customer Code Range"}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"CD"===gt?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(vl.a,{className:"form-control",selected:ft,maxDate:new Date(ft),onChange:e=>jt(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:Tt,maxDate:new Date(Tt),onChange:e=>Dt(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"From Number",maxLength:10,value:Ot,onChange:e=>Ze(e.target.value,Nt),autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"To Number",maxLength:10,value:Ct,onChange:e=>Ze(e.target.value,_t),autoComplete:"off"}))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(()=>{ct()(".loader").show();var e={right:"INDIVIDUALPROFILE",location:0,radioType:dt,radioTF:gt,fromNo:Ot,toNo:Ct,fromDate:Ea(ft),toDate:Ea(Tt)};va(Q,"post",[h,JSON.stringify(e)]),ot(!1),jt(new Date),Dt(new Date),Nt(""),_t(""),ct()(".loader").hide()})()},"Download")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>ot(!1)},"Close")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement("span",{className:"corner-span"},It))};var $l=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)([]);return Object(l.useEffect)(()=>{Ye(_,[e,"all","MASTER_LEDGER_LINK"],function(t){let l=JSON.parse(t);"1"===l.query?(o(l),Ye(ge,[e,"listlink"],e=>{r(JSON.parse(e))})):a("/")})},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Ledger Link"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"))),n.a.createElement("tbody",null,t.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.ln_type),n.a.createElement("td",null,e.ln_group),n.a.createElement("td",null,e.ln_account)))))))))};var en=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)("Q"),[w,A]=Object(l.useState)(!1),[I,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","LEGALSTATUS"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(M,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const U=()=>{A(!1),L(!1),T(!0),G(!1)},Y=e=>{x("Q"),G(!1),Ye(M,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{z([{entity:y,status:N,remark:C}])})(),S(a.srno),O(a.entity),v(a.status),L(!0),T(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master Legal Entity "))),j?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),L(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"LEGALSTATUS"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Legal Entity",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Legal Entity",maxLength:100,value:y,onChange:e=>We(e.target.value,O),autoComplete:"off",disabled:"Q"===k}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===k,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===k||"E"===k?(R("Do you really want to exit ?"),A(!0)):U())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===k||"1"===b.add&&"A"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Legal Entity!"),t(!0);else if("E"===k&&""===C)c("Please fill Remark!"),t(!0);else{var e={entity:y,status:N,branch:0,activitytype:1*g>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MLGET",trannumber:g,subtranno:0,remark:C};const a=Ja(V,[e]);"1"===b.edit&&"E"===k&&q(Ba(B,a,"MLGET")),Ye(M,[o,"savelist",g,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(L(!1),T(!0),f(""),Ye(M,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==k&&"Q"!==k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MLGET",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:P,show:F,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Legal Entity"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.mle_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.mle_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.mle_srno),n.a.createElement("td",null,e.mle_legal_status),n.a.createElement("td",null,1==e.mle_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:w,onYes:e=>U(),onNo:e=>A(!1)},I)))};var an=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),Object(l.useState)([])),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)(!1),[h,g]=Object(l.useState)(""),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)(0),[L,k]=Object(l.useState)("L"),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)(null),[M,R]=Object(l.useState)(0),[F,G]=Object(l.useState)(null),[P,J]=Object(l.useState)("A"),[B,q]=Object(l.useState)("G"),[V,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)(null),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)(null),[X,Z]=Object(l.useState)("A"),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(0),[le,ne]=Object(l.useState)("F"),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,de]=Object(l.useState)(""),[Ee,pe]=Object(l.useState)(""),[be,he]=Object(l.useState)(""),[ge,Se]=Object(l.useState)("L"),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)("");Object(l.useEffect)(()=>{c||(Ye(_,[a,"all","MARGIN"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);const Ce=()=>{b(!1),d("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Master Margin"))),n.a.createElement(Wa.a,null,"\xa0"),""===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:B,onChange:e=>q(e.target.value),required:!0},n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"L"},"Location")))),"L"===B?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*"),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Ol.a,{bg:"secondary",onClick:()=>(I(null),void R(0))},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>{I(e);const a=e.id.split("^");R(a[1])}}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"C"===L,onChange:()=>k("C"),type:"radio",label:"Currency"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"P"===L,onChange:()=>k("P"),type:"radio",label:"Product"})))))),n.a.createElement(Wa.a,null,"C"===L?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*"),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Ol.a,{bg:"secondary",onClick:()=>(G(null),void z(""))},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:F,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{console.log(e),G(e);const a=e.id.split("^");z(a[1])}}))))):"P"===L?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:P,onChange:e=>J(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD"))))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if("L"===B&&null===A)N("Please Select Location!"),y(!0);else if("L"===B&&"C"===L&&null===F)N("Please Select Currecy!"),y(!0);else if("G"===B&&"C"===L&&null===F)N("Please Select Currency!"),y(!0);else{const e={filterType:B,filterRadioType:L,filterCurrencyCode:V,filterProductType:P,filterLocation:M};Ye("/api/margin_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);w(a)})}})()},"List"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(d("A"),U(null),W(null),ee(""),ce(""),me(""),se(""),de(""),pe(""),he(""),D(0),void Se("L"))},"Add New"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===t.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Unit"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Margin Type"),n.a.createElement("th",null,"Buy Margin"),n.a.createElement("th",null,"Sell Margin"),n.a.createElement("th",null,"Max Buy Margin"),n.a.createElement("th",null,"Max Sell Margin"),n.a.createElement("th",null,"Min Buy Margin"),n.a.createElement("th",null,"Min Sell Margin"))),n.a.createElement("tbody",null,x.map(e=>n.a.createElement("tr",{key:e.mrt_srno},"1"===t.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t)=>{d("Q"),z(t),Ye("/api/margin_a.php",[a,"view",e],e=>{let a=JSON.parse(e);D(a.srno),U({id:a.locationCode,label:a.location}),W({id:a.isdCode,label:a.isd}),ee(a.unit),Z(a.product),ne(a.marginType),ce(a.buyMargin),me(a.sellMargin),se(a.maxBuyMargin),de(a.maxSellMargin),pe(a.minBuyMargin),he(a.minSellMargin),ve(a.userName),Oe(a.dateTime),K(a.location.split(" ")[0])})})(e.mrt_srno,e.mrt_isd)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.mrt_isd_name),n.a.createElement("td",null,e.mrt_location),n.a.createElement("td",null,e.mrt_unit),n.a.createElement("td",null,"C"===e.mrt_product?"CN":"D"===e.mrt_product?"DD":"T"===e.mrt_product?"TT":"Card"),n.a.createElement("td",null,"F"===e.mrt_margin_type?"Fixed":"Percentage"),n.a.createElement("td",null,e.mrt_buy_margin),n.a.createElement("td",null,e.mrt_sell_margin),n.a.createElement("td",null,e.mrt_max_buy_margin),n.a.createElement("td",null,e.mrt_max_sell_margin),n.a.createElement("td",null,e.mrt_min_buy_margin),n.a.createElement("td",null,e.mrt_min_sell_margin)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===t.edit&&"Q"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void d("E")},"Edit")):null,"1"===t.edit&&"E"===u||"1"===t.add&&"A"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],t=0;if(null===Q||null===H||""===$||""===re||""===oe||""===ue||""===ie||""===be||""===Ee)e[t++]=E("MSG0006"),e[t++]=null===Q?" Select Location!":"",e[t++]=null===H?" Select Currency!":"",e[t++]=""===$?" Unit.":"",e[t++]=""===re?" Buy Margin.":"",e[t++]=""===oe?" Sell Margin.":"",e[t++]=""===ue?" Max Buy Margin.":"",e[t++]=""===ie?" Max Sell Margin.":"",e[t++]=""===Ee?" Min Buy Margin.":"",e[t++]=""===be?" Min Sell Margin.":"",N(ja(e)),y(!0);else{const e={filterType:B,filterRadioType:L,filterCurrencyCode:V,filterProductType:P,filterLocation:M,srno:T,location:Y,isd:V,unit:$,rate:ae,product:X,marginType:le,buyMargin:re,sellMargin:oe,maxBuyMargin:ue,maxSellMargin:ie,minBuyMargin:Ee,minSellMargin:be};Ye("/api/margin_a.php",[a,"save",T,JSON.stringify(e)],e=>{let a=JSON.parse(e);a.margin&&(w(a.margin),d(""))})}})()},"Save")):null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===u||"E"===u?(g("Do you really want to exit ?"),b(!0)):Ce())},"Back")," ")),n.a.createElement(Wa.a,null,"\xa0"),"E"===u||"A"===u||"Q"===u?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ge,onChange:e=>(function(e){Se(e),"G"===e?(K(0),U({id:"^0^Zenith Leisure Holidays Ltd.^0^^^^^",label:"0 Zenith Leisure Holidays Ltd."})):U({id:"",label:"Select"})})(e.target.value),required:!0,disabled:"E"===u||"Q"===u},n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"L"},"Location")))),n.a.createElement(Xa.a,null,("Q"===u||"E"===u)&&n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"UserName",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ye,type:"text",disabled:!0}))),n.a.createElement(Xa.a,null,("Q"===u||"E"===u)&&n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date & Time",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ne,type:"text",disabled:!0})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>{U(e);const a=e.id.split("^");K(a[1])},isDisabled:"G"===ge||"E"===u||"Q"===u}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:H,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{console.log(e),W(e);const a=e.id.split("^");z(a[1])},isDisabled:"E"===u||"Q"===u}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Unit",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:$,onChange:e=>Ze(e.target.value,ee),maxLength:5,disabled:"E"===u||"Q"===u,placeholder:"Unit"}))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:X,onChange:e=>Z(e.target.value),required:!0,disabled:"E"===u||"Q"===u},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD")))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Margin Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:le,onChange:e=>ne(e.target.value),disabled:"Q"===u,required:!0},n.a.createElement("option",{value:"F"},"Fixed"),n.a.createElement("option",{value:"P"},"Percentage"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Buy Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:re,onChange:e=>ea(e.target.value,ce),maxLength:20,placeholder:"Buy Margin",disabled:"Q"===u}))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sell Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:oe,onChange:e=>ea(e.target.value,me),maxLength:20,placeholder:"Sell Margin",disabled:"Q"===u})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Max Buy Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ue,onChange:e=>ea(e.target.value,se),maxLength:20,placeholder:"Max Buy Margin",disabled:"Q"===u}))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Max Sell Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ie,onChange:e=>ea(e.target.value,de),maxLength:20,placeholder:"Max Sell Margin",disabled:"Q"===u})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Min Buy Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ee,onChange:e=>ea(e.target.value,pe),maxLength:20,placeholder:"Min Buy Margin",disabled:"Q"===u}))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Min Sell Margin",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:be,onChange:e=>ea(e.target.value,he),maxLength:20,placeholder:"Min Sell Margin",disabled:"Q"===u}))))):null,n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:S,onClose:e=>y(!1)},O),n.a.createElement(St,{isOpen:p,onYes:e=>Ce(),onNo:e=>b(!1)},h),n.a.createElement(Ka,{isOpen:v,onClose:e=>C(!1)},f)))};var tn=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(""),[r,c]=Object(l.useState)(!1),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)("Q"),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(!1),[G,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","MSME"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(P,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const U=()=>{A(!1),L(!1),T(!0),F(!1)},Y=e=>{x("Q"),F(!1),Ye(P,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{z([{msme:y,status:N,remark:C}])})(),S(a.srno),O(a.msme),v(a.status),L(!0),T(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master MSME"))),j?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(0),x("A"),T(!1),L(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"MSME"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"MSME",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"MSME",maxLength:100,value:y,onChange:e=>We(e.target.value,O),autoComplete:"off",disabled:"Q"===k}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===k,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===k||"E"===k?(M("Do you really want to exit ?"),A(!0)):U())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===k||"1"===b.add&&"A"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)t("Please fill MSME!"),c(!0);else if("E"===k&&"1"===C)t("Please fill Remark!"),c(!0);else{var e={msme:y,status:N,branch:0,activitytype:1*g>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MMSME",trannumber:g,subtranno:0,remark:C};const a=Ja(V,[e]);"1"===b.edit&&"E"===k&&q(Ba(B,a,"MMSME")),Ye(P,[o,"savelist",g,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(T(!0),L(!1),f(""),Ye(P,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(t(a.err),c(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==k&&"Q"!==k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(F(!0),void J({trantype:"MMSME",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:G,show:R,onHide:()=>F(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"MSME"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.mm_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.mm_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.mm_srno),n.a.createElement("td",null,e.mm_msme),n.a.createElement("td",null,1==e.mm_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:r,onClose:e=>c(!1)},a),n.a.createElement(St,{isOpen:w,onYes:e=>U(),onNo:e=>A(!1)},I)))};var ln=()=>{const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,s]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(Ye(_,[e,"all","MASTER_RESIDENTIAL"],function(t){let l=JSON.parse(t);"1"===l.query?(s(l),Ye(W,[e,"listResidential"],e=>{o(JSON.parse(e))})):a("/")}),r(!0))},[t]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Residential Status"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===u.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[e,JSON.stringify({right:"MASTER_RESIDENTIAL"})])}},"Export")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Serial Number"),n.a.createElement("th",null,"Resident"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,c.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.mrs_srno),n.a.createElement("td",null,e.mrs_resident),n.a.createElement("td",null,1==e.mrs_active?"ACTIVE":"INACTIVE")))))))))};var nn=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)("Q"),[w,I]=Object(l.useState)(!1),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","RISK"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(A,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const U=()=>{I(!1),L(!1),T(!0),G(!1)},Y=e=>{x("Q"),G(!1),Ye(A,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={risk:e.risk,status:e.status,remark:e.remark};z([a])})(a),S(a.srno),O(a.risk),v(a.status),L(!0),T(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master Risk "))),j?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),L(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"RISK"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Risk",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Risk",maxLength:50,value:y,onChange:e=>We(e.target.value,O),autoComplete:"off",disabled:"Q"===k}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===k,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===k||"E"===k?(R("Do you really want to exit ?"),I(!0)):U())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===k||"1"===b.add&&"A"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Risk!"),t(!0);else if("E"===k&&""===C)c("Please fill remark!"),t(!0);else{var e={risk:y,status:N,branch:0,activitytype:1*g>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MRISK",trannumber:g,subtranno:0,remark:C};const a=Ja(V,[e]);"1"===b.edit&&"E"===k&&q(Ba(B,a,"MRISK")),Ye(A,[o,"savelist",g,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(L(!1),T(!0),f(""),Ye(A,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==k&&"Q"!==k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MRISK",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,F&&n.a.createElement(bt,{logObject:P,show:F,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Risk"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.mr_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.mr_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.mr_srno),n.a.createElement("td",null,e.mr_risk),n.a.createElement("td",null,1==e.mr_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:w,onYes:e=>U(),onNo:e=>I(!1)},M)))},rn=t(270);var cn=function(){const[e,a]=Object(l.useState)(null),[t,r]=Object(l.useState)(null),[c,o]=Object(l.useState)(null),[m,u]=Object(l.useState)(null),[i,d]=Object(l.useState)(null),[E,p]=Object(l.useState)(null),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)(null),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(null),[C,_]=Object(l.useState)(null),[f,j]=Object(l.useState)(null),[T,D]=Object(l.useState)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Sample Form"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("hr",null))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Allowed Location"),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:e,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>{a(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(e||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("hr",null))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger"),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:t,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,1),onInputChange:Mt,onChange:e=>{r(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(t||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("hr",null))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual"),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:c,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Pt,onInputChange:Mt,onChange:e=>{o(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(c||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("hr",null))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate"),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:m,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"CORPORATE",1),onInputChange:Mt,onChange:e=>{u(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(m||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("hr",null))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Vtm",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:i,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>qt(e,"APPROVED"),onInputChange:Mt,onChange:e=>{d(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(i||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("hr",null))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:E,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,""),onInputChange:Mt,onChange:e=>{p(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(E||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Yt(e,""),onInputChange:Mt,onChange:e=>{h(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(b||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:g,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ht(e,""),onInputChange:Mt,onChange:e=>{S(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(g||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"District",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Wt(e,""),onInputChange:Mt,onChange:e=>{v(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(N||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Xt(e,""),onInputChange:Mt,onChange:e=>{O(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(y||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:C,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Zt(e,"OTHER"),onInputChange:Mt,onChange:e=>{_(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(C||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:f,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>tl(e,1),onInputChange:Mt,onChange:e=>{j(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(f||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ul(e,1),onInputChange:Mt,onChange:e=>{D(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(rn.a,{variant:"success"},"Selected Value : ",JSON.stringify(T||{},null,2)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))))};var on=e=>{const a=Object(m.n)(),t=sessionStorage.getItem("sessionId"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(!1),[g,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)([]),[T,D]=Object(l.useState)(null),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(0),[A,I]=Object(l.useState)("N"),[M,R]=Object(l.useState)(0),[F,G]=Object(l.useState)("FX"),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(""),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)(0),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)("1"),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)("AC"),[me,se]=Object(l.useState)(""),[ie,de]=Object(l.useState)("1"),[Ee,pe]=Object(l.useState)("1"),[be,he]=Object(l.useState)(""),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)("C"),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)(""),[fe,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)(""),[Le,ke]=Object(l.useState)([]),[xe,we]=Object(l.useState)("");Object(l.useEffect)(()=>{xa().then(e=>{D(e),null!=e&&Ae(e)}),o||(Ye(_,[t,"all","MASTER_AGENT_LINK"],e=>{let t=JSON.parse(e);"1"===t.query?c(t):a("/")}),"undefined"!=typeof e.cmmodule&&(p("A"),J(e.cmmodule.agentcode),w(e.cmmodule.location),k(e.cmmodule.locationname)),Ye(S,[t,"ddlistjson",1],function(e){ke(JSON.parse(e))}),u(!0))},[o,t,a]);const Ae=e=>{D(e);const a=e.id.split("^");w(a[1]),k(a[2]),sessionStorage.activeBranch=a[1]};const Ie=()=>{if(ct()(".loader").show(),"F"!==A||me||"S"===ce||"D"===ce||"P"===ce||"GST"===ce||"FA"===ce){const e={filterRadioType:A,filterTextBox:me,filterSearch:ce,filterStatus:ie,filterDefault:Ee,location:x,filterPan:fe};Ye("/api/agent_linking_a.php",[t,"list",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);j(a)})}else ct()(".loader").hide(),C("Please Fill Text Box."),N(!0)},Me=()=>{h(!1),"undefined"!=typeof e.cmmodule?e.cmmodule.setShowAgentForm(!1):p("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Master Agent Link"))),n.a.createElement(Wa.a,null,"\xa0"),""===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ae}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===A,onChange:()=>I("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"F"===A,onChange:()=>I("F"),type:"radio",label:"Filters"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"U"===A,onChange:()=>I("U"),type:"radio",label:"Upload"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"E"===A,onChange:()=>I("E"),type:"radio",label:"Export"})))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"N"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>void(null===T?(C("Please Select Location!"),N(!0)):(p("A"),R(0),J(""),q(""),z(""),Y(""),H(""),X(""),$(""),ae(""),le("1"),Oe("C"),ve(""),_e(""),we(""),De("")))},"Add New")," ",n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>Ie()},"List"))):"F"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Select,{value:ce,onChange:e=>oe(e.target.value),required:!0},n.a.createElement("option",{value:"AC"},"Agent Account"),n.a.createElement("option",{value:"AN"},"Agent Name"),n.a.createElement("option",{value:"ACN"},"Account Number"),n.a.createElement("option",{value:"P"},"PAN Number"),n.a.createElement("option",{value:"S"},"Status"),n.a.createElement("option",{value:"GST"},"GST Tpye"),n.a.createElement("option",{value:"FA"},"FA Type"),n.a.createElement("option",{value:"D"},"Default")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"S"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:ie,onChange:e=>de(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))):"D"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Default"),n.a.createElement(s.a.Select,{value:Ee,onChange:e=>pe(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))):"GST"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Type"),n.a.createElement(s.a.Select,{value:ie,onChange:e=>de(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"WGST"},"With GST"),n.a.createElement("option",{value:"WOGST"},"With out GST"),n.a.createElement("option",{value:"HGST"},"Hold GST")))):"FA"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Type"),n.a.createElement(s.a.Select,{value:ie,onChange:e=>de(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"BOTH"},"Both"),n.a.createElement("option",{value:"COMMISSION"},"Commission"),n.a.createElement("option",{value:"NOFA"},"No FA")))):"P"===ce?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"PAN Number",maxLength:10,value:fe,onChange:e=>je(e.target.value),onBlur:e=>da(e.target.value,je),autoComplete:"off"}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"AC"===ce?"Agent Account":"AN"===ce?"Agent Name":"ACN"===ce?"Account Number":"P"===ce?"PAN Number":null,n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:me,maxLength:100,placeholder:"Search Box",onChange:e=>{"AN"===ce?We(e.target.value,se):Ze(e.target.value,se)}})))),"F"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{style:{marginTop:"35px"},className:"col-md-3 col-6"},n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>Ie()},"List"))):null):"U"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:ne,onChange:e=>re(e.target.value)})),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Ol.a,{bg:"primary",className:"handCursor",onClick:()=>void va(ue,"post",[t,"downloadAgentLinkFormat",JSON.stringify({srno:24,pageright:"MASTER_AGENT_LINK",downloadType:"downloadAgentLinkFormat"})])},"Download Format")),n.a.createElement("span",{className:"mx-2"},n.a.createElement(Ol.a,{bg:"primary",className:"handCursor",onClick:function(){va(ue,"post",[t,"",JSON.stringify({pageright:"MASTER_AGENT_LINK",downloadType:"downloadStateCode"})])}},"Download State Code"))),n.a.createElement(Xa.a,{style:{marginTop:"35px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),C("Please select a file to upload."),N(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),C("(.) not allowed in file name."),N(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),C("Please select a file with in 10 MB size."),N(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),C("File extension should be in xlsx format"),N(!0);else{const e={sid:t,srno:6666,srNo:M,location:x,AgentLinkFile:ne,uploadType:"uploadAgentLink",pageright:"MASTER_AGENT_LINK",filterRadioType:A,filterTextBox:me,filterSearch:ce,filterStatus:ie,filterDefault:Ee};Na(JSON.stringify(e),"fileExcel",e=>{let a=JSON.parse(e);console.log(a),ct()(".loader").hide(),j(a.docdetail),C(a.msg),N(!0),re("")})}}})()},"Submit"))):"E"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-success",size:"sm",onClick:()=>void va(Q,"post",[t,JSON.stringify({right:"MASTER_AGENT_LINK"})])},"Export"))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,"\xa0"),n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Agent Branch"),n.a.createElement("th",null,"Agent Group"),n.a.createElement("th",null,"Agent Account"),n.a.createElement("th",null,"Agent Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"IFSC Code"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"PAN"),n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"Agent Company"),n.a.createElement("th",null,"Default"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,f.map(e=>n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:e.al_srno},"1"===r.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{p("Q"),Ye("/api/agent_linking_a.php",[t,"edit",e],e=>{let a=JSON.parse(e);R(a.srno),G(a.type),J(a.agentCode),Y(a.agentGroup),H(a.agentAccount),q(a.agentName),z(a.agentAccountName),X(a.agentAccountNo),$(a.agentPan),ae(a.agentIFSC),le(a.agentStatus),he(a.createdUser),Se(a.updatedUser),Oe(a.agentCompany),ve(a.gstType),_e(a.faType),we(a.gstNumber),De(a.state)})})(e.al_srno)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.al_srno),n.a.createElement("td",null,e.al_agent_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.al_agent_group),n.a.createElement("td",null,e.al_agent_account),n.a.createElement("td",null,e.al_agent_name),n.a.createElement("td",null,e.al_agent_account_no),n.a.createElement("td",null,e.al_agent_ifsc),n.a.createElement("td",null,e.al_agent_account_name),n.a.createElement("td",null,e.al_agent_pan),n.a.createElement("td",null,e.um_username),n.a.createElement("td",null,"C"===e.al_agent_company?"Company":"Non-Company"),n.a.createElement("td",null,"1"===e.al_default?"Yes":"No"),n.a.createElement("td",null,"1"===e.al_status?"Active":"Inactive")),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:15},"State : ",n.a.createElement("b",null,e.state_name),"\xa0 GST Type : ",n.a.createElement("b",null,e.al_gst_type),"\xa0",e.al_agent_gstin?" GSTIN :"+e.al_agent_gstin:"","\xa0 FA Type : ",n.a.createElement("b",null,e.al_fa_type)))))))))):n.a.createElement(n.a.Fragment,null,"A"!==d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Location : ",n.a.createElement("b",null,L)," \xa0 \xa0 Created By : ",n.a.createElement("b",null,be)," \xa0 \xa0 Last Created By : ",n.a.createElement("b",null,ge))))):"A"===d||"E"===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Location : ",n.a.createElement("b",null,L))))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{value:F,onChange:e=>G(e.target.value),disabled:"A"!==d,required:!0},n.a.createElement("option",{value:"FX"},"FX")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Group",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:U,disabled:"A"!==d,maxLength:10,onChange:e=>Ze(e.target.value,Y),placeholder:"Agent Group"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,disabled:"A"!==d,maxLength:10,onChange:e=>Ze(e.target.value,H),placeholder:"Agent Acccount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Agent PAN",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Z,disabled:"A"!==d,maxLength:10,onChange:e=>$(e.target.value),onBlur:e=>da(e.target.value,$),placeholder:"Agent PAN"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:B,disabled:"Q"===d,maxLength:100,onChange:e=>na(e.target.value,q),placeholder:"Agent Name"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Account Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:V,disabled:"Q"===d,maxLength:100,onChange:e=>na(e.target.value,z),placeholder:"Agent Account Name"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Account Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:W,disabled:"Q"===d,maxLength:20,onChange:e=>Ze(e.target.value,X),placeholder:"Agent Account Number"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent IFSC",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ee,disabled:"Q"===d,maxLength:11,onChange:e=>na(e.target.value,ae),placeholder:"Agent IFSC"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Ne,onChange:e=>ve(e.target.value),disabled:"Q"===d,required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"WGST"},"With GST"),n.a.createElement("option",{value:"WOGST"},"With out GST"),n.a.createElement("option",{value:"HGST"},"Hold GST")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent GSTIN ","WGST"===Ne&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:xe,disabled:"Q"===d,maxLength:15,onChange:e=>we(e.target.value),onBlur:e=>we(e.target.value.toUpperCase()),placeholder:"Agent GSTIN"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Ce,onChange:e=>_e(e.target.value),disabled:"Q"===d,required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"BOTH"},"Both"),n.a.createElement("option",{value:"COMMISSION"},"Commission"),n.a.createElement("option",{value:"NOFA"},"No FA")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent Company",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ye,onChange:e=>Oe(e.target.value),disabled:"Q"===d,required:!0},n.a.createElement("option",{value:"C"},"Company"),n.a.createElement("option",{value:"N"},"Non-Company"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:Te,onChange:e=>De(e.target.value),disabled:"Q"===d},Le.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.name))))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value),disabled:"Q"===d,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"\xa0"),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===r.edit&&"E"===d||"1"===r.add&&"A"===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(()=>{ct()(".loader").show();var a=[],l=0;if(""===B||""===V||""===W||""===ee||""===Te||""===U||""===K||""===Z||""===Ne||""===Ce||"WGST"===Ne&&""===xe||xe&&!xe.includes(Z))ct()(".loader").hide(),a[l++]=E("MSG0006"),a[l++]=""===U?" Agent Group.":"",a[l++]=""===K?" Agent Account.":"",a[l++]=""===B?" Agent Name.":"",a[l++]=""===V?" Agent Account Name.":"",a[l++]=""===W?" Agent Account Number.":"",a[l++]=""===Z?" Agent PAN.":"",a[l++]=""===ee?" Agent IFSC.":"",a[l++]=""===Ne?" GST Type.":"",a[l++]=""===Ce?" FA Type.":"",a[l++]=""===Te?" State.":"",a[l++]="WGST"===Ne&&""===xe?" Agent GstIN.":"",a[l++]=xe&&!xe.includes(Z)?"GST Number does not matching with ":"",C(ja(a)),N(!0);else{const a={filterRadioType:A,filterTextBox:me,filterSearch:ce,filterStatus:ie,filterDefault:Ee,location:x,srno:M,agentType:F,groupCode:U,accountCode:K,agentName:B,agentAccountName:V,agentAccountNum:W,agentPan:Z,agentIFSC:ee,agentStatus:te,agentCompany:ye,gstType:Ne,faType:Ce,state:Te,gstin:xe};Ye("/api/agent_linking_a.php",[t,"add",M,JSON.stringify(a)],a=>{ct()(".loader").hide();let t=JSON.parse(a);""===t.msg?(j(t.agent),"undefined"!=typeof e.cmmodule?(e.cmmodule.setShowAgentForm(!1),e.updateAgentDetails(t.agent)):p("")):(C(t.msg),N(!0))})}})()},"Save")," \xa0"):null,"1"===r.edit&&"Q"===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void p("E")},"Edit"),"\xa0"):null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===d||"E"===d?(y("Do you really want to exit ?"),h(!0)):Me())},"Back")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:O,onClose:e=>N(!1)},v),n.a.createElement(St,{isOpen:b,onYes:e=>Me(),onNo:e=>h(!1)},g)))};var mn=()=>{const e=sessionStorage.getItem("sessionId"),[a,t]=Object(l.useState)({value:0,label:"Select"}),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(!1),g=Object(m.n)(),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)("");Object(l.useEffect)(()=>{if(!b){Ye(_,[e,"all","DOCUMENTLINK"],function(e){let a=JSON.parse(e);"1"===a.query?y(a):g("/")});const a={pageright:"DOCUMENTLINK"};Ye(U,[e,"getdocs",JSON.stringify(a)],e=>{p(JSON.parse(e))}),h(!0)}},[b]);const f=()=>{Ye(z,[e,"showdocdata",r],e=>{let a=JSON.parse(e);console.log(a),u(a)})};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Document"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Select,{value:r,onChange:e=>(e=>{u([]),c(e.target.value)})(e)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"DEALER"},"DEALER"),n.a.createElement("option",{value:"CORPORATE"},"CORPORATE"),n.a.createElement("option",{value:"AGENT"},"AGENT"),n.a.createElement("option",{value:"BANK"},"BANK"),n.a.createElement("option",{value:"CASH"},"CASH")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(vt.a,{options:d,value:a,onChange:e=>t(e)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===S.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-success",onClick:()=>f()},"List")," "):null,"1"===S.add?n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(()=>{var l=[],n=0;""===r||"0"==a.value?(l[n++]=E("MSG0006"),l[n++]=""===r?" Group type.":"",l[n++]="0"==a.value?" Document.":"",C(ja(l)),N(!0)):Ye(z,[e,"adddoctype",r,a.value],e=>{console.log(e),t({value:0,label:"Select"}),f()})})()},"Add"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Group Type"),n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,o.map((a,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,a.mdl_group_type),n.a.createElement("td",null,a.docm_desc),n.a.createElement("td",null,n.a.createElement("span",null,n.a.createElement(za.a,{icon:tt.r,onClick:()=>(a=>{Ye(z,[e,"deldocdata",a],e=>{console.log(e),f()})})(a.mdl_srno)})))))))))),n.a.createElement(Ka,{isOpen:O,onClose:e=>N(!1)},v))};var un=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)([]),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)(""),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)("1"),[f,j]=Object(l.useState)(!1),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(!1),[x,w]=Object(l.useState)(""),[A,I]=Object(l.useState)("");Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","VOUCHERTYPE"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),M(),r(!0))},[t,a,e]);const M=()=>{Ye(q,[a,"getList"],e=>{let a=JSON.parse(e);d(a)})},R=()=>{k(!1),b("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null," Voucher Type "))),n.a.createElement(Wa.a,null,"\xa0"),""===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===c.add?n.a.createElement(i.a,{className:"buttonStyle",size:"sm",variant:"outline-primary",onClick:()=>(b("A"),g(0),y(""),void N(""))},"Add"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type "),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Manual"))),n.a.createElement("tbody",null,u.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,e.mvt_type),n.a.createElement("td",null,e.mvt_description),n.a.createElement("td",null,1==e.mvt_manual?"ACTIVE":"INACTIVE")))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Srno"),n.a.createElement(s.a.Control,{disabled:!0,value:h,onChange:e=>g(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:80,value:S,onChange:e=>y(e.target.value),disabled:"Q"===p}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Description",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:80,value:O,onChange:e=>N(e.target.value),disabled:"Q"===p}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual"),n.a.createElement(s.a.Select,{value:v,disabled:"Q"===p,onChange:e=>C(e.target.value)},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===p?(w("Do you really want to exit ?"),k(!0)):R())},"Back"),"\xa0\xa0","1"===c.add&&"A"===p?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e={srNo:h,type:S,desc:O,manual:v},t=[],l=0;""===S||""===O?(t[l++]=E("MSG0006"),t[l++]=""===S?" Please fill Type.":"",t[l++]=""===O?" Please select Description.":"",D(ja(t)),j(!0)):Ye(q,[a,"savevtype",JSON.stringify(e)],e=>{b(""),M()})})()},"Save"),"\xa0"):null)))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:f,onClose:e=>j(!1)},T),n.a.createElement(St,{isOpen:L,onClose:e=>k(!1),onYes:e=>R(),onNo:e=>k(!1)},x)))};var sn=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),o=sessionStorage.getItem("sessionId"),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)("Q"),[A,I]=Object(l.useState)(!1),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(!1),[P,J]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]);Object(l.useEffect)(()=>{u||(Ye(_,[o,"all","DIVISION"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),Ye(w,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),d(!0))},[u,o,e]);const U=()=>{I(!1),L(!1),T(!0),G(!1)},Y=e=>{x("Q"),G(!1),Ye(w,[o,"editList",e],e=>{let a=JSON.parse(e);(e=>{z([{division:y,status:N,remark:""}])})(),S(a.srno),O(a.division),v(a.status),L(!0),T(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master Division "))),j?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{S(0),O(""),v(1),x("A"),T(!1),L(!0)}}," Add New"):null,"1"===b.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{va(Q,"post",[o,JSON.stringify({right:"DIVISION"})])}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:g,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Division",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Division",maxLength:50,value:y,onChange:e=>We(e.target.value,O),autoComplete:"off",disabled:"Q"===k}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),disabled:"Q"===k,required:!0},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:C,onChange:e=>We(e.target.value,f),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===k||"E"===k?(R("Do you really want to exit ?"),I(!0)):U())},"Back"),"\xa0\xa0","1"===b.edit&&"Q"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void x("E")},"Edit"),"\xa0"):null,"1"===b.edit&&"E"===k||"1"===b.add&&"A"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(""===y)c("Please fill Division!"),t(!0);else if("E"===k&&""===C)c("Please fill Remark!"),t(!0);else{var e={srno:g,division:y,status:N,branch:0,activitytype:1*g>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MDVSN",trannumber:g,subtranno:0,remark:C};const a=Ja(V,[e]);q(Ba(B,a,"MDVSN")),Ye(w,[o,"savelist",g,JSON.stringify(e),JSON.stringify(B)],e=>{let a=JSON.parse(e);""===a.err?(L(!1),T(!0),f(""),Ye(w,[o,"getList"],e=>{let a=JSON.parse(e);p(a)}),q([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==b.query||"E"!==k&&"Q"!==k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(G(!0),void J({trantype:"MDVSN",trannumber:g,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,F&&n.a.createElement(bt,{logObject:P,show:F,onHide:()=>G(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Division"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,E.map(e=>n.a.createElement("tr",{key:e.md_srno},"1"===b.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>Y(e.md_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.md_srno),n.a.createElement("td",null,e.md_division),n.a.createElement("td",null,1==e.md_status?"ACTIVE":"INACTIVE"))))))))),n.a.createElement(bt,{logObject:P,show:F,onHide:()=>G(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:A,onYes:e=>U(),onNo:e=>I(!1)},M)))};function dn(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)([]),[E,p]=Object(l.useState)(null),[b,h]=Object(l.useState)(0),[g,S]=Object(l.useState)("A"),[y,O]=Object(l.useState)(!1);Object(l.useEffect)(()=>{c||(xa().then(e=>{p(e),null!=e&&N(e)}),Ye(_,[a,"all","TRAN_AUDIT_TRAIL"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),o(!0))},[c,a,e]);const N=e=>{O(!1),p(e);var a=e.id.split("^");h(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-3 col-md-3"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();let e={location:b,product:g};Ye(ye,[a,"getratecard",JSON.stringify(e)],e=>{let a=JSON.parse(e);O(!0),d(a),ct()(".loader").hide()})}},"Generate"))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:E,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:N}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:g,onChange:e=>{S(e.target.value),O(!1)},required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD")))),n.a.createElement(Wa.a,null,"\xa0"),y?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{respo:!0,nsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Currencies"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"We Sell"),n.a.createElement("th",null,"We Buy"))),n.a.createElement("tbody",null,u.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.mrc_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,"C"==e.mrc_product?"CN":"R"==e.mrc_product?"Card":"D"==e.mrc_product?"DD":"T"==e.mrc_product?"TT":null),n.a.createElement("td",null,e.mrc_sale_rate),n.a.createElement("td",null,e.mrc_buy_rate))))))):null)))}var En=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(null),[u,d]=Object(l.useState)("V"),[E,p]=Object(l.useState)("0"),[b,h]=Object(l.useState)("G"),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(new Date),[N,v]=Object(l.useState)(new Date),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!0);Object(l.useEffect)(()=>{xa().then(e=>{o(e),null!=e&&k(e)}),Ye(_,[e,"all","REP_COMMISSION_VIEW"],function(e){let t=JSON.parse(e);r(t),"0"===t.query&&a("/")})},[]);const k=e=>{o(e);var a=e.id.split("^");p(a[1]),S([]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Commission Status"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Type"),n.a.createElement(s.a.Select,{value:b,onChange:e=>(e=>{S([]),h(e)})(e.target.value)},n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"S"},"Selective")))),"S"===b&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:c,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:k}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{value:u,onChange:e=>d(e.target.value)},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(vl.a,{className:"form-control",selected:y,onChange:e=>O(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:N,onChange:e=>v(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),"1"===t.query&&n.a.createElement(Wa.a,{className:"mt-2"},n.a.createElement(Xa.a,{className:"col-md-4 d-flex align-items-center"},n.a.createElement(i.a,{className:"buttonStyle",variant:"outline-primary",size:"sm",onClick:()=>{S([]),ct()(".loader").show();const a={location:E,locationtype:b,mode:u,frmdate:Ea(y),todate:Ea(N)};null===y||null===N?(ct()(".loader").hide(),f(!0),T("Please fill from-to dates.")):"V"===u?Ye(ke,[e,"repcommissionstatus",JSON.stringify(a)],e=>{ct()(".loader").hide(),S(JSON.parse(e))}):(ct()(".loader").hide(),va(ke,"post",[e,"repcommissionstatus",JSON.stringify(a)]))}},"Generate"),"\xa0\xa0",n.a.createElement("span",null,n.a.createElement(s.a.Check,{checked:D,onChange:e=>L(e.target.checked),type:"checkbox",label:"View Payment Details"})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Creation Date"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"Net Margin(Sale)"),n.a.createElement("th",null,"Total GST"),n.a.createElement("th",null,"Total TDS"),n.a.createElement("th",null,"Total Payable"),n.a.createElement("th",null,"Submitted for Approval"),n.a.createElement("th",null,"BM Approved"),n.a.createElement("th",null,"ZM Approved"),n.a.createElement("th",null,"Payment"),D&&n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Reference No"),n.a.createElement("th",null,"Payment Date"),n.a.createElement("th",null,"Bank Group"),n.a.createElement("th",null,"Bank Account")))),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",{key:e.det_srno+""+e.det_location},n.a.createElement("td",null,e.det_srno),n.a.createElement("td",{style:{backgroundColor:"1"===e.tmp_bank_file_downloaded&&"green"}},e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.det_commission_total),n.a.createElement("td",null,e.det_margin_total),n.a.createElement("td",null,1*e.det_cgst+1*e.det_igst+1*e.det_sgst),n.a.createElement("td",null,e.det_tds),n.a.createElement("td",null,e.det_commission_net),n.a.createElement("td",null,"1"===e.det_submit_approval?"Yes":"No"),n.a.createElement("td",null,"1"===e.det_bm_approved?n.a.createElement(n.a.Fragment,null,"Yes ",n.a.createElement("span",{title:"Approved On "+e.bm_approve_timestamp,style:{marginLeft:"5px"}},n.a.createElement(za.a,{icon:tt.n}))):"No"),n.a.createElement("td",null,"1"===e.det_zm_approved?n.a.createElement(n.a.Fragment,null,"Yes ",n.a.createElement("span",{title:"Approved On "+e.zm_approve_timestamp,style:{marginLeft:"5px"}},n.a.createElement(za.a,{icon:tt.n}))):"No"),n.a.createElement("td",null,"1"===e.tmp_bank_file_downloaded?"Yes":"No"),D&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tmp_ref_no),n.a.createElement("td",null,e.tmp_value_date),n.a.createElement("td",null,e.tmp_from_ftbank_group),n.a.createElement("td",null,e.tmp_from_ftbank_account)),"1"===sessionStorage.getItem("userSrno")&&n.a.createElement("td",null,e.det_bmhdr_srno))))))),n.a.createElement(Ka,{isOpen:C,onClose:e=>f(!1)},j),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var pn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)("1"),[h,g]=Object(l.useState)(new Date),[S,y]=Object(l.useState)(new Date),[O,N]=Object(l.useState)(!0),[v,C]=Object(l.useState)("1"),[f,j]=Object(l.useState)(!1),[T,D]=Object(l.useState)(null),[L,k]=Object(l.useState)(0),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)("A"),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)("");var B=[],q=0;const[V,z]=Object(l.useState)(!1),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)("V"),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)([]);Object(l.useEffect)(()=>{Y||(Ye(_,[a,"all","BILL_WISE_DETAIL_PAYABLE"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),K(!0))},[Y,a,e]);return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Bill Wise Detail ",n.a.createElement("span",{style:{color:"#f8f9fd"}},c)," "))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Report Type"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:p,onChange:e=>(e=>{let a=e.target.value;N(2!=a),b(a)})(e)},n.a.createElement("option",{value:"1"},"Periodic"),n.a.createElement("option",{value:"2"},"Till Date"))),"\xa0",O&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:h,onChange:e=>g(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:S,onChange:e=>y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:H,onChange:e=>W(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Account Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:v,onChange:e=>(e=>{let a=e.target.value;j(2==a),C(e.target.value)})(e)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"2"},"One"))),f&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,0,1),onInputChange:Mt,onChange:e=>{D(e),console.log(e);var a=e.id.split("^");R(a[1]),G(a[2]),J(a[5])}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{k(e),w(a),I(t)}}))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(ct()(".loader").show(),"1"==p&&!h||!S||"2"==v&&null==T||"O"==A&&"0"==L||"S"==A&&x==[])B[q++]=E("MSG0006"),B[q++]=1!=p||h?"":"Please select from date.",B[q++]=S?"":"Please select to date.",B[q++]="2"==v&&null==T?"Please select account .":"",B[q++]="O"==A&&"0"==L?"Please select location.":"",B[q++]="S"==A&&x==[]?"Please select atleast one location.":"",ct()(".loader").hide(),U(ja(B)),z(!0);else{const e={reportType:p,fromDate:Ea(h),toDate:Ea(S),accountType:v,grpCode:M,accountCode:F,accountName:P,radioType:A,location:L,selectedItems:x};"D"===H?va("/api/bill_wise_detail_payable_a.php","post",[a,"getData",JSON.stringify(e)]):Ye("/api/bill_wise_detail_payable_a.php",[a,"viewData",JSON.stringify(e)],e=>{Z("V");const a=JSON.parse(e);ee(a)}),ct()(".loader").hide()}}},"Generate")))):null,"V"===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>Z(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Voucher"),n.a.createElement("th",null,"Traveller"),n.a.createElement("th",null,"Rec Amount"),n.a.createElement("th",null,"Adj Amount"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Account Code"),n.a.createElement("th",null,"Party"))),n.a.createElement("tbody",null,$.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tfd_location),"               ",n.a.createElement("td",null,e.formatted_date),"             ",n.a.createElement("td",null,e.tfd_srno),"                   ",n.a.createElement("td",null,e.bd_first_name," ",e.bd_middle_name," ",e.bd_last_name),"                                      ",n.a.createElement("td",null,e.abs_tfd_amount),"             ",n.a.createElement("td",null,e.abs_tfd_knockoff_amount),"    ",n.a.createElement("td",null,1*e.tfd_amount-1*e.tfd_knockoff_amount),"                         ",n.a.createElement("td",null,e.tfd_group),"                  ",n.a.createElement("td",null,e.tfd_account),"                ",n.a.createElement("td",null,e.entity_name),"                "))))):null),n.a.createElement(Ka,{isOpen:V,onClose:e=>z(!1)},Q),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var bn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(new Date),[u,d]=Object(l.useState)(new Date),[p,b]=Object(l.useState)("1"),[h,g]=Object(l.useState)(""),[S,y]=Object(l.useState)(0),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)("A"),[f,j]=Object(l.useState)(null),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)("");var A=[],I=0;const[M,R]=Object(l.useState)(!1),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)("V"),[V,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)([]);Object(l.useEffect)(()=>{P||(Ye(_,[a,"all","CHEQUE_USED_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),J(!0))},[P,a,e]);return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===V?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cheques Used Report"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:f,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>$t(e,1),onInputChange:Mt,onChange:e=>{j(e);const a=e.id.split("^");D(a[1]),k(a[2]),w(a[3])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:B,onChange:e=>q(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:c,onChange:e=>o(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:u,onChange:e=>d(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Cheque Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:p,onChange:e=>(e=>{const a=e.target.value;b(a)})(e)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"2"},"One"))),"2"==p&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:h,placeholder:"Cheque No.",onChange:e=>na(e.target.value,g)})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{y(e),N(a),C(t)}}))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(ct()(".loader").show(),!c||!u||"2"==p&&""==h||"O"==v&&"0"==S||"S"==v&&O==[]||null==f)A[I++]=E("MSG0006"),A[I++]=c?"":"Please select from date.",A[I++]=u?"":"Please select to date.",A[I++]=null==f?"Please select bank.":"",A[I++]="2"==p&&""==h?"Please enter cheque number .":"",A[I++]="O"==v&&"0"==S?"Please select location.":"",A[I++]="S"==v&&O==[]?"Please select atleast one location.":"",ct()(".loader").hide(),G(ja(A)),R(!0);else{const e={fromDate:Ea(c),toDate:Ea(u),chequeType:p,chequeNum:h,radioType:v,location:S,selectedItems:O,group:T,account:L,accountName:x};"D"===B?va("/api/cheque_used_report_a.php","post",[a,"getData",JSON.stringify(e)]):Ye("/api/cheque_used_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{z("V");const a=JSON.parse(e);U(a)}),ct()(".loader").hide()}}},"Generate")))):null,"V"===V?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>z(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Cheque No."),n.a.createElement("th",null,"Out Date"),n.a.createElement("th",null,"Out Srno"),n.a.createElement("th",null,"Out Type"))),n.a.createElement("tbody",null,Q.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tcbb_location),"       ",n.a.createElement("td",null,e.tcbb_srno),"           ",n.a.createElement("td",null,e.tcbb_type),"           ",n.a.createElement("td",null,e.formatted_date),"      ",n.a.createElement("td",null,e.tcbb_from),"           ",n.a.createElement("td",null,e.formatted_out_date),"  ",n.a.createElement("td",null,e.tcbb_out_srno),"       ",n.a.createElement("td",null,e.tcbb_out_type),"       "))))):null),n.a.createElement(Ka,{isOpen:M,onClose:e=>R(!1)},F),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var hn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(new Date),[u,d]=Object(l.useState)("1"),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)(0),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)("A"),[v,C]=Object(l.useState)(null),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)("V"),[A,I]=Object(l.useState)(""),[M,R]=Object(l.useState)([]);var F=[],G=0;const[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(!1);Object(l.useEffect)(()=>{V||(Ye(_,[a,"all","CHEQUE_IN_HAND_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),z(!0))},[V,a,e]);return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cheques In Hand"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:v,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>$t(e,1),onInputChange:Mt,onChange:e=>{C(e);const a=e.id.split("^");j(a[1]),D(a[2]),k(a[3])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:x,onChange:e=>w(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:c,onChange:e=>o(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Cheque Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:u,onChange:e=>(e=>{const a=e.target.value;d(a)})(e)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"2"},"One"))),"2"==u&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:p,placeholder:"Cheque No.",onChange:e=>na(e.target.value,b)})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{g(e),y(a),N(t)}}))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(ct()(".loader").show(),!c||"2"==u&&""==p||"O"==O&&"0"==h||"S"==O&&S==[]||null==v)F[G++]=E("MSG0006"),F[G++]=c?"":"Please select  date.",F[G++]=null==v?"Please select bank.":"",F[G++]="2"==u&&""==p?"Please enter cheque number .":"",F[G++]="O"==O&&"0"==h?"Please select location.":"",F[G++]="S"==O&&S==[]?"Please select atleast one location.":"",ct()(".loader").hide(),q(ja(F)),J(!0);else{const e={date:Ea(c),chequeType:u,chequeNum:p,radioType:O,location:h,selectedItems:S,group:f,account:T,accountName:L};"D"===x?va("/api/cheque_in_hand_report_a.php","post",[a,"getData",JSON.stringify(e)]):Ye("/api/cheque_in_hand_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{I("V");const a=JSON.parse(e);R(a)}),ct()(".loader").hide()}}},"Generate")))):null,"V"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>I(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),"    ",n.a.createElement("th",null,"Srno"),"        ",n.a.createElement("th",null,"Type"),"        ",n.a.createElement("th",null,"Date"),"        ",n.a.createElement("th",null,"Cheque No."),"  ")),n.a.createElement("tbody",null,M.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tcbb_location," ",e.entity_name),"     ",n.a.createElement("td",null,e.tcbb_srno),"         ",n.a.createElement("td",null,e.tcbb_type),"         ",n.a.createElement("td",null,e.formatted_date),"    ",n.a.createElement("td",null,e.tcbb_from),"         "))))):null),n.a.createElement(Ka,{isOpen:P,onClose:e=>J(!1)},B),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var gn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),c=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),sessionStorage.getItem("branchDisable")),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)("O"),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(new Date),[j,T]=Object(l.useState)(new Date),[D,L]=Object(l.useState)("D"),[k,x]=Object(l.useState)(null),[w,A]=Object(l.useState)("0"),[I,M]=Object(l.useState)("0"),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)("L"),[q,V]=Object(l.useState)("");Object(l.useEffect)(()=>{o||(xa().then(e=>{O(e),null!=e&&z(e)}),Ye(_,[a,"all","REP_LEDGER"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),u(!0))},[o,a,e]);const z=e=>{O(e);const a=e.id.split("^");v(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Report Ledger"))),n.a.createElement(Wa.a,null,"\xa0 "),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:g,onChange:e=>{x(null),M("0"),A("0"),V(""),S(e.target.value),"A"===e.target.value?v(0):xa().then(e=>{O(e),null!=e&&z(e)})},required:!0},n.a.createElement("option",{value:"O"},"One"),n.a.createElement("option",{value:"A"},"All")))),"O"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:z,isDisabled:"true"===c})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:C,onChange:e=>f(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:j,onChange:e=>T(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Report Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:J,onChange:e=>B(e.target.value),isDisabled:!0,required:!0},n.a.createElement("option",{value:"L"},"Ledger"),n.a.createElement("option",{value:"G"},"Group")))),"L"===J?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:k,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,N),onInputChange:Mt,onChange:e=>{x(e);const a=e.id.split("^");A(a[1]),M(a[2]),V(a[3]),F(a[4]),P(a[3])}})))):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(null===k)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null===k?"Select Ledger":"",h(ja(e)),p(!0);else{const e={fromDate:Ea(C),toDate:Ea(j),accCode:I,grpCode:w,locationCode:N,filterLocationType:g,ledgerName:q,locationType:g};Ca("/api/rep_ledger_a.php","post",[a,"downloadreport",JSON.stringify(e)],e=>{ct()(".loader").hide(),h(ja([e])),p(!0)})}}},"Generate")))),n.a.createElement(Ka,{isOpen:d,onClose:e=>p(!1)},b),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Sn=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[d,E]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(1),[k,x]=Object(l.useState)(!0),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)("Q"),[R,F]=Object(l.useState)(!1),[G,P]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)([]);Object(l.useEffect)(()=>{b||(Ye(_,[p,"all","MASTER_SOURCEOFFUND"],function(a){let t=JSON.parse(a);"1"===t.query?O(t):e("/")}),Ye(Fe,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),h(!0))},[b,p,e]);const z=()=>{u(!1),A(!1),x(!0),F(!1)},U=e=>{M("Q"),F(!1),Ye(Fe,[p,"editList",e],e=>{let a=JSON.parse(e);(e=>{const a={source:e.source,status:e.source,remark:e.remark};V([a])})(a),v(a.srno),f(a.source),L(a.status),A(!0),x(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Master Source Of Fund"))),k?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===y.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{v(0),f(""),L(1),M("A"),x(!1),A(!0)}}," Add New"):null,"1"===y.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show(),Ca(Q,"post",[p,JSON.stringify({right:"MASTER_SOURCEOFFUND"})],e=>{ct()(".loader").hide(),c("File Uploaded Successfully"),t(!0)})}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:N,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Source Of Fund",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Source Of Fund",maxLength:100,value:C,onChange:e=>We(e.target.value,f),disabled:"Q"===I,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),required:!0,disabled:"Q"===I},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:j,onChange:e=>We(e.target.value,T),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===I||"E"===I?(E("Do you really want to exit ?"),u(!0)):z())},"Back"),"\xa0\xa0","1"===y.edit&&"Q"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void M("E")},"Edit"),"\xa0"):null,"1"===y.edit&&"E"===I||"1"===y.add&&"A"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),""===C)ct()(".loader").hide(),c("Please fill Source Of Fund!"),t(!0);else if("E"===I&&""===j)ct()(".loader").hide(),c("Please fill Remark!"),t(!0);else{var e={source:C,status:D,branch:0,activitytype:1*N>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MSOF",trannumber:N,subtranno:0,remark:j};const a=Ja(q,[e]);"1"===y.edit&&"E"===I&&B(Ba(J,a,"MSOF")),Ye(Fe,[p,"savelist",N,JSON.stringify(e),JSON.stringify(J)],e=>{let a=JSON.parse(e);ct()(".loader").hide(),""===a.err?(A(!1),x(!0),T(""),Ye(Fe,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),B([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==y.query||"E"!==I&&"Q"!==I?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(F(!0),void P({trantype:"MSOF",trannumber:N,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:G,show:R,onHide:()=>F(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===y.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Source Of Fund"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",{key:e.msf_srno},"1"===y.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>U(e.msf_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.msf_srno),n.a.createElement("td",null,e.msf_source_of_fund),n.a.createElement("td",null,1==e.msf_status?"ACTIVE":"INACTIVE"))))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:o,onYes:e=>z(),onNo:e=>u(!1)},d)))};var yn=function(){const e=Object(m.n)(),[a,t]=Object(l.useState)(!1),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[d,E]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(1),[k,x]=Object(l.useState)(!0),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)("Q"),[R,F]=Object(l.useState)(!1),[G,P]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)([]);Object(l.useEffect)(()=>{b||(Ye(_,[p,"all","MASTER_VISATYPE"],function(a){let t=JSON.parse(a);"1"===t.query?O(t):e("/")}),Ye(Ge,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),h(!0))},[b,p,e]);const z=()=>{u(!1),A(!1),x(!0),F(!1)},U=e=>{M("Q"),F(!1),Ye(Ge,[p,"editList",e],e=>{let a=JSON.parse(e);(e=>{V([{visa:C,status:D,remark:""}])})(),v(a.srno),f(a.visa),L(a.status),A(!0),x(!1)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Visa Type"))),k?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===y.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{v(0),f(""),L(1),M("A"),x(!1),A(!0)}}," Add New"):null,"1"===y.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show(),Ca(Q,"post",[p,JSON.stringify({right:"MASTER_VISATYPE"})],e=>{ct()(".loader").hide(),c("File Uploaded Successfully"),t(!0)})}},"Export")):null)):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"divContentCenter"},n.a.createElement("div",{className:"maxFormWidth"},n.a.createElement(s.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Serial Number",value:N,disabled:!0}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Visa Type",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Visa Type",maxLength:100,value:C,onChange:e=>We(e.target.value,f),disabled:"Q"===I,autoComplete:"off"}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),required:!0,disabled:"Q"===I},n.a.createElement("option",{value:"1"},"Active"),n.a.createElement("option",{value:"0"},"Inactive"))))),"E"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Remark",maxLength:50,value:j,onChange:e=>We(e.target.value,T),autoComplete:"off",required:!0}))),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0"))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===I||"E"===I?(E("Do you really want to exit ?"),u(!0)):z())},"Back"),"\xa0\xa0","1"===y.edit&&"Q"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void M("E")},"Edit"),"\xa0"):null,"1"===y.edit&&"E"===I||"1"===y.add&&"A"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),""===C)ct()(".loader").hide(),c("Please fill Source Of Fund!"),t(!0);else if("E"===I&&""===j)ct()(".loader").hide(),c("Please fill Remark!"),t(!0);else{var e={visa:C,status:D,branch:0,activitytype:1*N>0?"MODIFY":"CREATE",trancategory:"M",trantype:"MVT",trannumber:N,subtranno:0,remark:j};const a=Ja(q,[e]);"1"===y.edit&&"E"===I&&B(Ba(J,a,"MVT")),Ye(Ge,[p,"savelist",N,JSON.stringify(e),JSON.stringify(J)],e=>{let a=JSON.parse(e);ct()(".loader").hide(),""===a.err?(A(!1),x(!0),T(""),Ye(Ge,[p,"getList"],e=>{let a=JSON.parse(e);S(a)}),B([])):(c(a.err),t(!0))})}})()},"Save"),"\xa0"):null,"1"!==y.query||"E"!==I&&"Q"!==I?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(F(!0),void P({trantype:"MVT",trannumber:N,trancategory:"M"}))},"Activity Log"),"\xa0"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))))),n.a.createElement(Wa.a,null,n.a.createElement(bt,{logObject:G,show:R,onHide:()=>F(!1)}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===y.edit?n.a.createElement("th",null):null,n.a.createElement("th",{className:"textRight"},"Sr No"),n.a.createElement("th",null,"Visa Type"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",{key:e.mvt_srno},"1"===y.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>U(e.mvt_srno)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",{className:"textRight"},e.mvt_srno),n.a.createElement("td",null,e.mvt_visa_type),n.a.createElement("td",null,1==e.mvt_status?"ACTIVE":"INACTIVE"))))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:a,onClose:e=>t(!1)},r),n.a.createElement(St,{isOpen:o,onYes:e=>z(),onNo:e=>u(!1)},d)))};var On=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)("T"),[h,g]=Object(l.useState)(new Date),[S,y]=Object(l.useState)(new Date),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)("A"),[f,j]=Object(l.useState)(!1),[T,D]=Object(l.useState)(null),[L,k]=Object(l.useState)(0),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)("A"),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)("");var B=[],q=0;const[V,z]=Object(l.useState)(!1),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)("V"),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)([]);Object(l.useEffect)(()=>{Y||(Ye(_,[a,"all","REP_FIN_RECV_BILL_WISE_DETAIL"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),K(!0))},[Y,a,e]);return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Receivable Bill Wise Detail ",n.a.createElement("span",{style:{color:"#f8f9fd"}},c)," "))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Report Type"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:p,onChange:e=>(e=>{let a=e.target.value;N("T"!=a),b(a)})(e)},n.a.createElement("option",{value:"P"},"Periodic"),n.a.createElement("option",{value:"T"},"Till Date"))),"\xa0",O&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:h,onChange:e=>g(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:S,onChange:e=>y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:H,onChange:e=>W(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Account Filter"),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:v,onChange:e=>(e=>{let a=e.target.value;j("O"==a),C(e.target.value)})(e)},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One"))),f&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:T,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,0,1),onInputChange:Mt,onChange:e=>{D(e),console.log(e);var a=e.id.split("^");R(a[1]),G(a[2]),J(a[5])}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{k(e),w(a),I(t)}}))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(ct()(".loader").show(),"P"==p&&!h||!S||"O"==v&&null==T||"O"==A&&"0"==L||"S"==A&&x==[])B[q++]=E("MSG0006"),B[q++]="P"!=p||h?"":"Please select from date.",B[q++]=S?"":"Please select to date.",B[q++]="O"==v&&null==T?"Please select account .":"",B[q++]="O"==A&&"0"==L?"Please select location.":"",B[q++]="S"==A&&x==[]?"Please select atleast one location.":"",ct()(".loader").hide(),U(ja(B)),z(!0);else{const e={reportType:p,fromDate:Ea(h),toDate:Ea(S),accountType:v,grpCode:M,accountCode:F,accountName:P,radioType:A,location:L,selectedItems:x.join()};"D"===H?va("/api/rep_fin_recv_bill_wise_detail_a.php","post",[a,"getData",JSON.stringify(e)]):Ye("/api/rep_fin_recv_bill_wise_detail_a.php",[a,"viewData",JSON.stringify(e)],e=>{Z("V");const a=JSON.parse(e);ee(a)}),ct()(".loader").hide()}}},"Generate")))):null,"V"===X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>Z(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"Receivable Bill Wise Detail : ","P"===p?" From "+pa(h)+" To "+pa(S):" Till Date "+pa(S))),n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Group Code"),n.a.createElement("th",null,"Account Code"),n.a.createElement("th",null,"Party"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Voucher"),n.a.createElement("th",null,"Traveller"),n.a.createElement("th",null,"Rec Amount"),n.a.createElement("th",null,"Adj Amount"),n.a.createElement("th",null,"Balance"),n.a.createElement("th",null,"Lapse Days"))),n.a.createElement("tbody",null,$.map((e,a)=>n.a.createElement(n.a.Fragment,null,Object(Va.a)(e.erow)))))):null),n.a.createElement(Ka,{isOpen:V,onClose:e=>z(!1)},Q),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Nn=()=>{sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate");const e=sessionStorage.getItem("branchDisable"),a=Object(m.n)(),t=sessionStorage.getItem("sessionId"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(new Date),[d,p]=Object(l.useState)(new Date),[b,h]=Object(l.useState)("L"),[g,S]=Object(l.useState)("A"),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)("A"),[C,f]=Object(l.useState)(!0),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(null),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)(!1),[G,P]=Object(l.useState)(null),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)([]),[U,Y]=Object(l.useState)("D"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)("A"),[ee,ae]=Object(l.useState)(0),[te,le]=Object(l.useState)(null),[ne,re]=Object(l.useState)(!1);var ce=[],oe=0;Object(l.useEffect)(()=>{ne||(xa().then(e=>{le(e),null!=e&&me(e)}),Ye(_,[t,"all","TRIAL_BALANCE"],function(e){let t=JSON.parse(e);"1"===t.query?c(t):a("/")}),re(!0))},[ne,t,a]);const me=e=>{le(e);const a=e.id.split("^");ae(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===K?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Trial Balance",n.a.createElement("span",{style:{color:"#f8f9fd"}},y)," "))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:U,onChange:e=>Y(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Download"),n.a.createElement("option",{value:"V"},"View"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Z,onChange:e=>$(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===Z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:te,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:me,isDisabled:"true"===e})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:o,onChange:e=>u(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:d,onChange:e=>p(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,"G"==b?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Group Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:g,onChange:e=>(e=>{const a=e.target.value;S(a),F("G"==b&&"O"==a)})(e)},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One"))):null,"O"===g&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Group",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:k,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Zt(e,""),onInputChange:Mt,onChange:e=>{x(e),console.log(e);var a=e.id.split("^");A(a[1]),"G"==b&&"O"==g&&(M(a[1]),Q([]),P(""))}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{label:"Account with zero balance",type:"checkbox",checked:C,onChange:e=>(e=>{let a=e.target.checked;e.target.value,f(a)})(e)}))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(ct()(".loader").show(),null==o||null==d||"G"==b&&"O"==g&&null==k||"L"==b&&"O"==g&&null==G)ce[oe++]=E("MSG0006"),ce[oe++]=null==o?"Please select from date.":"",ce[oe++]=null==d?"Please select to date.":"",ce[oe++]="G"==b&&"O"==g&&null==k?"Please select group.":"",ct()(".loader").hide(),L(ja(ce)),T(!0);else{const e={locationType:Z,location:ee,fromDate:Ea(o),toDate:Ea(d),fromDateDMY:pa(o),toDateDMY:pa(d),typeGroupLedger:b,groupFilter:g,radioType:N,checkItem:C,group:w};console.log(e),"D"===U?Ca("/api/trial_balance_a.php","post",[t,"download",JSON.stringify(e)],e=>{ct()(".loader").hide(),L(ja([e])),T(!0)}):Ye("/api/trial_balance_a.php",[t,"viewdata",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate")))):null,"V"===K?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>H(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Group Name"),n.a.createElement("th",null,"Opn Dr"),n.a.createElement("th",null,"Opn Cr"),n.a.createElement("th",null,"Per Dr"),n.a.createElement("th",null,"Per Cr"))),n.a.createElement("tbody",null,W.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.mvg_srno),"           ",n.a.createElement("td",null,e.mvg_group_name),"     ",n.a.createElement("td",null,e.total_opn),"          ",n.a.createElement("td",null,e.total_opn),"          ",n.a.createElement("td",null,e.Total_Amount),"       ",n.a.createElement("td",null,e.Total_Amount),"       "))))):null),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var vn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)(new Date),[N,v]=Object(l.useState)("D"),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)([]),[D,L]=Object(l.useState)("O"),[k,x]=Object(l.useState)("I"),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)("A");Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","REP_CHEQUE_UTILIZATION"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Cheque Utilization"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"I"},"In Hand"),n.a.createElement("option",{value:"U"},"Used")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Options",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===G?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK",C),onInputChange:Mt,onChange:e=>{F(e)}}))):null,n.a.createElement(Wa.a,null,"I"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null,"U"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:y,onChange:e=>O(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{f(e),T(a),L(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if("O"===D&&"0"===C||"S"==D&&j==[]||"O"===G&&null===R)e[t++]="O"==D&&"0"==C?"Please select location.":"",e[t++]="S"==D&&j==[]?"Please select atleast one location.":"",e[t++]="O"===G&&null===R?"Please select Bank.":"",ct()(".loader").hide(),p(ja(e)),d(!0);else{var l=null;"O"===G&&(l=R.id.split("^"));const e={utilizationType:k,tillDate:pa(b),fromDate:pa(g),toDate:pa(y),type:N,radioTypeLocation:D,location:C,multipleLocation:j,tillDateDMY:pa(b),fromDateDMY:pa(g),toDateDMY:pa(y),groupCode:null===l?0:l[1],accountCode:null===l?0:l[2],bankOption:G};"I"===k?"D"===N?Ca("/api/cheque_utilization_a.php","post",[a,"inHandDownloadReport",JSON.stringify(e)],e=>{console.log("this is result ",e),ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("/api/cheque_utilization_a.php",[a,"inHandViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"D"===N?Ca("/api/cheque_utilization_a.php","post",[a,"usedDownloadReport",JSON.stringify(e)],e=>{ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("/api/cheque_utilization_a.php",[a,"usedViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0"),"V"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>A(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"In Type"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"In Date"),n.a.createElement("th",null,"Out Date"),n.a.createElement("th",null,"Out Serial no."),n.a.createElement("th",null,"Out Type"))),n.a.createElement("tbody",null,I.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tmb_location+e.entity_name),n.a.createElement("td",null,e.tmb_type),n.a.createElement("td",null,e.tmb_prefix),n.a.createElement("td",null,e.tmb_date),n.a.createElement("td",null,e.tmbb_out_date),n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.tmbb_out_type)))))):null),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Cn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)("V"),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)("O"),[j,T]=Object(l.useState)("P"),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)("D"),[w,A]=Object(l.useState)("A"),[I,M]=Object(l.useState)(null),[R,F]=Object(l.useState)("0"),[G,P]=Object(l.useState)("0");Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","REP_MIS_VTM_FOR_SETTLEMENTG"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Outstanding CMRP"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"CMR Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:j,onChange:e=>T(e.target.value),required:!0},n.a.createElement("option",{value:"P"},"Payable"),n.a.createElement("option",{value:"R"},"Recievable")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Report Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Detail"),n.a.createElement("option",{value:"S"},"Summary"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:w,onChange:e=>A(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===w?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,y),onInputChange:Mt,onChange:e=>{M(e);const a=e.id.split("^");F(a[1]),P(a[2])}}))):null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:g,onChange:e=>S(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{O(e),v(a),f(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if("O"===C&&"0"===y||"S"==C&&N==[])e[t++]="O"==C&&"0"==y?"Please select location.":"",e[t++]="S"==C&&N==[]?"Please select atleast one location.":"",p(ja(e)),d(!0);else{const e={cmrType:j,tillDate:pa(b),type:g,radioTypeLocation:C,location:y,multipleLocation:N,tillDateDMY:pa(b),filterReportType:k,filterLedgerType:w,groupCode:R,accountCode:G};"D"===g?Ca("/api/rep_outstanding_cmrp_a.php","post",[a,"outstandingDownloadReport",JSON.stringify(e)],e=>{ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("/api/rep_outstanding_cmrp_a.php",[a,"outstandingViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var _n=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("A"),[D,L]=Object(l.useState)("V"),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)(),[R,F]=Object(l.useState)("MINDP"),[G,P]=Object(l.useState)("A"),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)([]),[z,Q]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(0),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)("M");Object(l.useEffect)(()=>{t||(xa().then(e=>{H(e),null!=e&&Z(e)}),Ye(_,[a,"all","TRAN_AUDIT_TRAIL"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);const Z=e=>{H(e);var a=e.id.split("^");v(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null," Acitivity Log Report"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if("O"===j&&"0"===N||"S"==j&&C==[])e[t++]="O"==j&&"0"==N?"Please select location.":"",e[t++]="S"==j&&C==[]?"Please select atleast one location.":"",p(ja(e)),d(!0);else{const e={fromDate:Ea(b),fromDate1:pa(b),toDate:Ea(g),toDate1:pa(g),type:D,radioTypeLocation:j,location:N,multipleLocation:C,tranNumber:I,tranType:R,logType:G,category:W};"D"===D?va("/api/activitylog_report_a.php","post",[a,"downloadAudit",JSON.stringify(e)]):Ye("/api/activitylog_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{x("V");const a=JSON.parse(e);B(a)})}}},"Generate"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Category",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:W,onChange:e=>{X(e.target.value),"M"==e.target.value?F("MINDP"):F("PP")},required:!0},n.a.createElement("option",{value:"M"},"Master"),n.a.createElement("option",{value:"T"},"Transaction"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Log  ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One"))))),"A"===G?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),"T"==W?n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{console.log(e),v(e),f(a),T(t)}})):null):null,n.a.createElement(Wa.a,null,"\xa0"),"O"===G?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"formBasicText"},n.a.createElement(s.a.Label,null,"Transaction Number"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Enter Transraction Number ",value:I,onChange:e=>M(e.target.value)}))),"T"==W?n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Z}))):null):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Type  ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:R,onChange:e=>F(e.target.value),required:!0},"T"==W?n.a.createElement(n.a.Fragment,null,n.a.createElement("option",{value:"MINDP"},"Master Individual Profile"),n.a.createElement("option",{value:"PP"},"Purchase Public"),n.a.createElement("option",{value:"SP"},"Sale Public"),n.a.createElement("option",{value:"PB"},"Purchase Bulk"),n.a.createElement("option",{value:"SB"},"Sale Bulk"),n.a.createElement("option",{value:"PINV"},"Purchase Invoice"),n.a.createElement("option",{value:"VTMIN"},"Transfer In VTM"),n.a.createElement("option",{value:"MNLBK"},"TransferIn ManualBook"),n.a.createElement("option",{value:"VTMOUT"},"Transfer Out VTM"),n.a.createElement("option",{value:"CNOUT"},"Transfer Out Currency"),n.a.createElement("option",{value:"CNWOFF"},"Currency WriteOff"),n.a.createElement("option",{value:"CNCHNG"},"Currency Change")):n.a.createElement(n.a.Fragment,null,n.a.createElement("option",{value:"MINDP"},"Master Individual Profile"),n.a.createElement("option",{value:"MRISK"},"Master Risk"),n.a.createElement("option",{value:"MBN"},"Master Bank"),n.a.createElement("option",{value:"MLGET"},"Master Legal Entity"),n.a.createElement("option",{value:"MGSTC"},"Master GST"),n.a.createElement("option",{value:"MSME"},"Master MSME"),n.a.createElement("option",{value:"MVGRP"},"Master Voucher Group"),n.a.createElement("option",{value:"MVLGD"},"Master Voucher Ledger"),n.a.createElement("option",{value:"MUSER"},"Master User "),n.a.createElement("option",{value:"REGN"},"Master Region List "),n.a.createElement("option",{value:"MCC"},"Master Country Class "),n.a.createElement("option",{value:"MCNT"},"Master Country List "),n.a.createElement("option",{value:"MDST"},"Master District "),n.a.createElement("option",{value:"MCITY"},"Master CityList "),n.a.createElement("option",{value:"MDVSN"},"Master Division "),n.a.createElement("option",{value:"MCSC"},"Master Cost Centre "),n.a.createElement("option",{value:"MDESG"},"Master Designation "),n.a.createElement("option",{value:"MEXEC"},"Master Executive "),n.a.createElement("option",{value:"MISUR"},"Master Issuer "))))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download")))))):null,"V"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>x(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User ID"),n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Timestamp"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Transaction Type"),n.a.createElement("th",null,"Transaction Number"),n.a.createElement("th",null,"Activity"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,J.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.lg_usersrno),n.a.createElement("td",null,e.um_username),n.a.createElement("td",null,e.lg_remark),n.a.createElement("td",null,e.lg_date),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.lg_tran_type),n.a.createElement("td",null,e.lg_tran_number),n.a.createElement("td",null,e.lg_activity_type),n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>(e=>{Y(e),ct()(".loader").show(),Q(!0);const t={logno:e,category:W,type:D,radioTypeLocation:j,location:N,multipleLocation:C,tranNumber:I,tranType:R,logType:G};Ye("/api/activitylog_report_a.php",[a,"viewAuditTrail",JSON.stringify(t)],e=>{x("V");const a=JSON.parse(e);ct()(".loader").hide(),""===JSON.parse(e)?(alert("Select Individual First "),V("")):V(a)})})(e.lg_logno),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))))))):null,n.a.createElement(pt.a,{show:z,size:"xl",onHide:()=>Q(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"Audit Trail Info"),n.a.createElement("span",null,"\xa0"),n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>{const e={fromDate:Ea(b),fromDate1:pa(b),toDate:Ea(g),toDate1:pa(g),type:D,radioTypeLocation:j,location:N,multipleLocation:C,tranNumber:I,tranType:R,category:W,logno:U,type:D};va("/api/activitylog_report_a.php","post",[a,"downloadAudit",JSON.stringify(e)])}},n.a.createElement(za.a,{icon:Cl.faDownload})))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>{Q(!1)},variant:"outline-danger",size:"sm",className:"buttonStyle"},"Back")),n.a.createElement(Xa.a,null),n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Activity Type"),n.a.createElement("th",null,"Tab Type"),n.a.createElement("th",null,"Description"))),n.a.createElement("tbody",null,q.map((e,a)=>{const t=(e=>{const a=e.split("^"),t={};return a.forEach(e=>{const[a,l]=e.split(":");t[a]=l}),t})(e.tat_description),l=Object.keys(t);return n.a.createElement("tr",{key:a},n.a.createElement("td",null,"A"==e.tat_activity_type?"Add":"Delete"),n.a.createElement("td",null,e.tat_tab),n.a.createElement("td",null,n.a.createElement(Et.a,{bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("th",{key:a},e)))),n.a.createElement("tbody",null,n.a.createElement("tr",null,l.map((e,a)=>n.a.createElement("td",{key:a},t[e])))))))}))))))),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var fn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)(new Date),[N,v]=Object(l.useState)("D"),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)([]),[D,L]=Object(l.useState)("O"),[k,x]=Object(l.useState)("S"),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","MANUAL_BOOK_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Manual Book Report"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"S"},"In Stock"),n.a.createElement("option",{value:"U"},"Used")))),"S"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null,"U"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:y,onChange:e=>O(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{f(e),T(a),L(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if("O"===D&&"0"===C||"S"==D&&j==[])e[t++]="O"==D&&"0"==C?"Please select location.":"",e[t++]="S"==D&&j==[]?"Please select atleast one location.":"",p(ja(e)),d(!0);else{const e={manualType:k,tillDate:pa(b),fromDate:pa(g),toDate:pa(y),type:N,radioTypeLocation:D,location:C,multipleLocation:j,tillDateDMY:pa(b),fromDateDMY:pa(g),toDateDMY:pa(y)};"S"===k?"D"===N?Ca("/api/manual_book_report_a.php","post",[a,"inStockDownloadReport",JSON.stringify(e)],e=>{console.log("this is result ",e),ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("/api/manual_book_report_a.php",[a,"inStockViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"D"===N?Ca("/api/manual_book_report_a.php","post",[a,"usedDownloadReport",JSON.stringify(e)],e=>{ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("/api/manual_book_report_a.php",[a,"usedViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0"),"V"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>A(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"In Type"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"In Date"),n.a.createElement("th",null,"Out Date"),n.a.createElement("th",null,"Out Serial no."),n.a.createElement("th",null,"Out Type"))),n.a.createElement("tbody",null,I.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tmb_location+e.entity_name),n.a.createElement("td",null,e.tmb_type),n.a.createElement("td",null,e.tmb_prefix),n.a.createElement("td",null,e.tmb_date),n.a.createElement("td",null,e.tmbb_out_date),n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.tmbb_out_type)))))):null),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var jn=()=>{var e;const a=Object(m.n)(),t=null===(e=Object(m.l)().state)||void 0===e?void 0:e.dropdownType,r=sessionStorage.getItem("sessionId"),[c,o]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[u,d]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("D"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("O"),[D,L]=Object(l.useState)("B"),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)("G"),[R,F]=Object(l.useState)("A"),[G,P]=Object(l.useState)(null);Object(l.useEffect)(()=>{c||(Ye(_,[r,"all","GLOBAL"===t?"REP_MIS_VTM_FOR_SETTLEMENT_GLOBAL":"REP_MIS_VTM_FOR_SETTLEMENT_LOCAL"],function(e){let t=JSON.parse(e);"1"===t.query?d(t):a("/")}),o(!0))},[c,r,a]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Report VTM/EVTM Settlement"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Level",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{disabled:!0,value:I,onChange:e=>M(e.target.value),required:!0},"GLOBAL"===t?n.a.createElement("option",{value:"G"},"Global"):n.a.createElement("option",{value:"L"},"Local")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),required:!0},n.a.createElement("option",{value:"B"},"Both"),n.a.createElement("option",{value:"V"},"VTM"),n.a.createElement("option",{value:"E"},"EVTM")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer Options",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:R,onChange:e=>F(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===R?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:G,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",N),onInputChange:Mt,onChange:e=>{P(e)}}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:y,onChange:e=>O(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],a=0;if("O"===j&&"0"===N||"S"==j&&C==[])e[a++]="O"==j&&"0"==N?"Please select location.":"",e[a++]="S"==j&&C==[]?"Please select atleast one location.":"",h(ja(e)),p(!0);else{var l=null;"O"===R&&(l=G.id.split("^"));const e={settlementType:D,tillDate:Ea(g),type:y,radioTypeLocation:j,location:N,multipleLocation:C,tillDateDMY:pa(g),repLevel:"GLOBAL"===t?"G":"L",issuerOption:R,selectedIssuer:G,groupCode:null===l?0:l[1],accountCode:null===l?0:l[2]};"D"===y?Ca("/api/rep_vtm_settlement_a.php","post",[r,"settlementDownloadReport",JSON.stringify(e)],e=>{console.log("this is result ",e),ct()(".loader").hide(),h(ja([e])),p(!0)}):Ye("/api/rep_vtm_settlement_a.php",[r,"settlementViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0"),"V"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>x(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"In Type"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"In Date"),n.a.createElement("th",null,"Out Date"),n.a.createElement("th",null,"Out Serial no."),n.a.createElement("th",null,"Out Type"))),n.a.createElement("tbody",null,w.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tmb_location+e.entity_name),n.a.createElement("td",null,e.tmb_type),n.a.createElement("td",null,e.tmb_prefix),n.a.createElement("td",null,e.tmb_date),n.a.createElement("td",null,e.tmbb_out_date),n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.tmbb_out_type)))))):null),n.a.createElement(Ka,{isOpen:E,onClose:e=>p(!1)},b),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Tn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("A"),[D,L]=Object(l.useState)("V"),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","TRAN_PAYMENT_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Tran Payment Module Report"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if("O"===j&&"0"===N||"S"==j&&C==[])e[t++]="O"==j&&"0"==N?"Please select location.":"",e[t++]="S"==j&&C==[]?"Please select atleast one location.":"",p(ja(e)),d(!0);else{const e={fromDate:Ea(b),fromDate1:pa(b),toDate:Ea(g),toDate1:pa(g),type:D,radioTypeLocation:j,location:N,multipleLocation:C};"D"===D?va("/api/tran_payment_report_a.php","post",[a,"getData",JSON.stringify(e)]):Ye("/api/tran_payment_report_a.php",[a,"getData",JSON.stringify(e)],e=>{x("V");const a=JSON.parse(e);A(a)})}}},"Generate"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}})))):null,"V"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>x(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Serial Number"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Reference Number"),n.a.createElement("th",null,"Request Date"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Remark"),n.a.createElement("th",null,"Pay Category"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"IFSC Code"),n.a.createElement("th",null,"Encashment Type"),n.a.createElement("th",null,"Encashment Number"),n.a.createElement("th",null,"From Bank Group"),n.a.createElement("th",null,"From Bank Account"),n.a.createElement("th",null,"To Bank Group"),n.a.createElement("th",null,"To Bank Account"),n.a.createElement("th",null,"Depositor Name"),n.a.createElement("th",null,"Transaction Desc"),n.a.createElement("th",null,"Relationship Manager"),n.a.createElement("th",null,"Document Collected"),n.a.createElement("th",null,"Approval Level 1"),n.a.createElement("th",null,"Approval Level 2"),n.a.createElement("th",null,"Downloaded Bank File"),n.a.createElement("th",null,"Active"),n.a.createElement("th",null,"GST"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"Net Payable"),n.a.createElement("th",null,"Other Charges"),n.a.createElement("th",null,"Party Group"),n.a.createElement("th",null,"Party Account"),n.a.createElement("th",null,"Download New Fa"),n.a.createElement("th",null,"Value Date"),n.a.createElement("th",null,"User"),n.a.createElement("th",null,"Checker1"),n.a.createElement("th",null,"Checker2"),n.a.createElement("th",null,"Checker1 Timestamp"),n.a.createElement("th",null,"Checker2 Timestamp"),n.a.createElement("th",null,"To Location"))),n.a.createElement("tbody",null,w.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tmp_srno),n.a.createElement("td",null,e.tmp_location),n.a.createElement("td",null,e.tmp_ref_no),n.a.createElement("td",null,e.tmp_request_date),n.a.createElement("td",null,e.tmp_type),n.a.createElement("td",null,e.tmp_remark),n.a.createElement("td",null,e.tpc_name),n.a.createElement("td",null,e.tmp_amount),n.a.createElement("td",null,e.tmp_account_name),n.a.createElement("td",null,e.tmp_account_number),n.a.createElement("td",null,e.tmp_ifsc),n.a.createElement("td",null,e.tmp_encashment_type),n.a.createElement("td",null,e.tmp_encashment_number),n.a.createElement("td",null,e.tmp_from_ftbank_group),n.a.createElement("td",null,e.tmp_from_ftbank_account),n.a.createElement("td",null,e.tmp_to_ftbank_group),n.a.createElement("td",null,e.tmp_to_ftbank_account),n.a.createElement("td",null,e.tmp_tpdepositor_name),n.a.createElement("td",null,e.tmp_tptransaction_desc),n.a.createElement("td",null,e.tmp_tprelationship_manager),n.a.createElement("td",null,e.tmp_document_collected),n.a.createElement("td",null,e.tmp_approval_level1),n.a.createElement("td",null,e.tmp_approval_level2),n.a.createElement("td",null,e.tmp_bank_file_downloaded),n.a.createElement("td",null,e.tmp_active),n.a.createElement("td",null,e.tmp_gst),n.a.createElement("td",null,e.tmp_tds),n.a.createElement("td",null,e.tmp_netpayable),n.a.createElement("td",null,e.tmp_othcharges),n.a.createElement("td",null,e.tmp_party_group),n.a.createElement("td",null,e.tmp_party_account),n.a.createElement("td",null,e.tmp_download_new_fa),n.a.createElement("td",null,e.tmp_value_date),n.a.createElement("td",null,e.tmp_user),n.a.createElement("td",null,e.tmp_checker1),n.a.createElement("td",null,e.tmp_checker2),n.a.createElement("td",null,e.tmp_checker1_timestamp),n.a.createElement("td",null,e.tmp_checker2_timestamp),n.a.createElement("td",null,e.tmp_to_location)))))):null),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Dn=e=>{let{type:a,onDataFromChild:t}=e;const r=sessionStorage.getItem("sessionId"),c=Object(m.n)(),[o,u]=Object(l.useState)([]),[i,d]=Object(l.useState)([]),[E,p]=Object(l.useState)("A"),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)("");Object(l.useEffect)(()=>{Ye(_,[r,"all","REPORTS"],function(e){let a=JSON.parse(e);"1"===a.query?u(a):c("/")}),"location"==a?Ye(de,[r,"location"],e=>{let a=JSON.parse(e);O(a)}):"currency"==a?Ye(de,[r,"currency"],e=>{let a=JSON.parse(e);O(a)}):"product"===a?O([{label:"CN",id:"CN"},{label:"VTM",id:"VTM"},{label:"EVTM",id:"EVTM"}]):"transaction"===a&&O([{label:"Purchase From Public",id:"PP"},{label:"Purchase Bulk",id:"PB"},{label:"Sale Bulk",id:"SB"},{label:"Sale To Public",id:"SP"}]),t(a,i.toString(),E)},[i]);const C=e=>{p(e),h(null),S(0),d([])};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"A"===E,onChange:()=>C("A"),type:"radio",label:"All"}),"\xa0",n.a.createElement(s.a.Check,{checked:"S"===E,onChange:()=>C("S"),type:"radio",label:"Selective"}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},"A"===E?null:n.a.createElement("div",{style:{border:"1px solid black",minHeight:"260px",width:"224px"}},n.a.createElement("div",{style:{backgroundColor:"lightblue",color:"white",padding:"0 0 0 10px"}},n.a.createElement("h3",null,(e=>({currency:"Currency",location:"Location",product:"Product",transaction:"Transaction"})[e]||"")(a))),n.a.createElement("div",{style:{height:"179px",overflow:"auto",padding:"5px 10px"}},y.map((e,t)=>n.a.createElement("div",{key:t,className:"mb-3"},n.a.createElement(s.a.Check,{label:"location"==a?e.entity:"currency"==a?e.isd:e.label,type:"checkbox",value:"location"==a?e.entity_id:"currency"==a?e.isd_code:e.id,onChange:e=>(e=>{let a=e.target.checked,t=e.target.value;d(e=>a?[...e,t]:e.filter(e=>e!==t))})(e)}))))))))};var Ln=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(new Date),[u,d]=Object(l.useState)(new Date),[p,b]=Object(l.useState)(0),[h,g]=Object(l.useState)([]),[S,y]=Object(l.useState)("A"),[O,N]=Object(l.useState)(0),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)("A"),[T,D]=Object(l.useState)(0),[L,k]=Object(l.useState)([]),[x,w]=Object(l.useState)("A"),[A,I]=Object(l.useState)(0),[M,R]=Object(l.useState)([]),[F,G]=Object(l.useState)("A"),[P,J]=Object(l.useState)(!1),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(!1),[Q,U]=Object(l.useState)("V"),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)([]);var X=[],Z=0;Object(l.useEffect)(()=>{V||(Ye(_,[a,"all","TRANSACTION_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),z(!0))},[V,a,e]);const $=(e,a,t)=>{"location"==e?(g(a),y(t)):"currency"==e?(C(a),j(t)):"transaction"==e?(k(a),w(t)):"product"==e&&(R(a),G(t))};console.log(h),console.log(S);return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Transaction Report"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(!c||!u||"O"==S&&"0"==p||"S"==S&&h==[]||"O"==f&&"0"==O||"S"==f&&v==[]||"S"===x&&0===L.length||"S"===F&&0===M.length)X[Z++]=E("MSG0006"),X[Z++]="O"==S&&"0"==p?"Please select location.":"",X[Z++]="S"==S&&h==[]?"Please select atleast one location.":"",X[Z++]="O"==f&&"0"==O?"Please select currency.":"",X[Z++]="S"==f&&v==[]?"Please select atleast one currency.":"",X[Z++]="S"===x&&0===L.length?"Please select atleast one transaction type.":"",X[Z++]="S"===F&&0===M.length?"Please select atleast one product type.":"",X[Z++]=c?"":"Please select from date.",X[Z++]=u?"":"Please select to date.",q(ja(X)),J(!0);else{const e={fromDate:pa(c),toDate:pa(u),radioTypeLocation:S,multipleLocation:h,radioTypeCurrency:f,multipleCurrency:v,radioTypeTransaction:x,multipleTransaction:L,radioTypeProduct:F,multipleProduct:M};"D"===Q?va("/api/transaction_report_a.php","post",[a,"getData",JSON.stringify(e)]):Ye("/api/transaction_report_a.php",[a,"viewData",JSON.stringify(e)],e=>{K("V");const a=JSON.parse(e);W(a)})}}},"Generate"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:c,onChange:e=>o(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:u,onChange:e=>d(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Q,onChange:e=>U(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Dn,{type:"location",onDataFromChild:$})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Currency Filter"),n.a.createElement("br",null),n.a.createElement(Dn,{type:"currency",onDataFromChild:$})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Transaction Filter"),n.a.createElement("br",null),n.a.createElement(Dn,{type:"transaction",onDataFromChild:$})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Product Filter"),n.a.createElement("br",null),n.a.createElement(Dn,{type:"product",onDataFromChild:$})))):null,"V"===Y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>K(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Purchase"),n.a.createElement("th",null,"Transaction"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Deno"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Net"),n.a.createElement("th",null,"Walk In"),n.a.createElement("th",null,"Manual No."),n.a.createElement("th",null,"Party"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"VTM Ref"),n.a.createElement("th",null,"Card No"),n.a.createElement("th",null,"Normal/EEFC Flag"))),n.a.createElement("tbody",null,H.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),"   ",n.a.createElement("td",null,e.prd_type),"       ",n.a.createElement("td",null,e.prd_srno),"       ",n.a.createElement("td",null,e.formatted_date)," ",n.a.createElement("td",null,e.prd_isd),"        ",n.a.createElement("td",null,e.prd_deno),"       ",n.a.createElement("td",null,e.prd_qty),"        ",n.a.createElement("td",null,e.prd_deno*e.prd_qty),"     ",n.a.createElement("td",null,e.prd_rate),"       ",n.a.createElement("td",null,1*e.prd_deno*(1*e.prd_qty)*(1*e.prd_rate)),"   ",n.a.createElement("td",null,e.bd_first_name+e.bd_middle_name+e.bd_last_name),"  ",n.a.createElement("td",null,e.hdr_manual),"     ",n.a.createElement("td",null,e.corporate_name),"    ",n.a.createElement("td",null,e.prd_product),"    ",n.a.createElement("td",null,e.issuer_name)," ",n.a.createElement("td",null,e.prd_from)," ",n.a.createElement("td",null,e.prd_card_no),"    ",n.a.createElement("td",null,e.hdr_sale_type),"       "))))):null),n.a.createElement(Ka,{isOpen:P,onClose:e=>J(!1)},B),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var kn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)(new Date),[N,v]=Object(l.useState)("D"),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)([]),[D,L]=Object(l.useState)("O"),[k,x]=Object(l.useState)("I"),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)("A");Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","REP_MIS_VTM_UTILIZATION"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"VTM Utilization"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"I"},"In Hand"),n.a.createElement("option",{value:"U"},"Used")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer Options",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===G?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",C),onInputChange:Mt,onChange:e=>{F(e)}}))):null,n.a.createElement(Wa.a,null,"I"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null,"U"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:y,onChange:e=>O(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:N,onChange:e=>v(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{f(e),T(a),L(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if("O"===D&&"0"===C||"S"==D&&j==[]||"O"===G&&null===R)e[t++]="O"==D&&"0"==C?"Please select location.":"",e[t++]="S"==D&&j==[]?"Please select atleast one location.":"",e[t++]="O"===G&&null===R?"Please select Issuer.":"",ct()(".loader").hide(),p(ja(e)),d(!0);else{var l=null;"O"===G&&(l=R.id.split("^"));const e={utilizationType:k,tillDate:pa(b),fromDate:pa(g),toDate:pa(y),type:N,radioTypeLocation:D,location:C,multipleLocation:j,tillDateDMY:pa(b),fromDateDMY:pa(g),toDateDMY:pa(y),groupCode:null===l?0:l[1],accountCode:null===l?0:l[2],issuerOption:G};"I"===k?"D"===N?Ca("/api/vtm_utilization_a.php","post",[a,"inHandDownloadReport",JSON.stringify(e)],e=>{console.log("this is result ",e),ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("/api/vtm_utilization_a.php",[a,"inHandViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"D"===N?Ca("/api/vtm_utilization_a.php","post",[a,"usedDownloadReport",JSON.stringify(e)],e=>{ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("/api/vtm_utilization_a.php",[a,"usedViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0"),"V"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>A(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"In Type"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"In Date"),n.a.createElement("th",null,"Out Date"),n.a.createElement("th",null,"Out Serial no."),n.a.createElement("th",null,"Out Type"))),n.a.createElement("tbody",null,I.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tmb_location+e.entity_name),n.a.createElement("td",null,e.tmb_type),n.a.createElement("td",null,e.tmb_prefix),n.a.createElement("td",null,e.tmb_date),n.a.createElement("td",null,e.tmbb_out_date),n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.tmbb_out_type)))))):null),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var xn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)(!1),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("A"),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)([]),[w,A]=Object(l.useState)("A"),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)([]),[G,P]=Object(l.useState)([]);Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","STOCK_IN_HAND_REPORT"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},""===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Stock in Hand Report"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if("O"===j&&"0"===N||"S"==j&&C==[]||"O"===w&&"0"===D||"S"===w&&k==[])e[t++]="O"==j&&"0"==N?"Please select location.":"",e[t++]="S"==j&&C==[]?"Please select atleast one location.":"",e[t++]="O"==w&&"0"==D?"Please select currency.":"",e[t++]="S"==w&&k==[]?"Please select atleast one currency.":"",p(ja(e)),d(!0),ct()(".loader").hide();else{const e={fromDate:Ea(b),fromDate1:pa(b),toDate:Ea(g),toDate1:pa(g),type:y,radioTypeLocation:j,location:N,multipleLocation:C,radioTypeCurrency:w,currency:D,multipleCurrency:k.length>0?k.split(",").join("','"):k};"D"===y?Ca("/api/stock_in_hand_report_a.php","post",[a,"getData",JSON.stringify(e)],e=>{ct()(".loader").hide(),p(ja([e])),d(!0),console.log("stock in habnd report",e)}):Ye("/api/stock_in_hand_report_a.php",[a,"getData",JSON.stringify(e)],"V"===y?e=>{ct()(".loader").hide(),M("V");const a=JSON.parse(e);F(a.resarray),P(a.resarraytrail),console.log(I)}:e=>{ct()(".loader").hide(),window.open().document.write(e)})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:y,onChange:e=>O(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}})),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Currency Filter"),n.a.createElement("br",null),n.a.createElement(wl,{onDataFromChild2:(e,a,t)=>{L(e),x(a),A(t)}})))):null,"V"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{onClick:()=>M(""),variant:"primary"},"Back")),n.a.createElement(Xa.a,null)),"\xa0",n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Deno"),n.a.createElement("th",null,"Opn Bal"),n.a.createElement("th",null,"Purchase"),n.a.createElement("th",null,"Sale"),n.a.createElement("th",null,"Trans In"),n.a.createElement("th",null,"Trans Out"),n.a.createElement("th",null,"Change In"),n.a.createElement("th",null,"Change Out"),n.a.createElement("th",null,"Fake"),n.a.createElement("th",null,"Quant in Hand"),n.a.createElement("th",null,"Value"))),n.a.createElement("tbody",null,R.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_location+" "+e.entity_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.opn_bal),n.a.createElement("td",null,e.purchase),n.a.createElement("td",null,e.sales),n.a.createElement("td",null,e.trans_in),n.a.createElement("td",null,e.trans_out),n.a.createElement("td",null,e.change_in),n.a.createElement("td",null,e.change_out),n.a.createElement("td",null,e.fake),n.a.createElement("td",null,e.qty_in_hand),n.a.createElement("td",null,e.value)))),n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Group Name"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Ledger Name"),n.a.createElement("th",null,"Opening DR"),n.a.createElement("th",null,"Opening CR"),n.a.createElement("th",null,"Period DR"),n.a.createElement("th",null,"Period CR"),n.a.createElement("th",null,"Closing DR"),n.a.createElement("th",null,"Closing CR"))),n.a.createElement("tbody",null,G.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.mvg_group_name),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.opn_total_dr),n.a.createElement("td",null,e.opn_total_cr),n.a.createElement("td",null,e.prd_total_dr),n.a.createElement("td",null,e.prd_total_cr),n.a.createElement("td",null,e.cls_total_dr),n.a.createElement("td",null,e.cls_total_cr)))))):null),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var wn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)("1"),[j,T]=Object(l.useState)("FLM1 Daily Summ and Bal.(FC)"),[D,L]=Object(l.useState)("V"),[k,x]=Object(l.useState)(new Date),[w,A]=Object(l.useState)("A"),[I,M]=Object(l.useState)(new Date),[R,F]=Object(l.useState)(new Date),[G,P]=Object(l.useState)(!0),[J,B]=Object(l.useState)(!0),[q,V]=Object(l.useState)(!0),[z,Q]=Object(l.useState)(!0),[U,Y]=Object(l.useState)(!0),[K,H]=Object(l.useState)("D");Object(l.useEffect)(()=>{o||(xa().then(e=>{O(e),null!=e&&W(e)}),Ye(_,[a,"all","REPORTS_RBI_FLM"],function(a){let t=JSON.parse(a);"1"===t.query?p(t):e("/")}),u(!0))},[o,a,e]);const W=e=>{O(e);const a=e.id.split("^");v(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,j))),n.a.createElement(Wa.a,null,"\xa0 "),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:w,onChange:e=>A(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"O"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:W,isDisabled:"true"===c})))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FLM Filter",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:C,onChange:e=>{T(e.target.options[e.target.selectedIndex].text),f(e.target.value)},required:!0},n.a.createElement("option",{value:"1"},"FLM1 Daily Summ and Bal.(FC)"),n.a.createElement("option",{value:"2"},"FLM2 Daily Summ and Bal.(TC)"),n.a.createElement("option",{value:"3"},"FLM3 Purchase from Public(FC)"),n.a.createElement("option",{value:"4"},"FLM4 from FFMC/RMC-FC"),n.a.createElement("option",{value:"5"},"FLM5 Sale to Public (FC/TC)"),n.a.createElement("option",{value:"6"},"FLM6 Sale to FFMC/RMC (FC)"),n.a.createElement("option",{value:"7"},"FLM7 TC's Surrender to AD's"),n.a.createElement("option",{value:"8A"},"FLM8 ADs Category-II"),n.a.createElement("option",{value:"8"},"FLM8 Unified ADs Category-II"),n.a.createElement("option",{value:"9"},"FLM9 TC's Purchase and Surrender"),n.a.createElement("option",{value:"10"},"FLM10 Sales(FC/TC) for B.Vst")))),"3"===C||"5"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Report Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:K,onChange:e=>H(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Detail"),n.a.createElement("option",{value:"S"},"Summary"))))):null),n.a.createElement(Wa.a,null,"1"===C||"8"===C||"3"===C||"4"===C||"5"===C||"6"===C||"8A"===C||"7"==C||"2"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement("h4",null,"Report Period")),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null,"1"===C||"8"===C||"3"===C||"4"===C||"5"===C||"6"===C||"8A"===C||"7"==C||"2"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:R,onChange:e=>F(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null,"1"===C||"8"===C||"8A"===C||"2"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"Show inter branch ",checked:G,onChange:()=>P(!G)})))):null,"3"===C||"5"===C?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-1 col-1"},n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"CN",checked:J,onChange:()=>B(!J)})),"3"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-1 col-1"},n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"EVTM",checked:U,onChange:()=>Y(!U)}))):n.a.createElement(Xa.a,{className:"col-md-1 col-1"},n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"VTM",checked:z,onChange:()=>Q(!z)}))):null,"3"===C||"4"===C||"5"===C||"6"===C||"7"==C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:D,onChange:e=>L(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],l=0;if(null===y)S("Please Select Location!"),h(!0);else if(Ea(I)<t||Ea(R)>r||"3"===C&&!1===J&&!1===U||"5"===C&&!1===J&&!1===z)ct()(".loader").hide(),e[l++]=E("MSG0006"),e[l++]="3"===C&&!1===J&&!1===U?"Select atleast one product CN/EVTM":"",e[l++]="5"===C&&!1===J&&!1===z?"Select atleast one product CN/VTM":"",e[l++]=Ea(I)<t||Ea(R)>r?"Date should be within financial year":"",S(ja(e)),h(!0);else{const e={locationType:w,location:N,flmFilter:C,fromDate:Ea(I),fromDateDMY:pa(I),toDate:Ea(R),toDateDMY:pa(R),date:Ea(R),type:D,filterInterbranch:G,filterCN:J,filterVTM:z,filterEVTM:U,reportTypeFlm:K};"1"==C?Ye(De,[a,"printflm1",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"2"==C?"D"===D?Ca(De,"post",[a,"Flm2",JSON.stringify(e)],e=>{ct()(".loader").hide(),S(ja([e])),h(!0)}):Ye(De,[a,"Flm2",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"3"==C?"D"===D?Ca(De,"post",[a,"Flm3",JSON.stringify(e)],e=>{ct()(".loader").hide(),S(ja([e])),h(!0)}):Ye(De,[a,"Flm3",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"4"==C?"D"===D?Ca(De,"post",[a,"Flm4",JSON.stringify(e)],e=>{console.log("this is result ",e),ct()(".loader").hide(),S(ja([e])),h(!0)}):Ye(De,[a,"Flm4",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"5"==C?"D"===D?Ca(De,"post",[a,"Flm5",JSON.stringify(e)],e=>{ct()(".loader").hide(),S(ja([e])),h(!0)}):Ye(De,[a,"Flm5",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"6"==C?"D"===D?Ca(De,"post",[a,"Flm6",JSON.stringify(e)],e=>{ct()(".loader").hide(),S(ja([e])),h(!0)}):Ye(De,[a,"Flm6",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"7"==C?"D"===D?Ca(De,"post",[a,"Flm7",JSON.stringify(e)],e=>{ct()(".loader").hide(),S(ja([e])),h(!0)}):Ye(De,[a,"Flm7",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):"8"===C?Ca(De,"post",[a,"downloadFLM8",JSON.stringify(e)],e=>{ct()(".loader").hide(),S(ja([e])),h(!0)}):"8A"===C?Ye(De,[a,"printflm8A",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()}):va(De,"post",[a,"getData",JSON.stringify(e)])}}},"Generate")))),n.a.createElement(Ka,{isOpen:b,onClose:e=>h(!1)},g),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var An=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),[t,r]=Object(l.useState)(""),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)([]),[h,g]=Object(l.useState)("V"),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(new Date),[v,C]=Object(l.useState)(new Date),[f,j]=Object(l.useState)(!1),[T,D]=Object(l.useState)("");return Object(l.useEffect)(()=>{Ye(_,[e,"all","REPORTS_TDS_COMMISSION"],function(e){let t=JSON.parse(e);"1"===t.query?b(t):a("/")})},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Commission TDS Report"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{value:h,onChange:e=>g(e.target.value)},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download")))),n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(vl.a,{className:"form-control",selected:O,onChange:e=>N(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:v,onChange:e=>C(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(Xa.a,null,n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{r(e),o(a),d(t)}}))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var a=0,l=[];if("O"==u&&"0"==t||"S"==u&&c==[])ct()(".loader").hide(),l[a++]=E("MSG0006"),l[a++]="O"==u&&"0"==t?"Please select location.":"",l[a++]="S"==u&&c==[]?"Please select atleast one location.":"",j(!0),D(ja(l));else if(null===O||null===v)ct()(".loader").hide(),l[a++]=E("MSG0006"),l[a++]=null===O?"From Date.":"",l[a++]=null===v?"To Date.":"",j(!0),D(ja(l));else{const a={mode:h,radioType:u,oneLocation:t,selectedLocations:c,frmdate:Ea(O),todate:Ea(v)};"V"===h?Ye(ke,[e,"tdsreport",JSON.stringify(a)],e=>{console.log(e),ct()(".loader").hide(),y(JSON.parse(e))}):(ct()(".loader").hide(),va(ke,"post",[e,"tdsrepdownload",JSON.stringify(a)]))}}},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent Type"),n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Rate of TDS"),n.a.createElement("th",null,"Pan No."),n.a.createElement("th",null,"Party Name"),n.a.createElement("th",null,"Taxable Amount"),n.a.createElement("th",null,"TDS Amount"))),n.a.createElement("tbody",null,S.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,"C"==e.app_agent_type?"Company":"Non Company"),n.a.createElement("td",null,"194H"),n.a.createElement("td",null,"2.00%"),n.a.createElement("td",null,e.app_pan_no),n.a.createElement("td",null,e.app_agent_name),n.a.createElement("td",null,e.app_total_commission),n.a.createElement("td",null,e.app_tds))))))),n.a.createElement(Ka,{isOpen:f,onClose:e=>j(!1)},T))};var In=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,E]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)([]),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(!1),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(""),[A,I]=Object(l.useState)(!1),[M,R]=Object(l.useState)(!1),[F,G]=Object(l.useState)("L"),[P,J]=Object(l.useState)(null),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)(0),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)(new Date),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(new Date),[le,ne]=Object(l.useState)(0),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(0),[ue,se]=Object(l.useState)(0),[ie,de]=Object(l.useState)(0),[Ee,pe]=Object(l.useState)(0),[be,he]=Object(l.useState)(!1),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(),[Ne,ve]=Object(l.useState)(),[Ce,fe]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{J(e),null!=e&&je(e)}),Ye(_,[a,"all","TRAN_ACCEPT_BRANCH"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),E(!0))},[d,a,e]);const je=e=>{J(e);const a=e.id.split("^");K(a[1]),q(e.value),sessionStorage.activeBranch=a[1]},Te=e=>{I(!0),ne(e.tol_from_srno),U(e.tol_to_loc),me(e.hdr_group),pe(e.tol_from_loc),se(e.hdr_ledger),ce(e.tol_from_type)};return console.log(h),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Accept Inter Branch"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"L"===F,onChange:()=>G("L"),type:"radio",label:"Location"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===F,onChange:()=>G("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===F,onChange:()=>G("S"),type:"radio",label:"Status"})))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"L"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:P,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:je,isDisabled:"true"===c})))):"D"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:H,onChange:e=>W(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:X,onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:$,onChange:e=>ee(e.target.value),required:!0},n.a.createElement("option",{value:""},"All"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"D"},"Done"))))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if("L"===F&&null===P)k("Please Select Location!"),N(!0);else{ct()(".loader").show();const e={filterRadioType:F,filterLocation:Y,filterFromDate:Ea(H),filterToDate:Ea(X),filterStatus:$};Ye("/api/out_log_a.php",[a,"list",JSON.stringify(e)],e=>{ct()(".loader").hide(),g([]);let a=JSON.parse(e);g([...a]),console.log("list",a)})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Status ",h.length),"1"===o.edit?n.a.createElement("th",null):null)),n.a.createElement("tbody",null,h.map((e,t)=>n.a.createElement("tr",{key:t},"1"===o.edit?n.a.createElement("td",{align:"center"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{ve(e),q(e.tol_from_location),z(e.tolocation),ne(e.tol_from_srno),ce(e.tol_from_type),me(e.hdr_group),se(e.hdr_ledger),pe(e.tcb_location),R(!0),Oe(e.tol_status),fe(e.tfh_narration);const t={srno:e.tol_from_srno,type:e.tol_from_type,location:Y,fromLocation:e.tol_from_location.split(" ")[0]};Ye("/api/out_log_a.php",[a,"view",JSON.stringify(t)],a=>{let t=JSON.parse(a);if(y(t),"CNOUT"===e.tol_from_type){let e=0;t.forEach(a=>{e+=1*a.prd_amount}),de(e)}})})(e)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.tol_srno),n.a.createElement("td",null,e.tol_from_location),n.a.createElement("td",null,e.tol_to_location),n.a.createElement("td",null,e.tol_from_type),n.a.createElement("td",null,e.tol_from_date),n.a.createElement("td",null,"P"===e.tol_status?"Pending":"Done"),n.a.createElement("td",{align:"center"},"P"===e.tol_status?n.a.createElement("span",null," ",n.a.createElement(i.a,{variant:"primary",size:"sm",onClick:()=>Te(e)},"Accept"),"  "):null)))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:O,onClose:e=>N(!1)},L),n.a.createElement(St,{isOpen:v,onYes:e=>(C(!1),void b("")),onNo:e=>C(!1)},T),n.a.createElement(Ka,{isOpen:f,onClose:e=>j(!1)},x)),n.a.createElement("div",null,n.a.createElement(pt.a,{show:A,onHide:()=>I(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Enter Date:")),n.a.createElement(pt.a.Body,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:ae,onChange:e=>te(e),minDate:new Date(t),maxDate:new Date(r),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:()=>(()=>{const e={srno:le,type:re,pageright:"TRAN_ACCEPT_BRANCH",location:Y},t=new Date,l=Ea(ae),n=Ea(t),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o),Ye(_e,[a,"checkUnlock",JSON.stringify(e)],e=>{let t=JSON.parse(e);if(Se(t.requestsrc),Be>=o||"unlock"==t.msg){const e={location:Y,type:re,srno:le,date:Ea(ae),toLocation:Q,groupCode:oe,accountCode:ue,fromLocation:Ee,filterRadioType:F,filterLocation:Y,filterFromDate:Ea(H),filterToDate:Ea(X),filterStatus:$};Ye("/api/out_log_a.php",[a,"save",JSON.stringify(e)],e=>{let a=JSON.parse(e);g(a),R(!1)}),I(!1)}else N(!0),k("Transaction locked.")})})()},"Save")))),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:M,onHide:()=>R(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},"From Location : ",B),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},"To Location : ",V),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},"Type : ",re),"CNOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Total Amount"),n.a.createElement(s.a.Control,{value:ie,disabled:!0,placeholder:"Total"})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"CNOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount")):"CHQOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bank")):"IB"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Credit"),n.a.createElement("th",null,"Debit"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To")))),n.a.createElement("tbody",null,"VTMOUT"===re||"CNOUT"===re||"IB"===re?n.a.createElement(n.a.Fragment,null,S.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"VTMOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to)):"IB"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,"C"===e.tfd_flag?Math.abs(e.tfd_amount):""),n.a.createElement("td",null,"D"===e.tfd_flag?e.tfd_amount:""),n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name)):"CNOUT"===re?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount)):null))):n.a.createElement(n.a.Fragment,null,S.map(e=>n.a.createElement("tr",{key:e.tcb_line_no},n.a.createElement("td",null,e.tcb_quantity),n.a.createElement("td",null,e.tcb_from),n.a.createElement("td",null,e.tcb_to),n.a.createElement("td",null,e.tcb_date),n.a.createElement("td",null,e.bank)))))))))),n.a.createElement(pt.a.Footer,null,"IB"===re&&n.a.createElement(Wa.a,{style:{display:"contents"}}," ",n.a.createElement("span",{style:{wordWrap:"break-word"}},n.a.createElement("th",null," Narration : "),"  ",Ce)," "),"P"===ye&&n.a.createElement("span",null," ",n.a.createElement(i.a,{variant:"primary",size:"sm",onClick:()=>Te(Ne)},"Accept"),"  "),n.a.createElement(i.a,{variant:"outline-success",size:"sm",onClick:()=>R()}," Close  ")))))};var Mn=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("userSrno"),[r,c]=Object(l.useState)(!1),[o,u]=Object(l.useState)(""),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(null),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(null),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(new Date),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)(),[z,Q]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(new Date("2023/04/01")),[K,H]=Object(l.useState)(new Date("2025/03/31")),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(0),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(10),[se,ie]=Object(l.useState)(!1),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)({location:"",trannumber:"",type:""}),[he,ge]=Object(l.useState)(!1);function Se(e,a){Ee("Do you really want to ".concat("A"===a?"Approve":"Reject"," this fund Request")),V(e),A(e.tfa_refno),ae(e.tfa_srno),X(a),ie(!0)}function ye(){S(""),console.log("apply filter",W),ct()(".loader").show();const e={fromDate:U,toDate:K,status:Z,bankFilter:ne,searchText:ce,limit:me};Ye(je,[a,"applyFilter",JSON.stringify(e)],function(e){console.log(typeof JSON.parse(e),"list",e),B(JSON.parse(e)),ct()(".loader").hide(),Ne()})}async function Oe(){V(),Q(!1),ye(),Ne(),c(!1)}function Ne(){x(null),f(""),T(null),L(""),A(""),M(new Date),F(""),P(""),V(""),ae(0)}return Object(l.useEffect)(()=>{console.log("useEffect",N,a,e),N||(Ye(_,[a,"all","FUND_REQUEST"],function(t){let l=JSON.parse(t);console.log(l),"1"===l.query?(O(l),Ye(je,[a,"bankFilter"],function(e){let a=JSON.parse(e);console.log(a[0].mvli_ledger_name),le(a)})):e("/")}),v(!0))},[N,a,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Fund Request"))),""===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:Z,onChange:e=>{$(e.target.value)}},n.a.createElement("option",{value:""},"ALL"),n.a.createElement("option",{value:"P"},"PENDING"),n.a.createElement("option",{value:"R"},"REJECTED"),n.a.createElement("option",{value:"A"},"APPROVED"),n.a.createElement("option",{value:"C"},"CANCELLED"))),"P"!==Z&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(vl.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank"),n.a.createElement(s.a.Select,{value:ne,onChange:e=>{re(e.target.value)}},n.a.createElement("option",{value:""},"ALL"),te.map((e,a)=>n.a.createElement("option",{key:a,value:e.mvli_ledger_name},e.mvli_ledger_name.toUpperCase())))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Control,{type:"text",placeholder:"Search...",maxLength:15,value:ce,onChange:e=>oe(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:me,onChange:e=>{ue(e.target.value)}},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"20"},"20"),n.a.createElement("option",{value:"50"},"50"),n.a.createElement("option",{value:"all"},"All"))),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{style:{marginRight:"10px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:ye},"List"),n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){S("A")}},"Add New")),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Ref No"),n.a.createElement("th",null,"Party"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Requester Name"),n.a.createElement("th",null,"Created Date"),n.a.createElement("th",null,"Approver Name"),n.a.createElement("th",null,"Approve Date"))),n.a.createElement("tbody",null,J.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(function(e,t){S("Q"),console.log("Status",W),ct()(".loader").show(),console.log(e,t),Ye(je,[a,"getBySRNO",JSON.stringify({srno:e,fromWhom:t})],function(e){console.log(JSON.parse(e),"list",e),ct()(".loader").hide();const a=JSON.parse(e)[0];console.log(a.location_id),V(a),X(a.tfa_status),f(a.tfa_amount),A(a.tfa_refno),T({id:a.location_id,label:a.location_label}),x({id:a.bank_id,label:a.bank_label}),F(a.tfa_from_whom),M(new Date(a.tfa_date)),ae(a.tfa_srno),"WALKIN"===a.tfa_from_whom?P(a.tfa_walkin_name):P({id:a.corp_id,label:a.corp_label})})})(e.tfa_srno,e.tfa_from_whom)},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.tfa_srno),n.a.createElement("td",null,"P"===e.tfa_status.toUpperCase()&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(za.a,{style:{color:"green",paddingRight:"10px",paddingLeft:"10px",cursor:"pointer"},onClick:()=>Se(e,"A"),icon:Qa.a}),n.a.createElement(za.a,{style:{color:"red",cursor:"pointer"},onClick:()=>Se(e,"R"),icon:Qa.b}))),"A"===e.tfa_status.toUpperCase()&&"APPROVED","R"===e.tfa_status.toUpperCase()&&"REJECTED","C"===e.tfa_status.toUpperCase()&&"CANCELLED"),n.a.createElement("td",null,e.tfa_refno),n.a.createElement("td",null,e.tfa_from_whom+" : "," ",""===e.tfa_walkin_name?e.party:e.tfa_walkin_name),n.a.createElement("td",null,e.tfa_amount),n.a.createElement("td",null,e.tfa_requester+" "+e.requester_name),n.a.createElement("td",null,e.requesteddate," ",e.requestedtime),n.a.createElement("td",null,(null!==e.tfa_approve_user?e.tfa_approve_user:"")+" "+(null!==e.approver_name?e.approver_name:"")),n.a.createElement("td",null,null!==e.approvedate?e.approvedate:""," ",null!==e.approvetime?e.approvetime:""))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")):n.a.createElement(n.a.Fragment,null,""!==g&&"A"!==g?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement("span",null,"Requester Name : ",n.a.createElement("b",null,null===q||void 0===q?void 0:q.requester_name," "))),"P"!==(null===q||void 0===q?void 0:q.tfa_status)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement("span",null," Approver Name : ",n.a.createElement("b",null,null===q||void 0===q?void 0:q.approver_name," "))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement("span",null," Approved Date : ",n.a.createElement("b",null,(null!==(null===q||void 0===q?void 0:q.approvedate)&&(null===q||void 0===q?void 0:q.approvedate))+" "+(null!==(null===q||void 0===q?void 0:q.approvetime)&&(null===q||void 0===q?void 0:q.approvetime))," "))))):null,n.a.createElement(Wa.a,null,"Q"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null,"P"===(null===q||void 0===q?void 0:q.tfa_status)&&n.a.createElement(i.a,{style:{marginRight:"5px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>S("E")},"Edit"),"A"===(null===q||void 0===q?void 0:q.tfa_status)&&n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(ge(!0),void be({location:q.location_label.split(" ")[1],trannumber:q.tfa_srno,type:"TFA"}))},"Fa View"))):n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Sr No : ",ee)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Amount",maxLength:15,value:C,onChange:e=>(function(e){ea(e.target.value,f)})(e),disabled:"Q"===g||"E"===g}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Ref No",maxLength:15,value:w,onChange:e=>ta(e.target.value,A),disabled:"Q"===g||"E"===g}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:j,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>{let a=e.label.split(" ");L(a[0]),T(e),console.log("location",e),x(null),P("")},isDisabled:"Q"===g||"E"===g}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:k,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK",D),onInputChange:Mt,onChange:e=>{j||alert("please selecet location"),console.log("bank",e),x(e)},isDisabled:"Q"===g||"E"===g})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"A"===g?"Date ":"Requested Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===g||"E"===g,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Party"),n.a.createElement(s.a.Select,{value:R,onChange:e=>F(e.target.value),disabled:"Q"===g||"E"===g},n.a.createElement("option",{value:"0"},"Select"),n.a.createElement("option",{value:"WALKIN"},"Walk in"),n.a.createElement("option",{value:"CORPORATE"},"Corporate"),n.a.createElement("option",{value:"DEALER"},"Dealer"))),n.a.createElement(Xa.a,null,"WALKIN"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Walk In Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Control,{type:"text",placeholder:"Walk in",maxLength:15,value:"object"===typeof G?"":G,onChange:e=>P(e.target.value),disabled:"Q"===g||"E"===g}))):null,"CORPORATE"===R||"DEALER"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Party Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:G,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,R,D),onInputChange:Mt,onChange:e=>{j||alert("please selecet location"),console.log("handleFromWhom",e),P(e)},isDisabled:"Q"===g||"E"===g})):null),("Q"===g||"E"===g)&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:W,onChange:e=>X(e.target.value),disabled:"Q"===g||"C"===(null===q||void 0===q?void 0:q.tfa_status)||"P"!==(null===q||void 0===q?void 0:q.tfa_status)},"0"===y.edit?"P"!==(null===q||void 0===q?void 0:q.tfa_status)?n.a.createElement(n.a.Fragment,null,"A"===W&&n.a.createElement("option",null,"APPROVE"),"R"===W&&n.a.createElement("option",null,"REJECTED"),"C"===W&&n.a.createElement("option",null,"CANCEL")):n.a.createElement(n.a.Fragment,null,n.a.createElement("option",{value:"C"},"CANCEL"),n.a.createElement("option",{value:"P"},"PENDING")):n.a.createElement(n.a.Fragment,null,"C"===W&&n.a.createElement("option",{value:"C"},"CANCEL"),n.a.createElement("option",{value:"P"},"PENDING"),n.a.createElement("option",{value:"A"},"APPROVE"),n.a.createElement("option",{value:"R"},"REJECTED"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){var e=[],l=0;if(""===C||""===w||null===k||null===j||""===R||""===G)return e[l++]=E("MSG0006"),e[l++]=""===C?" Amount.":"",e[l++]=""===w?" Ref no.":"",e[l++]=null===k?" Bank ":"",e[l++]=null===j?" Location ":"",e[l++]=""===R?" Party ":"",""!==R&&"WALKIN"===R&&(e[l++]=""===G?" Party Name ":""),""!==R&&"WALKIN"!==R&&(e[l++]=""===G?" Party ":""),h(ja(e)),void p(!0);ct()(".loader").show();const n=k.id.split("^"),r=j.id.split("^")[1];console.log(k,j);var c=4516,o=1001;if("WALKIN"!=R&&null!==G){const e=G.id.split("^");c=e[2],o=e[1]}const m={tfa_location:r,tfa_bank_group:n[1],tfa_bank_acc:n[2],tfa_amount:C,refno:w,tfa_date:pa(I),from_whom:R,srno:ee,status:W,approve_user:t,walkin_name:"WALKIN"===R?G:"",tfa_account:c,tfa_group:o};Ye(je,[a,"createFundRequest",JSON.stringify(m)],function(e){ct()(".loader").hide(),console.log(e),ye(),Ne()})},disabled:"Q"===g},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{"A"===g||"E"===g?(u("Do you really want to exit ?"),c(!0)):Oe()}},"Back"),"\xa0")))),n.a.createElement(Gl,{faViewObject:pe,show:he,onHide:()=>ge(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:d,onClose:e=>p(!1)},b),n.a.createElement(St,{isOpen:r,onYes:e=>Oe(),onNo:e=>c(!1)},o),n.a.createElement(St,{isOpen:se,onYes:e=>(function(){ct()(".loader").show();const e={...q,refno:w,srno:ee,status:W};Ye(je,[a,"createFundRequest",JSON.stringify(e)],function(e){ct()(".loader").hide(),console.log(e),ye(),ie(!1)})})(),onNo:e=>ie(!1)},de)))};var Rn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)("PP"),[R,F]=Object(l.useState)("PP"),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(!1),[z,Q]=Object(l.useState)({value:0,label:"Select"}),[Y,K]=Object(l.useState)([]),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(""),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,de]=Object(l.useState)(!1);Object(l.useEffect)(()=>{o||(xa().then(e=>{O(e),null!=e&&Ee(e)}),Ye(_,[a,"all","FX_DOCUMENT_UPLOAD"],function(t){let l=JSON.parse(t);"1"===l.query?c(l):e("/"),Ye(U,[a,"getdocs",JSON.stringify({pageright:"FX_DOCUMENT_UPLOAD"})],e=>{K(JSON.parse(e))})}),u(!0))},[o,a,e]);const Ee=e=>{O(e);const a=e.id.split("^");v(a[1]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Fx Document Upload"))),n.a.createElement(Wa.a,null,"\xa0"),q&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void V(!1)},"Back"))),n.a.createElement(Wa.a,null,"\xa0")),"1"===r.add&&q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>{h(e);const a=e.id.split("^");S(a[1])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Serial No.",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:D,maxLength:20,onChange:e=>Ze(e.target.value,L),placeholder:"Serial No."}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:I,onChange:e=>M(e.target.value),required:!0},n.a.createElement("option",{value:"PP"},"PP (Purchase from Public)"),n.a.createElement("option",{value:"PB"},"PB (Purchase from Bulk)"),n.a.createElement("option",{value:"SP"},"SP (Sale to Public)"),n.a.createElement("option",{value:"SB"},"SB (Sale to Bulk)")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(vt.a,{options:Y,value:z,onChange:e=>Q(e)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"importExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:j,onChange:e=>T(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:H,maxLength:100,onChange:e=>na(e.target.value,W),placeholder:"Remark 1"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:X,maxLength:100,onChange:e=>na(e.target.value,Z),placeholder:"Remark 2"}))))):null,"1"!==r.query||q?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ee,isDisabled:"true"===t}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:C,maxLength:100,onChange:e=>na(e.target.value,f),placeholder:"Remark"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:R,onChange:e=>F(e.target.value),required:!0},n.a.createElement("option",{value:"PP"},"PP (Purchase from Public)"),n.a.createElement("option",{value:"PB"},"PB (Purchase from Bulk)"),n.a.createElement("option",{value:"SP"},"SP (Sale to Public)"),n.a.createElement("option",{value:"SB"},"SB (Sale to Bulk)")))),""===C&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:k,maxLength:20,onChange:e=>Ze(e.target.value,x),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,maxLength:20,onChange:e=>Ze(e.target.value,A),placeholder:"To"})))),n.a.createElement(Xa.a,{style:{marginTop:"34px"}},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===y&&C)B("Please Select Location!"),P(!0);else if(!C&&null===y||!C&&!k||!C&&!w)e[t++]=E("MSG0006"),e[t++]=""===C&&null===y?" Please Select Location!":"",e[t++]=C||k?"":" From Srno.",e[t++]=C||w?"":" To Srno.",B(ja(e)),P(!0);else{const e={location:N,filtertype:R,filterFromSrno:k,filterToSrno:w,filterRemark:C};Ye("/api/fx_document_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);p(a)})}})()},"List")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"!==r.add||q?null:n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void V(!0)},"Upload"),"1"===r.add&&q?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(console.log(document.getElementById("importExcel").files[0]),ct()(".loader").show(),void 0===document.getElementById("importExcel").files[0]||0==z.value||null===b||""===D||""===H||""===X)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null===b?"Please Select Location!":"",e[t++]=""===D?"Serial No.":"",e[t++]=0==z.value?" Please Select Document.":"",e[t++]=void 0===document.getElementById("importExcel").files[0]?" Please select a file to upload.":"",e[t++]=""===H?"Remark 1":"",e[t++]=""===X?"Remark 2":"",B(ja(e)),P(!0);else{const e=document.getElementById("importExcel").files[0].name.split("."),t={uploadType:"uploadFxDoc",pageright:"FX_DOCUMENT_UPLOAD",sid:a,srno:D,location:g,fileName:e[0],fileExt:e[1],docType:I,docGrpType:z.value,docGrpName:z.label,remark1:H,remark2:X};Na(JSON.stringify(t),"importExcel",e=>{let a=JSON.parse(e);console.log(a),ct()(".loader").hide(),B(a.msg),P(!0),p(a.docdetail),T(""),h(null),L(""),Q({value:0,label:"Select"}),W(""),Z("")})}})()},"Submit"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"File Name"),n.a.createElement("th",null,"Document"),n.a.createElement("th",null,"Remark 1"),n.a.createElement("th",null,"Remark 2"),n.a.createElement("td",null,"\xa0"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.mfd_srno},n.a.createElement("td",null,e.mfd_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.mfd_type),n.a.createElement("td",null,e.mfd_file_name),n.a.createElement("td",null,e.docm_desc),n.a.createElement("td",null,e.mfd_remark1),n.a.createElement("td",null,e.mfd_remark2),n.a.createElement("td",null,n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement("span",{className:"handCursor",onClick:t=>((e,t)=>{const l={srno:e,filename:t};_a("/api/fx_document_a.php",[a,"docView",JSON.stringify(l)],e=>{let a=JSON.parse(e);ne(a.bs64),ce(a.typ),me(a.desc),se(a.fname),de(!0)})})(e.mfd_srno,e.mfd_file_name)},n.a.createElement(za.a,{icon:Qa.f})),"\xa0",n.a.createElement("span",{className:"handCursor",onClick:t=>((e,t)=>{const l={srno:e,filename:t};va("/api/fx_document_a.php","post",[a,"docDownload",JSON.stringify(l)])})(e.mfd_srno,e.mfd_file_name)},n.a.createElement(za.a,{icon:tt.i}))))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:G,onClose:e=>P(!1)},J)),n.a.createElement(pt.a,{show:ie,onHide:()=>de(!1),size:"xl",centered:!0},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,{id:"example-custom-modal-styling-title"},oe+" : "+ue)),n.a.createElement(pt.a.Body,null,n.a.createElement("embed",{src:le,type:re,style:{minHeight:"100vh",minWidth:"100%"}}))))};var Fn=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("userSrno"),Object(l.useState)("")),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)("PP"),[p,b]=Object(l.useState)(!1),[h,g]=Object(l.useState)([]),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(null),[f,j]=Object(l.useState)(0),[T,D]=Object(l.useState)([]),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(new Date),[G,P]=Object(l.useState)(null),[J,B]=Object(l.useState)([]),[q,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)([]),[X,Z]=Object(l.useState)([]),[$,ee]=Object(l.useState)(!0),[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(!1),[re,ce]=Object(l.useState)("Are you sure you want to save?"),[oe,me]=Object(l.useState)("Are you sure you want to delete?"),[ue,se]=Object(l.useState)(!1),[ie,de]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Ee,pe]=Object(l.useState)([]);Object(l.useEffect)(()=>{xa().then(e=>{P(e),null!=e&&be(e)}),Ye(_,[a,"all","COMMISSION_MODIFICATION"],function(a){let t=JSON.parse(a);"1"===t.query?B(t):e("/")});const t=sessionStorage.getItem("values");if(t){const e=JSON.parse(t);"PURCHASE"==e.md_type?(r("A"),Ye(V,[a,"getIndividualData",e.code],e=>{JSON.parse(e)}),sessionStorage.removeItem("values")):r("")}},[]);const be=e=>{P(e);var a=e.id.split("^");j(a[1]),z(a[2]),sessionStorage.activeBranch=a[1]},he=(e,a,t,l,n)=>"P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e,ge=e=>{g(a=>a.map(a=>a.uniquekey===e.uniquekey?{...a,commission_disable:"0"}:a)),g(a=>(((e,a)=>{const t=a.find(a=>a.uniquekey===e.uniquekey);t?pe([t]):console.log("Data Nahi mila")})(e,a),a)),ee(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Transaction Modification Commission "))),""===t?n.a.createElement(Wa.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:G,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:be}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Transaction"),n.a.createElement(s.a.Select,{value:u,onChange:e=>{d(e.target.value)}},n.a.createElement("option",{value:"PP"},"PP"),n.a.createElement("option",{value:"PB"},"PB"),n.a.createElement("option",{value:"SP"},"SP"),n.a.createElement("option",{value:"SB"},"SB")))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:Q,onChange:e=>Ze(e.target.value,U)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{style:{marginRight:"10px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:(e,t,l)=>{ct()(".loader").show();var n=[],r=0;if(""===Q)ct()(".loader").hide(),n[r++]=E("MSG0006"),n[r++]=""===Q?"Srno":"",M(ja(n)),A(!0);else{var c={location:f,transaction:u,srnofrom:Q,srnoto:Y};Ye(Ie,[a,"trandetailview",JSON.stringify(c)],function(e){let a=JSON.parse(e);a.trandetailproduct.length>0?(g(a.trandetailproduct),ct()(".loader").hide()):(ct()(".loader").hide(),M("Data Not Found"),A(!0))})}}}," List")),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,h.map((e,t)=>n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",null,n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"13"},n.a.createElement("table",{style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"Commission Value"),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"col-md-1 col-6"},"1"!==J.edit||$?null:n.a.createElement("span",{onClick:()=>(e=>{Z(e),ne(!0)})(e),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",{className:"col-md-3 col-6",style:{position:"absolute"}},n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:{label:e.prd_agent_name,id:e.prd_agent_ledger},getOptionLabel:e=>e.label,getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"AGENT, DEALER",f),onInputChange:Mt,onChange:t=>((e,t)=>{const l=h.find(e=>e.uniquekey===t);if(!l)return;const{prd_qty:n,prd_deno:r,prd_rate:c,prd_isd:o,prd_product:m}=l;Ye(L,[a,"getisdcommission",e.id,o,m],a=>{const l=JSON.parse(a);let o;"P"===l.type||"R"===l.type?(o=he(l.value,l.type,n,r,c),console.log("Calculated commission using type P/R")):(o=l.value,console.log("Directly set commission value for type F")),g(a=>a.map(a=>a.uniquekey===t?{...a,prd_agent_name:e.label,prd_agent_group:e.id.split("^")[1],prd_agent_ledger:e.id.split("^")[2],prd_commission_value:o,prd_commission:l.value,prd_commission_type:l.type}:a))})})(t,e.uniquekey),isDisabled:"1"===e.commission_disable})),n.a.createElement("td",{className:"col-md-2 col-6"},n.a.createElement(s.a.Select,{value:e.prd_commission_type,onChange:a=>((e,a)=>{g(t=>t.map(t=>t.uniquekey===a?{...t,prd_commission_type:e,prd_commission_value:"",prd_commission:""}:t))})(a.target.value,e.uniquekey),disabled:"1"===e.commission_disable},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat"))),n.a.createElement("td",{className:"col-md-2 col-6"},n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:e.prd_commission,onChange:a=>((e,a)=>{const t=h.find(e=>e.uniquekey===a);if(!t)return;const{prd_qty:l,prd_deno:n,prd_rate:r,prd_commission_type:c}=t;C(e),ea(e,e=>{const t=he(e,c,l,n,r);g(l=>l.map(l=>l.uniquekey===a?{...l,prd_commission:e,prd_commission_value:t}:l)),N(e=>({...e,[a]:t}))})})(a.target.value,e.uniquekey),disabled:"1"===e.commission_disable})),n.a.createElement("td",{className:"col-md-2 col-6"},n.a.createElement(s.a.Control,{disabled:!0,value:e.prd_commission_value})),n.a.createElement("td",{className:"col-md-1 col-6"},"1"!==J.edit||$?null:n.a.createElement("span",{onClick:()=>(e=>{var a=[],t=0;""===e.prd_agent_group||""===e.prd_agent_ledger||""===e.prd_commission_type||""===e.prd_commission_value||""===e.prd_commission?(ct()(".loader").hide(),a[t++]=E("MSG0006"),a[t++]=""===e.prd_agent_group?"Agent":"",a[t++]=""===e.prd_agent_ledger?"Agent":"",a[t++]=""===e.prd_commission_type?"Commission Type":"",a[t++]=""===e.prd_commission_value?"Commission Value":"",a[t++]=""===e.prd_commission?"Commission":"",M(ja(a)),A(!0)):(W(e),te(!0))})(e),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.q})),"1"===J.edit&&$?n.a.createElement("span",{onClick:()=>ge(e),className:"handCursor colorThemeBlue"},n.a.createElement(za.a,{icon:tt.j})):null," \xa0",n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:()=>(e=>{se(!0),de({trantype:e.prd_type,trannumber:e.prd_srno,trancategory:"T",location:e.prd_location,subtranno:e.prd_line_no})})(e)},"Activity Log")))))))))))))):null),n.a.createElement(bt,{logObject:ie,show:ue,onHide:()=>se(!1)}),n.a.createElement(St,{isOpen:ae,onYes:e=>(e=>{ct()(".loader").show(),te(!1);const t=Ja(Ee,[e]);D(Ba(T,t,e.prd_type,f)),Ye(Ie,[a,"updatecommission",JSON.stringify(e),JSON.stringify(T)],function(a){let t=JSON.parse(a);g(t.trandetailproduct),ct()(".loader").hide(),g(a=>a.map(a=>a.uniquekey===e.uniquekey?{...a,commission_disable:"1"}:a)),M("Success"),A(!0),ee(!0),D([])})})(H),onNo:e=>te(!1)},re),n.a.createElement(St,{isOpen:le,onYes:e=>(e=>{ct()(".loader").show(),ne(!1),Ye(Ie,[a,"deletecommission",JSON.stringify(e),JSON.stringify(T)],function(a){let t=JSON.parse(a);g(t.trandetailproduct),D([]),ct()(".loader").hide(),g(a=>a.map(a=>a.uniquekey===e.uniquekey?{...a,commission_disable:"1"}:a)),M("Success"),A(!0),ee(!0)})})(X),onNo:e=>ne(!1)},oe),n.a.createElement(Ka,{isOpen:w,onClose:e=>A(!1)},I))};function Gn(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Transaction Modification Date "))}var Pn=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("userSrno"),Object(l.useState)("")),[c,o]=Object(l.useState)("A"),[u,d]=Object(l.useState)(!1),[p,b]=Object(l.useState)(""),[h,g]=Object(l.useState)([]),[y,N]=Object(l.useState)("CN"),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)(null),[T,D]=Object(l.useState)(""),[k,x]=Object(l.useState)(null),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(""),[H,X]=Object(l.useState)("0"),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(null),[ne,re]=Object(l.useState)(0),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)([]),de=Object(l.useRef)(),[Ee,be]=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[he,ge]=Object(l.useState)(""),[Se,Oe]=Object(l.useState)(!1),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)("N"),[fe,je]=Object(l.useState)(new Date),[Te,De]=Object(l.useState)(""),[Le,ke]=Object(l.useState)(""),[xe,we]=Object(l.useState)(new Date),[Ie,Me]=Object(l.useState)(new Date),[Re,Fe]=Object(l.useState)([]),[Ge,Pe]=Object(l.useState)(null),[Je,Be]=Object(l.useState)(null),[qe,ze]=Object(l.useState)(null),[Qe,Ue]=Object(l.useState)(0),[Ke,He]=Object(l.useState)(0),[We,Xe]=Object(l.useState)(""),[$e,aa]=Object(l.useState)([]),[ta,la]=Object(l.useState)(!1),[ra,ca]=Object(l.useState)([]),[oa,ma]=Object(l.useState)([]),[ua,sa]=Object(l.useState)([]),[ia,da]=Object(l.useState)(0),[pa,ba]=Object(l.useState)(null),[ha,ya]=Object(l.useState)({value:0,label:"Select"}),[Na,va]=Object(l.useState)(null),[Ca,_a]=Object(l.useState)(""),[fa,Ta]=Object(l.useState)(""),[Da,La]=Object(l.useState)("1"),[ka,wa]=Object(l.useState)(null),[Aa,Ia]=Object(l.useState)(""),[Ma,Ra]=Object(l.useState)(null),[Fa,Ga]=Object(l.useState)(null),[Pa,Ja]=Object(l.useState)(null),[Ba,qa]=Object(l.useState)(""),[Va,Ua]=Object(l.useState)(""),[Ya,Ka]=Object(l.useState)(null),[Za,$a]=Object(l.useState)(""),[et,lt]=Object(l.useState)(1),[rt,ot]=Object(l.useState)("B"),[mt,ut]=Object(l.useState)(0),[st,it]=Object(l.useState)(0),[dt,pt]=Object(l.useState)(0),[bt,ht]=Object(l.useState)(0),[gt,St]=Object(l.useState)(0),[yt,Ot]=Object(l.useState)(0),[Nt,vt]=Object(l.useState)(0),[Ct,_t]=Object(l.useState)(0),[ft,jt]=Object(l.useState)(0),[Tt,Dt]=Object(l.useState)(!0),[Lt,kt]=Object(l.useState)(null),[xt,At]=Object(l.useState)(""),[It,Rt]=Object(l.useState)(""),[Ft,Gt]=Object(l.useState)("INFO"),[Pt,Vt]=Object(l.useState)([]),[zt,Qt]=Object(l.useState)(""),[Ut,Yt]=Object(l.useState)(0),[Kt,Ht]=Object(l.useState)(""),[Wt,Xt]=Object(l.useState)([]),[Zt,$t]=Object(l.useState)(""),[el,al]=Object(l.useState)(""),[tl,ll]=Object(l.useState)(0),[nl,rl]=Object(l.useState)(0),[cl,ol]=Object(l.useState)(0),[ml,ul]=Object(l.useState)(0),[sl,il]=Object(l.useState)(0),[dl,El]=Object(l.useState)(""),[pl,bl]=Object(l.useState)(null),[hl,gl]=Object(l.useState)(0),[Sl,yl]=Object(l.useState)(0),[Ol,Nl]=Object(l.useState)(0),[vl,Cl]=Object(l.useState)(0),[_l,fl]=Object(l.useState)(""),[jl,Tl]=Object(l.useState)(""),[Dl,Ll]=Object(l.useState)(null),[kl,xl]=Object(l.useState)(""),[wl,Al]=Object(l.useState)({location:"",trannumber:"",type:""}),[Il,Ml]=Object(l.useState)(!1),[Rl,Fl]=Object(l.useState)(""),[Gl,Pl]=(new Date,Object(l.useState)(!1)),[Jl,Bl]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[ql,Vl]=Object(l.useState)(""),[zl,Ql]=Object(l.useState)(0),[Ul,Yl]=Object(l.useState)(0),[Kl,Hl]=Object(l.useState)(!1),[Wl,Xl]=Object(l.useState)(!1),[Zl,$l]=Object(l.useState)([]),[en,an]=Object(l.useState)([]),[tn,ln]=Object(l.useState)(!1),[nn,rn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[cn,on]=Object(l.useState)(!0),[mn,un]=Object(l.useState)("C"),[sn,dn]=Object(l.useState)(!1);Object(l.useEffect)(()=>{xa().then(e=>{Pe(e),null!=e&&pn(e)}),Ye(_,[a,"all","TRAN_PP"],function(a){let t=JSON.parse(a);"1"===t.query?aa(t):e("/")}),Ye(O,[a,"ddlistjsonselect",y],e=>{ca(JSON.parse(e))}),Ye(W,[a,"listResidential"],e=>{ma(JSON.parse(e))}),Ye(S,[a,"getState",1],e=>{sa(JSON.parse(e))});const t=sessionStorage.getItem("values");if(t){const e=JSON.parse(t);"PURCHASE"==e.md_type?(r("A"),_a("R"),Ye(V,[a,"getIndividualData",e.code],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a),En({...a,desc:"".concat(a.desc.replaceAll("^","  ^  "))})}),sessionStorage.removeItem("values")):r("")}},[]);const En=e=>{ba(e);var a=e.id.split("^");fl(a[1]),Yl(1),$a("")},pn=e=>{Pe(e);var a=e.id.split("^");re(a[1]),He(null==a[3]?0:a[3]),Ue(a[4]),Xe(""===a[5]?"Select":a[5]),xl(a[2]),sessionStorage.activeBranch=a[1]},bn=e=>{Ze(e,z),U(1*e+1*R-1),"EVTM"===y&&U(e)},hn=e=>{x(e);let t=e.id.split("^");D(t[1]),le(null),$(""),ae("");const l={isd:t[1],location:ne,product:y};Ye(ye,[a,"getrate",JSON.stringify(l)],e=>{let a=JSON.parse(e);P(1*a.buyrate),ll(1*a.maxbuyrate),rl(1*a.minbuyrate),oe(1*a.usdratebuy)})},gn=(e,t)=>{Ye(pe,[a,"calcinvoice",JSON.stringify(e),JSON.stringify(t)],e=>{let a=JSON.parse(e);vt(a.fxamt),ht(a.sgst),ut(a.totalamt),jt(a.taxablevalue),_t(a.roundoff),pt(a.cgst),St(a.igst),Ot(a.ugst);for(var t=0,l=0;l<Wt.length;l++)t+=1*Wt[l].tp_amount;Rt(1*a.totalamt-t)})},Sn=(e,a,t,l,n)=>"P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e;return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Transaction Modification Commission "))),""===t?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Transaction"),n.a.createElement(s.a.Select,{value:c,onChange:e=>{o(e.target.value)}},n.a.createElement("option",{value:""},"ALL"),n.a.createElement("option",{value:"PP"},"PP"),n.a.createElement("option",{value:"PB"},"PB"),n.a.createElement("option",{value:"SP"},"SP"),n.a.createElement("option",{value:"SB"},"SB"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"TabType"),n.a.createElement(s.a.Select,{value:p,onChange:e=>{b(e.target.value)}},n.a.createElement("option",{value:"PR"},"Product"),n.a.createElement("option",{value:"PY"},"Payment"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{style:{marginRight:"10px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e={transactionType:c,tabtype:p};Ye(Ae,[a,"trandetaillist",JSON.stringify(e)],function(e){let a=JSON.parse(e);console.log(a.trandetailproduct),g(a.trandetailproduct)})}}," List")),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Individual Name"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null))),n.a.createElement("tbody",null,h.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.prd_srno),n.a.createElement("td",null,e.bd_first_name),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((e,t,l)=>{r("Q"),Ka(""),da(e),Gt("INFO"),ue("0"),j(null);var n={srno:e,location:t,productype:l};Ye(Ae,[a,"trandetailview",JSON.stringify(n)],function(e){let a=JSON.parse(e);console.log(a),C(a.trandetailproduct)}),console.log(n)})(e.prd_srno,e.prd_location,e.prd_type),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))))))))):null,"Q"===t||"E"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void r("")},"Back"),"\xa0","1"===$e.edit&&"Q"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void r("E")},"Edit"),"\xa0"):null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===t?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:y,onChange:e=>(e=>{N(e),x(null),j(null),M(""),P(""),z(""),K(""),A(null),F("EVTM"===e?"1":""),Ye(O,[a,"ddlistjsonselect",e],e=>{ca(JSON.parse(e))})})(e.target.value),ref:de},n.a.createElement("option",{value:"CN"},"CN"),n.a.createElement("option",{value:"ETC"},"TC"),n.a.createElement("option",{value:"EVTM"},"VTM")))),"EVTM"===y?n.a.createElement(Xa.a,{className:"col-md-6 col- 6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Vtm's"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:f,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>qt(e,"APPROVED"),onInputChange:Mt,onChange:e=>{j(e);var a=e.id.split("^");const t={id:"^".concat(a[2],"^").concat(a[7]),label:"".concat(a[2]," ").concat(a[7])};x(t),A({id:"^".concat(a[3],"^").concat(a[4]),label:"".concat(a[3]," ").concat(a[4])}),K(a[5]),bn(a[6]),M(a[8]),hn(t)}}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:k,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,y),onInputChange:Mt,onChange:hn}))),"ETC"===y||"EVTM"===y?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",ne),onInputChange:Mt,onChange:e=>A(e)}))):null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{display:{display:"EVTM"===y&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"EVTM"===y?"Value":"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"EVTM"===y,type:"text",value:I,maxLength:5,onChange:e=>(e=>{ea(e,M),ae(Sn(el,Z,R,e,G))})(e.target.value)}))),n.a.createElement(Xa.a,{style:{display:"EVTM"===y&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:R,maxLength:9,onChange:e=>(e=>{Ze(e,F),""===y&&U(1*e+1*q-1),ae(Sn(el,Z,e,I,G))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:G,maxLength:Ve,onChange:e=>(e=>{ea(e,P),ae(Sn(el,Z,R,I,e))})(e.target.value)})))),"ETC"===y||"EVTM"===y?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"EVTM"===y&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{placeholder:"Prefix",type:"text",maxLength:5,value:J,onChange:e=>na(e.target.value,B)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"EVTM"===y,placeholder:"From",type:"text",maxLength:6,value:q,onChange:e=>bn(e.target.value)}))),"ETC"===y?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"To",type:"text",maxLength:6,value:Q,onChange:e=>Ze(e.target.value,U)}))):n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Card No",type:"text",value:Y,onChange:e=>K(e.target.value)})))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:H,onChange:e=>X(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:te,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"AGENT",ne),onInputChange:Mt,onChange:e=>{le(e),Ye(L,[a,"getisdcommission",e.id,T,y],e=>{let a=JSON.parse(e);var t;$(a.type),al(a.value),t="P"===a.type||"R"===a.type?Sn(a.value,a.type,R,I,G):a.value,ae(t)})}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Z,onChange:e=>(e=>{$(e),al(""),ae("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:el,onChange:e=>(e=>{ea(e,al),ae(Sn(1*e,Z,R,I,G))})(e.target.value)}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:ee,onChange:e=>ea(e.target.value,ae)})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],a=0;if(("CN"!==y&&"ETC"!==y||null!=k)&&""!==I&&""!==R&&""!==G&&("ETC"!==y&&"EVTM"!==y||""!=q&&""!=Q&&null!=w)&&("1"!==H||""!==Z&&null!==te&&""!==ee))if(("ETC"===y||"EVTM"===y)&&1*Q-1*q>100)ct()(".loader").hide(),ve("'To' must be less than 100."),Oe(!0);else if(0!=tl&&0!=nl&&(G>tl||G<nl))ct()(".loader").hide(),e[a++]=G>tl?"Maximum rate is "+tl:"",e[a++]=G<nl?"Minimum rate is "+nl:"",ve(ja(e)),Oe(!0);else if(G<1)ct()(".loader").hide(),ve(ja(["Rate should be greater than 0"])),Oe(!0);else{ct()(".loader").hide();var l=k.id.split("^"),n=0,r=0,c="",o=0,m=0;if(null!==te){var u=te.id.split("^");n=u[1],r=u[2],c=u[5]}if(null!==w){var s=w.id.split("^");o=s[1],m=s[2]}var i=0;""!=ce&&0!=ce&&(i=G*R*I/ce);const e={tranType:"PP",type:"PURCHASE",uniquekey:Oa(15),prd_location:ne,prd_type:"PP",prd_srno:ia,prd_isd:l[1],prd_date:Ea(fe),prd_product:y,prd_deno:I,prd_qty:R,prd_rate:G,prd_amount:G*R*I,prd_from:q,prd_prefix:J,prd_to:Q,prd_group:o,prd_account:m,prd_agent_group:n,prd_agent_ledger:r,prd_agent_name:c,prd_card_no:Y,isd_name:l[2],randomString:me,prd_commission_type:Z,prd_commission_value:""==ee?0:ee,prd_commission:""==el?0:el,nCorporate:ka,nState:ha.value,pOtherCharges:st,ppStateType:Qe,ppStateValue:Ke,scrMode:t,pVtm:f,prd_usd_rate:""==ce?0:ce.toFixed(2),prd_usd_amount:i.toFixed(2),isCommission:H,delny:"Y"};var d=Sa(v,e);d.length>0&&Dt(!1);const a={TabType:"Product",ALineNo:se.length+1,AType:"A",TLoc:ne,TType:"PP",Product:y,ISD:l[2],Deno:I,Quantity:R,Rate:G,Amount:G*R*I,ProductFrom:q,ProductTo:Q,ProductPrefix:J,ProductGroup:o,ProductAccout:m,CommsnType:Z,AgentGroupCode:n,AgentLedgerCode:r,CommsnRate:""==ee?0:ee,CommsnAmount:""==el?0:el};"1"===$e.edit&&"E"===t&&ie(e=>[...e,a]),C(d),x(null),A(null),M(""),F(""),P(""),B(""),z(""),U(""),K(""),ae(""),al(""),le(null),$(""),gn(d,e)}else ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null==k?"Isd.":"",e[a++]=""===I?"Denomination.":"",e[a++]=""==R?"Quantity.":"",e[a++]=""==G?"Rate.":"","ETC"!==y&&"EVTM"!==y||""!=q&&""!=Q&&null!=w||(e[a++]=null==w?"Issuer.":"",e[a++]=""==q?"From.":"",e[a++]=""==Q?"To.":""),"1"!==H||""!==Z&&null!==te&&""!==ee||(e[a++]=null==te?"Agent.":"",e[a++]=""==Z?"Commission type.":"",e[a++]=""==ee?"Commission value.":""),ve(ja(e)),Oe(!0)})()},"Add"),"\xa0"))),n.a.createElement(Wa.a,null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,v.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===t||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=v.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:se.length+1,AType:"D",TLoc:ne,TType:"PP",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===$e.edit&&"E"===t&&ie(a=>[...a,e])}const l={tranType:"PP",type:"PURCHASE",uniquekey:Oa(15),nState:ha.value,pOtherCharges:""===st?0:st,ppStateType:Qe,ppStateValue:Ke},n=ga(v,"uniquekey",e);C(n),gn(n,l),ol(cl-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to))))))):null))};var Jn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)(null),[h,g]=Object(l.useState)("PP"),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(0),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)(!1),[T,D]=Object(l.useState)([]),[L,k]=Object(l.useState)([]);Object(l.useEffect)(()=>{xa().then(e=>{b(e),null!=e&&x(e)}),Ye(_,[a,"all","TRAN_PAYMENT_MODIFICATION"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")})},[]);const x=e=>{b(e);const a=e.id.split("^");N(a[1])},w=e=>{j(!0),C(a=>a.map(a=>a.uniquekey===e.uniquekey?{...a,payment_disable:"0"}:a)),C(a=>(((e,a)=>{const t=a.find(a=>a.uniquekey===e.uniquekey);if(t){const e={group:t.tp_group,account:t.tp_account,cheque:t.tp_cheque};k([e])}else console.log("Data Nahi mila")})(e,a),a))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Transaction Payment Modification"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:p,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:x}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Transaction"),n.a.createElement(s.a.Select,{value:h,onChange:e=>g(e.target.value)},n.a.createElement("option",{value:"PP"},"PP"),n.a.createElement("option",{value:"PB"},"PB"),n.a.createElement("option",{value:"SP"},"SP"),n.a.createElement("option",{value:"SB"},"SB"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:S,onChange:e=>Ze(e.target.value,y)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{marginTop:"32px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(ct()(".loader").show(),""==S)ct()(".loader").hide(),d("Please fill Srno."),o(!0);else{const e={locationCode:O,tranType:h,tranSrno:S};Ye(Re,[a,"getPaymentList",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);C(a.paymentDetails),j(!1)})}}}," List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Cheque No."),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,v.map((e,l)=>n.a.createElement(n.a.Fragment,{key:l},n.a.createElement("tr",null,n.a.createElement("td",null,e.tp_type),n.a.createElement("td",null,"BN"==e.tp_payment_type?"Bank":"Receivables"),n.a.createElement("td",null,e.tp_group+" "+e.tp_account+" "+e.mvli_ledger_name),n.a.createElement("td",null,e.tp_cheque),n.a.createElement("td",null,"1"!==t.edit||f?null:n.a.createElement("span",{onClick:()=>w(e),className:"handCursor colorThemeBlue"},n.a.createElement(za.a,{icon:tt.j})))),f?n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"13"},n.a.createElement("table",{style:{width:"100%"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Cheque No."),n.a.createElement("th",null,"\xa0"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"col-md-3"},n.a.createElement(s.a.Select,{value:e.tp_payment_type,onChange:t=>((e,t)=>{const l={srno:t.tp_srno,type:t.tp_type,location:t.tp_location,lineNo:t.tp_line_no,paymentType:e};Ye(Re,[a,"getPaymentAccount",JSON.stringify(l)],a=>{let l=JSON.parse(a);C(a=>a.map(a=>a.uniquekey===t.uniquekey?{...a,tp_payment_type:e,tp_group:l.group,tp_account:l.account,mvli_ledger_name:l.ledger_name,tp_ledger:l.group+" "+l.account+l.ledger_name,tp_cheque:"RC"===e?"":l.cheque}:a))})})(t.target.value,e)},n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"RC"},"Receivable"))),n.a.createElement("td",{className:"col-md-3 col-6",style:{position:"absolute"}},n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:{label:e.tp_ledger,id:e.tp_group+"^"+e.tp_account+"^"+e.mvli_ledger_name},getOptionLabel:e=>e.label,getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK",O),onInputChange:Mt,onChange:a=>((e,a)=>{v.find(e=>e.uniquekey===a)&&C(t=>t.map(t=>t.uniquekey===a?{...t,tp_ledger:e.label,tp_group:e.id.split("^")[1],tp_account:e.id.split("^")[2]}:t))})(a,e.uniquekey),isDisabled:"RC"===e.tp_payment_type})),"RC"===e.tp_payment_type?null:n.a.createElement("td",{className:"col-md-3 col-6"},n.a.createElement(s.a.Control,{type:"text",maxLength:50,value:e.tp_cheque,onChange:a=>((e,a)=>{C(t=>t.map(t=>t.uniquekey===a?{...t,tp_cheque:e}:t))})(a.target.value,e.uniquekey)})),n.a.createElement("td",null,"1"===t.edit&&f?n.a.createElement(Ol.a,{bg:"success",onClick:()=>(e=>{ct()(".loader").show();var t=[],l=0;if("BN"===e.tp_payment_type&&""===e.tp_cheque||""===e.tp_group||""===e.tp_account)ct()(".loader").hide(),t[l++]=E("MSG0006"),t[l++]=""===e.tp_group?"Bank":"",t[l++]=""===e.tp_account?"Bank":"",t[l++]="BN"===e.tp_payment_type&&""===e.tp_cheque?"Cheque":"",d(ja(t)),o(!0);else{const t={paymentType:e.tp_payment_type,group:e.tp_group,account:e.tp_account,cheque:e.tp_cheque,uniquekey:e.uniquekey,srno:e.tp_srno,type:e.tp_type,location:e.tp_location,lineNo:e.tp_line_no,amount:e.tp_amount,locationCode:O,tranType:h,tranSrno:S},l=Ja(L,[t]);D(Ba(T,l,e.tp_type,O)),Ye(Re,[a,"confirmPayment",JSON.stringify(t),JSON.stringify(T)],e=>{ct()(".loader").hide();let a=JSON.parse(e);C(a.paymentDetails),j(!1),D([])})}})(e),className:"pointer"},"Save"):null," \xa0 \xa0"))))))):null)))))),n.a.createElement(Ka,{isOpen:c,onClose:e=>o(!1)},u))};var Bn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("startDate"),t=(sessionStorage.getItem("endDate"),sessionStorage.getItem("branchDisable")),r=sessionStorage.getItem("sessionId"),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)([]),[p,b]=Object(l.useState)([]),[h,g]=Object(l.useState)({value:0,label:"Select"}),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)({value:0,label:"Select"}),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)("D"),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(new Date),[A,I]=Object(l.useState)(null),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(null),[B,V]=Object(l.useState)(0),[z,U]=Object(l.useState)(null),[Y,K]=Object(l.useState)(0),[H,W]=Object(l.useState)(0),[X,Z]=Object(l.useState)(!0),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(!1),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),me=new Date,[ue,se]=Object(l.useState)(!1),[ie,de]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[Ee,pe]=Object(l.useState)(""),[be,he]=Object(l.useState)(!1),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(!1);Object(l.useEffect)(()=>{c||(xa().then(e=>{J(e),null!=e&&Ne(e)}),Ye(_,[r,"all","OPN_BANK_STATEMENT"],function(a){let t=JSON.parse(a);"1"===t.query?d(t):e("/")}),Ye(q,[r,"voucherType"],e=>{let a=JSON.parse(e);console.log(a),C(a)}),o(!0))},[c,r,e]);const Ne=e=>{console.log(e),J(e);var a=e.id.split("^");V(a[1]),U(null),sessionStorage.activeBranch=a[1]};var ve=[],Ce=0;return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Opening Bank Statement"))),"\xa0",X?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"mandatory text-danger"},"*")," \xa0",n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",onClick:()=>void J(null)},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:P,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ne,isDisabled:"true"===t}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"mandatory text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK",B),onInputChange:Mt,onChange:e=>{console.log(e),U(e);const a=e.id.split("^");K(a[1]),W(a[2])}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===u.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==P||null==z)ve[Ce++]=E("MSG0006"),ve[Ce++]=null==P?"Location.":"",ve[Ce++]=null==z?"Bank.":"",re(ja(ve)),le(!0);else{Z(!1);const e=P.id.split("^");j(e[1]),g(e[2]);const a=z.id.split("^");y(a[5]),Ye($,[r,"listBnkStmt",e[1]],e=>{let a=JSON.parse(e);b(a)})}}},"List"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(null==z)re("Please Select Bank!"),le(!0);else{var e={location:0,right:"OPN_BANK_STATEMENT",gpCode:Y,acCode:H};va(Q,"post",[r,JSON.stringify(e)])}}},"Export")):null)),"\xa0"):n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",h)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Bank : ",S))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{ee?ae(!1):Z(!0)}},"Back")," ","1"!==u.add||ee?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,a=ce,t=Ea(e),l=new Date(a),n=new Date(t)-l,c=Math.ceil(n/864e5);console.log(c);const o={srno:1,type:"OPNRECO",pageright:"OPN_BANK_STATEMENT",location:f};Ye(_e,[r,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);if(pe(t.requestsrc),Be==c||"unlock"==t.msg)ae(!0);else{let a;Ye(_e,[r,"getStatus",JSON.stringify(o)],t=>{a=JSON.parse(t),de({trantype:"OPNRECO",trannumber:1,location:f,entity_name:h,tranDate:Ea(e),tdu_status:a}),se(!0)})}})})()},"Edit"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e={location:f,right:"OPN_BANK_STATEMENT",gpCode:Y,acCode:H};va(Q,"post",[r,JSON.stringify(e)])}},"Export")))),"\xa0"),ee&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flag",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:T,onChange:e=>D(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Withdraw"),n.a.createElement("option",{value:"C"},"Deposit")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:x,onChange:e=>w(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{value:M,maxLength:10,onChange:e=>ea(e.target.value,R),placeholder:"Amount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{value:F,maxLength:100,onChange:e=>na(e.target.value,G),placeholder:"Cheque No"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Voucher Type",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(vt.a,{options:v,value:O,onChange:e=>N(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Voucher Number",n.a.createElement("span",{className:" mandatory text-danger"},"*")),n.a.createElement(s.a.Control,{value:L,onChange:e=>Ze(e.target.value,k),maxLength:7,placeholder:"Invoice Number"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=Ea(x);if(0==O.value||""==M||""==F||""==L)ve[Ce++]=E("MSG0006"),ve[Ce++]=""==M?" Amount.":"",ve[Ce++]=""==F?" Cheque No.":"",ve[Ce++]=""==L?" Invoice No.":"",ve[Ce++]=0==O.value?" Voucher Type.":"",re(ja(ve)),le(!0);else if(e>=a)le(!0),re("Date should be before 01-04-2024");else{console.log(z);const e={flag:T,bnk:H,grp:Y,date:Ea(x),amt:M,vouchType:O.value,chequeno:F,invoiceno:L,location:f};if(Ye($,[r,"addNewBnkStmt",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),b(a),R(""),D("D"),N(""),G(""),k(""),w(new Date)}),"SELF"!==Ee){const e={srno:1,type:"OPNRECO",status:"E",currentDate:Ea(me),pageright:"OPN_BANK_STATEMENT"};Ye(_e,[r,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ",!be&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void he(!0)},"Upload")," \xa0")),"\xa0",n.a.createElement(Wa.a,null,"\xa0"),be&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:ge,onChange:e=>Se(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:function(e){ct()(".loader").show(),e.preventDefault();const a={location:f,right:"OPN_BANK_STATEMENT"};Ca($,"post",[r,"downloadformat",JSON.stringify(a)],e=>{ct()(".loader").hide(),re(ja([e])),le(!0)})}},"Bank Statement Upload Format ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),Se(null),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),re("Please select a file to upload."),le(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),re("(.) not allowed in file name."),le(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),re("Please select a file with in 10 MB size."),le(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),re("File extension should be in xlsx format"),le(!0);else{const e={sid:r,bankstatementFile:ge,uploadType:"uploadbankstatement",pageright:"OPN_BANK_STATEMENT",location:f,gpCode:Y,acCode:H};Na(JSON.stringify(e),"fileExcel",e=>{let a=JSON.parse(e);ct()(".loader").hide(),b(a.bankstatementdata),re(ja([a.msg])),le(!0),he(!1)})}}})()},"Upload")," "))),n.a.createElement(Wa.a,null,"\xa0")),!X&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===u.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Cheque No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Invoice No"),n.a.createElement("th",{style:{textAlign:"right"}},"Withdraw"),n.a.createElement("th",{style:{textAlign:"right"}},"Deposit"))),n.a.createElement("tbody",null,p.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===u.delete?n.a.createElement("td",{className:"textCenter"},ee&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye($,[r,"deleteBnkStmt",e,f],e=>{let a=JSON.parse(e);b(a)})})(e.tfd_line_no)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.tfd_bank),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.mvt_type),n.a.createElement("td",null,e.tfd_refnumber),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&-1*e.tfd_amount)))))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:te,onClose:e=>le(!1)},ne)),n.a.createElement(Dl,{logObject:ie,show:ue,hdrNotExist:!0,onHide:()=>se(!1)}))};var qn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(null),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(0),[R,F]=Object(l.useState)("N"),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)("PP"),[W,X]=Object(l.useState)(null),[Z,$]=Object(l.useState)(0),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(null),[ne,re]=Object(l.useState)("PP"),[ce,oe]=Object(l.useState)(0),[me,ue]=Object(l.useState)([]),[se,ie]=Object(l.useState)([]);var de=[],Ee=0;Object(l.useEffect)(()=>{d||(xa().then(e=>{x(e),null!=e&&pe(e)}),Ye(_,[a,"all","MANUAL_CANCELLATION"],a=>{let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const pe=e=>{x(e);const a=e.id.split("^");M(a[1]),A(a[2])},be=e=>{X(e),console.log(e);const a=e.id.split("^");$(a[4]),ae(a[5])};const he=()=>{S(!1),h("")};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Manual Book Cancellation"))),""==b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:k,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:pe,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===R,onChange:()=>F("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===R,onChange:()=>F("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===R,onChange:()=>F("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"MT"===R,onChange:()=>F("MT"),type:"radio",label:"Manual Type"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"MN"===R,onChange:()=>F("MN"),type:"radio",label:"Manual No"})))))),n.a.createElement(Wa.a,null,"N"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:G,minDate:new Date(t),maxDate:new Date(r),onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:z,maxLength:20,onChange:e=>Ze(e.target.value,Q),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:U,maxLength:20,onChange:e=>Ze(e.target.value,Y),placeholder:"To"})))):"D"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:q,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"MT"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:K,onChange:e=>H(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk"))))):"MN"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:W,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>tl(e,I),onInputChange:Mt,onChange:be})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.add&&"N"===R?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void(k&&G?(h("A"),ue([]),X(null),$(0),ae("")):(de[Ee++]=E("MSG0006"),de[Ee++]=k?"":"Please Select Location!",de[Ee++]=G?"":"Please Select Date!",f(ja(de)),v(!0)))},"Add New"):null,"\xa0","1"!==o.query||"S"!==R&&"D"!==R&&"MT"!==R&&"MN"!==R?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!k||"S"==R&&!z||"S"==R&&!U||"D"==R&&!J||"D"==R&&!q||"MT"==R&&!K||"MN"==R&&!W)de[Ee++]=E("MSG0006"),de[Ee++]=k?"":"Please Select Location!",de[Ee++]="S"!=R||z?"":"Please Enter From Srno!",de[Ee++]="S"!=R||U?"":"Please Enter To Srno!",de[Ee++]="D"!=R||J?"":"Please Select From Date!",de[Ee++]="D"!=R||q?"":"Please Select To Date!",de[Ee++]="MT"!=R||K?"":"Please Select Manual Type!",de[Ee++]="MN"!=R||W?"":"Please Select Manual Number!",f(ja(de)),v(!0);else{console.log(k);const e={filterRadioType:R,filterLocation:I,filterFromDate:Ea(J),filterToDate:Ea(q),filterFromSrno:z,filterToSrno:U,filterManualType:K,filterManualNo:W,filterFromManualNo:Z,filterPrefixManualNo:ee};Ye("/api/tran_manual_book_cancellation_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);ie(a)})}})()},"List"),n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>e("/cancellation")},"Back"),"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Manual No."))),n.a.createElement("tbody",null,se.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>void 0},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tmbb_manual_type),n.a.createElement("td",null,e.tmbb_prefix," ",e.tmbb_from)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):he())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void h("E")},"Edit")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",w))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:K,onChange:e=>H(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:W,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ll(e,I,K),onInputChange:Mt,onChange:be})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{L("Do you really want to cancel this manual book entry ?"),T(!0)}},"Cancel Manual Book")))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:g,onYes:e=>he(),onNo:e=>S(!1)},y),n.a.createElement(St,{isOpen:j,onYes:e=>(()=>{T(!1);const e={location:I,manualType:K,filterRadioType:R,fromManualNo:Z,prefixManualNo:ee,date:Ea(G)};console.log(e),Ye("/api/tran_manual_book_cancellation_a.php",[a,"cancelManualBook",JSON.stringify(e)],e=>{console.log(e);let a=JSON.parse(e);ie(a),h(""),X(null),$(0),ae("")})})(),onNo:e=>T(!1)},D)))};var Vn=()=>{const[e,a]=Object(l.useState)("MANCN"),t=Object(m.n)();return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cancellation"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cancellation Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:e,onChange:e=>a(e.target.value)},n.a.createElement("option",{value:"MANCN"},"Manual Book"),n.a.createElement("option",{value:"CHQCN"},"Cheque Book"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{switch(e){case"MANCN":t("/manual-cancellation");break;case"CHQCN":t("/cheque-cancellation")}})()},"Goto"),"\xa0"))))};var zn=function(e){let{obj:a,holdGstData:t}=e;const r=sessionStorage.getItem("sessionId"),[c,o]=Object(l.useState)(!1),m=e=>{o(e);var l=[];l=e?t.map(e=>({...e,selected:"1"==e.det_hgst_submit?"0":"1"})):t.map(e=>({...e,selected:"0"})),a.setHoldGstData(l)},u=(e,t,l,n,c,o)=>{m(!1),ct()(".loader").show();const u={status:e,trannumber:t,lineno:l,location:n,certno:c,type:o,paytype:"GST",holdgstlist:!0,agentcode:a.agentcode};Ye(ke,[r,"updatestatus",JSON.stringify(u)],e=>{ct()(".loader").hide();let t=JSON.parse(e);a.setHoldGstData(t.commissiondata)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,a.location," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Agent : ",n.a.createElement("b",null,a.agentcode+" "+a.agentname," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GstIN : ",n.a.createElement("b",null,a.gstin," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"SGST : ",n.a.createElement("b",null,a.sgst," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"CGST : ",n.a.createElement("b",null,a.cgst," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"IGST : ",n.a.createElement("b",null,a.igst," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Total GST : ",n.a.createElement("b",null,1*a.igst+1*a.cgst+1*a.sgst," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Number : ",n.a.createElement("b",null,a.invoicenum," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Date : ",n.a.createElement("b",null,a.invoicedate," ")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>a.setScrMode("")},"Back"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();var e="Please select trasactions.",l=!1;const n={hdrsrno:a.hdrsrno,location:a.cmLocationValue,holdGstData:t,agentcode:a.agentcode,holdgstlist:!0};for(var c=0;c<t.length;c++)if("1"==t[c].selected&&(l=!0,e=""),"1"==t[c].selected&&"O"!=t[c].det_hgst_status){l=!1,e="Please mark OK to each transaction before sending it for approval.";break}l?Ye(ke,[r,"sendgstapproval",JSON.stringify(n)],e=>{ct()(".loader").hide();let t=JSON.parse(e);a.setHoldGstData(t.data)}):(ct()(".loader").hide(),a.setMsgBox(!0),a.setMsgText(e)),m(!1)})()},"Send For Approval"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void 0},"Activity Log"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"commissionCheck"},n.a.createElement("span",null,"All\xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:c,onChange:e=>m(e.target.checked)}))),n.a.createElement("th",null,"Action"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Cert"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"IGST"))),n.a.createElement("tbody",null,t.map((e,l)=>n.a.createElement("tr",null,"1"===e.det_hgst_submit?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,"\xa0"),n.a.createElement("td",null,"\xa0")):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,n.a.createElement("div",{style:{display:"block"}},n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:c||"1"===e.selected&&"checked",onClick:e=>((e,l,n)=>{let r=t.map((a,t)=>l!==t?a:"selected"===e?(o(!1),n.target.checked?{...a,[e]:"1"}:{...a,[e]:"0"}):void 0);a.setHoldGstData(r)})("selected",l,e)}))))),n.a.createElement("td",null,n.a.createElement("span",{className:"handCursor",title:"Ok",style:{color:"green"}},n.a.createElement(za.a,{icon:tt.e,onClick:()=>u("O",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})),"\xa0\xa0",n.a.createElement("span",{className:"handCursor colorThemeBlue",title:"Hold"},n.a.createElement(za.a,{icon:tt.f,onClick:()=>u("H",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})))),n.a.createElement("td",null,"O"==e.det_hgst_status?"OK":"A"==e.det_hgst_status?"Approved":"R"==e.det_hgst_status?"Rejected":"Hold"),n.a.createElement("td",null,e.det_type+" "+e.det_cert_no),n.a.createElement("td",null,e.det_cgst),n.a.createElement("td",null,e.det_sgst),n.a.createElement("td",null,e.det_igst))))))};var Qn=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)("N"),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(new Date),[w,A]=Object(l.useState)(new Date),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)([]),[W,X]=Object(l.useState)("A"),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)("U"),[te,le]=Object(l.useState)("P"),[ne,re]=Object(l.useState)(new Date),[ce,oe]=Object(l.useState)(new Date),[me,se]=Object(l.useState)([]),[ie,de]=Object(l.useState)(""),[Ee,pe]=Object(l.useState)(""),[be,he]=Object(l.useState)(""),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)(!1),[fe,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)([]),[Le,xe]=Object(l.useState)("1"),[we,Ae]=Object(l.useState)(""),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)(""),[Ge,Pe]=Object(l.useState)("TW"),[Je,Be]=Object(l.useState)([]),[qe,Ve]=Object(l.useState)([]),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,We]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)(""),[ea,aa]=Object(l.useState)(""),[ta,la]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(""),[oa,ua]=Object(l.useState)(""),[sa,ia]=Object(l.useState)(""),[da,ba]=Object(l.useState)(""),[ha,ga]=Object(l.useState)(""),[Sa,ya]=Object(l.useState)(!1),[Oa,Ca]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[_a,Ta]=Object(l.useState)(!1),[Da,La]=Object(l.useState)(""),[ka,wa]=Object(l.useState)(!1),[Aa,Ia]=Object(l.useState)([]),[Ma,Ra]=Object(l.useState)(""),[Fa,Pa]=Object(l.useState)(""),[Ja,Ba]=Object(l.useState)(""),[qa,Va]=Object(l.useState)([]),[Ua,Ya]=Object(l.useState)(!1),[Za,$a]=Object(l.useState)(""),[et,lt]=Object(l.useState)({}),[rt,ot]=Object(l.useState)(""),[mt,ut]=Object(l.useState)(""),[st,it]=Object(l.useState)(""),[dt,ht]=Object(l.useState)(!1),[gt,yt]=Object(l.useState)([]),[Ot,Nt]=Object(l.useState)("N"),[vt,Ct]=Object(l.useState)(""),[_t,ft]=Object(l.useState)(!1),[jt,Tt]=Object(l.useState)(!1),[Dt,Lt]=Object(l.useState)([]),[kt,xt]=Object(l.useState)(""),[At,It]=Object(l.useState)(""),[Ft,Gt]=Object(l.useState)(!1),[Pt,Jt]=Object(l.useState)("O"),[Bt,qt]=Object(l.useState)("1"),[Vt,zt]=Object(l.useState)(""),[Qt,Ut]=Object(l.useState)("O"),[Yt,Kt]=Object(l.useState)("P");Object(l.useEffect)(()=>{xa().then(e=>{v(e),null!=e&&Wt(e)}),Promise.all([Ga(_,[e,"all","TRAN_COMMISSION"]),Ga(_,[e,"all","TRAN_COMMISSION_BM_APPROVAL"]),Ga(_,[e,"all","TRAN_COMMISSION_ZM_APPROVAL"]),Ga(_,[e,"all","TRAN_COMMISSION_GST"]),Ga(_,[e,"all","TRAN_COMMISSION_GST_APPROVAL"])]).then(e=>{let[t,l,n,r,c]=e;"0"===t.query&&a("/"),f("A"),u(t),p(l),O(n),h(r),S(c),"1"!==l.query&&"1"!==n.query||f("A"),"1"!==r.query&&"1"!==c||f("H"),"1"===t.add&&(f("S"),T(1),L(30),Zt("1",1,30,sessionStorage.getItem("activeBranch")))}).catch(e=>alert(e))},[]);const Ht=e=>{Ta(!0),Ca({trantype:"CM",trannumber:ie,trancategory:"T",location:J})},Wt=e=>{se([]),Be([]),Va([]),Ve([]),v(e);var a=e.id.split("^");B(a[1]),V(null==a[3]?0:a[3]),Q(a[2]),sessionStorage.activeBranch=a[1]},Xt=(a,t,l)=>{ct()(".loader").show(),yt([]),de(a),pe("dd-mm-yyyy"),$(""),Y(""),qt("1");const n={hdrsrno:a,location:t,state:q,btnsource:l};Ye(ke,[e,"hdrdetails",JSON.stringify(n)],e=>{ct()(".loader").hide(),M("Q");let a=JSON.parse(e),t=a.hdrdata[0];he(t.hdr_from_date),Oe(t.hdr_to_date),Se(t.hdr_from_date_dmy),ve(t.hdr_to_date_dmy),H(a.commdata)})},Zt=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",l=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;ct()(".loader").show(),Be([]),Ve([]);const o={radioType:C,frmdate:Ea(k),todate:Ea(w),frmsrno:"0"===a?j:l,tosrno:"0"===a?D:n,type:W,location:"0"===a?J:c};var m=[],u=0,s=Ea(k),i=Ea(w);"S"!==C||""!==j&&""!==D?"D"===C&&(s<t||i>r)?(ct()(".loader").hide(),P(!0),F(E("MSG0010"))):Ye(ke,[e,"listheader",JSON.stringify(o)],e=>{ct()(".loader").hide(),se(JSON.parse(e))}):(ct()(".loader").hide(),m[u++]=E("MSG0006"),m[u++]=null===j?"From Srno":"",m[u++]=null===D?"To Srno":"",P(!0),F(ja(m)))},$t=()=>{_e(!1),"D"===Re?al():"A"===Re&&(()=>{var a=[],l=0,n=Ea(k),c=Ea(w);if(null===k||null===w||null==N)a[l++]=E("MSG0006"),a[l++]=null===N?"Location":"",a[l++]=null===k?"From date":"",a[l++]=null===w?"To date":"",P(!0),F(ja(a));else if(n<t||c>r)P(!0),F(E("MSG0010"));else{const a={location:J,todate:Ea(w),frmdate:Ea(k),frmsrno:j,radioType:C,tosrno:D,newRemark:Vt};Ye(ke,[e,"saveheader",JSON.stringify(a)],e=>{se(JSON.parse(e))})}})()},el=e=>{ya(e);var a=[];a=e?K.map(e=>({...e,selected:"1"===e.det_submit_approval||"NOFA"===e.det_fa_type?"0":"1"})):K.map(e=>({...e,selected:"0"})),console.log(a),H(a)},al=()=>{ct()(".loader").show();const a={hdrsrno:ie,location:J,radioType:C,frmdate:Ea(k),todate:Ea(w),frmsrno:j,tosrno:D,type:W,searchFilter:Z.trim(),filterStatus:Le,filterGstType:Bt};var t="Please select transactions.",l=K.map(e=>{if("1"===e.selected)return t="","A"==e.det_status&&(t="Not able to delete, transaction with certno "+e.det_cert_no+" already approved."),[e.det_cert_no,e.det_lineno,e.det_location,e.det_srno]}).filter(e=>void 0!=e);""!==t?(ct()(".loader").hide(),P(!0),F(t)):Ye(ke,[e,"delete",JSON.stringify(l),JSON.stringify(a)],e=>{ct()(".loader").hide(),H(JSON.parse(e)),ya(!1)})},tl=(a,t,l,n,r,c)=>{el(!1),ct()(".loader").show();const o={status:a,trannumber:t,lineno:l,location:n,certno:r,type:c,searchFilter:Z.trim(),filterStatus:Le,paytype:"COMMISSION",filterGstType:Bt};Ye(ke,[e,"updatestatus",JSON.stringify(o)],e=>{ct()(".loader").hide();let a=JSON.parse(e);H(a.commissiondata)})},ll=a=>{ct()(".loader").show(),el(!1),"R"===a&&($(""),qt("1"),xe("1"));const t={hdrsrno:ie,location:J,searchFilter:"R"===a?"":Z.trim(),filterStatus:"R"===a?"1":Le,filterGstType:"R"===a?"1":Bt};Ye(ke,[e,"filtersearch",JSON.stringify(t)],e=>{ct()(".loader").hide(),H(JSON.parse(e))})},nl=a=>{ct()(".loader").show(),Jt(a),Ya(!0);const t={hdrsrno:ie,location:J,listtype:"summary",statusfilter:a};Ye(ke,[e,"summary",JSON.stringify(t)],e=>{ct()(".loader").hide();let a=JSON.parse(e);Ia(a.data),Ra(a.totalcommission),Ba(a.totaltds),Pa(a.netcommission)})},rl=(e,a,t)=>{let l=gt.map((l,n)=>n!==a?l:"invoicenum"===t?{...l,[t]:e}:"invoicedate"===t?{...l,[t]:e}:void 0);yt(l)},cl=e=>{ft(!0),Ct(e)},ol=(a,t)=>{Ve([]),se([]),ot(a),ut(t),ul(!1),ct()(".loader").show();const l={location:J,paytype:a,approvalType:t,frmApprovalDate:Ea(ne),toApprovalDate:Ea(ce),approvalStatusFilter:te,allLocationSelector:Qt,hgstFilterStatus:Yt};"A"!==te||null!==ne&&null!==ce?Ye(ke,[e,"bmlist",JSON.stringify(l)],e=>{ct()(".loader").hide(),se([]),Be(JSON.parse(e))}):(ct()(".loader").hide(),P(!0),F("Please fill from-to date range."))},ml=(a,t)=>{ct()(".loader").show();const l={hdrsrno:ie,location:J,updatetype:a,bmLineNo:Ie,bmAgentCode:ha,paytype:rt,approvalType:mt,frmApprovalDate:Ea(ne),toApprovalDate:Ea(ce),approvalStatusFilter:te,BMHeaderData:Je,allOne:t,hgstFilterStatus:Yt,allLocationSelector:Qt};var n=!0;if("A"===t){n=!1;for(var r=0;r<Je.length;r++)if("1"===Je[r].selected){n=!0;break}}n?Ye(ke,[e,"updatepaymentbm",JSON.stringify(l)],e=>{ct()(".loader").hide();let a=JSON.parse(e);"1"==a.msg&&(M(""),Be(a.bmapprlist))}):(ct()(".loader").hide(),P(!0),F("Please select transactions.")),ul(!1)},ul=e=>{Gt(e);var a=[];a=e?Je.map(e=>"BM"===mt?{...e,selected:"P"===e.app_status?"1":"0"}:{...e,selected:"B"===e.app_status?"1":"0"}):Je.map(e=>({...e,selected:"0"})),Be(a)},sl=e=>{f(e),Ut("O"),Be([]),Ve([]),se([])};return n.a.createElement(n.a.Fragment,null,ka?n.a.createElement(on,{cmmodule:Da,updateAgentDetails:e=>{Xt(ie,J,"0")}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Commission Module"))),n.a.createElement(Wa.a,null,"\xa0"),""===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-5 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},"1"===o.query&&n.a.createElement(n.a.Fragment,null,"1"===o.add&&n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===C,onChange:()=>sl("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===C,onChange:()=>sl("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===C,onChange:()=>sl("D"),type:"radio",label:"Date"})),"1"===b.query||"1"===g.query?n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"H"===C,onChange:()=>sl("H"),type:"radio",label:"Hold GST"})):null,"1"===d.query||"1"===y.query?n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"A"===C,onChange:()=>sl("A"),type:"radio",label:"Approve"})):null))))),n.a.createElement(Wa.a,null,"H"===C&&"1"===g.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-2"},n.a.createElement(s.a.Label,null,"One/All"),n.a.createElement(s.a.Select,{value:Qt,onChange:e=>(e=>{Ut(e.target.value),Ve([]),Be([])})(e)},n.a.createElement("option",{value:"O"},"One"),n.a.createElement("option",{value:"A"},"All")))):null,n.a.createElement(Xa.a,{style:{display:"A"===Qt&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Wt,isDisabled:"true"===c}))),"N"===C||"D"===C||"T"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(vl.a,{className:"form-control",selected:k,onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:w,onChange:e=>A(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),"N"===C?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{maxLength:100,placeholder:"Remark",value:Vt,onChange:e=>na(e.target.value,zt)}))):null):"S"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:j,onChange:e=>Ze(e.target.value,T)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:D,onChange:e=>Ze(e.target.value,L)})))):"A"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value)},n.a.createElement("option",{value:"P"},"Pending BM"),n.a.createElement("option",{value:"B"},"Pending ZM"),n.a.createElement("option",{value:"A"},"Approved")))),"A"===te&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(vl.a,{className:"form-control",selected:ne,onChange:e=>re(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:ce,onChange:e=>oe(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))))):"H"===C&&"1"===g.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:Yt,onChange:e=>(e=>{Kt(e),Ve([]),Be([])})(e.target.value)},n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"A"},"Approved"))))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"display-flex"},n.a.createElement(n.a.Fragment,null,"1"===o.query&&"N"!==C&&"H"!==C&&"A"!==C&&"F"!==C?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Zt()},"List"):null,"\xa0","1"===o.add&&"N"===C?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(_e(!0),je("Do you want to create entry for period ".concat(pa(k)," to ").concat(pa(w),".")),void Fe("A"))},"Add New"):null,"\xa0","1"===b.query&&"H"===C?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show(),Be([]),se([]);const a={location:J,allLocationSelector:Qt,hgstFilterStatus:Yt};Ye(ke,[e,"listgst",JSON.stringify(a)],e=>{ct()(".loader").hide(),Ve(JSON.parse(e))})})()},"List Hold GST"):null,"1"===g.query&&"H"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ol("GST","ZM")},"List")):null,"1"===y.query&&"A"===C&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ol("COMMISSION","ZM")},"ZM Approval List"),"1"===d.query&&"A"===C&&n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ol("COMMISSION","BM")},"BM Approval List")),("1"===d.query||"1"===y.query)&&"A"===C&&n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ml("A","A")},"All Approve"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,("1"===d.query||"1"===y.query||"1"===g.query)&&Je.length>0&&n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,n.a.createElement("div",{style:{display:"ZM"===mt&&"GST"==rt&&"none"}},n.a.createElement("span",null,"All\xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:Ft,onChange:e=>ul(e.target.checked)})))),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"IFSC"),"COMMISSION"===rt?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Pur Commission"),n.a.createElement("th",null,"Sale Commission"),n.a.createElement("th",null,"Net Margin"),n.a.createElement("th",null,"Total Payable")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Invoice Num"),n.a.createElement("th",null,"Invoice Date"),n.a.createElement("th",null,"GstIN"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"Total GST")),n.a.createElement("th",null,"Status"),n.a.createElement("th",{style:{display:"A"!==te&&"none"}},"Approve Date"))),n.a.createElement("tbody",null,Je.map((a,t)=>n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>(a=>{ct()(".loader").show(),$a(a.app_hgst_status),de(a.app_srno),Me(a.app_lineno),M("BmQ"),Ae(a.app_status),ga(a.app_agent_code),Ke(a.app_total_commission),We(a.app_tds),Qe(a.app_payable),la(a.app_account_name),ca(a.app_agent_code+" "+a.app_agent_name),$e(a.app_account_no),aa(a.app_ifsc),ia(a.app_gst_type),ua(a.app_fa_type),ba(1*a.app_igst+1*a.app_cgst+1*a.app_sgst),it(a.app_gstin),It(a.app_agent_invoice_num),xt(a.app_agent_invoice_date);const t={hdrsrno:a.app_srno,location:a.app_location,agencode:a.app_agent_code,lineno:a.app_lineno,isbmlist:!0,paytype:rt};Ye(ke,[e,"filtersearch",JSON.stringify(t)],e=>{ct()(".loader").hide(),De(JSON.parse(e))})})(a),className:"handCursor colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,n.a.createElement("span",{style:{display:"BM"===a.approval_type&&"P"!=a.app_status||"ZM"===a.approval_type&&"B"!=a.app_status||"ZM"===mt&&"GST"==rt?"none":"block"}},n.a.createElement(s.a.Check,{type:"checkbox",checked:Ft||"1"===a.selected&&"checked",onClick:e=>((e,a,t)=>{let l=Je.map((l,n)=>a!==n?l:"selected"===e?(Gt(!1),t.target.checked?{...l,[e]:"1"}:{...l,[e]:"0"}):void 0);Be(l)})("selected",t,e)}))),n.a.createElement("td",null," ",a.entity_name),n.a.createElement("td",null,a.app_agent_code+" "+a.app_agent_name),n.a.createElement("td",null,a.app_account_name),n.a.createElement("td",null,a.app_account_no),n.a.createElement("td",null,a.app_ifsc),"COMMISSION"===rt?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,a.app_commission_purchase),n.a.createElement("td",null,a.app_commission_sale),n.a.createElement("td",null,a.app_total_margin),n.a.createElement("td",null,a.app_payable),n.a.createElement("td",null,"A"==a.app_status?"Approved":"B"==a.app_status?"Pending ZM":"Pending BM")):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,a.app_agent_invoice_num),n.a.createElement("td",null,a.app_agent_invoice_date),n.a.createElement("td",null,a.app_gstin),n.a.createElement("td",null,a.app_sgst),n.a.createElement("td",null,a.app_igst),n.a.createElement("td",null,a.app_cgst),n.a.createElement("td",null,1*a.app_sgst+1*a.app_cgst+1*a.app_igst+1*a.app_ugst),n.a.createElement("td",null,"P"==a.app_hgst_status?"Pending":"Approved")),n.a.createElement("td",{style:{display:"A"!==te&&"none"}},a.app_approve_timestamp)))))),"1"===o.query&&me.length>0&&n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"From Date"),n.a.createElement("th",null,"From To"),n.a.createElement("th",null,"Remark"))),n.a.createElement("tbody",null,me.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,"1"===o.edit&&n.a.createElement("span",{onClick:()=>Xt(e.hdr_srno,e.hdr_location,"0"),className:"handCursor colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.d}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_from_date),n.a.createElement("td",null,e.hdr_to_date),n.a.createElement("td",null,e.hdr_remark)))))),"1"===b.query&&qe.length>0&&n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Agent Code"),n.a.createElement("th",null,"Agent Name"),n.a.createElement("th",null,"Invoice Num"),n.a.createElement("th",null,"Invoice Date"),n.a.createElement("th",null,"GstIn"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"UGST"))),n.a.createElement("tbody",null,qe.map(a=>n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((a,t,l,n,r,c,o,m,u,s)=>{ct()(".loader").show(),de(t),M("GST");const i={agentcode:a,hdrsrno:t,location:l,holdgstlist:!0};Ye(ke,[e,"viewholdgst",JSON.stringify(i)],e=>{ct()(".loader").hide();var a=JSON.parse(e);Va(a)}),lt({hdrsrno:t,setScrMode:M,setHoldGstData:Va,gstStatus:Za,agentcode:a,agentname:n,location:z,cgst:c,sgst:r,igst:o,setMsgBox:P,setMsgText:F,cmLocationValue:J,gstin:m,invoicenum:u,invoicedate:s})})(a.det_agent_code,a.det_srno,a.det_location,a.det_agent_name,a.sgst,a.cgst,a.igst,a.det_gstin,a.det_agent_invoice_num,a.det_agent_invoice_date),className:"handCursor colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,a.det_agent_code),n.a.createElement("td",null,a.det_agent_name),n.a.createElement("td",null,a.det_agent_invoice_num),n.a.createElement("td",null,a.det_agent_invoice_date),n.a.createElement("td",null,a.det_gstin),n.a.createElement("td",null,a.sgst),n.a.createElement("td",null,a.cgst),n.a.createElement("td",null,a.igst),n.a.createElement("td",null,a.ugst)))))))):"Q"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Sr No : ",n.a.createElement("b",null,ie," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,z," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"From Date : ",n.a.createElement("b",null,ge))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"To Date : ",n.a.createElement("b",null,Ne)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>M("")},"Back"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>(_e(!0),je("Do you really want to delete the selected records?"),void Fe("D"))},"Delete Checked"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();for(var a=0,t=0;t<K.length;t++)if("1"==K[t].selected){a++;break}if(a>0){Tt(!0),ct()(".loader").show();const a={hdrsrno:ie,location:J,commissionData:K,searchFilter:Z.trim(),filterStatus:Le,filterGstType:Bt};Ye(ke,[e,"getapprovalsummary",JSON.stringify(a)],e=>{ct()(".loader").hide(),Lt(JSON.parse(e))})}else ct()(".loader").hide(),P(!0),F("Please select one or more agent.")})()},"Send to Approval"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{for(var a=0,t=0;t<K.length;t++)if("1"==K[t].selected){a++;break}if(a<1)P(!0),F("Please select one or more agent to update invoice details.");else{ht(!0);const a={hdrsrno:ie,location:J,commissionData:K,listtype:"invoice",searchFilter:Z.trim(),filterStatus:Le,filterGstType:Bt};Ye(ke,[e,"invoicedetails",JSON.stringify(a)],e=>{let a=JSON.parse(e);yt(a)})}})()},"Update Invoice"),"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"!==o.query||"E"!==I&&"Q"!==I?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Ht()},"Activity Log"),"\xa0"),n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>cl("COMMISSION")},"Download Commission FA"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>cl("GST")},"Download GST FA"),"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"U"===ee,onChange:()=>ae("U"),type:"radio",label:"Upload"}),"\xa0",n.a.createElement(s.a.Check,{checked:"F"===ee,onChange:()=>ae("F"),type:"radio",label:"Filter"}),"\xa0",n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:()=>nl("O")},"Summary"))))))),"U"===ee?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type\xa0","OC"===Ge&&n.a.createElement(Ol.a,{bg:"primary",className:"handCursor",onClick:()=>{va(ue,"post",[e,"directexpensecommission",JSON.stringify({downloadType:"directexpensecommission",pageright:"TRAN_COMMISSION"})])}},"Format")),n.a.createElement(s.a.Select,{value:Ge,onChange:e=>Pe(e.target.value)},n.a.createElement("option",{value:"TW"},"Transaction Wise"),n.a.createElement("option",{value:"CW"},"Commission Wise"),n.a.createElement("option",{value:"OC"},"Other Commission")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"uploadCommission"},n.a.createElement(s.a.Label,null,"File* (MAX 10MB)"),n.a.createElement(s.a.Control,{type:"file",value:U,onChange:e=>(e=>{Y(e)})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var a=[],t=0,l=document.getElementById("uploadCommission").files[0];if(null===N)ct()(".loader").hide(),a[t++]=E("MSG0006"),a[t++]=null===N?"Location.":"",F(ja(a)),P(!0);else if(void 0===l)ct()(".loader").hide(),F("Please select a file to upload."),P(!0);else if(l.name.split(".").length>2)ct()(".loader").hide(),F("(.) not allowed in file name."),P(!0);else if("xlsx"!==l.name.split(".")[1])ct()(".loader").hide(),F("File extension must be xlsx."),P(!0);else if(l.size>10485760)ct()(".loader").hide(),F("Please select a file with in 10 MB size."),P(!0);else{H([]);const a={sid:e,pageright:"TRAN_COMMISSION",uploadType:"uploadcommission",location:J,locationname:z,frmDate:be,toDate:ye,reportType:Ge,hdrsrno:ie,type:"CM",filename:U,commissionData:K,state:q};Na(JSON.stringify(a),"uploadCommission",e=>{ct()(".loader").hide();let a=JSON.parse(e);P(!0),F(a.msg),H(a.docdetail),Y("")})}})()},"Upload"))),n.a.createElement(Wa.a,{style:{fontSize:"13px"}},"Please upload transaction wise report before commission report.")):n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search..",n.a.createElement("span",{className:"handCursor colorThemeBlue",title:"Help",onClick:e=>(P(!0),void F("Search on : Agent Number, Agent Name"))},n.a.createElement(za.a,{icon:tt.n}))),n.a.createElement(s.a.Control,{placeholder:"Search",type:"text",value:Z,onChange:e=>(e=>{ma(e,$)})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:Le,onChange:e=>xe(e.target.value)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"O"},"Ok"),n.a.createElement("option",{value:"A"},"Approve"),n.a.createElement("option",{value:"R"},"Rejected")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Gst Type"),n.a.createElement(s.a.Select,{value:Bt,onChange:e=>qt(e.target.value)},n.a.createElement("option",{value:"1"},"All"),n.a.createElement("option",{value:"WOGST"},"Without GST"),n.a.createElement("option",{value:"HGST"},"Hold GST"),n.a.createElement("option",{value:"WGST"},"With GST")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>ll("S")},"Search"),"\xa0",n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>ll("R")},"Reset"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"commissionCheck"},n.a.createElement("span",null,"All\xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:Sa,onChange:e=>el(e.target.checked)}))),n.a.createElement("th",null,"Action"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Gst Type"),n.a.createElement("th",null,"Fa Type"),n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Invoice Number"),n.a.createElement("th",null,"Invoice Date")),n.a.createElement("th",null,"Cert No"),n.a.createElement("th",null,"Tran Date"),n.a.createElement("th",null,"Net Margin"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"Total Payable"))),n.a.createElement("tbody",null,K.map((e,a)=>n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:e.det_cert_no},n.a.createElement("td",null,n.a.createElement("div",{style:{display:"1"==e.det_submit_approval||"NOFA"===e.det_fa_type?"none":"block"}},n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("span",null,n.a.createElement(s.a.Check,{type:"checkbox",checked:Sa||"1"===e.selected&&"checked",onClick:e=>((e,a,t)=>{let l=K.map((l,n)=>a!==n?l:"selected"===e?(ya(!1),t.target.checked?{...l,[e]:"1"}:{...l,[e]:"0"}):void 0);H(l)})("selected",a,e)})),"\xa0",""===e.det_agent_name&&n.a.createElement("span",{title:"Add Agent Details",className:"handCursor colorThemeBlue",onClick:()=>(e=>{wa(!0),La({agentcode:e,location:J,locationname:z,setShowAgentForm:wa})})(e.det_agent_code)},n.a.createElement(za.a,{icon:Qa.d}))))),n.a.createElement("td",{className:"commissionCheck"},"1"==e.det_submit_approval||"NOFA"===e.det_fa_type?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor",title:"Ok",style:{color:"green"}},n.a.createElement(za.a,{icon:tt.e,onClick:()=>tl("O",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})),"\xa0\xa0",n.a.createElement("span",{className:"handCursor colorThemeBlue",title:"Hold"},n.a.createElement(za.a,{icon:tt.f,onClick:()=>tl("H",e.det_srno,e.det_lineno,e.det_location,e.det_cert_no,e.det_type)})))),n.a.createElement("td",{style:{backgroundColor:"H"===e.det_status&&"#F0E68C"}},"P"===e.det_status?"Pending":"R"===e.det_status?"Rejected":"A"===e.det_status?"Approve":"H"===e.det_status?"Hold":"O"===e.det_status?"Ok":""),n.a.createElement("td",{style:{backgroundColor:1*e.det_commission_total-Math.round(.05*e.det_commission_total)<0&&"red"}},e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.det_gst_type),n.a.createElement("td",null,e.det_fa_type),n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.det_agent_invoice_num),n.a.createElement("td",null,e.det_agent_invoice_date)),"0"==e.det_cert_no?n.a.createElement("td",null,e.det_key):n.a.createElement("td",null,e.det_type+" "+e.det_cert_no),n.a.createElement("td",null,e.det_tran_date),n.a.createElement("td",null,e.det_total_margins),n.a.createElement("td",null,e.det_commission_total),n.a.createElement("td",null,e.det_igst),n.a.createElement("td",null,e.det_cgst),n.a.createElement("td",null,e.det_sgst),n.a.createElement("td",null,e.det_tds),n.a.createElement("td",null,e.det_commission_net)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:17},"Account No: ",n.a.createElement("b",null,e.det_account_no,","),"\xa0 IFSC: ",n.a.createElement("b",null,e.det_ifsc,","),"\xa0 Account Name: ",n.a.createElement("b",null,e.det_account_name)))))))))):"BmQ"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,z," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},"COMMISSION"===rt?n.a.createElement("span",null,"Status : ",n.a.createElement("b",null,"A"===we?"Approved":"B"===we?"Pending ZM":"Pending BM")):n.a.createElement("span",null,"Status : ",n.a.createElement("b",null,"A"===Za?"Approved":"Pending"))),n.a.createElement(Xa.a,{className:"col-md-4 col-4"},n.a.createElement("span",null,"Agent : ",n.a.createElement("b",null,ra))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Account No : ",n.a.createElement("b",null,Xe))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"IFSC : ",n.a.createElement("b",null,ea)))),n.a.createElement(Wa.a,null,"\xa0"),"COMMISSION"===rt?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GST Type : ",n.a.createElement("b",null,sa))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"FA Type : ",n.a.createElement("b",null,oa))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Total Commission : ",n.a.createElement("b",null,Ue))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GST : ",n.a.createElement("b",null,da))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"TDS : ",n.a.createElement("b",null,He))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Net Payable : ",n.a.createElement("b",null,ze)))):n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Number : ",n.a.createElement("b",null,At))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Invoice Date : ",n.a.createElement("b",null,kt))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"GstIN : ",n.a.createElement("b",null,st))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Total GST : ",n.a.createElement("b",null,da)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>M("")},"Back"),"\xa0","COMMISSION"===rt&&("BM"===mt&&"P"!==we||"ZM"===mt&&"B"!==we)||"GST"===rt&&"A"===Za?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>ml("A","O")},"Approve"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>ml("R","O")},"Reject")),"1"===d.query?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Ht()},"Activity Log"),"\xa0"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Cert No"),n.a.createElement("th",null,"Client Name"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Tran Date"),"COMMISSION"===rt?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Net Margin"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"Total Payable")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"sgst"),n.a.createElement("th",null,"cgst"),n.a.createElement("th",null,"igst"),n.a.createElement("th",null,"Total Gst")))),n.a.createElement("tbody",null,Te.map((e,a)=>n.a.createElement("tr",{key:e.det_cert_no},n.a.createElement("td",null,e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.det_type+" "+e.det_cert_no),n.a.createElement("td",null,e.det_client_name),n.a.createElement("td",null,e.det_isd),n.a.createElement("td",null,e.det_tran_date),"COMMISSION"===rt?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.det_total_margins),n.a.createElement("td",null,e.det_commission_total),n.a.createElement("td",null,e.det_tds),n.a.createElement("td",null,e.det_commission_net)):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.det_sgst),n.a.createElement("td",null,e.det_cgst),n.a.createElement("td",null,e.det_igst),n.a.createElement("td",null,1*e.det_sgst+1*e.det_cgst+1*e.det_igst))))))))):"GST"===I?n.a.createElement(zn,{obj:et,holdGstData:qa}):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(pt.a,{show:Ua,size:"xl",onHide:()=>Ya(!1),backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"Payable Summary"),n.a.createElement("span",null,"\xa0"),n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>{const a={hdrsrno:ie,location:J,listtype:"summary",statusfilter:Pt};va(ke,"post",[e,"summarydownload",JSON.stringify(a)])}},n.a.createElement(za.a,{icon:Cl.faDownload})))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-5"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status\xa0"),n.a.createElement(s.a.Select,{value:Pt,onChange:e=>nl(e.target.value)},n.a.createElement("option",{value:"ALL"},"ALL"),n.a.createElement("option",{value:"O"},"OK"),n.a.createElement("option",{value:"A"},"APPROVE"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"Total Commission: ",n.a.createElement("b",null,Ma)),"\xa0\xa0",n.a.createElement("span",null,"Total TDS: ",n.a.createElement("b",null,Ja)),"\xa0\xa0",n.a.createElement("span",null,"Total Payable: ",n.a.createElement("b",null,Fa)))),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent Code"),n.a.createElement("th",null,"Agent Name"),n.a.createElement("th",null,"GST Type"),n.a.createElement("th",null,"FA Type"),n.a.createElement("th",null,"Pur Commission"),n.a.createElement("th",null,"Sale Comission"),n.a.createElement("th",null,"Net Margin(Sale)"),n.a.createElement("th",null,"Total Commission"),n.a.createElement("th",null,"Total TDS"),n.a.createElement("th",null,"Total GST"),n.a.createElement("th",null,"Total Payable"),n.a.createElement("th",null,"BM Approved"),n.a.createElement("th",null,"ZM Approved"),n.a.createElement("th",null,"Payment"))),n.a.createElement("tbody",null,Aa.map(e=>n.a.createElement("tr",{key:e.det_agent_code},n.a.createElement("td",null,e.det_agent_code),n.a.createElement("td",null,e.det_agent_name),n.a.createElement("td",null,e.det_gst_type),n.a.createElement("td",null,e.det_fa_type),n.a.createElement("td",null,e.det_commission_purchase),n.a.createElement("td",null,e.det_commission_sale),n.a.createElement("td",null,e.totalmargin),n.a.createElement("td",null,e.totalcommission),n.a.createElement("td",null,e.totaltds),n.a.createElement("td",null,1*e.det_igst+1*e.det_cgst+1*e.det_sgst),n.a.createElement("td",null,e.netcommission),n.a.createElement("td",null,"1"===e.det_bm_approved?"YES":"NO"),n.a.createElement("td",null,"1"===e.det_zm_approved?"YES":"NO"),n.a.createElement("td",null,"D"===e.tmp_status?"Done":"NP"===e.tmp_status?"N/A":"Pending")))))))),n.a.createElement(pt.a,{show:_t,size:"lg",onHide:()=>ft(!1),backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},"Download Type : ",vt),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Select,{value:Ot,onChange:e=>Nt(e.target.value)},n.a.createElement("option",{value:"N"},"New"),n.a.createElement("option",{value:"A"},"All"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{className:"col-md-6",variant:"outline-primary",onClick:()=>{const a={fatype:vt,faDownloadType:Ot,location:J,hdrsrno:ie};va(ke,"post",[e,"downloadfa",JSON.stringify(a)]),ft(!1)}},"Download"))))),n.a.createElement(pt.a,{show:dt,size:"xl",onHide:()=>ht(!1),backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0}),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent Code"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"GST"),n.a.createElement("th",null,"Net Payable"))),n.a.createElement("tbody",null,gt.map((e,a)=>n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",null,e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.totalcommission),n.a.createElement("td",null,e.totaltds),n.a.createElement("td",null,1*e.det_igst+1*e.det_cgst+1*e.det_sgst),n.a.createElement("td",null,e.netcommission)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:15},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Number"),n.a.createElement(s.a.Control,{type:"text",maxLength:50,name:"invoicenum",value:e.invoicenum,onChange:e=>rl(e.target.value,a,"invoicenum")}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Date"),n.a.createElement(vl.a,{className:"form-control",selected:null===e.invoicedate?null:new Date(e.invoicedate),onChange:e=>rl(Ea(e),a,"invoicedate"),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6"},n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyles",onClick:()=>(()=>{ct()(".loader").show();{const a={invoiceData:gt,hdrsrno:ie,location:J,searchFilter:Z.trim(),filterStatus:Le,filterGstType:Bt};Ye(ke,[e,"updateinvoice",JSON.stringify(a)],e=>{ct()(".loader").hide();let a=JSON.parse(e);el(!1),ht(!1),P(!0),F("Invoice details updated successfully."),H(a.data)})}})()},"Update"))))),n.a.createElement(pt.a,{show:jt,size:"xl",onHide:()=>Tt(!1),backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0}),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"GST Type"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"TDS"),n.a.createElement("th",null,"GST"),n.a.createElement("th",null,"Net Payable"))),n.a.createElement("tbody",null,Dt.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,e.det_agent_code+" "+e.det_agent_name),n.a.createElement("td",null,e.app_gst_type),n.a.createElement("td",null,e.app_total_commission),n.a.createElement("td",null,e.app_tds),n.a.createElement("td",null,1*e.app_igst+1*e.app_sgst+1*e.app_cgst),n.a.createElement("td",null,e.app_payable)))))),n.a.createElement(Wa.a,null,n.a.createElement(i.a,{variant:"primary",onClick:()=>{ct()(".loader").show();const a={hdrsrno:ie,location:J,commissionData:K,searchFilter:Z.trim(),filterStatus:Le,filterGstType:Bt};for(var t=!1,l="Please select transactions.",n=0;n<K.length;n++){if("1"==K[n].selected&&(t=!0,l=""),"1"==K[n].selected&&"O"!=K[n].det_status){t=!1,l="Please mark OK to each transaction before sending it to BM.";break}if("1"==K[n].selected&&"O"==K[n].det_status&&("WGST"===K[n].det_gst_type||"HGST"===K[n].det_gst_type)&&(""===K[n].det_agent_invoice_num||null===K[n].det_agent_invoice_date)){t=!1,l="Please fill invoice details of transactions with WGST and HGST records.";break}}t?Ye(ke,[e,"sendtoapproval",JSON.stringify(a)],e=>{ct()(".loader").hide();let a=JSON.parse(e);H(a.commdata),P(!0),F(a.msg)}):(ct()(".loader").hide(),P(!0),F(l)),Tt(!1),el(!1)}},"Send For Approval")))),n.a.createElement(Ka,{isOpen:G,onClose:e=>P(!1)},R),n.a.createElement(St,{isOpen:Ce,onYes:e=>$t(),onNo:e=>_e(!1)},fe),n.a.createElement(bt,{logObject:Oa,show:_a,onHide:()=>{Ta(!1)}}))};var Un=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("startDate"),t=(sessionStorage.getItem("endDate"),sessionStorage.getItem("sessionId")),r=sessionStorage.getItem("branchallowed"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)({value:0,label:"Select"}),[d,p]=Object(l.useState)(null),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(!0),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(null),[q,V]=Object(l.useState)("0"),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(!1),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),ee=new Date,[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)("");Object(l.useEffect)(()=>{g||(xa().then(e=>{p(e),null!=e&&Ee(e)}),Ye(_,[t,"all","TRAN_CURRENCY_STOCK"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),S(!0))},[g,t,e]);var se=[],ie=0;const de=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));x(l)},Ee=e=>{p(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Currency Stock"))),"\xa0",y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:d,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ee,isDisabled:"true"===c})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===b.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(null==d)se[ie++]=E("MSG0006"),se[ie++]=null===d?" Please select location.":"",X(ja(se)),H(!0);else{O(!1);const e=d.id.split("^");A(e[1]),u(e[2]),Ye("/api/tran_currency_stock_a.php",[t,"listCurrencyStocks",e[1]],e=>{let a=JSON.parse(e);M(a.resarray),V(a.sumamount)})}})()},"List"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:function(){va(ue,"post",[t,"downloadFormat",JSON.stringify({srno:23,pageright:"TRAN_OPN_CN_IMPORT",downloadType:"downloadFormat"})])}},"Download Format"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{v(!1),Y(!0)}},"Import"),"\xa0"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",o))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{N?v(!1):U?Y(!1):O(!0)}},"Back")," ","1"!==b.add||N?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{const e=new Date,l=a,n=Ea(e),r=new Date(l),c=new Date(n)-r,m=Math.ceil(c/864e5);console.log(m);const u={srno:1,type:"OPNCN",pageright:"TRAN_CURRENCY_STOCK",location:w};Ye(_e,[t,"checkUnlock",JSON.stringify(u)],a=>{let l=JSON.parse(a);me(l.requestsrc),Be==m||"unlock"==l.msg?(v(!0),Y(!1)):Ye(_e,[t,"getStatus",JSON.stringify(u)],a=>{let t=JSON.parse(a);ne({trantype:"OPNCN",trannumber:1,location:w,entity_name:o,tranDate:Ea(e),tdu_status:t}),te(!0)})})}},"Edit")),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{O(!1);const e=d.id.split("^");console.log(d),A(e[1]),u(e[2]),va("/api/tran_currency_stock_a.php","post",[t,"downloadexcel",e[1]])}},"Download")," ")),"\xa0"),U&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"importExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:z,onChange:e=>Q(e.target.value)}))),"\xa0",n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),void 0===document.getElementById("importExcel").files[0])ct()(".loader").hide(),X("Please select a file to upload."),H(!0);else{var e=document.getElementById("importExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),X("(.) not allowed in file name."),H(!0);else if(document.getElementById("importExcel").files[0].size>10485760)ct()(".loader").hide(),X("Please select a file with in 10 MB size."),H(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),X("File extension should be in xlsx format"),H(!0);else{const e={loc:w,srno:8888,uploadType:"uploadCurrency",pageright:"TRAN_OPN_CN_IMPORT",sid:t,currencyFile:z,loc:w,allowedLocation:r.split(",")};Na(JSON.stringify(e),"importExcel",e=>{let a=JSON.parse(e);console.log(a),ct()(".loader").hide(),a.err.trim()?(X("<p className='text-danger'>".concat(a.err,"</p>")),H(!0)):(M(a.docdetail.resarray),V(a.docdetail.sumamount),X("<p className='text-success'>".concat(a.msg,"</p>")),console.log(a.msg),H(!0))})}}})()},"Submit")," "),"\xa0"),N&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{const a={isd:e.id.split("^")[1],location:w,product:"CN"};Ye(ye,[t,"getrate",JSON.stringify(a)],e=>{let a=JSON.parse(e);ce(1*a.usdratebuy)}),B(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:C,onChange:e=>(e=>{ea(e.target.value,f),de(e.target.value,j,D)})(e),placeholder:"Denomination",maxLength:qe}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:j,onChange:e=>(e=>{Ze(e.target.value,T),de(C,e.target.value,D)})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:D,onChange:e=>(e=>{ea(e.target.value,L),de(C,j,e.target.value)})(e),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:k,disabled:!0,maxLength:qe})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""==C||""==j||""==D)se[ie++]=E("MSG0006"),se[ie++]=null===J?" Please select currency.":"",se[ie++]=""===C?" Please fill denomination.":"",se[ie++]=""===j?" Please fill quantity.":"",se[ie++]=""===D?" Please fill rate.":"",X(ja(se)),H(!0);else{ct()(".loader").show();let a=J.id.split("^");P(a[1]),F(a[2]);var e=0;""!=re&&0!=re&&(e=D*j*C/re);const l={deno:C,qty:j,rate:D,loc:w,amt:k,currency:a[1],productType:"OPNCN",product:"CN",usdRate:""==re?0:1*re,usdAmt:e};if(Ye("/api/tran_currency_stock_a.php",[t,"addCurrencyStocks",JSON.stringify(l)],e=>{let a=JSON.parse(e);"1"===a.msg?(ct()(".loader").hide(),M(a.currStock.resarray),V(a.currStock.sumamount),f(""),L(""),T(""),x(""),B("")):(ct()(".loader").hide(),H(!0),X(a.msg))}),"SELF"!==oe){const e={srno:1,type:"OPNCN",status:"E",currentDate:Ea(ee),pageright:"TRAN_CURRENCY_STOCK"};Ye(_e,[t,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ")),"\xa0"),!y&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,"0"!=q&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:7}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:2},n.a.createElement("b",null,"Total Amount:")," ",n.a.createElement("span",null,q))),n.a.createElement("tr",null,"1"===b.edit&&N?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",{style:{textAlign:"right"}},"Denomination"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"USD Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"USD Amount"))),n.a.createElement("tbody",null,I.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===b.delete&&N?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{const a={id:e.line,isd:e.prd_isd};ct()(".loader").show(),Ye("/api/tran_currency_stock_a.php",[t,"deleteCurrencyStock",JSON.stringify(a)],e=>{let a=JSON.parse(e);ct()(".loader").hide(),""!==a.msg?(H(!0),X(a.msg)):(M(a.optrial.resarray),V(a.optrial.sumamount))})})(e)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount)))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:K,onClose:function(){Q(""),H(!1)}},W),n.a.createElement(Dl,{logObject:le,show:ae,hdrNotExist:!0,onHide:()=>te(!1)})))},Yn=t(161);var Kn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(0),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)("IB"),[I,M]=Object(l.useState)(null),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)("T"),[J,B]=Object(l.useState)("P");var q=[],V=0;const[z,Q]=Object(l.useState)(!1),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)("A"),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)({value:"0",label:"Select"}),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)("A"),[de,Ee]=Object(l.useState)(new Date),[pe,be]=Object(l.useState)(new Date),[he,ge]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{v(e),null!=e&&Se(e)}),Ye(_,[a,"all","TRAN_DATA_UNLOCK"],function(a){let t=JSON.parse(a);"1"===t.query?c(t):e("/")}),p(!0))},[d,a,e]);const Se=e=>{v(e);const a=e.id.split("^");f(a[1]),T(a[2]),sessionStorage.activeBranch=a[1]},ye=(e,t)=>{let l=new Date;ct()("loader").show();const n={srno:e.tdu_srno,tran_srno:e.tdu_tran_srno,type:e.tdu_tran_type,status:t,currentDate:Ea(l),fromDate:e.tdu_from_date,toDate:e.tdu_to_date,unlockType:e.tdu_unlock_type,location:e.tdu_tran_loc,branchType:se,filterStatus:J};Ye(Oe,[a,"updatestatus",JSON.stringify(n)],e=>{ct()("loader").hide();let a=JSON.parse(e);h(a)})};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Data Unlock ",n.a.createElement("span",{style:{color:"white"}},o))))," \xa0",n.a.createElement(Wa.a,null,"\xa0"),""==y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:se,onChange:e=>ie(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===se?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>Se(e),isDisabled:"true"===t})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Unlock Type"),n.a.createElement(Yn.a,{value:G,onChange:e=>P(e.target.value),required:!0},n.a.createElement("option",{value:"T"},"Transaction"),n.a.createElement("option",{value:"P"},"Period"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(Yn.a,{value:J,onChange:e=>B(e.target.value),required:!0},n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"A"},"Approve"),n.a.createElement("option",{value:"R"},"Reject"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:de,onChange:e=>Ee(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:pe,onChange:e=>be(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(null===N)Y("Please Select Location!"),Q(!0);else{ct()("#loader").show();const e={branchType:se,filterStatus:J,type:"IB",location:C,fromDate:Ea(de),toDate:Ea(pe),unlockType:G};Ye(Oe,[a,"getData",JSON.stringify(e)],e=>{ct()("#loader").hide();let a=JSON.parse(e);h(a)})}}},"List")," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{N?(Ye(Oe,[a,"getuserunlock"],e=>{re(JSON.parse(e))}),L(""),x(""),ue(null),oe({value:0,label:"Select"}),O("A"),le(0)):(q[V++]=E("MSG0006"),q[V++]=N?"":"Please select location.",Y(ja(q)),Q(!0))}},"Add New"))),"\xa0",b.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"User"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Request"))),n.a.createElement("tbody",null,b.map(e=>n.a.createElement("tr",{key:e.tdu_srno},n.a.createElement("td",null,e.tdu_tran_type),n.a.createElement("td",null,e.tdu_tran_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.um_id),n.a.createElement("td",null,"P"===e.tdu_status?"Pending":"A"===e.tdu_status?"Approved":"R"===e.tdu_status?"Rejected":"E"===e.tdu_status?"Expired":""),"P"===e.tdu_status&&n.a.createElement("td",null,n.a.createElement(i.a,{variant:"primary",onClick:()=>ye(e,"A")},"Approve")," ",n.a.createElement(i.a,{variant:"danger",onClick:()=>ye(e,"R")},"Reject"))))))))):"A"==y?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{O("")}},"Back")," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{const e={location:C,lockEntry:g,unlockType:G,status:J,branchType:se,fromDate:Ea(de),toDate:Ea(pe),filterStatus:J};if(g.length<1)return Q(!0),void Y("Please add atleast one record.");Ye(Oe,[a,"saveEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);h(a),O(""),le(0)})}},"Save"))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Unlock To"),n.a.createElement(vt.a,{options:ne,value:ce,onChange:e=>oe(e)}))),"T"==G&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:D,onChange:e=>Ze(e.target.value,L),placeholder:"From Srno"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Srno",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:k,onChange:e=>Ze(e.target.value,x),placeholder:"To Srno"})))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(Yn.a,{value:w,onChange:e=>A(e.target.value),required:!0},"P"==G&&n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"BK"},"BK"),n.a.createElement("option",{value:"CS"},"CS"),n.a.createElement("option",{value:"JV"},"JV"),n.a.createElement("option",{value:"IB"},"IB"),n.a.createElement("option",{value:"PP"},"PP"),n.a.createElement("option",{value:"PB"},"PB"),n.a.createElement("option",{value:"SP"},"SP"),n.a.createElement("option",{value:"SB"},"SB")))),"P"===G&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:R,onChange:e=>F(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:me,onChange:e=>ue(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(("T"!=G||D&&k)&&("P"!==G||R&&I)&&"0"!=ce.value&&me){const e={uniquekey:Oa(15),tdud_lineno:te+1,tdud_from:D,tdud_to:k,to_date:Ea(R),fromDate:Ea(I),tdu_tran_type:w,tdu_unlock_user:ce.value,tillDate:Ea(me),delny:"Y"};S(Sa(g,e)),u(o+1),L(""),x(""),oe({value:"0",label:"Select"}),M(new Date),F(new Date),A("IB")}else q[V++]=E("MSG0006"),q[V++]=D||"T"!=G?"":"Please enter from srno.",q[V++]=k||"T"!=G?"":"Please enter to srno.",q[V++]=I||"P"!=G?"":"Please enter from date.",q[V++]=R||"P"!=G?"":"Please enter to date.",q[V++]=w?"":"Please select transaction type",q[V++]=me?"":"Please enter till date",q[V++]="0"==ce.value?"Please select user to give unlock.":"",Y(ja(q)),Q(!0)}},"Add"))),"\xa0",g.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===r.delete?n.a.createElement("th",null):null,n.a.createElement("th",null,"Type"),"T"==G?n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"From Srno"),n.a.createElement("th",null,"To Srno")):n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Till Date")))),n.a.createElement("tbody",null,g.map(e=>n.a.createElement("tr",null,"1"===r.delete?n.a.createElement("td",{className:"textCenter"},"E"!=y&&"A"!=y||"Y"!=e.delny?null:n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l)=>{S(ga(g,"uniquekey",e)),u(o-1)})(e.uniquekey,e.tdud_srno,e.tdud_line_no,e.tdu_tran_type)},n.a.createElement(za.a,{icon:tt.r}))):null,n.a.createElement("td",null,e.tdu_tran_type),"T"==G?n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tdud_from),n.a.createElement("td",null,e.tdud_to)):n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.to_date))))))))):n.a.createElement(n.a.Fragment,null)),n.a.createElement(Ka,{isOpen:z,onClose:e=>Q(!1)},U),n.a.createElement(St,{isOpen:K,onYes:e=>(O(""),void H(!1)),onNo:e=>H(!1)},W),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Hn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)([]),[D,L]=Object(l.useState)([]),[k,x]=Object(l.useState)("S"),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(0),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(new Date),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(!1),[se,ie]=Object(l.useState)({location:"",trannumber:"",type:""});Object(l.useEffect)(()=>{o||(xa().then(e=>{A(e),null!=e&&de(e)}),Ye(_,[a,"all","TRAN_EVTM_SURRENDER"],a=>{let t=JSON.parse(a);"1"===t.query?c(t):e("/")}),u(!0))},[o,a,e]);const de=e=>{A(e);const a=e.id.split("^");M(a[1]),F(a[2]),sessionStorage.activeBranch=a[1]},Ee=()=>{h(!1),p("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null," EVTM Surrender"))),n.a.createElement(Wa.a,null,"\xa0"),""===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:de,isDisabled:"true"===t}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===k,onChange:()=>x("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===k,onChange:()=>x("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"S"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:G,maxLength:20,onChange:e=>Ze(e.target.value,P),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:J,maxLength:20,onChange:e=>Ze(e.target.value,B),placeholder:"To"})))):"D"===k?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:q,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:z,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===r.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],t=0;if(null===w)ct()(".loader").hide(),v("Please Select Location!"),O(!0);else if("S"===k&&!G||"S"===k&&!J||"D"===k&&!q||"D"===k&&!z)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]="S"!==k||G?"":" From.",e[t++]="S"!==k||J?"":" To.",e[t++]="D"!==k||q?"":" From Date.",e[t++]="D"!==k||z?"":" To Date.",v(ja(e)),O(!0);else{const e={location:I,filterRadioType:k,filterFromSrno:G,filterToSrno:J,filterFromDate:Ea(q),filterToDate:Ea(z)};Ye("/api/tran_evtm_surrender_a.php",[a,"list",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);f(a)})}})()},"List"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===r.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,C.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===r.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o)=>{le(e),re(t),oe(l),ct()(".loader").show(),p("Q"),F(n),Y(r),X(c),H(o);const m={srno:e,location:l,type:t};Ye("/api/tran_evtm_surrender_a.php",[a,"view",JSON.stringify(m)],e=>{ct()(".loader").hide();let a=JSON.parse(e);T(a.productData),L(a.paymentData)})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.entity_name,e.ledger,e.hdr_forex_total,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_forex_total)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>Ee()},"Back")," "," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ue(!0),void ie({location:ce,trannumber:te,type:ne}))},"faView"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Srno : ",n.a.createElement("b",null,te," "))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location:")," ",R)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date:")," ",K)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Ledger: "),U)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Total:")," ",W))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Product Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,j.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.prd_date),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Payment Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,D.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.tp_line_no),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,"RC"===e.tp_payment_type?"Receivable":"PB"===e.tp_payment_type?"Payable":e.tp_payment_type),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(St,{isOpen:b,onYes:e=>Ee(),onNo:e=>h(!1)},g)),n.a.createElement(Gl,{faViewObject:se,show:me,onHide:()=>ue(!1)}),n.a.createElement("div",null))};var Wn=function(){const e=sessionStorage.getItem("startDate"),a=sessionStorage.getItem("endDate"),t=sessionStorage.getItem("sessionId"),r=sessionStorage.getItem("branchDisable"),c=Object(m.n)(),[o,u]=Object(l.useState)("N"),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(0),[y,O]=Object(l.useState)("INFO"),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)(null),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)(null),[te,le]=Object(l.useState)("N"),[ne,re]=Object(l.useState)(0),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(null),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)("A"),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)(null),[_e,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)(""),[Le,ke]=Object(l.useState)("SELECTIVE"),[xe,we]=Object(l.useState)(null),[Ae,Ie]=Object(l.useState)(""),[Me,Re]=Object(l.useState)(""),[Fe,Ge]=Object(l.useState)(""),[Pe,Je]=Object(l.useState)(null),[Be,qe]=Object(l.useState)(null),[ze,Qe]=Object(l.useState)([]),[Ue,Ke]=Object(l.useState)(""),[He,We]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)([]),[aa,ta]=Object(l.useState)([]),[la,na]=Object(l.useState)(1),[ra,ca]=Object(l.useState)(""),[oa,ua]=Object(l.useState)([]),[sa,ia]=Object(l.useState)(null),[da,ba]=Object(l.useState)(""),[ha,ya]=Object(l.useState)(null),[Na,va]=Object(l.useState)(""),[Ca,_a]=Object(l.useState)("SELECTIVE"),[Ta,Da]=Object(l.useState)(""),[La,ka]=Object(l.useState)(""),[xa,wa]=Object(l.useState)([]),[Aa,Ia]=Object(l.useState)([]),[Ma,Ra]=Object(l.useState)(1),[Fa,Ga]=Object(l.useState)(0),[Pa,Ja]=Object(l.useState)(0),[Ba,qa]=Object(l.useState)(""),[Va,Qa]=Object(l.useState)([]),[Ua,Ya]=Object(l.useState)(!1),[Za,$a]=Object(l.useState)({location:"",trannumber:"",type:""});Object(l.useEffect)(()=>{et({id:"^1001^HO^",label:"1001 HO"}),Ye(_,[t,"all","TRAN_GL_SETTLEMENT_VTM"],function(e){let a=JSON.parse(e);"1"===a.query?p(a):c("/")})},[]);const et=e=>{B(e);var a=e.id.split("^");oe(a[1]),F(a[2])},lt=e=>{let a;"SETTLEMENT"==y?(Je(e),a=e.id.split("^"),Ie(a[1])):"SURRENDER"==y&&(ya(e),a=e.id.split("^"),va(a[1]))},rt=e=>{"SETTLEMENT"==y?(ke(e),Ce(null),je(""),De(""),ta([])):"SURRENDER"==y&&(_a(e),ia(null),Da(""),ka(""),wa([]))},ot=e=>{var a;"SETTLEMENT"==y?(Ce(e),a=e.id.split("^"),De(a[4])):"SURRENDER"==y&&(ia(e),a=e.id.split("^"),ka(a[4]))},mt=()=>{v(!1),A("")},ut=e=>{let a,t=0;for(a=0;a<e.length;a++)t+=1*e[a].prd_amount;Ga(t)},st=e=>{let a,t=0;for(a=0;a<e.length;a++)t+=1*e[a].prd_amount;Ja(t)};function it(e){return"SETTLEMENT"===y?Xe.some(a=>a.prd_srno===e.prd_srno&&a.prd_line_no===e.prd_line_no&&a.prd_type===e.prd_type&&a.prd_location===e.prd_location):Aa.some(a=>a.prd_srno===e.prd_srno&&a.prd_line_no===e.prd_line_no&&a.prd_type===e.prd_type&&a.prd_location===e.prd_location)}const dt=e=>{let a;"SETTLEMENT"==y?(a=ga(Xe,"uniquekey",e),$e(a),ut(a),S(g-1)):"SURRENDER"==y&&(a=ga(Aa,"uniquekey",e),st(a),Ia(a),S(g-1))},bt=(e,a,t)=>{"SETTLEMENT"==y?(M(e),Qe(a),Ce(null),Ke(t)):"SURRENDER"==y&&(ca(e),ua(a),ia(null),ba(t))};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Global VTM Settlement"))),""===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{display:"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:et,isDisabled:"true"===r}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===o,onChange:()=>u("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===o,onChange:()=>u("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===o,onChange:()=>u("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:q,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{style:{display:"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sale Type"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"EEFCB"},"EEFC")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER","0"),onInputChange:Mt,onChange:e=>{$(e),qe(e);var a=e.id.split("^");Ge(a[1]),Re(a[2]),We(a[5])}}))))):"S"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:U,onChange:e=>Ze(e.target.value,Y)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:K,onChange:e=>Ze(e.target.value,H)})))):"D"===o||"I"===o||"C"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:z,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:W,onChange:e=>X(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===d.query&&"N"!==o?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(ct()(".loader").show(),null===J||"S"===o&&!U||"S"===o&&!K||"D"===o&&!z||"D"===o&&!W)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===J?" Location.":"",e[a++]="S"!==o||U?"":" From Srno.",e[a++]="S"!==o||K?"":" To Srno.",e[a++]="D"!==o||z?"":" From Date.",e[a++]="D"!==o||W?"":" To Date.",L(ja(e)),T(!0);else{const e={location:ce,type:"GVT",radioType:o,stSrnoTo:K,stSrnoFrom:U,stToDate:Ea(W),stFromDate:Ea(z)};Ye(fe,[t,"listdata",JSON.stringify(e)],e=>{ct()(".loader").hide(),P(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===d.add&&"N"===o?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var t=Ea(q),l=pa(q);x(l),Ea(new Date);var n=[],r=0;if(null==J||null===Be)n[r++]=E("MSG0006"),n[r++]=null==J?"Location.":"",n[r++]=null===Be?"Issuer.":"",L(ja(n)),T(!0);else if(t>a||t<e)T(!0),L(E("MSG0010"));else{A("A"),re(0),ta([]),$e([]),Ee(null),ue(null),ie(""),be(""),ge(""),Je(null),je(""),De(""),Ce(null);var c=Be.id.split("^");Ge(c[1]),Re(c[2]),We(c[5]),qa(""),Ga(0),Ja(0)}})()},"Add New"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,G.map((e,a)=>n.a.createElement("tr",{key:e.hdr_srno+"^"+e.hdr_location},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>((e,a,l,n)=>{ct()(".loader").show(),x(n),re(e),O("INFO"),A("Q");const r={srno:e,location:a,type:l};Ye(fe,[t,"viewdata",JSON.stringify(r)],e=>{ct()(".loader").hide();let a=JSON.parse(e);F(a.locname),A("Q"),$({id:a.issid,label:a.isslabel}),qe({id:a.issid,label:a.isslabel}),$e(a.productlist),na(a.maxline),Ia(a.prdlistevtm),Ra(a.maxlineevtm),Ge(a.grp),Re(a.acct),We(a.accname),Ga(a.total_settlement),Ja(a.total_surrender),Qa(a.paymentdata)})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:tt.k}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.hdr_group," ",e.hdr_ledger," ",e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===w||"E"===w?(f(E("WRN0000")),v(!0)):mt())},"Back"),"\xa0","1"===d.edit&&"Q"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void A("E")},"Edit"),"\xa0"):null,"1"===d.edit&&"E"===w||"1"===d.add&&"A"===w?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(Va.length>0){const e=Va.reduce((e,a)=>e+a.tp_amount,0);if(console.log(e),console.log(Fa-Pa),e!=Fa-Pa)return T(!0),void L("Payment amount should be equal to total difference.")}ct()(".loader").show();const e={type:"GVT",srno:ne,location:ce,stIssuer:Z,stBank:ee,stNewDate:Ea(q),stSaleType:te,nTTValue:se,nTTDate:Ea(me),nManualNo:de,nRemark1:pe,nRemark2:he,settlementList:Xe,surrenderList:Aa,totalSettlement:Fa,totalSurrender:Pa,radioType:o,stToDate:Ea(W),stFromDate:Ea(z),stSrnoTo:K,stSrnoFrom:U,paymentData:Va};Ye(fe,[t,"savedata",JSON.stringify(e)],e=>{let a=JSON.parse(e);ct()(".loader").hide(),T(!0),L(E(a.msg)),A(""),P(a.gvtdata)})})()},"Save"),"\xa0"):null,"1"===d.query&&"Q"===w?n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(Ya(!0),void $a({location:ce,trannumber:ne,type:"GVT"}))},"FA View"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2"},n.a.createElement(s.a.Label,null,"Serial Number : ",ne)),n.a.createElement(Xa.a,{className:"col-md-2"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,R))),n.a.createElement(Xa.a,{className:"col-md-2"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,k))),n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement("span",null,"Issuer : ",n.a.createElement("b",null,Fe+" "+Me+" "+He))),n.a.createElement(Xa.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Total Settlement: ",Fa)),"\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Surrender: ",Pa)),"\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Difference: ",Fa-Pa)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:y,defaultActiveKey:"INFO",onSelect:e=>(e=>{O(e)})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{display:"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value),disabled:!0},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"EEFBC"},"EEFBC")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",I),onInputChange:Mt,isDisabled:!0,onChange:e=>$(e)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===w,value:pe,onChange:e=>be(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===w,value:he,onChange:e=>ge(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>O("SETTLEMENT")},"Product->")))),n.a.createElement(xt.a,{eventKey:"SETTLEMENT",title:"Settlement"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),n.a.createElement(Wa.a,null,"\xa0"),"Q"===w?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(xl,{onDataFromChild:bt}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Pe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,""),onInputChange:Mt,onChange:lt}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Options"),n.a.createElement(s.a.Select,{value:Le,onChange:e=>rt(e.target.value)},n.a.createElement("option",{value:"SEARCH"},"Search"),n.a.createElement("option",{value:"FIFO"},"FIFO"),n.a.createElement("option",{value:"SELECTIVE"},"Selective")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"SEARCH"===Le?"block":"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ve,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ml(e,{isd:Ae,location:"S"===Ue?ze:I,group:Fe,account:Me,type:"VT"}),onInputChange:Mt,onChange:ot})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:Ve,value:_e,onChange:e=>ea(e.target.value,je)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"SELECTIVE"===Le&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Value"),n.a.createElement(s.a.Control,{disabled:"SEARCH"===Le,type:"text",maxLength:10,value:Te,onChange:e=>ea(e.target.value,De)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(e=>{var a=0,l=[];if(null===Pe||null===Z||""===_e||0===_e||"SEARCH"===Le&&null===ve||"FIFO"===Le&&""===Te)l[a++]=E("MSG0006"),l[a++]=null===Pe?"Currency":"",l[a++]=null===Z?"Issuer":"",l[a++]=""===_e||0===_e?"Rate can't be zero or null":"",l[a++]="SEARCH"===Le&&null===ve?"Reference Number":"",l[a++]="FIFO"===Le&&""===Te?"Value":"",L(ja(l)),T(!0);else{var n=Be.id.split("^");const e={isd:Ae,group:Fe,account:Me,location:"S"===Ue?ze:I,type:"VT"};if("FIFO"===Le||"SELECTIVE"===Le){var r=1*Te,c=[],o=[];Ye(fe,[t,"fifovtlist",JSON.stringify(e)],e=>{let a=JSON.parse(e),t=!1,l=0;for(var m=0;m<a.length;m++)if(a[m].sale_rate=a[m].prd_rate,a[m].prd_rate=_e,a[m].prd_amount=a[m].prd_deno*_e,a[m].prd_account=Me,a[m].prd_group=Fe,a[m].prd_deno=1*a[m].prd_deno,a[m].mvli_ledger_name=n[5],a[m].uniquekey=Oa(),it(a[m]))t=!1;else if("FIFO"===Le){if(r<0)break;r>=a[m].prd_deno&&(t=!0,l++,o=Sa(Xe,a[m]),$e(o),r-=1*a[m].prd_deno)}else t=!0,l++,c=Sa(c,a[m]),h(!0);ta(c),o.length>0&&ut(o),t||0!=l||(T(!0),L("VTM not available for settlement"))})}else{var m=ve.id.split("^");const e={uniquekey:Oa(),prd_type:"VT",prd_isd:Ae,prd_line_no:m[1],prd_location:m[2],prd_srno:m[3],prd_deno:m[4],prd_amount:_e*m[4],prd_from:m[5],entity_name:m[6],mvli_ledger_name:n[5],prd_account:Me,prd_group:Fe,prd_rate:_e,prd_qty:1,delny:"Y"};if(it(e))T(!0),L("VTM already added.");else{const a=Sa(Xe,e);$e(a),ut(a)}}S(g+1),Ce(null),je(""),De("")}})()},"Add"),"\xa0")),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Ref no"),n.a.createElement("th",null,"Sale Rate"),n.a.createElement("th",null,"Settle Rate"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Xe.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,"Q"===w?null:n.a.createElement("span",{onClick:()=>dt(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.sale_rate),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(xt.a,{eventKey:"SURRENDER",title:"Surrender"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Surrender"))),n.a.createElement(Wa.a,null,"\xa0"),"Q"===w?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(xl,{onDataFromChild:bt}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ha,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,""),onInputChange:Mt,onChange:lt}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Options"),n.a.createElement(s.a.Select,{value:Ca,onChange:e=>rt(e.target.value)},n.a.createElement("option",{value:"SEARCH"},"Search"),n.a.createElement("option",{value:"FIFO"},"FIFO"),n.a.createElement("option",{value:"SELECTIVE"},"Selective")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"SEARCH"===Ca?"block":"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:sa,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ml(e,{isd:Na,location:"S"===da?oa:ra,group:Fe,account:Me,type:"VR"}),onInputChange:Mt,onChange:ot})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:Ve,value:Ta,onChange:e=>ea(e.target.value,Da)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"SELECTIVE"===Ca&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Value"),n.a.createElement(s.a.Control,{disabled:"SEARCH"===Ca,type:"text",maxLength:10,value:La,onChange:e=>ea(e.target.value,ka)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(e=>{var a=0,l=[];if(null===ha||null===Z||""===Ta||0===Ta||"SEARCH"===Ca&&null===sa||"FIFO"===Ca&&""===La)l[a++]=E("MSG0006"),l[a++]=null===ha?"Currency":"",l[a++]=null===Z?"Issuer":"",l[a++]=""===Ta||0===Ta?"Rate can't be zero or null":"",l[a++]="SEARCH"===Ca&&null===sa?"Reference Number":"",l[a++]="FIFO"===Ca&&""===sa?"Value":"",L(ja(l)),T(!0);else{var n=Be.id.split("^");const e={isd:Na,group:Fe,account:Me,location:"S"===da?oa:ra,type:"VR"};if("FIFO"===Ca||"SELECTIVE"===Ca){var r=[],c=[],o=1*La;Ye(fe,[t,"fifovtlist",JSON.stringify(e)],e=>{let a=JSON.parse(e),t=!1,l=0;for(var m=0;m<a.length;m++)if(a[m].sale_rate=a[m].prd_rate,a[m].prd_rate=Ta,a[m].prd_amount=a[m].prd_deno*Ta,a[m].prd_account=Me,a[m].prd_group=Fe,a[m].prd_deno=1*a[m].prd_deno,a[m].mvli_ledger_name=n[5],a[m].uniquekey=Oa(),!it(a[m]))if("FIFO"===Ca){if(o<0)break;1*o>=1*a[m].prd_deno&&(l++,t=!0,c=Sa(Aa,a[m]),Ia(c),o-=1*a[m].prd_deno)}else t=!0,l++,r=Sa(r,a[m]),h(!0);ta(r),c.length>0&&st(c),t||0!=l||(T(!0),L("EVTM not available for settlement"))})}else{var m=sa.id.split("^");const e={uniquekey:Oa(),prd_type:"EVT",prd_isd:Na,prd_line_no:m[1],prd_location:m[2],prd_srno:m[3],prd_deno:m[4],prd_amount:Ta*m[4],prd_from:m[5],entity_name:m[6],mvli_ledger_name:n[5],prd_account:Me,prd_group:Fe,prd_rate:Ta,prd_qty:1,delny:"Y"};if(it(e))T(!0),L("EVTM already added.");else{const a=Sa(Aa,e);st(a),Ia(a)}}S(g+1),ia(null),Da(""),ka(""),ya("")}})()},"Add"),"\xa0")),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Ref no"),n.a.createElement("th",null,"Sale Rate"),n.a.createElement("th",null,"Surr Rate"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Aa.map(e=>n.a.createElement("tr",null,n.a.createElement("td",null,"Q"===w?null:n.a.createElement("span",{onClick:()=>dt(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.sale_rate),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(xt.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Payment"))),n.a.createElement(Wa.a,null,"\xa0"),"Q"===w?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"BANK","0"),onInputChange:Mt,onChange:e=>ae(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:255,value:Ba,onChange:e=>ma(e.target.value,qa)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(null===ee)T(!0),L("Please select bank.");else if(Va.length>0)T(!0),L("Can't add more than one payment.");else{var e=ee.id.split("^");const a={tp_group:e[1],tp_account:e[2],tp_amount:Fa-Pa,tp_cheque:Ba,mvli_ledger_name:e[5],uniquekey:Oa()};Qa(Sa(Va,a))}ae(null),qa("")})()},"Add")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque"))),n.a.createElement("tbody",null,Va.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===w?null:n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>(e=>{Qa(ga(Va,"uniquekey",e.uniquekey)),S(g+1)})(e)},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,"Bank"),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement("span",{className:"corner-span"},g),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(St,{isOpen:N,onYes:e=>mt(),onNo:e=>v(!1)},C),n.a.createElement(pt.a,{size:"lg",show:b,onHide:()=>h(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Code"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Ref No"),n.a.createElement("th",null,"Sale Rate"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Value"))),n.a.createElement("tbody",null,aa.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement(s.a.Check,{name:"ischecked",onChange:e=>((e,a,t)=>{const l=aa.map((l,n)=>a!==n?l:"ischecked"===t?e.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}:void 0);ta(l)})(e,a,"ischecked")})),n.a.createElement("td",null,e.prd_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.sale_rate),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_deno*e.prd_qty)))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>{aa.map(e=>{if("1"===e.ischecked){if("SURRENDER"==y){const a=Sa(Aa,e);Ia(a),st(a)}else{const a=Sa(Xe,e);ut(a),$e(a)}h(!1)}})}},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>{h(!1),ta([])}},"Cancel"))),n.a.createElement(Gl,{faViewObject:Za,show:Ua,onHide:()=>Ya(!1)}))};var Xn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(!1),[o,u]=Object(l.useState)([]),[d,b]=Object(l.useState)([]),[h,g]=Object(l.useState)({value:0,label:"Select"}),[S,y]=Object(l.useState)("D"),[O,N]=Object(l.useState)(new Date),[v,C]=Object(l.useState)({value:0,label:"Select"}),[f,j]=Object(l.useState)([]),[T,D]=Object(l.useState)(""),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(""),[A,I]=Object(l.useState)(null),[M,R]=Object(l.useState)(null),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(!1),[B,V]=Object(l.useState)(!1),[z,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)(!1),[Z,$]=Object(l.useState)(""),ee=sessionStorage.getItem("startDate"),[ae,te]=(sessionStorage.getItem("endDate"),Object(l.useState)("")),le=new Date,[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(!1),[se,ie]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(!1),[he,ge]=Object(l.useState)(!1);Object(l.useEffect)(()=>{r||(xa().then(e=>{I(e),null!=e&&Oe(e)}),Ye(_,[a,"all","TRAN_OPN_CMRCMP"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),Ye(q,[a,"voucherType"],e=>{let a=JSON.parse(e);console.log(a),j(a)}),c(!0))},[r,a,e]);var Se=[],ye=0;const Oe=e=>{I(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Opening CMR/CMP"))),"\xa0",P?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",h))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>(be(!1),B&&V(!1),void J(!1))},"Back")," ","1"===o.add&&P&&pe?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{J(!0),be(!1);const e=new Date,t=ae,l=Ea(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5);console.log(c);const o={srno:1,type:"OPNCMR",pageright:"TRAN_OPN_CMRCMP",location:A.id.split("^")[1]};Ye(_e,[a,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);Ee(t.requestsrc),Be==c||"unlock"==t.msg?V(!0):(ie({trantype:"OPNCMR",trannumber:1,location:F,entity_name:h,tranDate:Ea(e),tdu_status:""}),ue(!0))})})()},"Edit"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e={location:F,right:"TRAN_OPN_CMRCMP"};va(Q,"post",[a,JSON.stringify(e)])}},"Export"),"\xa0"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>Oe(e),isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===o.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(be(!0),null==A)Se[ye++]=E("MSG0006"),Se[ye++]=null===A?" Please select location.":"",$(ja(Se)),W(!0);else{J(!0);const e=A.id.split("^");G(e[1]),g(e[2]),Ye(X,[a,"listCmrCmp",e[1]],e=>{let a=JSON.parse(e);b(a)})}}},"List"):null)),"\xa0"),B&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flag",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:S,onChange:e=>y(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Receivable"),n.a.createElement("option",{value:"C"},"Payable")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:M,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t)=>{var l={sid:sessionStorage.getItem("sessionId"),type:"debtorcreditorallowed",srch:e,location:a,flag:t};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(l)).then(e=>JSON.parse(e.data))})(e,1,S),onInputChange:Mt,onChange:e=>{R(e)}}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:O,onChange:e=>N(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:T,onChange:e=>ea(e.target.value,D),placeholder:"Amount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Narration"),n.a.createElement(s.a.Control,{value:L,onChange:e=>k(e.target.value),maxLength:500,placeholder:"Narration"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Voucher Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vt.a,{options:f,value:v,onChange:e=>C(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:x,onChange:e=>Ze(e.target.value,w),maxLength:7,placeholder:"Invoice Number"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=Ea(O);if(null==M||0==v||""==T||""==x)Se[ye++]=E("MSG0006"),Se[ye++]=""==T?" Amount.":"",Se[ye++]=null==M?" Account.":"",Se[ye++]=0==v?" Voucher Type.":"",Se[ye++]=""==x?" Invoice Number.":"",$(ja(Se)),W(!0);else if(e>=ee)W(!0),$("Date should be before 01-04-2024");else{console.log(M);const e=M.id.split("^"),t=e[1],l=e[2],n={flag:S,acc:l,grp:t,date:Ea(O),amt:T,narr:L,vouchType:v.value,invNo:x,location:F};if(Ye(X,[a,"addNewCmr",JSON.stringify(n)],e=>{let a=JSON.parse(e);b(a),D(""),R(null),k(""),C(""),w(""),N(new Date)}),"SELF"!==de){const e={srno:1,type:"OPNCMR",status:"E",currentDate:Ea(le),pageright:"TRAN_OPN_CMRCMP"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ",!z&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(U(!0),void K(null))},"Upload")," \xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:function(){const e={location:F,right:"TRAN_OPN_CMRCMP"};va(X,"post",[a,"downloadlist",JSON.stringify(e)])}},"Download"),"\xa0")),"\xa0",n.a.createElement(Wa.a,null,"\xa0"),z&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:Y,onChange:e=>K(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:function(){ct()(".loader").show();const e={location:F,right:"TRAN_OPN_CMRCMP"};Ca(X,"post",[a,"downloadformat",JSON.stringify(e)],e=>{ct()(".loader").hide(),$(ja([e])),W(!0)})}},"CmrFormat ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),K(null),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),$("Please select a file to upload."),W(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),$("(.) not allowed in file name."),W(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),$("Please select a file with in 10 MB size."),W(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),$("File extension should be in xlsx format"),W(!0);else{const e={sid:a,cmrFile:Y,uploadType:"uploadCmr",pageright:"TRAN_OPN_CMRCMP",location:F};Na(JSON.stringify(e),"fileExcel",e=>{let a=JSON.parse(e);ct()(".loader").hide(),b(a.cmrdata),$(ja([a.msg])),W(!0),U(!1)})}}})()},"Upload")," "))),n.a.createElement(Wa.a,null,"\xa0")),P&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Flag"),n.a.createElement("th",null,"Voucher Type"),n.a.createElement("th",null,"Invoice Number"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},B&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye(X,[a,"deleteCmr",e,F],e=>{let a=JSON.parse(e);b(a)})})(e.tfd_line_no)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.abs_amount),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,"D"===e.tfd_flag?"RECEIVABLE":"PAYABLE"),n.a.createElement("td",null,e.tfd_reftype),n.a.createElement("td",null,e.tfd_refnumber)))))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0"))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:H,onClose:e=>W(!1)},Z)),n.a.createElement(Dl,{logObject:se,show:me,hdrNotExist:!0,onHide:()=>ue(!1)}))};var Zn=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!0),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),se=new Date,[ie,de]=Object(l.useState)(!1),[Ee,pe]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[be,he]=Object(l.useState)("");Object(l.useEffect)(()=>{y||(xa().then(e=>{c(e),null!=e&&ye(e)}),Ye(_,[a,"all","TRAN_OPN_ETC"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var ge=[],Se=0;const ye=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},Oe=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));F(l)};function Ne(){u(null),p(""),h(null),M(""),A(""),H(""),P(""),B(""),F(""),v([])}return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Opening ETC"))),"\xa0",D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:ye,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===g.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)ge[Se++]=E("MSG0006"),ge[Se++]=null===r?" Please select location.":"",le(ja(ge)),ae(!0);else{L(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),Ye("/api/tran_opn_etc_a.php",[a,"listOpnEtc",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{k?x(!1):L(!0)}},"Back")," ","1"!==g.add||k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=me,l=Ea(e),n=new Date(t),c=new Date(l)-n,o=Math.ceil(c/864e5),m=r.id.split("^")[1],u={srno:1,type:"OPNETC",pageright:"TRAN_OPN_ETC",location:m};Ye(_e,[a,"checkUnlock",JSON.stringify(u)],t=>{let l=JSON.parse(t);if(he(l.requestsrc),Be==o||"unlock"==l.msg)x(!0),Ne();else{let t;Ye(_e,[a,"getStatus",JSON.stringify(u)],a=>{t=JSON.parse(a),pe({trantype:"OPNETC",trannumber:1,location:m,entity_name:C,tranDate:Ea(e),tdu_status:t}),de(!0),Ne()})}})})()},"Edit")))),"\xa0"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"ETC"),onInputChange:Mt,onChange:e=>{u(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:d,onChange:e=>(e=>{ea(e.target.value,p),Oe(e.target.value,w,I)})(e),maxLength:qe,placeholder:"Deno"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",j),onInputChange:Mt,onChange:e=>{h(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:I,onChange:e=>(e=>{ea(e.target.value,M),Oe(d,w,e.target.value)})(e),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ze(e.target.value,A),""==G||""==e.target.value?B(""):B(1*G-1+1*e.target.value),Oe(d,e.target.value,I)):(A(""),oe("Enter quantity greater than 0 and less than 101"),re(!0))})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:R,disabled:!0,maxLength:qe,placeholder:"Amount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:K,onChange:e=>na(e.target.value,H),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ze(e.target.value,P),""==e.target.value||""==w?B(""):B(1*e.target.value-1+1*w)})(e),maxLength:16,placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===d||null===o||""===I||""==w||""==G||null==b)ge[Se++]=E("MSG0006"),ge[Se++]=""===d?" Please fill deno.":"",ge[Se++]=null===o?" Please select currency.":"",ge[Se++]=""===I?" Please fill rate.":"",ge[Se++]=""===w?" Please fill quantity.":"",ge[Se++]=""===G?" Please fill from.":"",ge[Se++]=null===b?" Please fill issuer.":"",le(ja(ge)),ae(!0);else{ct()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");if(console.log(l),V(l[1]),Q(l[2]),e={deno:d,qty:w,rate:I,amount:R,from:G,to:J,loc:j,currency:l[1],productType:"OPNETC",product:"ETC",prefix:K,groupCode:t[1],accountCode:t[2]},Ye("/api/tran_opn_etc_a.php",[a,"addOpnEtc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),ct()(".loader").hide(),M(""),F(""),H(""),p(""),A(""),P(""),B(""),u(""),h("")}),"SELF"!==be){const e={srno:1,type:"OPNETC",status:"E",currentDate:Ea(se),pageright:"TRAN_OPN_ETC"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ")),"\xa0"),!D&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===g.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===g.delete?n.a.createElement("td",{className:"textCenter"},k&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye("/api/tran_opn_etc_a.php",[a,"deleteOpnEtc",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(oe(a.msg),re(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(Ka,{isOpen:ne,onClose:e=>re(!1)},ce),n.a.createElement(Dl,{logObject:Ee,show:ie,hdrNotExist:!0,onHide:()=>de(!1)})))};var $n=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!0),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)("1"),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(!1),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),ie=new Date,[de,Ee]=Object(l.useState)(!1),[pe,be]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(!1),[Oe,Ne]=Object(l.useState)("");Object(l.useEffect)(()=>{y||(xa().then(e=>{c(e),null!=e&&fe(e)}),Ye(_,[a,"all","TRAN_OPN_EVTM"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var ve=[],Ce=0;const fe=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},je=(e,a,t)=>{if(e&&t){var l=parseFloat((1*e*t).toFixed(2));F(l)}};function Te(){u(null),p(""),h(null),M(""),A(1),H(""),F(""),P(""),B(""),v([])}return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Opening EVTM"))),"\xa0",D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:fe,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===g.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)ve[Ce++]=E("MSG0006"),ve[Ce++]=null===r?" Please select location.":"",ne(ja(ve)),te(!0);else{L(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),Ye(ae,[a,"listOpnEvtm",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{k?x(!1):L(!0)}},"Back")," ","1"!==g.add||k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=ue,l=Ea(e),n=new Date(t),c=new Date(l)-n,o=Math.ceil(c/864e5),m=r.id.split("^")[1],u={srno:1,type:"OPNEVTM",pageright:"TRAN_OPN_EVTM",location:m};Ye(_e,[a,"checkUnlock",JSON.stringify(u)],t=>{let l=JSON.parse(t);if(ge(l.requestsrc),Be==o||"unlock"==l.msg)x(!0),Te();else{let t;Ye(_e,[a,"getStatus",JSON.stringify(u)],a=>{t=JSON.parse(a),be({trantype:"OPNEVTM",trannumber:1,location:m,entity_name:C,tranDate:Ea(e),tdu_status:t}),Ee(!0),Te()})}})})()},"Edit")))),"\xa0"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",j),onInputChange:Mt,onChange:e=>{h(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"EVTM"),onInputChange:Mt,onChange:e=>{u(e)}})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:d,onChange:e=>(e=>{ea(e.target.value,p),je(e.target.value,0,I)})(e),maxLength:qe,placeholder:"Deno"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:I,onChange:e=>(e=>{ea(e.target.value,M),je(d,0,e.target.value)})(e),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:R,disabled:!0,maxLength:qe,placeholder:"Amount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ze(e.target.value,P),B(1*e.target.value-1+1*w)})(e),maxLength:16,placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===d||null===o||""===I||""==G||null==b)ve[Ce++]=E("MSG0006"),ve[Ce++]=""===d?" Please fill deno.":"",ve[Ce++]=null===o?" Please select currency.":"",ve[Ce++]=""===I?" Please fill rate.":"",ve[Ce++]=""===G?" Please fill from.":"",ve[Ce++]=null===b?" Please fill issuer.":"",ne(ja(ve)),te(!0);else{ct()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");if(console.log(l),V(l[1]),Q(l[2]),e={deno:d,qty:1,rate:I,amount:R,from:G,to:J,loc:j,currency:l[1],productType:"OPNEVTM",product:"EVTM",prefix:K,groupCode:t[1],accountCode:t[2]},Ye(ae,[a,"addOpnEvtm",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),ct()(".loader").hide(),M(""),F(""),H(""),p(""),P(""),B(""),u(""),h("")}),"SELF"!==he){const e={srno:1,type:"OPNEVTM",status:"E",currentDate:Ea(ie),pageright:"TRAN_OPN_EVTM"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ",!Se&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ye(!0),void Ne(null))},"Upload"),"\xa0")),"\xa0"),Se&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:Oe,onChange:e=>Ne(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:function(){ct()(".loader").show();const e={location:j,right:"TRAN_OPN_EVTM"};Ca(ae,"post",[a,"downloadformat",JSON.stringify(e)],e=>{ct()(".loader").hide(),ne(ja([e])),te(!0)})}},"Evtm Upload Format ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),Ne(null),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),ne("Please select a file to upload."),te(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),ne("(.) not allowed in file name."),te(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),ne("Please select a file with in 10 MB size."),te(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),ne("File extension should be in xlsx format"),te(!0);else{const e={sid:a,evtmFile:Oe,uploadType:"uploadEvtm",pageright:"TRAN_OPN_EVTM",loc:j};Na(JSON.stringify(e),"fileExcel",e=>{ct()(".loader").hide();let a=JSON.parse(e);ne(ja([a.msg])),te(!0),ye(!1),v(null===a||void 0===a?void 0:a.evtmdata)})}}})()},"Upload")," "))),!D&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===g.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===g.delete?n.a.createElement("td",{className:"textCenter"},k&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye(ae,[a,"deleteOpnEvtm",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(me(a.msg),ce(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:ee,onClose:e=>te(!1)},le),n.a.createElement(Ka,{isOpen:re,onClose:e=>ce(!1)},oe),n.a.createElement(Dl,{logObject:pe,show:de,hdrNotExist:!0,onHide:()=>Ee(!1)})),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"))};var er=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!0),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)("1"),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(!1),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),ce=new Date,[oe,me]=Object(l.useState)(!1),[ue,se]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[ie,de]=Object(l.useState)("");Object(l.useEffect)(()=>{y||(xa().then(e=>{c(e),null!=e&&be(e)}),Ye(_,[a,"all","TRAN_OPN_TC"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var Ee=[],pe=0;const be=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Opening TC"))),"\xa0",D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:be,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===g.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)Ee[pe++]=E("MSG0006"),Ee[pe++]=null===r?" Please select location.":"",$(ja(Ee)),X(!0);else{L(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),Ye("/api/tran_opn_tc_a.php",[a,"listOpnTc",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{k?x(!1):L(!0)}},"Back")," ","1"!==g.add||k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=ne,l=Ea(e),n=new Date(t),c=new Date(l)-n,o=Math.ceil(c/864e5),m=r.id.split("^")[1],s={srno:1,type:"OPNTC",pageright:"TRAN_OPN_TC",location:m};Ye(_e,[a,"checkUnlock",JSON.stringify(s)],t=>{let l=JSON.parse(t);if(de(l.requestsrc),Be==o||"unlock"==l.msg)x(!0);else{let t;Ye(_e,[a,"getStatus",JSON.stringify(s)],a=>{t=JSON.parse(a),se({trantype:"OPNTC",trannumber:1,location:m,entity_name:C,tranDate:Ea(e),tdu_status:t}),me(!0),u(null),p(""),h(null),A(""),Q(""),M(""),F("")})}})})()},"Edit")))),"\xa0"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"TC"),onInputChange:Mt,onChange:e=>{u(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:d,onChange:e=>ea(e.target.value,p),maxLength:qe,placeholder:"Deno"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",j),onInputChange:Mt,onChange:e=>{h(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ze(e.target.value,A),""==I||""==e.target.value?F(""):F(1*I-1+1*e.target.value)):(le("Enter quantity greater than 0 and less than 101"),ae(!0),A(""))})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:z,onChange:e=>na(e.target.value,Q),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:I,onChange:e=>(e=>{Ze(e.target.value,M),""==e.target.value||""==w?F(""):F(1*e.target.value-1+1*w)})(e),maxLength:16,placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:R,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===d||null===o||""==w||""==I||null==b)Ee[pe++]=E("MSG0006"),Ee[pe++]=null===o?" Please select currency.":"",Ee[pe++]=""===d?" Please fill deno.":"",Ee[pe++]=""===w?" Please fill quantity.":"",Ee[pe++]=""===I?" Please fill from.":"",Ee[pe++]=null===b?" Please fill issuer.":"",$(ja(Ee)),X(!0);else{ct()(".loader").show();let e={},t=b.id.split("^");Y(t[1]),H(t[2]);let l=o.id.split("^");if(console.log(l),P(l[1]),B(l[2]),e={qty:w,from:I,to:R,loc:j,currency:l[1],deno:d,productType:"OPNTC",product:"TC",prefix:z,groupCode:t[1],accountCode:t[2]},Ye("/api/tran_opn_tc_a.php",[a,"addOpnTc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),ct()(".loader").hide(),Q(""),p(""),A(""),M(""),F(""),u(""),h("")}),"SELF"!==ie){const e={srno:1,type:"OPNTC",status:"E",currentDate:Ea(ce),pageright:"TRAN_OPN_TC"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ")),"\xa0"),!D&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===g.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===g.delete?n.a.createElement("td",{className:"textCenter"},k&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye("/api/tran_opn_tc_a.php",[a,"deleteOpnTc",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(le(a.msg),ae(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:W,onClose:e=>X(!1)},Z),n.a.createElement(Ka,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(Dl,{logObject:ue,show:oe,hdrNotExist:!0,onHide:()=>me(!1)})))};var ar=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!0),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(""),se=new Date,[ie,de]=Object(l.useState)(!1),[Ee,pe]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[be,he]=Object(l.useState)("");Object(l.useEffect)(()=>{y||(xa().then(e=>{c(e),null!=e&&ye(e)}),Ye(_,[a,"all","TRAN_OPN_TC_SETTLEMENT"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var ge=[],Se=0;const ye=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},Oe=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));F(l)},Ne=()=>{const e=new Date,t=me,l=Ea(e),n=new Date(t),c=new Date(l)-n,o=Math.ceil(c/864e5),m=r.id.split("^")[1],s={srno:1,type:"OPNTCST",pageright:"TRAN_OPN_TC_SETTLEMENT",location:m};Ye(_e,[a,"checkUnlock",JSON.stringify(s)],t=>{let l=JSON.parse(t);if(he(l.requestsrc),Be==o||"unlock"==l.msg)x(!0),u(null),p(""),h(null),M(""),A(""),H(""),F(""),P(""),B(""),v([]);else{let t;Ye(_e,[a,"getStatus",JSON.stringify(s)],a=>{t=JSON.parse(a),pe({trantype:"OPNTCST",trannumber:1,location:m,entity_name:C,tranDate:Ea(e),tdu_status:t}),de(!0)})}})};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"TC SETTLEMENT"))),"\xa0",D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:ye,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===g.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)ge[Se++]=E("MSG0006"),ge[Se++]=null===r?" Please select location.":"",le(ja(ge)),ae(!0);else{L(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),Ye("/api/tran_opn_tc_st_a.php",[a,"listOpnTc",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{k?x(!1):L(!0)}},"Back")," ","1"!==g.add||k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Ne()},"Edit")))),"\xa0"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"TCST"),onInputChange:Mt,onChange:e=>{u(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:d,onChange:e=>(e=>{ea(e.target.value,p),Oe(e.target.value,w,I)})(e),maxLength:qe,placeholder:"Deno"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",j),onInputChange:Mt,onChange:e=>{h(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:I,onChange:e=>(e=>{ea(e.target.value,M),Oe(d,w,e.target.value)})(e),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ze(e.target.value,A),""==G||""==e.target.value?B(""):B(1*G-1+1*e.target.value),Oe(d,e.target.value,I)):(oe("Enter quantity greater than 0 and less than 101"),re(!0),A(""))})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:R,maxLength:qe,disabled:!0,placeholder:"Amount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:K,onChange:e=>na(e.target.value,H),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ze(e.target.value,P),""==e.target.value||""==w?B(""):B(1*e.target.value-1+1*w)})(e),maxLength:16,placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===d||null===o||""===I||""==w||""==G||null==b)ge[Se++]=E("MSG0006"),ge[Se++]=""===d?" Please fill deno.":"",ge[Se++]=null===o?" Please select currency.":"",ge[Se++]=""===I?" Please fill rate.":"",ge[Se++]=""===w?" Please fill quantity.":"",ge[Se++]=""===G?" Please fill from.":"",ge[Se++]=null===b?" Please fill issuer.":"",le(ja(ge)),ae(!0);else{ct()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");if(console.log(l),V(l[1]),Q(l[2]),e={deno:d,qty:w,rate:I,amount:R,from:G,to:J,loc:j,currency:l[1],productType:"OPNTCST",product:"TCST",prefix:K,groupCode:t[1],accountCode:t[2]},Ye("/api/tran_opn_tc_st_a.php",[a,"addOpnTc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),ct()(".loader").hide(),M(""),F(""),H(""),p(""),A(""),P(""),B(""),u(""),h("")}),"SELF"!==be){const e={srno:1,type:"OPNTCST",status:"E",currentDate:Ea(se),pageright:"TRAN_OPN_TC_SETTLEMENT"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ")),"\xa0"),!D&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===g.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===g.delete?n.a.createElement("td",{className:"textCenter"},k&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye("/api/tran_opn_tc_st_a.php",[a,"deleteOpnTc",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(oe(a.msg),re(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:ee,onClose:e=>ae(!1)},te),n.a.createElement(Ka,{isOpen:ne,onClose:e=>re(!1)},ce),n.a.createElement(Dl,{logObject:Ee,show:ie,hdrNotExist:!0,onHide:()=>de(!1)})))};var tr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[d,p]=Object(l.useState)(null),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!0),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)("0"),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)(""),[$,ee]=Object(l.useState)(!1),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)(""),re=new Date,[ce,oe]=Object(l.useState)(!1),[me,ue]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(!1),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)([]);Object(l.useEffect)(()=>{g||(xa().then(e=>{c(e),null!=e&&Oe(e)}),Ye(_,[a,"all","TRAN_OPN_VTC"],function(a){let t=JSON.parse(a);"1"===t.query?h(t):e("/")}),S(!0))},[g,a,e]);var Se=[],ye=0;const Oe=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Opening VTM"))),"\xa0",j?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Oe,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===b.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)Se[ye++]=E("MSG0006"),Se[ye++]=null===r?" Please select location.":"",X(ja(Se)),H(!0);else{T(!1);const e=r.id.split("^");console.log(r),f(e[1]),v(e[2]),Ye(Z,[a,"listOpnVtc",e[1]],e=>{let a=JSON.parse(e);console.log(a),O(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",N))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{D?L(!1):T(!0)}},"Back")," ","1"!==b.add||D?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=le,l=Ea(e),n=new Date(t),c=new Date(l)-n,o=Math.ceil(c/864e5),m=r.id.split("^")[1],s={srno:1,type:"OPNVTM",pageright:"TRAN_OPN_VTC",location:m};Ye(_e,[a,"checkUnlock",JSON.stringify(s)],t=>{let l=JSON.parse(t);if(ie(l.requestsrc),Be==o||"unlock"==l.msg)L(!0);else{let t;Ye(_e,[a,"getStatus",JSON.stringify(s)],a=>{t=JSON.parse(a),ue({trantype:"OPNVTM",trannumber:1,location:m,entity_name:N,tranDate:Ea(e),tdu_status:t}),oe(!0),u(null),p(null),x(0),V(""),A(""),M("")})}})})()},"Edit")))),"\xa0"),D&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:J,onChange:e=>B(e.target.value),required:!0},n.a.createElement("option",{value:"0"},"Multi Currency"),n.a.createElement("option",{value:"1"},"Single Currency")))),1==J&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"VTM"),onInputChange:Mt,onChange:e=>{u(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:d,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",C),onInputChange:Mt,onChange:e=>{p(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:k,onChange:e=>(e=>{e.target.value>0&&e.target.value<101?(Ze(e.target.value,x),""==w||""==e.target.value?M(""):M(1*w-1+1*e.target.value)):(x(""),te("Enter quantity greater than 0 and less than 101"),ee(!0))})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:q,onChange:e=>na(e.target.value,V),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:w,onChange:e=>(e=>{Ze(e.target.value,A),""==e.target.value||""==k?M(""):M(1*e.target.value-1+1*k)})(e),maxLength:16,placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:I,disabled:!0,placeholder:"To"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""==k||""==w||null==d)Se[ye++]=E("MSG0006"),Se[ye++]=""===k?" Please fill quantity.":"",Se[ye++]=""===w?" Please fill from.":"",Se[ye++]=null===d?" Please fill issuer.":"",X(ja(Se)),H(!0);else if("1"==J&&null===o)Se[ye++]=null===o?" Please select currency.":"",X(ja(Se)),H(!0);else{ct()(".loader").show();let e={},t=d.id.split("^");if(Q(t[1]),Y(t[2]),"1"==J){let a=o.id.split("^");console.log(a),F(a[1]),P(a[2]),e={qty:k,from:w,to:I,loc:C,currency:a[1],productType:"OPNVTM",product:"VTM",prefix:q,groupCode:t[1],accountCode:t[2]}}else e={qty:k,from:w,to:I,loc:C,currency:"",productType:"OPNVTM",product:"VTM",prefix:q,groupCode:t[1],accountCode:t[2]};if(Ye(Z,[a,"addOpnVtc",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),1==a.msg?(O(a.currstock),ct()(".loader").hide(),V(""),x(""),A(""),M(""),u(""),p("")):(ct()(".loader").hide(),te("You can't add exisiting prefix for same issuer"),ee(!0))}),"SELF"!==se){const e={srno:1,type:"OPNVTM",status:"E",currentDate:Ea(re),pageright:"TRAN_OPN_VTC"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ",!de&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ee(!0),void be(null))},"Upload"),"\xa0")),"\xa0",n.a.createElement(Wa.a,null,"\xa0"),de&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:pe,onChange:e=>be(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:function(){ct()(".loader").show();const e={location:C,pageright:"TRAN_OPN_VTC"};Ca(Z,"post",[a,"downloadformat",JSON.stringify(e)],e=>{ct()(".loader").hide(),X(ja([e])),H(!0)})}},"Vtm Format ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),be(null),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),X("Please select a file to upload."),H(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),X("(.) not allowed in file name."),H(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),X("Please select a file with in 10 MB size."),H(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),X("File extension should be in xlsx format"),H(!0);else{const e={sid:a,vtcFile:pe,uploadType:"uploadVtc",pageright:"TRAN_OPN_VTC",loc:C};Na(JSON.stringify(e),"fileExcel",e=>{ct()(".loader").hide();let a=JSON.parse(e);X(ja([a.msg])),H(!0),Ee(!1),O(null===a||void 0===a?void 0:a.vtcdata)})}}})()},"Upload")," "))),n.a.createElement(Wa.a,null,"\xa0")),!j&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===b.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Quantity"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,null===y||void 0===y?void 0:y.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===b.delete?n.a.createElement("td",{className:"textCenter"},D&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye(Z,[a,"deleteOpnVtc",e,C],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?O(a.optrial):(te(a.msg),ee(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_qty),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:K,onClose:e=>H(!1)},W),n.a.createElement(Ka,{isOpen:$,onClose:e=>ee(!1)},ae),n.a.createElement(Dl,{logObject:me,show:ce,hdrNotExist:!0,onHide:()=>oe(!1)})),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var lr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(null),[o,u]=Object(l.useState)(null),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!0),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)("1"),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("1"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(!1),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),ie=new Date,[de,Ee]=Object(l.useState)(!1),[pe,be]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[he,ge]=Object(l.useState)(!1),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)("");Object(l.useEffect)(()=>{y||(xa().then(e=>{c(e),null!=e&&fe(e)}),Ye(_,[a,"all","TRAN_OPN_VTM_SETTLEMENT"],function(a){let t=JSON.parse(a);"1"===t.query?S(t):e("/")}),O(!0))},[y,a,e]);var ve=[],Ce=0;const fe=e=>{c(e);var a=e.id.split("^");sessionStorage.activeBranch=a[1]},je=(e,a,t)=>{var l=parseFloat((e*a*t).toFixed(2));F(l)},Te=()=>{const e=new Date,t=ue,l=Ea(e),n=new Date(t),c=new Date(l)-n,o=Math.ceil(c/864e5),m=r.id.split("^")[1],s={srno:1,type:"OPNVTMST",pageright:"TRAN_OPN_VTM_SETTLEMENT",location:m};Ye(_e,[a,"checkUnlock",JSON.stringify(s)],t=>{let l=JSON.parse(t);if(Ne(l.requestsrc),Be==o||"unlock"==l.msg)x(!0),u(null),p(""),h(null),M(""),A(1),H(""),F(""),P(""),B(""),v([]);else{let t;Ye(_e,[a,"getStatus",JSON.stringify(s)],a=>{t=JSON.parse(a),be({trantype:"OPNVTMST",trannumber:1,location:m,entity_name:C,tranDate:Ea(e),tdu_status:t}),Ee(!0)})}})};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"VTM SETTLEMENT"))),"\xa0",D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:r,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:fe,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===g.query?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==r)ve[Ce++]=E("MSG0006"),ve[Ce++]=null===r?" Please select location.":"",ne(ja(ve)),ae(!0);else{L(!1);const e=r.id.split("^");console.log(r),T(e[1]),f(e[2]),Ye(te,[a,"listOpnVtm",e[1]],e=>{let a=JSON.parse(e);console.log(a),v(a)})}}},"List"):null)),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",C))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{k?x(!1):L(!0)}},"Back")," ","1"!==g.add||k?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Te()},"Edit")))),"\xa0"),k&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",j),onInputChange:Mt,onChange:e=>{h(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:o,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"VTMST"),onInputChange:Mt,onChange:e=>{u(e)}}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:d,onChange:e=>(e=>{ea(e.target.value,p),je(e.target.value,w,I)})(e),maxLength:qe,placeholder:"Deno"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:I,onChange:e=>(e=>{ea(e.target.value,M),je(d,w,e.target.value)})(e),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"})),n.a.createElement(s.a.Control,{value:R,disabled:!0,maxLength:qe,placeholder:"Amount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:G,onChange:e=>(e=>{Ze(e.target.value,P),""==e.target.value||""==w?B(""):B(1*e.target.value-1+1*w)})(e),maxLength:16,placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To"),n.a.createElement(s.a.Control,{value:J,disabled:!0,placeholder:"To"}))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(""===d||null===o||""===I||""==w||""==G||null==b)ve[Ce++]=E("MSG0006"),ve[Ce++]=""===d?" Please fill deno.":"",ve[Ce++]=null===o?" Please select currency.":"",ve[Ce++]=""===I?" Please fill rate.":"",ve[Ce++]=""===w?" Please fill quantity.":"",ve[Ce++]=""===G?" Please fill from.":"",ve[Ce++]=null===b?" Please fill issuer.":"",ne(ja(ve)),ae(!0);else{ct()(".loader").show();let e={},t=b.id.split("^");X(t[1]),$(t[2]);let l=o.id.split("^");if(console.log(l),V(l[1]),Q(l[2]),e={deno:d,qty:w,rate:I,amount:R,from:G,to:J,loc:j,currency:l[1],productType:"OPNVTMST",product:"VTMST",prefix:K,groupCode:t[1],accountCode:t[2]},Ye(te,[a,"addOpnVtm",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),v(a),ct()(".loader").hide(),M(""),F(""),H(""),p(""),A(""),P(""),B(""),u(""),h("")}),"SELF"!==Oe){const e={srno:1,type:"OPNVTMST",status:"E",currentDate:Ea(ie),pageright:"TRAN_OPN_VTM_SETTLEMENT"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ",!he&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ge(!0),void ye(null))},"Upload"),"\xa0")),"\xa0",n.a.createElement(Wa.a,null,"\xa0"),he&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:Se,onChange:e=>ye(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:function(){ct()(".loader").show();const e={location:j,pageright:"TRAN_OPN_VTM_SETTLEMENT"};Ca(te,"post",[a,"downloadformat",JSON.stringify(e)],e=>{ct()(".loader").hide(),ne(ja([e])),ae(!0)})}},"Vtmst Format ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),ye(null),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),ne("Please select a file to upload."),ae(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),ne("(.) not allowed in file name."),ae(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),ne("Please select a file with in 10 MB size."),ae(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),ne("File extension should be in xlsx format"),ae(!0);else{const e={sid:a,vtmstFile:Se,uploadType:"uploadVtmst",pageright:"TRAN_OPN_VTM_SETTLEMENT",loc:j};Na(JSON.stringify(e),"fileExcel",e=>{ct()(".loader").hide();let a=JSON.parse(e);ae(!0),ne(a.msg),ge(!1),v(a.vtmstdata)})}}})()},"Upload")," "))),n.a.createElement(Wa.a,null,"\xa0")),!D&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===g.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Deno"),n.a.createElement("th",{style:{textAlign:"right"}},"Rate"),n.a.createElement("th",{style:{textAlign:"right"}},"Amount"),n.a.createElement("th",{style:{textAlign:"right"}},"From"),n.a.createElement("th",{style:{textAlign:"right"}},"To"))),n.a.createElement("tbody",null,N.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===g.delete?n.a.createElement("td",{className:"textCenter"},k&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye(te,[a,"deleteOpnVtm",e,j],e=>{let a=JSON.parse(e);console.log(a),""==a.msg?v(a.optrial):(me(a.msg),ce(!0))})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_deno),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_rate),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_amount),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_from),n.a.createElement("td",{style:{textAlign:"right"}},e.prd_to)))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:ee,onClose:e=>ae(!1)},le),n.a.createElement(Ka,{isOpen:re,onClose:e=>ce(!1)},oe),n.a.createElement(Dl,{logObject:pe,show:de,hdrNotExist:!0,onHide:()=>Ee(!1)})),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"),n.a.createElement(Wa.a,null," \xa0"))};var nr=function(e){return sessionStorage.getItem("sessionId"),n.a.createElement("div",null,n.a.createElement(pt.a,Object.assign({},e,{size:"lg",centered:!0,dialogClassName:"custom-modal-width"}),n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Commission Detail")),n.a.createElement(pt.a.Body,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Agent"),n.a.createElement("th",null,"Commission Type"),n.a.createElement("th",null,"Commission"),n.a.createElement("th",null,"Commission Value"))),n.a.createElement("tbody",null,e.productList.map(e=>n.a.createElement(n.a.Fragment,null,"1"===e.isCommission?n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_agent_group+" "+e.prd_agent_ledger+" "+e.prd_agent_name),n.a.createElement("td",null,"P"===e.prd_commission_type?"Paisa":"R"===e.prd_commission_type?"Percentage":"F"===e.prd_commission_type?"Flat":""),n.a.createElement("td",null,e.prd_commission),n.a.createElement("td",null,e.prd_commission_value)):null))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"primary",onClick:e.onHide},"Close"))))};var rr=function(){const e=Object(l.useRef)(),a=sessionStorage.getItem("startDate"),t=sessionStorage.getItem("endDate"),r=sessionStorage.getItem("branchDisable"),c=sessionStorage.getItem("sessionId"),o=Object(m.n)(),[u,d]=Object(l.useState)("INFO"),[p,b]=Object(l.useState)(!1),[h,g]=Object(l.useState)(""),[y,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)("N"),[T,D]=Object(l.useState)(""),[k,x]=Object(l.useState)(0),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)([]),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)(null),[q,V]=Object(l.useState)(0),[z,Q]=Object(l.useState)(null),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(new Date),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,re]=Object(l.useState)(0),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(0),[ie,de]=Object(l.useState)(0),[Ee,be]=Object(l.useState)(0),[he,ge]=Object(l.useState)(0),[Se,Oe]=Object(l.useState)(0),[Ne,ve]=Object(l.useState)(0),[Ce,fe]=Object(l.useState)(0),[je,Te]=Object(l.useState)(0),[De,Le]=Object(l.useState)(0),[ke,xe]=Object(l.useState)(0),[we,Ae]=Object(l.useState)(null),[Ie,Me]=Object(l.useState)([]),[Re,Fe]=Object(l.useState)("CN"),[Ge,Pe]=Object(l.useState)(null),[Je,qe]=Object(l.useState)(""),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,We]=Object(l.useState)(null),[Xe,$e]=Object(l.useState)(""),[aa,ta]=Object(l.useState)(""),[la,ra]=Object(l.useState)(""),[ca,oa]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(null),[ia,da]=Object(l.useState)("0"),[ba,ha]=Object(l.useState)(""),[Na,va]=Object(l.useState)(""),[Ca,_a]=Object(l.useState)(""),[Ta,Da]=Object(l.useState)(0),[La,ka]=Object(l.useState)(0),[wa,Aa]=Object(l.useState)(""),[Ia,Ma]=Object(l.useState)("0"),[Ra,Fa]=Object(l.useState)(""),[Ga,Va]=Object(l.useState)(0),[Ua,Ya]=Object(l.useState)(0),[Za,$a]=Object(l.useState)(null),[et,lt]=Object(l.useState)([]),[rt,ot]=Object(l.useState)({value:0,label:"Select"}),[mt,ut]=Object(l.useState)(""),[st,it]=Object(l.useState)(""),[dt,ht]=Object(l.useState)(!0),[gt,yt]=Object(l.useState)(""),[Ot,Nt]=Object(l.useState)(null),[Ct,_t]=Object(l.useState)(""),[ft,jt]=Object(l.useState)(""),[Tt,Dt]=Object(l.useState)(""),[Lt,At]=Object(l.useState)(""),[It,Ft]=Object(l.useState)([]),[Gt,Pt]=Object(l.useState)(""),[qt,Vt]=Object(l.useState)(""),[zt,Qt]=Object(l.useState)(0),[Ut,Yt]=Object(l.useState)(null),[Kt,Ht]=Object(l.useState)(0),[Wt,Xt]=Object(l.useState)(null),[Zt,$t]=Object(l.useState)(""),[el,tl]=Object(l.useState)({location:"",trannumber:"",type:""}),[ll,rl]=Object(l.useState)(!1),[cl,ol]=Object(l.useState)(""),ml=new Date,[ul,sl]=Object(l.useState)(!1),[il,dl]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[El,pl]=Object(l.useState)(0),[bl,hl]=Object(l.useState)(!1),[gl,Sl]=Object(l.useState)(!1),[yl,Nl]=Object(l.useState)([]),[Cl,_l]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[fl,jl]=Object(l.useState)(!1),[Tl,Ll]=Object(l.useState)(""),[kl,xl]=Object(l.useState)(""),[wl,Al]=Object(l.useState)(""),[Il,Ml]=Object(l.useState)(""),[Rl,Fl]=Object(l.useState)([]),[Pl,Jl]=Object(l.useState)(!1),[Bl,ql]=Object(l.useState)([]);Object(l.useEffect)(()=>{xa().then(e=>{B(e),null!=e&&Vl(e)}),Ye(_,[c,"all","TRAN_PB"],function(e){let a=JSON.parse(e);"1"===a.query?M(a):o("/")}),Ye(O,[c,"ddlistjsonselect","CN"],e=>{F(JSON.parse(e))}),Ye(W,[c,"listResidential"],e=>{P(JSON.parse(e))}),Ye(S,[c,"getState",1],e=>{lt(JSON.parse(e))})},[]);const Vl=e=>{B(e);var a=e.id.split("^");V(a[1]),re(a[3]),ue(a[4]),oe(a[5]),$t(a[2]),sessionStorage.activeBranch=a[1]},zl=()=>{var e=Ea(X),l=pa(X),n=Ea(new Date);null==J?(b(!0),g("Please select location")):e>t||e<a?(b(!0),g(E("MSG0010"))):e>n?(b(!0),g(E("MSG0011"))):(Xt(l),D("A"),d("INFO"),x(0),$a(null),ut(""),ot(1*le>0&&null!=le?{value:le,label:ce}:{value:0,label:"Select"}),Fe("CN"),Pe(null),Pt(""),qe(""),Qe(""),_a(""),Aa(""),Fa(""),Ma(""),ha(""),va(""),Ke(""),da("0"),Te(0),be(0),ge(0),ve(0),fe(0),Oe(0),Le(0),de(0),xe(0),Me([]),Ft([]),ka(0),Qt(0),Ae(null))},Ql=(e,a,t,l,n)=>"P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e,Ul=e=>{for(var a=!1,t={},l=0;l<Ie.length;l++)if(Ie[l].prd_isd===e.prd_isd&&Ie[l].prd_deno===e.prd_deno&&Ie[l].prd_product===e.prd_product){t.prd_line_no=Ie[l].prd_line_no,t.prd_qty=1*Ie[l].prd_qty+1*e.prd_qty,t.prd_amount=(t.prd_qty*e.prd_rate*e.prd_deno).toFixed(2),t.prd_usd_amount=(t.prd_amount/El).toFixed(2),a=!0;break}return{isIsdExist:a,prdRow:t}},Yl=(e,a)=>{Ye(pe,[c,"calcinvoice",JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);Te(a.fxamt),Oe(a.sgst),be(a.totalamt),xe(a.taxablevalue),Le(a.roundoff),ge(a.cgst),ve(a.igst),fe(a.ugst);for(var t=0,l=0;l<It.length;l++)t+=1*It[l].tp_amount;jt(1*a.totalamt-t)})},Kl=()=>{N(!1),D("")},Hl=(e,a)=>{x(e),d("INFO"),yt("0"),ol(a),ct()(".loader").show();const t={srno:e,ppLocationValue:q,type:"PB"};Ye(ne,[c,"viewdata",JSON.stringify(t)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(ct()(".loader").hide(),D("Q"),(e=>{const a={nDealer:{id:e.dealer_id,label:e.dealer_label},nState:e.state,nEmployeeCode:e.emp_code,nRemark1:e.remark1,nRemark2:e.remark2};Fl([a])})(a),$a({id:a.dealer_id,label:a.dealer_label}),ut(a.emp_code),ot({value:a.state,label:a.statename}),Te(a.forextotal),ge(a.cgst),Oe(a.sgst),ve(a.igst),fe(a.ugst),Le(a.round_off),be(a.total_inr),de(a.other_charge),xe(a.taxablevalue),Me(a.productlist),Ft(a.paydetails),ka(1*a.maxlineno),Xt(a.date),$t(a.locname),x(a.srno),Al(a.remark1),Ml(a.remark2))})},Wl=e=>{ct()(".loader").show();const a={srno:k,location:q,type:"PB",printFlag:e};Ye(se,[c,"print",JSON.stringify(a)],e=>{ct()(".loader").hide(),window.open().document.write(e)})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Purchase Bulk"))),""===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Vl,isDisabled:"true"===r}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===f,onChange:()=>j("N"),type:"radio",label:"New"}),n.a.createElement(s.a.Check,{checked:"S"===f,onChange:()=>j("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===f,onChange:()=>j("D"),type:"radio",label:"Date"}),n.a.createElement(s.a.Check,{checked:"I"===f,onChange:()=>j("I"),type:"radio",label:"Dealer"})))))),n.a.createElement(Wa.a,null,"N"===f?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:X,onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===f?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:$,onChange:e=>Ze(e.target.value,ee)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:ae,onChange:e=>Ze(e.target.value,te)})))):"D"===f||"I"===f||"C"===f?n.a.createElement(n.a.Fragment,null,"I"===f?n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"DEALER",q),onInputChange:Mt,onChange:e=>{Q(e)}}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===I.query&&"N"!==f?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(ct()(".loader").show(),null===J||"S"===f&&!$||"S"===f&&!ae||"D"===f&&!U||"D"===f&&!K||"I"===f&&null===z||"I"===f&&!U||"I"===f&&!K)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===J?" Location.":"",e[a++]="S"!==f||$?"":" From Srno.",e[a++]="S"!==f||ae?"":" To Srno.",e[a++]="D"!==f||U?"":" From Date.",e[a++]="D"!==f||K?"":" To Date.",e[a++]="I"===f&&null===z?" Dealer.":"",e[a++]="I"!==f||U?"":" From Date.",e[a++]="I"!==f||K?"":" To Date.",g(ja(e)),b(!0);else{const e={radioType:f,pbLocation:q,pbDealer:z,pbNewDate:Ea(X),pbSrnoTo:ae,pbSrnoFrom:$,pbFromDate:Ea(U),pbToDate:Ea(K)};Ye(ne,[c,"pblist",JSON.stringify(e)],e=>{console.log(e),ct()(".loader").hide(),A(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===I.add&&"N"===f?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>zl()},"Add New"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Dealer"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,w.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>Hl(e.hdr_srno,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_total_inr))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,{style:{display:"none"}},n.a.createElement(Xa.a,null,n.a.createElement("p",null,gt))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===T||"E"===T?(C(E("WRN0000")),N(!0)):Kl())},"Back"),"\xa0","1"===I.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,a=cl.split("/"),t=a[2]+"-"+a[1]+"-"+a[0],l=Ea(e),n=new Date(t),r=new Date(l)-n,o=Math.ceil(r/864e5),m={srno:k,type:"PB",pageright:"TRAN_PB",location:q};Ye(_e,[c,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);Ll(t.requestsrc),Be==o||"unlock"==t.msg?(D("E"),Ie.length>0&&ht(!1)):(sl(!0),dl({trantype:"PB",trannumber:k,location:q,tranDate:Ea(e)}))})})()},"Edit"),"\xa0"):null,"1"===I.edit&&"E"===T||"1"===I.add&&"A"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();for(var e=[],a=0,t=0,l=0;l<It.length;l++)"RC"===It[l].tp_payment_type?t-=1*It[l].tp_amount:t+=1*It[l].tp_amount;if(null===Za||Ee>0&&0==rt.value)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===Za?"Please Select Dealer.":"",e[a++]=Ee>0&&0==rt.value?"Place of Supply.":"",g(ja(e)),b(!0);else if(Ee!=t)ct()(".loader").hide(),g("Total amount of payment must be equal to calculated INR."),b(!0);else{const e={srno:k,ppLocationValue:q,nDealer:Za,nState:rt.value,nEmployeeCode:mt,pbNewDate:Ea(X),pForexTotal:je,pSgst:Se,pIgst:Ne,pUgst:Ce,pCgst:he,pOtherCharges:""===ie?0:ie,pRoundOff:De,pTaxableVal:""===ke?0:ke,pTotalAmount:Ee,randomString:gt,pProductList:Ie,paymentData:It,nRemark1:wl,nRemark2:Il},a=Ja(Rl,[e]);if("1"===I.edit&&"E"===T&&Nl(Ba(yl,a,"PB",q)),Ye(ne,[c,"savedata",JSON.stringify(e),JSON.stringify(yl)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(ct()(".loader").hide(),D("Q"),d("INFO"),Hl(a.srno,Ea(X)),Nl([]),""!=a.printhtml&&window.open().document.write(a.printhtml),b(!0),g(E(a.msg))):(ct()(".loader").hide(),b(!0),g(a.msg))}),"E"==T&&"SELF"!==Tl){const e={srno:k,type:"PB",status:"E",currentDate:Ea(ml),pageright:"TRAN_PB"};Ye(_e,[c,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null,"1"===I.query&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>Wl("D")},"With Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>Wl("")},"Without Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(rl(!0),void tl({location:q,trannumber:k,type:"PB"}))},"Fa View"),"\xa0","1"===I.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(jl(!0),void _l({trantype:"PB",trannumber:k,trancategory:"T",location:q}))},"Activity Log"),"\xa0"):null):null,"Q"===T&&n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>zl()},"Add New"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",k)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,Zt," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,Wt))),n.a.createElement(Xa.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",je)),"\xa0\xa0\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",Ee)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:u,defaultActiveKey:"INFO",onSelect:e=>(e=>{if(d(e),"PAYMENT"===e){const e=It.reduce((e,a)=>e+1*a.tp_amount,0);jt(1*Ee-e)}})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===T&&"none"},className:"mx-2",onClick:()=>$a(null)},n.a.createElement(Ol.a,{bg:"secondary"},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Za,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>nl(e,q,"1,2,3,4,5,8"),onInputChange:Mt,onChange:e=>{$a(e);var a=e.id.split("^");xl(a[6]),"5"==a[6]?sa(e):sa(null),"RC"!==Ct&&"PB"!==Ct||Nt(e)},isDisabled:"Q"===T}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{disabled:"Q"===T,value:st,onChange:e=>it(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party Executive Name"),n.a.createElement(s.a.Control,{disabled:"Q"===T,placeholder:"Employee Code",type:"text",value:mt,onChange:e=>na(e.target.value,ut),maxLength:20}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place Of Supply"),n.a.createElement(vt.a,{isDisabled:!0,options:et,value:rt,onChange:e=>ot(e)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===T,value:wl,onChange:e=>Al(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===T,value:Il,onChange:e=>Ml(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>d("DETAILS")},"Details->")))),n.a.createElement(xt.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Re,onChange:e=>(e=>{Fe(e),Pe(null),Ae(null),qe(""),_a(""),ta(""),oa(""),"VTM"===e&&Qe("1"),Ye(O,[c,"ddlistjsonselect",e],e=>{F(JSON.parse(e))})})(e.target.value),ref:e},n.a.createElement("option",{value:"CN"},"CN")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ge,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,Re),onInputChange:Mt,onChange:e=>{Pe(e);let a=e.id.split("^");Pt(a[1]),"5"!==kl&&sa(null),ha(""),va("");const t={isd:a[1],location:q,product:Re};Ye(ye,[c,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);_a(1*a.buyrate),Va(1*a.maxbuyrate),Ya(1*a.minbuyrate),pl(1*a.usdratebuy)})}}))),"TC"===Re||"VTM"===Re?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:He,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",q),onInputChange:Mt,onChange:e=>We(e)}))):null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"VTM"===Re?"Value":"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"VTM"===Re,type:"text",value:Je,maxLength:5,onChange:e=>(e=>{ea(e,qe),va(Ql(Ue,ba,ze,e,Ca))})(e.target.value)}))),n.a.createElement(Xa.a,{style:{display:"VTM"===Re&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:ze,maxLength:9,onChange:e=>(e=>{Ze(e,Qe),"VTM"!==Re&&"TC"!==Re||ra(1*e+1*aa-1),va(Ql(Ue,ba,e,Je,Ca))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===T&&"none"},className:"mx-2",onClick:()=>{ct()(".loader").show();var e=[],a=0;if(null===Ge)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===Ge?" Select ISD.":"",g(ja(e)),b(!0);else{Jl(!0),Pe(Ge);let e=Ge.id.split("^");Pt(e[1]),sa(null),ha(""),va("");const a={isd:e[1],location:q,product:Re};Ye(ye,[c,"getrate",JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a?(alert("Select Individual First "),ct()(".loader").hide()):(Array.isArray(a)?ql(a):a&&"object"===typeof a&&ql([a]),ct()(".loader").hide())})}}},n.a.createElement(Ol.a,{bg:"secondary"},"See Min/Max Rate")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:Ca,maxLength:Ve,onChange:e=>(e=>{ea(e,_a),va(Ql(Ue,ba,ze,Je,e))})(e.target.value)})))),"TC"===Re||"VTM"===Re?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{display:"VTM"===Re&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{placeholder:"Prefix",type:"text",maxLength:5,value:Xe,onChange:e=>na(e.target.value,$e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"VTM"===Re,placeholder:"From",type:"text",maxLength:6,value:aa,onChange:e=>(e=>{Ze(e,ta),ra(1*e+1*ze-1),"VTM"===Re&&ra(e)})(e.target.value)}))),"TC"===Re?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"To",type:"text",maxLength:6,value:la,onChange:e=>Ze(e.target.value,ra)}))):n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Card No",type:"text",value:ca,onChange:e=>oa(e.target.value)})))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:ia,onChange:e=>da(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===ia?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ua,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"AGENT",q),onInputChange:Mt,onChange:e=>{sa(e)},isDisabled:"5"==kl}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ba,onChange:e=>(e=>{ha(e),Ke(""),va("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:Ue,onChange:e=>(e=>{ea(e,Ke),va(Ql(1*e,ba,ze,Je,Ca))})(e.target.value)}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:Na,onChange:e=>ea(e.target.value,va)})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],a=0;if(("CN"===Re||"TC"===Re)&&null==Ge||""===Je||""===ze||""===Ca)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null==Ge?"Please select Isd.":"",e[a++]=""===Je?"Please fill Denomination.":"",e[a++]=""==ze?"Please fill Quantity.":"",e[a++]=""==Ca?"Please fill Rate.":"",g(ja(e)),b(!0);else if("TC"!==Re&&"VTM"!==Re||""!=aa&&""!=la&&null!=He)if(("TC"===Re||"VTM"===Re)&&1*la-1*aa>100)ct()(".loader").hide(),g("'To' must be less than 100."),b(!0);else if("1"!==ia||""!==ba&&null!==ua&&""!==Na)if(0!=Ga&&0!=Ua&&(Ca>Ga||Ca<Ua))ct()(".loader").hide(),e[a++]=Ca>Ga?"Maximum rate is "+Ga:"",e[a++]=Ca<Ua?"Maximum rate is "+Ua:"",g(ja(e)),b(!0);else{ct()(".loader").hide();var t=Ge.id.split("^"),l=0,n=0,r="",c=0,o=0;if(null!==ua){var m=ua.id.split("^");l=m[1],n=m[2],r=m[5]}if(null!==He){var u=He.id.split("^");c=u[1],o=u[2]}var s=0;""!=El&&0!=El&&(s=Ca*ze*Je/El);const e={tranType:"PB",type:"PURCHASE",uniquekey:Oa(15),prd_line_no:1*La+1,prd_location:q,prd_type:"PB",prd_srno:k,prd_isd:t[1],prd_date:Ea(X),prd_product:Re,prd_deno:Je,prd_qty:ze,prd_rate:Ca,prd_amount:Ca*ze*Je,prd_from:aa,prd_prefix:Xe,prd_to:la,prd_group:c,prd_account:o,prd_agent_group:"0"==ia?0:l,prd_agent_ledger:"0"==ia?0:n,prd_card_no:ca,isd_name:t[2],randomString:gt,prd_commission_type:ba,prd_commission_value:""==Na?0:Na,prd_commission:""==Ue?0:Ue,nState:rt.value,pOtherCharges:""===ie?0:ie,ppStateType:me,ppStateValue:le,scrMode:T,prd_traveller_name:wa,prd_id_type:Ia,prd_id_number:Ra,prd_usd_rate:""==El?0:El.toFixed(2),prd_usd_amount:s.toFixed(2),prd_agent_name:"0"==ia?"":r,isCommission:ia,delny:"Y"};var i;const a=Ul(e);a.isIsdExist?(i=ya(Ie,"prd_line_no",a.prdRow.prd_line_no,"prd_qty",a.prdRow.prd_qty),i=ya(Ie,"prd_line_no",a.prdRow.prd_line_no,"prd_amount",a.prdRow.prd_amount),i=ya(Ie,"prd_line_no",a.prdRow.prd_line_no,"prd_usd_amount",a.prdRow.prd_usd_amount)):i=Sa(Ie,e),i.length>0&&ht(!1);const d={TabType:"Product",ALineNo:yl.length+1,AType:"A",TLoc:q,TType:"PB",Product:Re,ISD:t[2],Deno:Je,Quantity:ze,Rate:Ca,Amount:Ca*ze*Je,ProductFrom:aa,ProductTo:la,ProductPrefix:Xe,ProductGroup:c,ProductAccout:o,CommsnType:ba,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==Na?0:Na,CommsnAmount:""==Ue?0:Ue};"1"===I.edit&&"E"===T&&Nl(e=>[...e,d]),Me(i),Da(Ta+1),ka(La+1),Pe(null),We(null),qe(""),Qe(""),_a(""),$e(""),ta(""),ra(""),oa(""),va(""),Ke(""),ha(),"5"!==kl&&sa(null),ha(""),Yl(i,e)}else ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null==ua?"Agent.":"",e[a++]=""==ba?"Commission type.":"",e[a++]=""==Na?"Commission value.":"",g(ja(e)),b(!0);else ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null==He?"Please select Issuer.":"",e[a++]=""==aa?"Please fill From.":"",e[a++]=""==la?"Please fill To.":"",g(ja(e)),b(!0)})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>d("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?d("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->")))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(Ol.a,{className:"handCursor",bg:"primary",onClick:()=>{Sl(!0)}},"View Commission Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Traveller Name"),n.a.createElement("th",null,"ID Type"),n.a.createElement("th",null,"ID Number"))),n.a.createElement("tbody",null,Ie.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===T||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=Ie.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:yl.length+1,AType:"D",TLoc:q,TType:"PB",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===I.edit&&"E"===T&&Nl(a=>[...a,e])}const t={tranType:"PB",type:"PURCHASE",uniquekey:Oa(15),nState:rt.value,pOtherCharges:""===ie?0:ie,ppStateType:me,ppStateValue:le},l=ga(Ie,"uniquekey",e);Me(l),Yl(l,t),Da(Ta-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to),n.a.createElement("td",null,e.prd_traveller_name),n.a.createElement("td",null,0==e.prd_id_type?"":e.prd_id_type),n.a.createElement("td",null,e.prd_id_number))))))),n.a.createElement(xt.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:ie,onChange:e=>(e=>{const a={tranType:"PB",type:"PURCHASE",uniquekey:Oa(15),nState:rt.value,pOtherCharges:""===e?0:e.trim(),ppStateType:me,ppStateValue:le};ea(e,de),Pa(e.trim())&&Yl(Ie,a)})(e.target.value),disabled:dt||"Q"===T})))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:Ct,onChange:e=>(e=>{hl(!1),_t(e),Nt(null),Dt(0),At("");var a="";if(""!==e){if("CH"!==e)return"BN"===e||"CQ"===e?(a="BANK",void Vt("BANK")):"PB"===e||"RC"===e?(a="WALKIN",Nt(Za),void hl(!0)):void Nt(Za);Vt(a="CASH"),Ye(L,[c,"getledgerinfo",a],e=>{let a=JSON.parse(e);Nt({id:a.id,label:a.label})})}})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"PB"},"Payables")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ot,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,qt,q),onInputChange:Mt,onChange:e=>{Nt(e);var a=e.id.split("^");Ht(a[1]),Dt(a[2])},isDisabled:bl}))),""!==Ct?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{placeholder:"Amount",value:ft,onChange:e=>jt(e.target.value)}))):null),"BN"===Ct?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:255,value:Lt,onChange:e=>ma(e.target.value,At)})))):"CQ"===Ct?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ut,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,Kt,Tt,q),onInputChange:Mt,onChange:e=>{Yt(e);var a=e.id.split("^");At(a[4])}})))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(Ee<1)e[a++]=Ee<1?"Total amount must be greater than 0.":"",g(ja(e)),b(!0);else if(""===Ct||null===Ot||ft<1||"CQ"===Ct&&null===Ut||"BN"===Ct&&""===Lt)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===Ot?"Account.":"",e[a++]=""===Ct?"Payment Type.":"",e[a++]=ft<1?"Entered amount can't be 0.":"","CQ"===Ct&&null===Ut&&(e[a++]=null===Ut?"Select a Cheque.":""),"BN"===Ct&&""===Lt&&(e[a++]=null===Ut?"Refernece Number.":""),g(ja(e)),b(!0);else{var t=0,l=0,n="";if(null!==Ot){var r=Ot.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Oa(10),tp_line_no:zt+1,tp_location:q,tp_srno:k,randomString:gt,tp_payment_type:Ct,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:ft,tp_cheque:Lt,tp_type:"PB",chequeValue:Ut,delny:"Y"},a=qa(e,It);if(a)a.tp_amount=(1*a.tp_amount||0)+(1*e.tp_amount||0);else{const a=Sa(It,e);Ft(a);const r={TabType:"Payment",AType:"A",ALineNo:yl.length+1,TLoc:q,TType:"PB",PaymentType:Ct,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:ft,ReferenceNo:Lt};"1"===I.edit&&"E"===T&&Nl(e=>[...e,r])}_t(""),Qt(zt+1),jt(""),Nt(null),Yt(null),At("");const c=It.reduce((e,a)=>e+1*a.tp_amount,0);jt(1*Ee-c),Da(Ta+1)}})()},"Add")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque/Ref no"))),n.a.createElement("tbody",null,It.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"!==T?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{if("N"==a)b(!0),g("This cheque has already used.");else{const a=It.find(a=>a.uniquekey===e);if(a){const e={TabType:"Payment",ALineNo:yl.length+1,AType:"D",TLine:zt+1,TLoc:q,TType:"PB",PaymentType:a.tp_payment_type,PaymentGroupCode:a.tp_group,PaymentLedgerCode:a.tp_account,PaymentAccountName:a.mvli_ledger_name,PaymentAmount:a.tp_amount,ReferenceNo:a.tp_cheque};"1"===I.edit&&"E"===T&&Nl(a=>[...a,e])}Ft(ga(It,"uniquekey",e));const t=It.reduce((e,a)=>e+1*a.tp_amount,0);jt(1*Ee-t)}Da(Ta-1)})(e.uniquekey,e.delny)},n.a.createElement(za.a,{icon:tt.r})):null),n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque)))))))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement(bt,{logObject:Cl,show:fl,onHide:()=>jl(!1)}),n.a.createElement(pt.a,{show:Pl,size:"xl",onHide:()=>Jl(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"MIN/MAX RATE CARD"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null," MINIMUM"),n.a.createElement("th",null,"RATE"),n.a.createElement("th",null,"MAXIMUM"))),n.a.createElement("tbody",null,Bl.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.minbuyrate),n.a.createElement("td",null,e.buyrate),n.a.createElement("td",null,e.maxbuyrate)))))))),n.a.createElement(Gl,{faViewObject:el,show:ll,onHide:()=>rl(!1)}),n.a.createElement(nr,{show:gl,onHide:()=>Sl(!1),productList:Ie}),n.a.createElement(Ka,{isOpen:p,onClose:e=>b(!1)},h),n.a.createElement(St,{isOpen:y,onYes:e=>Kl(),onNo:e=>N(!1)},v),n.a.createElement(Dl,{logObject:il,show:ul,onHide:()=>sl(!1)}))};var cr=function(){const e=Object(l.useRef)(),a=sessionStorage.getItem("sessionId"),t=Object(m.n)(),r=sessionStorage.getItem("startDate"),c=sessionStorage.getItem("endDate"),o=sessionStorage.getItem("branchDisable"),[u,d]=Object(l.useState)("INFO"),[p,b]=Object(l.useState)(!1),[h,g]=Object(l.useState)(""),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(null),[f,j]=Object(l.useState)(0),[T,D]=Object(l.useState)(0),[L,k]=Object(l.useState)(new Date),[x,w]=Object(l.useState)("N"),[A,I]=Object(l.useState)(null),[M,R]=Object(l.useState)([]),[F,G]=Object(l.useState)(new Date),[P,J]=Object(l.useState)(""),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(new Date),[Q,U]=Object(l.useState)(new Date),[Y,K]=Object(l.useState)([]),[H,W]=Object(l.useState)(null),[X,Z]=Object(l.useState)(null),[$,ee]=Object(l.useState)(null),[ae,te]=Object(l.useState)(null),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)("1"),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,de]=Object(l.useState)(),[Ee,pe]=Object(l.useState)(null),[be,he]=Object(l.useState)(null),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,Ce]=Object(l.useState)(0),[fe,je]=Object(l.useState)(0),[Te,De]=Object(l.useState)(""),[Le,ke]=Object(l.useState)(""),[xe,we]=Object(l.useState)(0),[Ae,Ie]=Object(l.useState)(""),[Me,Re]=Object(l.useState)(null),[Fe,Ge]=Object(l.useState)(""),[Pe,Je]=Object(l.useState)(""),[qe,Ve]=Object(l.useState)(""),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,We]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)(0),[aa,ta]=Object(l.useState)(0),[la,na]=Object(l.useState)(0),[ra,ca]=Object(l.useState)(0),[oa,ua]=Object(l.useState)(0),[sa,ia]=Object(l.useState)(0),[da,ba]=Object(l.useState)(0),[ha,ya]=Object(l.useState)(0),[Na,va]=Object(l.useState)(0),[Ca,_a]=Object(l.useState)([]),[Ta,Da]=Object(l.useState)(1),[La,ka]=Object(l.useState)(!0),[wa,Aa]=Object(l.useState)(null),[Ia,Ma]=Object(l.useState)(""),[Ra,Fa]=Object(l.useState)(""),[Ga,Pa]=Object(l.useState)([]),[Va,Ua]=Object(l.useState)(""),[Ya,Za]=Object(l.useState)(0),[$a,et]=Object(l.useState)(""),[lt,rt]=Object(l.useState)(""),[ot,mt]=Object(l.useState)(""),[ut,st]=Object(l.useState)(0),[it,dt]=Object(l.useState)(0),[pt,ht]=Object(l.useState)(""),[gt,yt]=Object(l.useState)(1),[Ot,Nt]=Object(l.useState)([]),[vt,Ct]=Object(l.useState)(""),_t=new Date,[ft,jt]=Object(l.useState)(!1),[Tt,Dt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Lt,At]=Object(l.useState)([]),[It,Gt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Bt,qt]=Object(l.useState)(!1),[Vt,zt]=Object(l.useState)(""),[Qt,Ut]=Object(l.useState)(""),[Yt,Kt]=Object(l.useState)(!1),[Wt,Xt]=Object(l.useState)([]),[Zt,$t]=Object(l.useState)({location:"",trannumber:"",type:""}),[el,al]=Object(l.useState)(!1);Object(l.useEffect)(()=>{xa().then(e=>{I(e),null!=e&&tl(e)}),Ye(_,[a,"all","TRAN_PI"],function(e){let a=JSON.parse(e);"1"===a.query?R(a):t("/")})},[]);const tl=e=>{I(e);var a=e.id.split("^");Ce(a[1]),je(null==a[3]?0:a[3]),De(a[4]),ke(""===a[5]?"Select":a[5]),we(a[2]),he({id:null==a[3]?0:a[3],label:""===a[5]?"Select":a[5]}),sessionStorage.activeBranch=a[1]},ll=()=>{b(!1),Ie("")},nl=(e,a)=>{""===a&&(a=0);let t=0,l=0,n=0,r=0,c=0,o=0;for(var m=0;m<e.length;m++)t+=1*e[m].inv_amount,l+=1*e[m].inv_taxable/100*e[m].inv_sgst*1,n+=1*e[m].inv_taxable/100*e[m].inv_cgst*1,r+=1*e[m].inv_taxable/100*e[m].inv_igst*1,o+=1*e[m].inv_taxable;c=(t+l+n+r+1*a).toFixed(2),ba(t.toFixed(2)),ca(l.toFixed(2)),va(o.toFixed(2)),ya(0),na(n.toFixed(2)),ua(r.toFixed(2)),$e(c),ia(0);var u=0;for(m=0;m<Ot.length;m++)u+=1*Ot[m].tp_amount;Fa((1*c-u).toFixed(2))},rl=()=>{var e=Ea(F),a=pa(F),t=Ea(new Date);null==A?(y(!0),N("Please select location")):e>c||e<r?(y(!0),N(E("MSG0010"))):e>t?(y(!0),N(E("MSG0011"))):(k(a),Ie("A"),d("INFO"),D(0),ee(null),Z(null),te(null),ce("1"),ne(""),me(""),se(""),_a([]),Nt([]),ba(0),$e(0),va(0),ca(0),na(0))},cl=(e,t,l,n)=>{D(e),d("INFO"),Ct(n),ct()(".loader").show();const r={srno:e,piLocationValue:t,type:l};Ye(ve,[a,"viewdata",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(ct()(".loader").hide(),Ie("Q"),(e=>{const a={nParty:{id:e.acct_id,label:e.acct_label},nInvoiceNum:e.invoice,nBillDate:e.bill_date,nReverseCharge:e.reversecharge,nRemark1:e.remark1,nRemark2:e.remark2,pForexTotal:e.forextotal,pTotalAmount:e.total_inr,nStateReceiver:{id:e.receiver_state_id,label:e.receiver_state_name},nStateSupplier:{id:e.supply_state_id,label:e.supply_state_name}};Xt([a])})(a),me(a.remark1),se(a.remark2),ce(a.reversecharge),ee({id:a.acct_id,label:a.acct_label}),ne(a.invoice),te(new Date(a.bill_date)),ba(a.forextotal),na(a.cgst),ca(a.sgst),ua(a.igst),ia(a.ugst),ya(a.round_off),$e(a.total_inr),ta(a.other_charge),va(a.taxablevalue),k(a.date),Da(1*a.maxlineno),_a(a.productlist),yt(1*a.paymaxlineno),Nt(a.paydetails),D(a.srno),pe({id:a.receiver_state_id,label:a.receiver_state_name}),he({id:a.supply_state_id,label:a.supply_state_name}))})},ol=()=>{var e=[],t=0;if(ct()(".loader").show(),null===A||"S"===x&&!P||"S"===x&&!B||"D"===x&&!V||"D"===x&&!Q||"I"===x&&null===H||"I"===x&&!V||"I"===x&&!Q)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null===A?" Location.":"",e[t++]="S"!==x||P?"":" From Srno.",e[t++]="S"!==x||B?"":" To Srno.",e[t++]="D"!==x||V?"":" From Date.",e[t++]="D"!==x||Q?"":" To Date.",e[t++]="I"===x&&null===H?" Individual.":"",e[t++]="I"!==x||V?"":" From Date.",e[t++]="I"!==x||Q?"":" To Date.",N(ja(e)),y(!0);else{const e={radioType:x,piLocation:Ne,accountFilter:v,piNewDate:Ea(F),piSrnoTo:B,piSrnoFrom:P,piFromDate:Ea(V),piToDate:Ea(Q)};Ye(ve,[a,"pilist",JSON.stringify(e)],e=>{ct()(".loader").hide(),K(JSON.parse(e))})}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Purchase Invoice"))),""===Ae?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:tl,isDisabled:"true"===o}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===x,onChange:()=>w("N"),type:"radio",label:"New"}),n.a.createElement(s.a.Check,{checked:"S"===x,onChange:()=>w("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===x,onChange:()=>w("D"),type:"radio",label:"Date"}),n.a.createElement(s.a.Check,{checked:"I"===x,onChange:()=>w("I"),type:"radio",label:"Individual"})))))),n.a.createElement(Wa.a,null,"N"===x?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:F,onChange:e=>G(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===x?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:P,onChange:e=>Ze(e.target.value,J)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:B,onChange:e=>Ze(e.target.value,q)})))):"D"===x||"I"===x||"C"===x?n.a.createElement(n.a.Fragment,null,"I"===x?n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:H,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Pt(e),onInputChange:Mt,onChange:e=>{W(e)},formatOptionLabel:dl,components:{Menu:El}}))):null,"C"===x?n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:v,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,Ne),onInputChange:Mt,onChange:e=>{C(e)}}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:V,onChange:e=>z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Q,onChange:e=>U(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===M.query&&"N"!==x?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ol()},"List"):null,"\xa0","1"===M.add&&"N"===x?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>rl()},"Add New"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Bill Date"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Party Invoice No"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,Y.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>cl(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_bill_date),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_invoice),n.a.createElement("td",null,e.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===Ae||"E"===Ae?(g(E("WRN0000")),b(!0)):ll())},"Back"),"\xa0","1"===M.edit&&"Q"===Ae?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=vt.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5),m={srno:T,type:"PI",pageright:"TRAN_PI",location:Ne};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);zt(t.requestsrc),Be==o||"unlock"==t.msg?(Ie("E"),Ca.length>0&&ka(!1)):(jt(!0),Dt({trantype:"PI",trannumber:T,location:Ne,tranDate:Ea(e)}))})})()},"Edit"),"\xa0"):null,"1"===M.edit&&"E"===Ae||"1"===M.add&&"A"===Ae?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();for(var e=0,t=0;t<Ot.length;t++)"RC"===Ot[t].tp_payment_type?e-=1*Ot[t].tp_amount:e+=1*Ot[t].tp_amount;var l=[];if(t=0,null===ae||""===le||null===$||Xe!=e||""===Ee.id||""===be.id)ct()(".loader").hide(),l[t++]=E("MSG0006"),l[t++]=null===ae?"Bill Date.":"",l[t++]=""===le?"Invoice Number.":"",l[t++]=null===$?"Party.":"",l[t++]=Xe!=e?"Total amount of payment must be equal to calculated INR.":"",l[t++]=""===Ee.id?"State of Reciever can't be Empty.":"",l[t++]=""===be.id?"State of Supplier can't be Empty.":"",y(!0),N(ja(l));else{const e={srno:T,piLocationValue:Ne,nParty:$,nInvoiceNum:le,nBillDate:Ea(ae),nReverseCharge:re,nRemark1:oe,nRemark2:ue,piNewDate:Ea(F),pForexTotal:da,pSgst:ra,pIgst:oa,pUgst:sa,pCgst:la,pOtherCharges:aa,pRoundOff:ha,pTaxableVal:""===Na?0:Na,pTotalAmount:Xe,nTaxClass:""===ye?0:ye,nStateReceiver:Ee,nStateSupplier:be,nGstin:ge,productList:Ca,paymentData:Ot},t=Ja(Wt,[e]);if("1"===M.edit&&"E"===Ae&&At(Ba(Lt,t,"PI",Ne)),Ye(ve,[a,"savedata",JSON.stringify(e),JSON.stringify(Lt)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(ct()(".loader").hide(),Ie(""),y(!0),N(E(a.msg)),ol(),At([])):(ct()(".loader").hide(),y(!0),N(E(a.msg)))}),"E"==Ae&&"SELF"!==Vt){const e={srno:T,type:"PI",status:"E",currentDate:Ea(_t),pageright:"TRAN_PI"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{})}}})()},"Save"),"\xa0"):null,"1"===M.query&&"Q"===Ae?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(al(!0),void $t({location:Ne,trannumber:T,type:"PI"}))},"Fa View")):null,"1"===M.edit&&"Q"===Ae?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(qt(!0),void Gt({trantype:"PI",trannumber:T,trancategory:"T",location:Ne}))},"Activity Log"),"\xa0"):null,"Q"===Ae&&n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>rl()},"Add New"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",T)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,xe," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,L))),n.a.createElement(Xa.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",da)),"\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",Xe)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:u,defaultActiveKey:"INFO",onSelect:e=>(e=>{d(e)})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bill Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:ae,onChange:e=>te(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===Ae,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party Invoice No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Invoice No.",disabled:"Q"===Ae,type:"text",maxLength:20,value:le,onChange:e=>ne(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,n.a.createElement("span",null,"Party",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===Ae&&"none"},className:"mx-2",onClick:()=>ee(null)},n.a.createElement(Ol.a,{bg:"secondary"},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:$,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,Ne),onInputChange:Mt,onChange:e=>{ee(e);var a=e.id.split("^");pe({id:null==a[5]?0:a[5],label:""===a[6]?"Select":a[6]}),Se(a[7]),a[5]===be.id?Kt(!1):Kt(!0)},isDisabled:"Q"===Ae}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reverse Charge"),n.a.createElement(s.a.Select,{disabled:"Q"===Ae,value:re,onChange:e=>ce(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===Ae,value:oe,onChange:e=>me(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===Ae,value:ue,onChange:e=>se(e.target.value)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State of Supplier"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:be,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ht(e,1),onInputChange:Mt,onChange:e=>he(e),isDisabled:!0}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State of Receiver"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ht(e,1),onInputChange:Mt,onChange:e=>pe(e),isDisabled:!0}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIN"),n.a.createElement(s.a.Control,{type:"text",maxLength:30,placeholder:"GSTIN",disabled:!0,value:ge,onChange:e=>Se(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Tax Classification"),n.a.createElement(s.a.Select,{value:ye,onChange:e=>Oe(e.target.value),disabled:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:""}))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>d("DETAILS")},"Product->")))),n.a.createElement(xt.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===Ae?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:X,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,Ne),onInputChange:Mt,onChange:e=>{Z(e)},isDisabled:"Q"===Ae,ref:e}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",type:"text",maxLength:10,value:Fe,onChange:e=>ea(e.target.value,Ge)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Taxable Value(INR)",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",type:"text",maxLength:10,value:He,onChange:e=>ea(e.target.value,We)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:Yt,placeholder:"%",type:"text",maxLength:4,value:qe,onChange:e=>ea(e.target.value,Ve)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"CGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:Yt,placeholder:"%",type:"text",maxLength:4,value:Pe,onChange:e=>ea(e.target.value,Je)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!Yt,placeholder:"%",type:"text",maxLength:4,value:Qt,onChange:e=>ea(e.target.value,Ut)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SAC",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"SAC",type:"text",maxLength:10,value:Ue,onChange:e=>ea(e.target.value,Ke)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"%",type:"text",maxLength:10,value:ze,onChange:e=>ea(e.target.value,Qe)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(null!==X&&Fe&&He&&(Yt||Pe)&&(Yt||qe)&&(!Yt||Qt)&&Ue&&ze){let e=0,a=0,l="",n=X.id.split("^");a=n[1],e=n[2],l=n[3];const r={type:"PURCHASE",uniquekey:Oa(15),inv_line_no:Ta,inv_location:Ne,inv_type:"PI",inv_group:a,inv_account:e,inv_srno:T,inv_date:Ea(F),inv_amount:Fe,inv_taxable:He,inv_sac:Ue,delny:"Y",mvli_ledger_name:l,inv_sac:Ue,inv_tds:""===ze?0:ze,inv_sgst:""===qe?0:qe,inv_cgst:""===Pe?0:Pe,inv_igst:""===Qt?0:Qt,inv_sgst_calc:""===qe?0:(He*qe/100).toFixed(2),inv_cgst_calc:""===Pe?0:(He*Pe/100).toFixed(2),inv_igst_calc:""===Qt?0:(He*Qt/100).toFixed(2),inv_tds_calc:""===ze?0:(Fe*ze/100).toFixed(2),inv_total_amount:parseFloat((Number(Fe)+Number(He)*(Number(qe)+Number(Pe)+Number(Qt))/100).toFixed(2)),prd_product:"SI",prd_amount:Fe,delny:"Y"};var t=Sa(Ca,r);t.length>0&&ka(!1);const c={TabType:"Product",ALineNo:Lt.length+1,AType:"A",TLoc:Ne,TType:"PI",Group:a,Ledger:e,Amount:Fe,Taxable:He,SAC:Ue,TDS:ze,SGST:qe,CGST:Pe};"1"===M.edit&&"E"===Ae&&At(e=>[...e,c]),Da(Ta+1),_a(t),Re(null),Ge(""),We(""),Je(""),Ve(""),Ke(""),Qe(""),Ut(""),nl(t,aa)}else e[a++]=E("MSG0006"),e[a++]=null===X?" Account.":"",e[a++]=Fe?"":" Amount.",e[a++]=He?"":" GST Taxable Value(INR).",e[a++]=Yt||Pe?"":" CGST.",e[a++]=Yt||qe?"":" SGST.",e[a++]=Yt&&!Qt?"IGST":"",e[a++]=Ue?"":" SAC.",e[a++]=ze?"":" TDS.",N(ja(e)),y(!0)})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>d("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?d("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Taxable Value"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"SAC"),n.a.createElement("th",null,"TDS"))),n.a.createElement("tbody",null,Ca.map(e=>n.a.createElement("tr",{key:e.inv_line_no},n.a.createElement("td",null,e.inv_account),n.a.createElement("td",null,e.inv_group),n.a.createElement("td",null,e.inv_amount),n.a.createElement("td",null,e.inv_taxable),n.a.createElement("td",null,e.inv_sgst_calc),n.a.createElement("td",null,e.inv_cgst_calc),n.a.createElement("td",null,e.inv_igst_calc),n.a.createElement("td",null,e.inv_sac),n.a.createElement("td",null,e.inv_tds),n.a.createElement("td",null,"Q"===Ae||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=Ca.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:Lt.length+1,AType:"A",TLoc:Ne,TType:"PI",Group:a.inv_group,Ledger:a.inv_account,Amount:a.inv_amount,Taxable:a.inv_taxable,SAC:a.inv_sac,TDS:a.inv_tds,SGST:a.inv_sgst,CGST:a.inv_cgst};"1"===M.edit&&"E"===Ae&&At(a=>[...a,e])}const t=ga(Ca,"uniquekey",e);_a(t),nl(t),j(f-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))))))))),n.a.createElement(xt.a,{eventKey:"PAYMENT",title:"Payments"},n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Taxable Value: ",Na)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"SGST: ",ra)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"IGST: ",oa)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"CGST : ",la)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"UGST : ",sa)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Round Off: ",ha))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Other Charges"),n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:aa,onChange:e=>(e=>{ea(e,ta),nl(Ca,e)})(e.target.value),disabled:La||"Q"===Ae})))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Payment Details"))),"Q"===Ae?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:Ia,onChange:e=>(e=>{Ma(e),Aa(null),Ua(0),ht(""),"CH"===e?et("CASH"):"BN"===e||"CQ"===e?et("BANK"):(et("WALKIN"),Aa({id:"^4516^1001^7^^WALK IN CLIENT^",label:"4516 1001 Walk In Client"}))})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"PB"},"Payables")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:wa,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,$a,Ne),onInputChange:Mt,onChange:e=>{Aa(e);var a=e.id.split("^");Za(a[1]),Ua(a[2])}}))),""!==Ia?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{placeholder:"Amount",value:Ra,onChange:e=>ea(e.target.value,Fa)}))):null),"BN"===Ia?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:20,value:pt,onChange:e=>ma(e.target.value,ht)})))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(Xe<1)e[a++]=Xe<1?"Total amount must be greater than 0.":"",N(ja(e)),y(!0);else if(""===Ia||null===wa||Ra<1||"BN"===Ia&&""===pt)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===wa?"Account.":"",e[a++]=""===Ia?"Payment Type.":"",e[a++]=Ra<1?"Entered amount can't be 0.":"","BN"===Ia&&""===pt&&(e[a++]=""===pt?"Refernece Number.":""),N(ja(e)),y(!0);else{var t=0,l=0,n="";if(null!==wa){var r=wa.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Oa(10),tp_line_no:gt,tp_location:Ne,tp_srno:T,tp_payment_type:Ia,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:Ra,tp_cheque:pt,tp_type:"PI",delny:"Y"},o=qa(e,Ot);if(o)o.tp_amount=(1*o.tp_amount||0)+(1*e.tp_amount||0);else{const a=Sa(Ot,e);Nt(a);const r={TabType:"Payment",AType:"A",ALineNo:Lt.length+1,TLoc:Ne,TType:"PI",PaymentType:Ia,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:Ra,ReferenceNo:pt};"1"===M.edit&&"E"===Ae&&At(e=>[...e,r])}Ma(""),yt(gt+1),Fa(""),Aa(null),j(f+1);var c=0;for(a=0;a<Ot.length;a++)c+=1*Ot[a].tp_amount;Fa(1*Xe-c)}})()},"Add")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Refernce No"))),n.a.createElement("tbody",null,Ot.map((e,a)=>n.a.createElement("tr",{key:e.uniquekey},n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque),n.a.createElement("td",null,"Q"!==Ae?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{const t=Ot.find(a=>a.uniquekey===e);if(t){const e={TabType:"Payment",ALineNo:Lt.length+1,AType:"D",TLine:gt+1,TLoc:Ne,TType:"PI",PaymentType:t.tp_payment_type,PaymentGroupCode:t.tp_group,PaymentLedgerCode:t.tp_account,PaymentAccountName:t.mvli_ledger_name,PaymentAmount:t.tp_amount,ReferenceNo:t.tp_cheque};"1"===M.edit&&"E"===Ae&&At(a=>[...a,e])}const l=ga(Ot,"uniquekey",e);Nt(l);for(var n=0,r=0;r<l.length;r++)n+=1*l[r].tp_amount;Fa(1*Xe-n),j(f-1)})(e.uniquekey,e.delny)},n.a.createElement(za.a,{icon:tt.r})):null))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(bt,{logObject:It,show:Bt,onHide:()=>qt(!1)}),n.a.createElement("span",{className:"corner-span"},f),n.a.createElement(Ka,{isOpen:S,onClose:e=>y(!1)},O),n.a.createElement(St,{isOpen:p,onYes:e=>ll(),onNo:e=>b(!1)},h),n.a.createElement(Dl,{logObject:Tt,show:ft,onHide:()=>jt(!1)}),n.a.createElement(Gl,{faViewObject:Zt,show:el,onHide:()=>al(!1)}))};let or={width:"500px",maxWidth:"100%",margin:"0 auto",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%,-50%)",zindex:"999",backgroundColor:"#fff",padding:"10px 20px 40px",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 0 40px 20px rgba(0,0,0,0.26)"},mr={marginBottom:"15px",padding:"3px 8px",cursor:"pointer",borderRadius:"50%",border:"none",width:"30px",height:"30px",fontWeight:"bold",alignSelf:"flex-end"};var ur=function(e){let a=n.a.createElement("div",{style:or},n.a.createElement("button",{style:mr,onClick:e.onNo},n.a.createElement(za.a,{icon:Qa.g})),n.a.createElement("div",null,n.a.createElement("h2",null,e.text)),n.a.createElement("div",null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Select,{value:e.irnCancelReasonSelect,onChange:a=>e.setIrnCancelReasonSelect(a.target.value),placeholder:"Reason"},n.a.createElement("option",{value:""},"Select"),Fa.map((e,a)=>n.a.createElement("option",{key:e.id,value:e.id},e.desc)))),n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Control,{value:e.irnCancelReason,onChange:a=>na(a.target.value,e.setIrnCancelReason),placeholder:"Reason"})),n.a.createElement(s.a.Group,{className:"mt-2"},n.a.createElement(s.a.Check,{type:"checkbox",checked:e.irnCancelDeclaration,value:e.irnCancelDeclaration,onChange:a=>e.setIrnCancelDeclaration(!e.irnCancelDeclaration),label:e.checkLabel}))),n.a.createElement("br",null),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(i.a,{variant:"danger",className:"buttonStyle",size:"sm",onClick:e.onYes},"Yes"),"\xa0\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:e.onNo},"No"),"\xa0\xa0"));return e.isOpen||(a=null),n.a.createElement("div",null,a)};var sr=function(){const e=Object(l.useRef)(),a=sessionStorage.getItem("startDate"),t=sessionStorage.getItem("endDate"),r=sessionStorage.getItem("branchDisable"),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)(""),p=sessionStorage.getItem("sessionId"),b=Object(m.n)(),[h,g]=Object(l.useState)(!1),[y,N]=Object(l.useState)(""),[v,C]=Object(l.useState)("N"),[f,T]=Object(l.useState)(new Date),[D,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(""),[A,I]=Object(l.useState)(new Date),[M,R]=Object(l.useState)(new Date),[F,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(null),[B,q]=Object(l.useState)(0),[z,Q]=Object(l.useState)(null),[U,Y]=Object(l.useState)(null),[H,X]=Object(l.useState)(0),[Z,$]=Object(l.useState)(0),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(!1),[me,ue]=Object(l.useState)([]),[ie,de]=Object(l.useState)([]),[Ee,be]=Object(l.useState)([]),[he,ge]=Object(l.useState)(0),[Se,Oe]=Object(l.useState)(null),[Ne,ve]=Object(l.useState)({value:0,label:"Select"}),[Ce,fe]=Object(l.useState)(null),[je,De]=Object(l.useState)(""),[Le,ke]=Object(l.useState)(""),[xe,Ae]=Object(l.useState)("1"),[Ie,Me]=Object(l.useState)(null),[Re,Fe]=Object(l.useState)("P"),[Ge,Pe]=Object(l.useState)(null),[Je,qe]=Object(l.useState)(null),[ze,Qe]=Object(l.useState)(null),[Ue,Ke]=Object(l.useState)(""),[He,Xe]=Object(l.useState)(""),[$e,aa]=Object(l.useState)(null),[ta,la]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(1),[oa,ua]=Object(l.useState)("B"),[sa,ia]=Object(l.useState)(null),[da,Na]=Object(l.useState)(null),[va,Ca]=Object(l.useState)(""),[_a,Ta]=Object(l.useState)(""),[La,wa]=Object(l.useState)(""),[Aa,Ia]=Object(l.useState)("CN"),[Ma,Ra]=Object(l.useState)(""),[Ga,Va]=Object(l.useState)([]),[Ua,Ya]=Object(l.useState)(null),[Za,$a]=Object(l.useState)(0),[et,lt]=Object(l.useState)(0),[rt,ot]=Object(l.useState)(0),[mt,ut]=Object(l.useState)(0),[st,it]=Object(l.useState)(0),[dt,ht]=Object(l.useState)(0),[gt,yt]=Object(l.useState)(0),[Ot,Nt]=Object(l.useState)(0),[Ct,_t]=Object(l.useState)(0),[ft,jt]=Object(l.useState)(!0),[Tt,Dt]=Object(l.useState)(""),[Lt,At]=Object(l.useState)(""),[It,Ft]=Object(l.useState)(""),[Gt,zt]=Object(l.useState)(""),[Qt,Ut]=Object(l.useState)(null),[Kt,Ht]=Object(l.useState)("0"),[Wt,Xt]=Object(l.useState)(""),[Zt,$t]=Object(l.useState)(""),[el,tl]=Object(l.useState)(null),[rl,cl]=Object(l.useState)(""),[ol,ml]=Object(l.useState)(""),[ul,sl]=Object(l.useState)("INFO"),[il,pl]=Object(l.useState)([]),[bl,Sl]=Object(l.useState)(""),[yl,Nl]=Object(l.useState)(0),[Cl,_l]=Object(l.useState)(""),[fl,jl]=Object(l.useState)([]),[Tl,Ll]=Object(l.useState)(""),[kl,xl]=Object(l.useState)(""),[wl,Al]=Object(l.useState)(""),[Il,Ml]=Object(l.useState)(0),[Rl,Fl]=Object(l.useState)(0),[Pl,Jl]=Object(l.useState)(0),[Bl,ql]=Object(l.useState)(0),[Vl,zl]=Object(l.useState)(0),[Ql,Ul]=Object(l.useState)(""),[Yl,Kl]=Object(l.useState)(null),[Hl,Wl]=Object(l.useState)(0),[Xl,$l]=Object(l.useState)(0),[en,an]=Object(l.useState)(0),[tn,ln]=Object(l.useState)(0),[nn,rn]=Object(l.useState)(""),[cn,on]=Object(l.useState)(""),[mn,un]=Object(l.useState)(null),[sn,dn]=Object(l.useState)(""),[En,pn]=Object(l.useState)({location:"",trannumber:"",type:""}),[bn,hn]=Object(l.useState)(!1),[gn,Sn]=Object(l.useState)(""),yn=new Date,[On,Nn]=Object(l.useState)(!1),[vn,Cn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[_n,fn]=Object(l.useState)(""),[jn,Tn]=Object(l.useState)(""),[Dn,Ln]=Object(l.useState)(0),[kn,xn]=Object(l.useState)(0),[wn,An]=Object(l.useState)(!1),[In,Mn]=Object(l.useState)(!1),[Rn,Fn]=Object(l.useState)([]),[Gn,Pn]=Object(l.useState)([]),[Jn,Bn]=Object(l.useState)([]),[qn,Vn]=Object(l.useState)(!1),[zn,Qn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Un,Yn]=Object(l.useState)(!0),[Kn,Hn]=Object(l.useState)("C"),[Wn,Xn]=Object(l.useState)(!1),[Zn,$n]=Object(l.useState)(!1),[er,ar]=Object(l.useState)(""),[tr,lr]=Object(l.useState)(""),[rr,cr]=Object(l.useState)(""),[or,mr]=Object(l.useState)(!1),[sr,ir]=Object(l.useState)("0"),[dr,Er]=Object(l.useState)({irn:"",ackdate:"",acknum:"",signedqr:""}),[pr,br]=Object(l.useState)("0"),[hr,gr]=Object(l.useState)(""),[Sr,yr]=Object(l.useState)("N"),[Or,Nr]=Object(l.useState)(""),[vr,Cr]=Object(l.useState)(""),[_r,fr]=Object(l.useState)(""),[jr,Tr]=Object(l.useState)(0),[Dr,Lr]=Object(l.useState)(""),[kr,xr]=Object(l.useState)(""),[wr,Ar]=Object(l.useState)(""),[Ir,Mr]=Object(l.useState)(""),[Rr,Fr]=Object(l.useState)("0"),[Gr,Pr]=Object(l.useState)(""),[Jr,Br]=Object(l.useState)(new Date),[qr,Vr]=Object(l.useState)(new Date),[zr,Qr]=Object(l.useState)([]),[Ur,Yr]=Object(l.useState)(""),[Kr,Hr]=Object(l.useState)(0),[Wr,Xr]=Object(l.useState)(0),[Zr,$r]=Object(l.useState)(""),[ec,ac]=Object(l.useState)([]),[tc,lc]=Object(l.useState)("");Object(l.useEffect)(()=>{xa().then(e=>{J(e),null!=e&&rc(e)}),Ye(_,[p,"all","TRAN_PP"],function(e){let a=JSON.parse(e);"1"===a.query?le(a):b("/")}),Ye(O,[p,"ddlistjsonselect",Aa],e=>{ue(JSON.parse(e))}),Ye(W,[p,"listResidential"],e=>{de(JSON.parse(e))}),Ye(S,[p,"getState",1],e=>{be(JSON.parse(e))});const e=sessionStorage.getItem("values");if(e){const a=JSON.parse(e);"PURCHASE"==a.md_type?(re("A"),De("R"),Ye(V,[p,"getIndividualData",a.code],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a),cc({...a,desc:"".concat(a.desc.replaceAll("^","  ^  "))})}),sessionStorage.removeItem("values")):re("")}},[]);const nc=()=>{var e=Ea(f),l=pa(f),n=Ea(new Date);null==P?(g(!0),N("Please select location")):e>t||e<a?(g(!0),N(E("MSG0010"))):e>n?(g(!0),N(E("MSG0011"))):(un(l),re("A"),sl("INFO"),ql(0),zl(0),ge(0),Ra(Oa(20)),jt(!0),Oe(null),rn(""),Me(null),fe(null),Ae("1"),ke(""),ve(1*Z>0&&null!=Z?{value:Z,label:ee}:{value:0,label:"Select"}),Fe("P"),yt(0),$a(0),ot(0),it(0),ht(0),ut(0),Nt(0),lt(0),Ia("CN"),Na(null),Ca(""),Ta(""),wa(""),Va([]),jl([]),ia(null),Dt(""),At(""),Ft(""),zt(""),$t(""),xl(""),Ut(null),Xt(""),qe(null),Pe(null),De("R"),tl(null),Sl(0),cl(""),_l(""),ml(""),_t(""),Ya(null),aa(null),la(null),Tr(0),Mr(""),Fr("0"),Pr(""),Br(new Date),Vr(new Date),Yr(""),$r(""))},rc=e=>{J(e);var a=e.id.split("^");q(a[1]),$(null==a[3]?0:a[3]),X(a[4]),ae(""===a[5]?"Select":a[5]),dn(a[2]),sessionStorage.activeBranch=a[1]},cc=e=>{console.log("New Individual Picklist: ",e),Oe(e);var a=e.id.split("^");rn(a[1]),xn(1),la("")},oc=e=>{oe(!0),on("E"===e&&null!=Se?"E":"A")},mc=()=>{o(!1);const e=JSON.parse(sessionStorage.getItem("values"));e&&"PURCHASE"===e.md_type?(b("/individual-profile"),sessionStorage.removeItem("values"),sessionStorage.setItem("flag","1")):re("")},uc=e=>{Na(e);let a=e.id.split("^");Al(a[1]),"G"!==je&&Ut(null),Xt(""),$t("");const t={isd:a[1],location:B,product:Aa};Ye(ye,[p,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);wa(1*a.buyrate),Ml(1*a.maxbuyrate),Fl(1*a.minbuyrate),fn(1*a.usdratebuy)})},sc=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const t={tranType:"PP",type:"PURCHASE",uniquekey:Oa(15),nState:Ne.value,pOtherCharges:""===e?0:e.trim(),ppStateType:H,ppStateValue:Z,nCorporate:""!=a?a:Ie};ea(e,lt),Pa(e.trim())&&pc(Ga,t)},ic=()=>{var e=0,a=!0;if(null!==Se)for(;e<Ga.length;){if("EVTM"===Ga[e].prd_product){var t=Ga[e].prd_vtm_individual;if(1*t>0&&t!=nn){a=!1;break}}e++}return a},dc=()=>{ct()(".loader").show();var e=[],a=0;if("G"===je&&(""===Ir||""===Rr||"0"===Rr||""===Gr||1==Kr&&new Date(Ea(qr))>new Date(Ea(new Date))||1==Wr&&new Date(Ea(Jr))<new Date(Ea(new Date))||1==Wr&&1==Kr&&ha(Jr,qr))||("CN"===Aa||"ETC"===Aa)&&null==da||""===va||""===_a||""===La||("ETC"===Aa||"EVTM"===Aa)&&(""==Lt||""==It||null==sa)||"1"===Kt&&(""===Wt||null===Qt||""===Zt))ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null==da?"Isd.":"",e[a++]=""===va?"Denomination.":"",e[a++]=""==_a?"Quantity.":"",e[a++]=""==La?"Rate.":"","ETC"!==Aa&&"EVTM"!==Aa||""!=Lt&&""!=It&&null!=sa||(e[a++]=null==sa?"Issuer.":"",e[a++]=""==Lt?"From.":"",e[a++]=""==It?"To.":""),"G"===je&&(e[a++]=""===Ir?"Traveller Name.":"",e[a++]=""===Rr||"0"==Rr?"Id type.":"",e[a++]=""===Gr?"Id Number.":"",e[a++]=1==Wr&&new Date(Ea(Jr))<new Date(Ea(new Date))?"Expiry Date can not be earlier than today.":"",e[a++]=1==Kr&&new Date(Ea(qr))>new Date(Ea(new Date))?"Issue Date can not be later than today.":"",e[a++]=1==Wr&&1==Kr&&ha(Jr,qr)?"Issue Date and Expiry Date cannot be same.":""),"1"!==Kt||""!==Wt&&null!==Qt&&""!==Zt||(e[a++]=null==Qt?"Agent.":"",e[a++]=""==Wt?"Commission type.":"",e[a++]=""==Zt?"Commission value.":""),N(ja(e)),g(!0);else if(("ETC"===Aa||"EVTM"===Aa)&&1*It-1*Lt>100)ct()(".loader").hide(),N("'To' must be less than 100."),g(!0);else if(0!=Il&&0!=Rl&&(La>Il||La<Rl))ct()(".loader").hide(),e[a++]=La>Il?"Maximum rate is "+Il:"",e[a++]=La<Rl?"Minimum rate is "+Rl:"",N(ja(e)),g(!0);else if(La<1)ct()(".loader").hide(),N(ja(["Rate should be greater than 0"])),g(!0);else{if(ct()(".loader").hide(),"EVTM"===Aa&&(()=>{var e=Ua.id.split("^")[1];return Ga.some(a=>a.prd_vtm_num==e)})())return g(!0),void N("Cannot add VTM which is already added.");var t=da.id.split("^"),l=0,n=0,r="",c=0,o=0;if(null!==Qt){var m=Qt.id.split("^");l=m[1],n=m[2],r=m[5]}if(null!==sa){var u=sa.id.split("^");c=u[1],o=u[2]}var s=0;""!=_n&&0!=_n&&(s=La*_a*va/_n);const e={tranType:"PP",uniquekey:Oa(15),prd_line_no:Bl+1,prd_location:B,prd_type:"PP",prd_srno:he,prd_isd:t[1],prd_date:Ea(f),prd_product:Aa,prd_deno:va,prd_qty:_a,prd_rate:La,prd_amount:La*_a*va,prd_from:Lt,prd_prefix:Tt,prd_to:It,prd_group:c,prd_account:o,prd_agent_group:"0"==Kt?0:l,prd_agent_ledger:"0"==Kt?0:n,prd_agent_name:"0"==Kt?"":r,prd_card_no:Gt,isd_name:t[2],randomString:Ma,prd_commission_type:Wt,prd_commission_value:""==Zt?0:Zt,prd_commission:""==kl?0:kl,nCorporate:Ie,nState:Ne.value,pOtherCharges:et,ppStateType:H,ppStateValue:Z,scrMode:ne,prd_vtm_num:"EVTM"===Aa?wr:0,pVtm:Ua,prd_usd_rate:""==_n?0:Number(_n).toFixed(2),prd_usd_amount:Number(s).toFixed(2),isCommission:Kt,delny:"Y",prd_traveller_name:Ir,prd_id_type:""==Rr?0:Rr.split("^")[1],prd_id_number:Gr,prd_id_issue_date:Ea(1==Kr?qr:new Date("01/01/1901")),prd_id_expiry_date:Ea(1==Wr?Jr:new Date("01/01/2999")),prd_vtm_individual:Ur};var i;const a=Ec(e);a.isIsdExist?(i=ya(Ga,"prd_line_no",a.prdRow.prd_line_no,"prd_qty",a.prdRow.prd_qty),i=ya(Ga,"prd_line_no",a.prdRow.prd_line_no,"prd_amount",a.prdRow.prd_amount),i=ya(Ga,"prd_line_no",a.prdRow.prd_line_no,"prd_usd_amount",a.prdRow.prd_usd_amount)):i=Sa(Ga,e),i.length>0&&jt(!1);const d={TabType:"Product",ALineNo:Gn.length+1,AType:"A",TLoc:B,TType:"PP",Product:Aa,ISD:t[2],Deno:va,Quantity:_a,Rate:La,Amount:La*_a*va,ProductFrom:Lt,ProductTo:It,ProductPrefix:Tt,ProductGroup:c,ProductAccout:o,CommsnType:Wt,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==Zt?0:Zt,CommsnAmount:""==kl?0:kl};"1"===te.edit&&"E"===ne&&Pn(e=>[...e,d]),console.log(i),Va(i),Jl(Pl+1),ql(1*Bl+1),Na(null),ia(null),Ca(""),Ta("EVTM"===Aa?"1":""),wa(""),Dt(""),At(""),Ft(""),zt(""),$t(""),xl(""),"G"!==je&&Ut(null),Xt(""),Ya(null),pc(i,e),Br(new Date),Vr(new Date),Pr(""),Fr(""),Mr(""),Yr(""),Xr(0),Hr(0)}},Ec=e=>{for(var a=!1,t={},l=0;l<Ga.length;l++)if(Ga[l].prd_isd===e.prd_isd&&Ga[l].prd_deno===e.prd_deno&&Ga[l].prd_product===e.prd_product){t.prd_line_no=Ga[l].prd_line_no,t.prd_qty=1*Ga[l].prd_qty+1*e.prd_qty,t.prd_amount=(t.prd_qty*e.prd_rate*e.prd_deno).toFixed(2),t.prd_usd_amount=(t.prd_amount/_n).toFixed(2),a=!0;break}return{isIsdExist:a,prdRow:t}},pc=(e,a)=>{Ye(pe,[p,"calcinvoice",JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);yt(a.fxamt),ut(a.sgst),$a(a.totalamt),_t(a.taxablevalue),Nt(a.roundoff),ot(a.cgst),it(a.igst),ht(a.ugst);for(var t=0,l=0;l<fl.length;l++)t+=1*fl[l].tp_amount;ml(1*a.totalamt-t)})},bc=(e,a)=>{aa(""),ge(e),sl("INFO"),Ra("0"),Ya(null),Sn(a),$r(""),ct()(".loader").show();const t={srno:e,ppLocationValue:B,type:"PP"};Ye(K,[p,"viewdata",JSON.stringify(t)],e=>{let a=JSON.parse(e);if("MSG0000"===a.msg){(e=>{const a=e.corpDesc.split("^"),t={nServiceType:e.service_type,nIndividual:"^0^0^"===e.ind_id?null:{id:e.ind_id,label:e.ind_label,desc:a.slice().join(" ^ ")},nManualNo:"^^^^0^"===e.manuallabel?null:{id:e.manualid,label:e.manuallabel},nCountry:"^0^^"===e.cntid?null:{id:e.cntid,label:e.cntlabel},nState:e.state,nResident:e.residential,nEmployeeCode:e.emp_code,nRemark1:e.remark1,nCDFNum:e.cdfnum,nRemark2:e.remark2,nArrivalDate:e.arrivaldate,nExecutive:null==e.exec_id?null:{id:e.exec_id,label:e.exec_label},nCorporate:null===(null===e.acct_id&&"G"===e.service_type)?null:{id:e.acct_id,label:e.acct_label},nDealer:null===(null===e.acct_id&&"G"!==e.service_type)?null:{id:e.acct_id,label:e.acct_label}};ac([t])})(a),ct()(".loader").hide();const e=a.corpDesc.split("^");re("Q"),"^0^0^"===a.ind_id?Oe(null):Oe({id:a.ind_id,label:a.ind_label,desc:"".concat(e.slice().join(" ^  "))}),"^0^^"===a.cntid?fe(null):fe({id:a.cntid,label:a.cntlabel}),"^^^^0^"!==a.manuallabel?qe({id:a.manualid,label:a.manuallabel}):qe(null),null!=a.arrivaldate?aa(new Date(a.arrivaldate)):aa(null),null===a.exec_id?Qe(null):Qe({id:a.exec_id,label:a.exec_label}),null===a.acct_id?(Me(null),Tr(0),Pe(null)):("G"===a.service_type?(Pe({id:a.acct_id,label:a.acct_label}),Ut({id:a.acct_id,label:a.acct_label})):Me({id:a.acct_id,label:a.acct_label}),Tr(a.acct_id.split("^")[8])),ke(a.emp_code),ve({value:a.state,label:a.statename}),rn(a.individualsrno),yc(a.service_type),Ae(a.residential),Ke(a.remark1),Xe(a.remark2),ca(a.lrsreverse),la(a.cdfnum),Fe(a.doc),yt(a.forextotal),ot(a.cgst),ut(a.sgst),it(a.igst),ht(a.ugst),Nt(a.round_off),$a(a.total_inr),lt(a.other_charge),_t(a.taxablevalue),Va(a.productlist),jl(a.paydetails),ql(a.maxlineno),zl(1*a.paymaxlineno),un(a.date),dn(a.locname),fr(a.dateymd),yr(a.is_irn_applicable),ir(a.isIrnGenerated),br(a.isIrnCancelled),gr(a.irncanceldt),Lr(a.irncancelrmk),"1"===a.isIrnGenerated&&Er({irn:a.irn,ackdate:a.ackdate,acknum:a.ackno,signedqr:a.signedqr}),null!=a.irncancelreason&&""!=a.irncancelreason&&Nr(Fa.find(e=>e.id==a.irncancelreason).desc)}})},hc=e=>{Ze(e,At),Ft(1*e+1*_a-1),"EVTM"===Aa&&Ft(e)},gc=(e,a,t,l,n)=>"P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e,Sc=e=>{if(ct()(".loader").show(),"0"===sr&&"Y"===Sr)N("Irn not generated."),ct()(".loader").hide(),g(!0);else{const a={srno:he,location:B,type:"PP",printFlag:e,nCorporate:Ie,individualSrno:nn,serviceType:je,nDealer:Ge};Ye(se,[p,"print",JSON.stringify(a)],e=>{ct()(".loader").hide(),window.open().document.write(e)})}},yc=e=>{De(e),"R"===e?Pe(null):(Oe(null),Me(null),Ye(j,[p,"getIdType"],e=>{Qr(JSON.parse(e))}))};return n.a.createElement(n.a.Fragment,null,ce?n.a.createElement(Zl,{reqObj:{nIndivualSrno:nn,scrIndividual:cn},value:"TRAN_PP",hideIndividualProfile:(e,a)=>{if(oe(e),a>0){const e={individualsrno:a,type:"PURCHASE"};Ye(V,[p,"individualidfrompicklist",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a);const t=a.desc.split("^");""===a.id?Oe(null):cc({...a,desc:"".concat(t.slice().join("  ^  "))})})}}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Purchase From Public"))),""===ne?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,{className:"mt-10"},n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===v,onChange:()=>C("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===v,onChange:()=>C("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===v,onChange:()=>C("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"I"===v,onChange:()=>C("I"),type:"radio",label:"Individual"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"C"===v,onChange:()=>C("C"),type:"radio",label:"Corporate"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"M"===v,onChange:()=>C("M"),type:"radio",label:"Manual No."})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"R"===v,onChange:()=>C("R"),type:"radio",label:"Rate Card."}),"\xa0"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:P,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:rc,isDisabled:"true"===r})))),n.a.createElement(Wa.a,null,"N"===v?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:f,onChange:e=>T(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===v?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:D,onChange:e=>Ze(e.target.value,k)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:x,onChange:e=>Ze(e.target.value,w)})))):"D"===v||"I"===v||"C"===v?n.a.createElement(n.a.Fragment,null,"I"===v?n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:U,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Pt(e),onInputChange:Mt,onChange:e=>{Y(e)},formatOptionLabel:dl,components:{Menu:El}}))):null,"C"===v?n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"CORPORATE",B),onInputChange:Mt,onChange:e=>{Q(e)}}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:A,onChange:e=>I(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:M,onChange:e=>R(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"M"===v?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:50,value:jn,onChange:e=>na(e.target.value,Tn),placeholder:"Manual No."})))):"R"===v?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Kn,onChange:e=>Hn(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD"))))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===te.query&&"N"!==v&&"R"!==v?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(ct()(".loader").show(),null===P||"S"===v&&!D||"S"===v&&!x||"D"===v&&!A||"D"===v&&!M||"I"===v&&null===U||"I"===v&&!A||"I"===v&&!M||"C"===v&&null===z||"C"===v&&!A||"C"===v&&!M||"M"===v&&!jn||"I"===v&&Ea(A)<"2024-04-01"||"I"===v&&Ea(M)>"2025-03-31"||"D"===v&&Ea(A)<"2024-04-01"||"D"===v&&Ea(M)>"2025-03-31"||"C"===v&&Ea(A)<"2024-04-01"||"C"===v&&Ea(M)>"2025-03-31")ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===P?" Location.":"",e[a++]="S"!==v||D?"":" From Srno.",e[a++]="S"!==v||x?"":" To Srno.",e[a++]="D"!==v||A?"":" From Date.",e[a++]="D"!==v||M?"":" To Date.",e[a++]="I"===v&&null===U?" Individual.":"",e[a++]="I"!==v||A?"":" From Date.",e[a++]="I"===v&&Ea(A)<"2024-04-01"?"From Date Should be Greater Then 01-04-2024  .":"",e[a++]="D"===v&&Ea(A)<"2024-04-01"?"From Date Should be Greater Then 01-04-2024  .":"",e[a++]="C"===v&&Ea(A)<"2024-04-01"?"From Date Should be Greater Then 01-04-2024  .":"",e[a++]="I"!==v||M?"":" To Date.",e[a++]="I"===v&&Ea(M)>"2025-03-31"?" To Date Should be Less Then 31-03-2025 ":"",e[a++]="D"===v&&Ea(M)>"2025-03-31"?" To Date Should be Less Then 31-03-2025 ":"",e[a++]="C"===v&&Ea(M)>"2025-03-31"?" To Date Should be Less Then 31-03-2025 ":"",e[a++]="C"===v&&null===z?" Corporate.":"",e[a++]="C"!==v||A?"":" From Date.",e[a++]="C"!==v||M?"":" To Date.",e[a++]="M"!==v||jn?"":" Manual No.",N(ja(e)),g(!0);else{const e={radioType:v,ppLocation:B,ppCorporate:z,ppIndividual:U,ppNewDate:Ea(f),ppSrnoTo:x,ppSrnoFrom:D,ppFromDate:Ea(A),ppToDate:Ea(M),ppManualNo:jn};Ye(K,[p,"pplist",JSON.stringify(e)],e=>{ct()(".loader").hide(),G(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===te.add&&"N"===v?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>nc()},"Add New"):null,"\xa0","1"===te.add&&"R"===v?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={location:B,product:Kn};Ye(ye,[p,"getratecard",JSON.stringify(e)],e=>{let a=JSON.parse(e);const t=window.open("about:blank","_blank");var l=a[0].mrc_date;t.document.write('\n                <html>\n                <head>\n                    <title>Rate Card</title>\n                    <style>\n                    table {\n                        width: 100%;\n                        border-collapse: collapse;\n                    }\n                    th, td  {\n                        border: 2px solid black;\n                        padding: 8px;\n                        text-align: left;\n                    }\n                    th {\n                        background-color: #f2f2f2;\n                    }\n                    .header {\n                        display: flex;\n                        justify-content: space-between; /* Aligns items to opposite corners */\n                        align-items: center; /* Vertically centers items */\n                    }\n                    .header img {\n                        width: 300px; /* Adjust the width as needed */\n                        height: auto;\n                    }\n                    .container{\n                    background: aliceblue;\n                    padding: 20px;\n                    }\n                    </style>\n                </head>\n                <body>\n                <div class= "container">\n                    <div class="header">\n                    <img src="img/logo.png" alt="Rate Card Image" />\n                        <div>\n                            <h1>Zenith Forex</h1>\n                            <p>Card Rate as on '.concat(l,"<p>\n                        </div>\n                    </div>\n                    <table>\n                    <thead>\n                        <tr>\n                        <th>Code</th>\n                        <th>Currencies</th>\n                        <th>Product</th>\n                        <th>Purchase Rate</th>\n                        <th>Max Purchase Rate</th>\n                        <th>Min Purchase Rate</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ").concat(a.map(e=>"\n                        <tr>\n                            <td>".concat(e.mrc_isd,"</td>\n                            <td>").concat(e.isd_name,"</td>\n                            <td>").concat("C"===e.mrc_product?"CN":"R"===e.mrc_product?"Card":"D"===e.mrc_product?"DD":"T"===e.mrc_product?"TT":"","</td>\n                            <td>").concat(e.mrc_buy_rate,"</td>\n                            <td>").concat(e.mrc_max_buyrate,"</td>\n                            <td>").concat(e.mrc_min_buyrate,"</td>\n                        </tr>\n                        ")).join(""),"\n                    </tbody>\n                    </table>\n                </div>\n                </body>\n                </html>\n\n              ")),t.document.close()})})()},"Get Rate"):null)),n.a.createElement(Wa.a,null,"\xa0"),"R"!==v?n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Manual No."),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Dealer/Corporate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,F.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>bc(e.hdr_srno,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_manual),n.a.createElement("td",null,e.bd_first_name+" "+e.bd_middle_name+" "+e.bd_last_name),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_total_inr)))))):null):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,{style:{display:"none"}},n.a.createElement(Xa.a,null,n.a.createElement("p",null,Ma))),n.a.createElement(Wa.a,{style:{display:(he<1||"N"===Sr)&&"none"}},n.a.createElement(Xa.a,null,"1"===pr?n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"red"}},n.a.createElement(za.a,{icon:Qa.b}))," ",n.a.createElement("b",null,"Bill Deleted")),n.a.createElement("p",{className:"mx-2"},"Delete Date : ",n.a.createElement("b",null,hr)),n.a.createElement("p",{className:"mx-2"},"Reason of Deletion: ",n.a.createElement("b",null,Or)),n.a.createElement("p",{className:"mx-2"},"Deletion Remark: ",n.a.createElement("b",null,Dr))):n.a.createElement(n.a.Fragment,null,"1"===sr?n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"green"}},n.a.createElement(za.a,{icon:Qa.a}))," ",n.a.createElement("b",null,"IRN Generated")),"1"===te.delete&&n.a.createElement(Ol.a,{className:"mx-2 pointer",bg:"danger",onClick:()=>{$n(!0),mr(!1),ar("Alert!"),lr(""),cr("I confirm the deletion of this bill."),Cr("")}},"Delete Bill")):n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"red"}},n.a.createElement(za.a,{icon:Qa.b}))," ",n.a.createElement("b",null,"IRN Generation Failed")),"1"===te.delete&&"Q"===ne&&n.a.createElement(Ol.a,{className:"mx-2 pointer",bg:"warning",onClick:()=>{const e={coporate:Ie,individual:Se,location:B,billdate:_r,hdrsrno:he,type:"PP",pForexTotal:gt,pSgst:mt,pIgst:st,pUgst:dt,pCgst:rt,pOtherCharges:et,pRoundOff:Ot,pTaxableVal:""===Ct?0:Ct,pTotalAmount:Za,productList:Ga,ppStateType:H,ppStateValue:Z,nState:Ne.value};ct()(".loader").show(),Ye(we,[p,"generateirn",JSON.stringify(e)],e=>{let a=JSON.parse(e);""!=a.msg?(ct()(".loader").hide(),g(!0),N(a.msg)):(ct()(".loader").hide(),"0"==a.irn.Status?alert(JSON.stringify(a.irn.ErrorDetails)):(re(""),g(!0),N("IRN Generated successfully.")))})}},"Generate"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===ne||"E"===ne?(d(E("WRN0000")),o(!0)):mc())},"Back"),"\xa0","1"===te.edit&&"Q"===ne?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{style:{display:"1"===sr&&"none"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{xn(1);const e=new Date,a=gn.split("/"),t=a[2]+"-"+a[1]+"-"+a[0],l=Ea(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5),o={srno:he,type:"PP",pageright:"TRAN_PP",location:B};Ye(_e,[p,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);xr(t.requestsrc),Be==c||"unlock"==t.msg?(re("E"),Ga.length>0&&jt(!1),null!=$e&&null!=Se&&Ln(1)):(Nn(!0),Cn({trantype:"PP",trannumber:he,location:B,tranDate:Ea(e)}))})})()},"Edit"),"\xa0"):null,"1"===te.edit&&"E"===ne||"1"===te.add&&"A"===ne?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();for(var e=0,a=ic(),t=0;t<fl.length;t++)"RC"===fl[t].tp_payment_type?e-=1*fl[t].tp_amount:e+=1*fl[t].tp_amount;var l=[],n=(t=0,0);if(null!==Ce&&(n=Ce.id.split("^")[1]),"R"===je&&(null===Se||null==$e)||"G"===je&&null===Ge||""===xe||Za!=e||1==n||Za>0&&0==Ne.value||jr>0&&et<jr)ct()(".loader").hide(),l[t++]=E("MSG0006"),l[t++]="R"===je&&null===Se?"Individual Profile":"",l[t++]="R"===je&&null===$e?"Arrival Date":"",l[t++]=null===("G"===je&&null===Ge)?"Dealer":"",l[t++]=""===xe?"Residential State":"",l[t++]=Za!=e?"Total amount of payment must be equal to calculated INR.":"",l[t++]=1==n?"Country visited can't be India.":"",l[t++]=Za>0&&0==Ne.value?"Place of supply.":"",l[t++]=jr>0&&et<jr?"Other charges can't be less than pre-set service charges.":"",N(ja(l)),g(!0);else if(1==n)ct()(".loader").hide(),N("Visited country can't be India"),g(!0);else if(a){const e={srno:he,ppLocationValue:B,nCorporate:Ie,nIndividual:Se,nDealer:Ge,nCountry:Ce,nState:Ne.value,nResident:xe,nEmployeeCode:Le,nDocument:Re,nServiceType:je,ppNewDate:Ea(f),pForexTotal:gt,pSgst:mt,pIgst:st,pUgst:dt,pCgst:rt,pOtherCharges:et,pRoundOff:Ot,pTaxableVal:""===Ct?0:Ct,pTotalAmount:Za,ppStateType:H,ppStateValue:Z,randomString:Ma,pProductList:Ga,paymentData:fl,nRemark1:Ue,nExecutive:ze,nRemark2:He,nCDFNum:ta,nArrivalDate:Ea($e),nLrsReverse:ra,nManualNo:Je,radioType:v,ppLocation:B,ppCorporate:z,ppIndividual:U,ppSrnoTo:x,ppSrnoFrom:D,ppFromDate:Ea(A),ppToDate:Ea(M),usdRate:""==_n?0:_n,billdateymd:_r,unlockRequestType:kr,deletedVtmSrno:Zr},a=Ja(ec,[e]);"1"===te.edit&&"E"===ne&&Pn(Ba(Gn,a,"PP",B));let t="";if(Ye(K,[p,"savedata",JSON.stringify(e),JSON.stringify(Gn)],e=>{let a=JSON.parse(e);if("MSG0000"===a.msg){if(G(a.ppList),ct()(".loader").hide(),re("Q"),sl("INFO"),bc(a.srno,Ea(f)),"undefined"!==typeof a.irn.Status&&"0"==a.irn.Status&&(t=", IRN generation failed.",alert(JSON.stringify(a.irn.ErrorDetails))),""!=a.printhtml){var l=window.open();l&&l.document.write(a.printhtml)}g(!0),N(E(a.msg)+t),Pn([])}else ct()(".loader").hide(),g(!0),N(a.msg)}),"E"==ne&&"SELF"!==kr){const e={srno:he,type:"PP",status:"E",currentDate:Ea(yn),pageright:"TRAN_PP"};Ye(_e,[p,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}else ct()(".loader").hide(),N("Individual in vtm must be same as the one selected."),g(!0)})()},"Save"),"\xa0"):null,"1"===te.query&&"Q"===ne?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>Sc("D")},"With Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Sc("")},"Without Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(hn(!0),void pn({location:B,trannumber:he,type:"PP"}))},"Fa View"),"\xa0","1"===te.edit&&"Q"===ne?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Vn(!0),void Qn({trantype:"PP",trannumber:he,trancategory:"T",location:B}))},"Activity Log"),"\xa0"):null):null,"Q"===ne&&n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>nc()},"Add New"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",he)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,sn," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,mn))),n.a.createElement(Xa.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",gt)),"\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",Za)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:ul,defaultActiveKey:"INFO",onSelect:e=>(e=>{if(sl(e),"PAYMENT"===e){for(var a=0,t=0;t<fl.length;t++)a+=1*fl[t].tp_amount;ml(1*Za-a);const e={nCorporate:Ie};Ye(K,[p,"getcorporate",JSON.stringify(e)],e=>{pl(JSON.parse(e))})}})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Service Type"),n.a.createElement(s.a.Select,{disabled:"Q"===ne,value:je,onChange:e=>yc(e.target.value)},n.a.createElement("option",{value:"R"},"Retail"),n.a.createElement("option",{value:"G"},"Good and Service Provider")))),"R"===je?n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*"),"Q"===ne?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"tranNewFormText",onClick:()=>oc("A")},"Not in list? Create New"),"\xa0\xa0",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>oc("E")},"Edit")),1===kn?n.a.createElement("span",{style:{display:"Q"===ne&&"none"},className:"mx-2",onClick:()=>{ct()(".loader").show(),An(!0);const e={srno:nn};Ye(K,[p,"getpretran",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),Fn("")):Fn(a)})}},n.a.createElement(Ol.a,{bg:"secondary"},"Previous Transaction")):null),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Se,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Pt,onInputChange:Mt,onChange:cc,isDisabled:"Q"===ne,formatOptionLabel:dl,components:{Menu:El}}))):n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===ne&&"none"},className:"mx-2",onClick:()=>Pe(null)},n.a.createElement(Ol.a,{bg:"secondary"},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ge,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>nl(e,B,7),onInputChange:Mt,onChange:e=>{Pe(e),Ut(e)},isDisabled:"Q"===ne}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===ne,value:oa,onChange:e=>ua(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual Number"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Je,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ll(e,B,"PP"),onInputChange:Mt,onChange:e=>{qe(e)},isDisabled:"Q"===ne}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Account Manager"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ze,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Vt,onInputChange:Mt,onChange:e=>{Qe(e)},isDisabled:"Q"===ne})),"R"===je&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country Visited"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ce,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Yt(e),onInputChange:Mt,onChange:e=>{fe(e)},isDisabled:"Q"===ne}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Residential Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===ne,value:xe,onChange:e=>Ae(e.target.value)},ie.map((e,a)=>n.a.createElement("option",{value:e.mrs_srno,key:a},e.mrs_resident))))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"Corporate"),n.a.createElement("span",{style:{display:"Q"===ne&&"none"},className:"mx-2",onClick:()=>(Me(null),void ve({value:Z,label:ee}))},n.a.createElement(Ol.a,{bg:"secondary"},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ie,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"CORPORATE",B),onInputChange:Mt,onChange:e=>{Me(e);var a=e.id.split("^");ve({value:a[3],label:a[4]}),sc(a[8],e),Tr(""==a[8]?0:a[8])},isDisabled:"Q"===ne}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"R"===je?"Corporate ":"Dealer ","Employee Code"),n.a.createElement(s.a.Control,{disabled:"Q"===ne,placeholder:"Employee Code",type:"text",value:Le,onChange:e=>na(e.target.value,ke),maxLength:20})))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place Of Supply"),n.a.createElement(vt.a,{isDisabled:!0,options:Ee,value:Ne,onChange:e=>ve(e)})))),"R"===je&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"LRS Reverse"),n.a.createElement(s.a.Select,{disabled:"Q"===ne,value:ra,onChange:e=>ca(e.target.value)},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Arrival Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:$e,onChange:e=>{aa(e),Ln(1)},dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===ne,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),1===Dn&&1===kn&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"CDF Number"),n.a.createElement("span",{style:{display:"Q"===ne&&"none"},className:"mx-2",onClick:()=>{const e={srno:nn,hdrLocation:B};Ye(K,[p,"getCDF",JSON.stringify(e)],e=>{var a=JSON.parse(e);""===a.result?(alert("Previous CDF Number not found"),la("")):la(a.result)})}},n.a.createElement(Ol.a,{bg:"secondary"},"CDF Info")),n.a.createElement(s.a.Control,{disabled:"Q"===ne,maxLength:10,value:ta,onChange:e=>la(e.target.value)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===ne,value:Ue,onChange:e=>Ke(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===ne,value:He,onChange:e=>Xe(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>sl("DETAILS")},"Product->")))),n.a.createElement(xt.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===ne?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Aa,onChange:e=>(e=>{Ia(e),Na(null),Ya(null),Ca(""),wa(""),At(""),zt(""),ia(null),Ta("EVTM"===e?"1":""),Ye(O,[p,"ddlistjsonselect",e],e=>{ue(JSON.parse(e))})})(e.target.value),ref:e},n.a.createElement("option",{value:"CN"},"CN"),"R"===je&&n.a.createElement(n.a.Fragment,null,n.a.createElement("option",{value:"EVTM"},"VTM"))))),"EVTM"===Aa?n.a.createElement(Xa.a,{className:"col-md-8 col- 6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Vtm's\xa0\xa0",null!==Ua&&n.a.createElement(Ol.a,{bg:"success",size:"sm"},"DSR: (",tc,")")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ua,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>qt(e,"APPROVED",B,nn),onInputChange:Mt,onChange:e=>{lc(""),Ya(e);var a=e.id.split("^");const t={id:"^".concat(a[2],"^").concat(a[7]),label:"".concat(a[2]," ").concat(a[7])};Na(t),ia({id:"^".concat(a[3],"^").concat(a[4]),label:"".concat(a[3]," ").concat(a[4])}),zt(a[5]),hc(a[6]),Ca(a[10]),uc(t),Ar(a[1]),Yr(a[9]);const l={isd:a[2],product:"EVTM",billdate:Ea(f)};Ye(Te,[p,"getlatestdsr",JSON.stringify(l)],e=>{let a=JSON.parse(e);lc(a.dsrrate)})},formatOptionLabel:gl,components:{Menu:hl}}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:da,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,Aa),onInputChange:Mt,onChange:uc}))),"ETC"===Aa||"EVTM"===Aa?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:sa,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",B),onInputChange:Mt,onChange:e=>ia(e)}))):null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{display:{display:"EVTM"===Aa&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"EVTM"===Aa?"Value":"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"EVTM"===Aa,type:"text",value:va,maxLength:5,onChange:e=>(e=>{ea(e,Ca),$t(gc(kl,Wt,_a,e,La))})(e.target.value)}))),n.a.createElement(Xa.a,{style:{display:"EVTM"===Aa&&"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:_a,maxLength:9,onChange:e=>(e=>{Ze(e,Ta),""===Aa&&Ft(1*e+1*Lt-1),$t(gc(kl,Wt,e,va,La))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===ne&&"none"},className:"mx-2",onClick:()=>{ct()(".loader").show();var e=[],a=0;if(null===da)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===da?" Select ISD.":"",N(ja(e)),g(!0);else{Mn(!0),Na(da);let e=da.id.split("^");Al(e[1]),Ut(null),Xt(""),$t("");const a={isd:e[1],location:B,product:Aa};Ye(ye,[p,"getrate",JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a?(alert("Select Individual First "),ct()(".loader").hide()):(Array.isArray(a)?Bn(a):a&&"object"===typeof a&&Bn([a]),ct()(".loader").hide())})}}},n.a.createElement(Ol.a,{bg:"secondary"},"See Min/Max Rate")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:La,maxLength:Ve,onChange:e=>(e=>{ea(e,wa),$t(gc(kl,Wt,_a,va,e)),null!=da&&"USD"===da.id.split("^")[1]&&fn(e)})(e.target.value)})))),"ETC"===Aa||"EVTM"===Aa?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"EVTM"===Aa&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{placeholder:"Prefix",type:"text",maxLength:5,value:Tt,onChange:e=>na(e.target.value,Dt)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"EVTM"===Aa,placeholder:"From",type:"text",maxLength:6,value:Lt,onChange:e=>hc(e.target.value)}))),"ETC"===Aa?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"To",type:"text",maxLength:6,value:It,onChange:e=>Ze(e.target.value,Ft)}))):n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Card No",type:"text",value:Gt,onChange:e=>zt(e.target.value)})))):null,"G"===je&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Traveller Name ","G"===je&&n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Traveller Name",type:"text",maxLength:50,value:Ir,onChange:e=>We(e.target.value,Mr)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID type","G"===je&&n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Rr,onChange:e=>{!function(e){Fr(e),Pr(""),Hr(e.split("^")[3]),Xr(e.split("^")[2])}(e.target.value)}},zr.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.label))))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ID Number","G"===je&&n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"ID Number",type:"text",maxLength:30,value:Gr,onChange:e=>na(e.target.value,Pr),onBlur:function(){console.log(Rr,Gr);const e=Rr.split("^")[4];"PASSPORT"===e?Da(Gr,Pr):"AADHAR"===e&&ka(Gr,Pr)}})))),"\xa0",n.a.createElement(Wa.a,null,1==Kr&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issue Date","G"===je&&n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:qr,onChange:e=>Vr(e),maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),1==Wr&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expiry Date","G"===je&&n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Jr,onChange:e=>Br(e),minDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:Kt,onChange:e=>Ht(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===Kt?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Qt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"AGENT",B),onInputChange:Mt,onChange:e=>{Ut(e),Ye(L,[p,"getisdcommission",e.id,wl,Aa],e=>{let a=JSON.parse(e);var t;Xt(a.type),xl(a.value),t="P"===a.type||"R"===a.type?gc(a.value,a.type,_a,va,La):a.value,$t(t)})},isDisabled:"G"===je}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Wt,onChange:e=>(e=>{Xt(e),xl(""),$t("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:kl,onChange:e=>(e=>{ea(e,xl),$t(gc(1*e,Wt,_a,va,La))})(e.target.value)}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:Zt,onChange:e=>ea(e.target.value,$t)})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>dc()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>sl("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?sl("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->")))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(Ol.a,{className:"handCursor",bg:"primary",onClick:()=>{Xn(!0)}},"View Commission Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,Ga.map((e,a)=>{var t;return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===ne||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>((e,a,t)=>{const l=Ga.find(a=>a.uniquekey===e);if("EVTM"===t){var n=Zr;""!=Zr&&(n+=","),$r(n+=a)}if(l){const e={TabType:"Product",ALineNo:Gn.length+1,AType:"D",TLoc:B,TType:"PP",Product:l.prd_product,ISD:l.isd_name,Deno:l.prd_deno,Quantity:l.prd_qty,Rate:l.prd_rate,Amount:l.prd_amount,ProductFrom:l.prd_from,ProductTo:l.prd_to,ProductPrefix:l.prd_prefix,ProductGroup:l.prd_group,ProductAccout:l.prd_account,AgentGroupCode:l.prd_agent_group,AgentLedgerCode:l.prd_agent_ledger,CommsnType:l.prd_commission_type,CommsnRate:l.prd_commission_value,CommsnAmnt:l.prd_commission};"1"===te.edit&&"E"===ne&&Pn(a=>[...a,e])}const r={tranType:"PP",type:"PURCHASE",uniquekey:Oa(15),nState:Ne.value,pOtherCharges:""===et?0:et,ppStateType:H,ppStateValue:Z,nCorporate:Ie},c=ga(Ga,"uniquekey",e);Va(c),pc(c,r),Jl(Pl-1)})(e.uniquekey,e.prd_vtm_num,e.prd_product),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to)),"G"===je&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:17},n.a.createElement("b",null,"Traveller Name")," ",e.prd_traveller_name,", ",n.a.createElement("b",null,null===(t=zr.find(a=>a.value.split("^")[1]==e.prd_id_type))||void 0===t?void 0:t.label)," : ",e.prd_id_number,"1900-12-31"!==e.prd_id_expiry_date&&n.a.createElement(n.a.Fragment,null,", ",n.a.createElement("strong",null,"Issued"),": ",ba(e.prd_id_issue_date)),"2025-01-25"!==e.prd_id_expiry_date&&n.a.createElement(n.a.Fragment,null,", ",n.a.createElement("b",null,"Expire"),": ",ba(e.prd_id_expiry_date)),n.a.createElement("b",null,"Agent : ")," ",e.prd_agent_group," ",e.prd_agent_ledger," ",e.prd_agent_name,",",n.a.createElement("b",null," Commission : "),"  ",e.prd_commission,"P"===e.prd_commission_type?" Paisa ":"R"===e.prd_commission_type?" Percentage ":"F"===e.prd_commission_type?" Flat ":"",n.a.createElement("b",null,"Commission Value : ")," ",e.prd_commission_value)))}))))),n.a.createElement(xt.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Taxable Value: ",Ct)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"SGST: ",mt)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"IGST: ",st)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"CGST : ",rt)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"UGST : ",dt)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Round Off: ",Ot))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:et,onChange:e=>sc(e.target.value),disabled:ft||"Q"===ne})))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===ne?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:rl,onChange:e=>(e=>{Yn(!1),cl(e),tl(null),Sl(0),_l("");var a="";if(""!==e){if("CH"===e)a="CASH";else{if("BN"===e||"CQ"===e)return a="BANK",void Ll("BANK");if("PB"===e){if(a="WALKIN","G"===je)return null!=Ge&&tl(Ge),void Yn(!0);if(null!==Ie)return tl(Ie),void Yn(!0)}else a="WALKIN"}Ll(a),Ye(L,[p,"getledgerinfo",a],e=>{let a=JSON.parse(e);tl({id:a.id,label:a.label})})}})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"PB"},"Payables")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:el,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,Tl,B),onInputChange:Mt,onChange:e=>{tl(e);var a=e.id.split("^");Nl(a[1]),Sl(a[2])},isDisabled:Un}))),""!==rl?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{placeholder:"Amount",value:ol,onChange:e=>ea(e.target.value,ml)}))):null),"BN"===rl?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:255,value:Cl,onChange:e=>ma(e.target.value,_l)})))):"CQ"===rl?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Yl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,yl,bl,B),onInputChange:Mt,onChange:e=>{Kl(e);var a=e.id.split("^");ln(a[1]),an(a[2]),$l(a[3]),Wl(a[4])}})))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(Za<1)e[a++]=Za<1?"Total amount must be greater than 0.":"",N(ja(e)),g(!0);else if(""===rl||null===el||ol<1||"CQ"===rl&&null===Yl||"BN"===rl&&""===Cl)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===el?"Account.":"",e[a++]=""===rl?"Payment Type.":"",e[a++]=ol<1?"Entered amount can't be 0.":"","CQ"===rl&&null===Yl&&(e[a++]=null===Yl?"Select a Cheque.":""),"BN"===rl&&""===Cl&&(e[a++]=null===Yl?"Refernece Number.":""),N(ja(e)),g(!0);else{var t=0,l=0,n="";if(null!==el){var r=el.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Oa(10),tp_line_no:Vl+1,tp_location:B,tp_srno:he,randomString:Ma,tp_payment_type:rl,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:ol,tp_cheque:Cl,tp_type:"PP",tcbb_from:Hl,chequeValue:Yl,delny:"Y"},o=qa(e,fl);if(o)o.tp_amount=(1*o.tp_amount||0)+(1*e.tp_amount||0);else{const a=Sa(fl,e);jl(a);const r={TabType:"Payment",AType:"A",ALineNo:Gn.length+1,TLoc:B,TType:"PP",PaymentType:rl,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:ol,ReferenceNo:Cl};"1"===te.edit&&"E"===ne&&Pn(e=>[...e,r])}cl(""),zl(1*Vl+1),ml(""),tl(null),Kl(null),an(""),$l(""),ln(""),Jl(Pl+1);var c=0;for(a=0;a<fl.length;a++)c+=1*fl[a].tp_amount;ml(1*Za-c)}})()},"Add")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque"))),n.a.createElement("tbody",null,fl.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"!==ne&&"Y"===e.delny?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>(e=>{const a={srno:he,location:B,type:"PP",payment_line_no:e.tp_line_no};Ye(K,[p,"shouldDelete",JSON.stringify(a)],a=>{let t=JSON.parse(a);if(he<1||"1"==t.isdeletable){const a=fl.find(a=>a.uniquekey===e.uniquekey);if(a){const e={TabType:"Payment",ALineNo:Gn.length+1,AType:"D",TLine:Vl+1,TLoc:B,TType:"PP",PaymentType:a.tp_payment_type,PaymentGroupCode:a.tp_group,PaymentLedgerCode:a.tp_account,PaymentAccountName:a.mvli_ledger_name,PaymentAmount:a.tp_amount,ReferenceNo:a.tp_cheque};"1"===te.edit&&"E"===ne&&Pn(a=>[...a,e])}const t=ga(fl,"uniquekey",e.uniquekey);jl(t);for(var l=0,n=0;n<t.length;n++)l+=1*t[n].tp_amount;ml(1*Za-l)}else g(!0),N("Cannot delete, amount aleady knockedoff.")}),Jl(Pl-1)})(e)},n.a.createElement(za.a,{icon:tt.r})):null),n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,e.tp_cheque)))))))),n.a.createElement("hr",null)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(bt,{logObject:zn,show:qn,onHide:()=>Vn(!1)}),n.a.createElement(pt.a,{show:wn,size:"xl",onHide:()=>An(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"Previous Transaction"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null," Branch"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Certificate"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"USD"),n.a.createElement("th",null,"Arrival"),n.a.createElement("th",null,"Cash"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Receivable"))),n.a.createElement("tbody",null,Rn.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tp_type),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.hdr_arrival_date),n.a.createElement("td",null,"CH"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"BN"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"RC"===e.tp_payment_type?e.tp_amount:"")))))))),n.a.createElement(pt.a,{show:In,size:"xl",onHide:()=>Mn(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"MIN/MAX RATE CARD"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null," MINIMUM"),n.a.createElement("th",null,"RATE"),n.a.createElement("th",null,"MAXIMUM"))),n.a.createElement("tbody",null,Jn.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.minbuyrate),n.a.createElement("td",null,e.buyrate),n.a.createElement("td",null,e.maxbuyrate)))))))),n.a.createElement("span",{className:"corner-span"},Pl),n.a.createElement(Gl,{faViewObject:En,show:bn,onHide:()=>hn(!1)}),n.a.createElement(nr,{show:Wn,onHide:()=>Xn(!1),productList:Ga}),n.a.createElement(Ka,{isOpen:h,onClose:e=>g(!1)},y),n.a.createElement(St,{isOpen:c,onYes:e=>mc(),onNo:e=>o(!1)},u),n.a.createElement(ur,{isOpen:Zn,onYes:e=>(()=>{const e={hdrSrno:he,location:B,type:"PP",irnObj:dr,irnCancelReason:tr,irnCancelReasonSelect:vr};var a=[],t=0;if(""===vr||""===tr||!or)return $n(!1),a[t++]=""===vr?"Select reason.":"",a[t++]=""===tr?"Fill reason.":"",a[t++]=or?"":"Please check declaration.",g(!0),void N(ja(a));ct()(".loader").show(),Ye(we,[p,"cancelirn",JSON.stringify(e)],e=>{ct()(".loader").hide(),$n(!1);let a=JSON.parse(e);"2"==a.Status?(g(!0),N(a.msg)):"1"==a.Status?(re(""),g(!0),N("IRN cancelled successfully, Cancel Date "+a.Data.CancelDate)):alert(JSON.stringify(a.ErrorDetails))})})(),onNo:e=>$n(!1),text:er,checkLabel:rr,irnCancelDeclaration:or,setIrnCancelDeclaration:mr,irnCancelReason:tr,setIrnCancelReason:lr,irnCancelReasonSelect:vr,setIrnCancelReasonSelect:Cr}),n.a.createElement(Dl,{logObject:vn,show:On,onHide:()=>Nn(!1)}))};var ir=function(){const e=sessionStorage.getItem("sessionId"),a=sessionStorage.getItem("startDate"),t=sessionStorage.getItem("endDate"),r=sessionStorage.getItem("branchDisable"),c=Object(l.useRef)(),o=Object(m.n)(),[u,d]=Object(l.useState)([]),[p,b]=Object(l.useState)("INFO"),[h,g]=Object(l.useState)(!1),[S,y]=Object(l.useState)(""),[O,N]=Object(l.useState)(!1),[v,C]=Object(l.useState)(""),[f,j]=Object(l.useState)("N"),[T,D]=Object(l.useState)(""),[k,x]=Object(l.useState)(0),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(0),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(0),[ee,ae]=Object(l.useState)(!0),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)("CN"),[ce,oe]=Object(l.useState)(null),[me,ue]=Object(l.useState)(""),[ie,de]=Object(l.useState)(""),[Ee,be]=Object(l.useState)(""),[ge,Se]=Object(l.useState)("0"),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(""),[fe,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)(null),[Le,ke]=Object(l.useState)(null),[xe,Ae]=Object(l.useState)(0),[Ie,Me]=Object(l.useState)(0),[Re,Fe]=Object(l.useState)(0),[Ge,Pe]=Object(l.useState)(0),[Je,qe]=Object(l.useState)(null),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,We]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)([]),[aa,ta]=Object(l.useState)(""),[la,ra]=Object(l.useState)(null),[ca,oa]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(0),[ia,da]=Object(l.useState)(0),[ba,ha]=Object(l.useState)(0),[Na,va]=Object(l.useState)(0),[Ca,_a]=Object(l.useState)(0),[Ta,Da]=Object(l.useState)(0),[La,ka]=Object(l.useState)(0),[wa,Aa]=Object(l.useState)(0),[Ia,Ma]=Object(l.useState)(0),[Ra,Ga]=Object(l.useState)(0),[Va,Ua]=Object(l.useState)(null),[Ya,Za]=Object(l.useState)({value:0,label:"Select"}),[$a,et]=Object(l.useState)("B"),[lt,rt]=Object(l.useState)(null),[ot,mt]=Object(l.useState)("AF"),[ut,st]=Object(l.useState)(""),[it,dt]=Object(l.useState)([]),[ht,gt]=Object(l.useState)(null),[yt,Ot]=Object(l.useState)(""),[Nt,vt]=Object(l.useState)({location:"",trannumber:"",type:""}),[Ct,_t]=Object(l.useState)(!1),[ft,jt]=Object(l.useState)(0),[Tt,Dt]=Object(l.useState)([]),[Lt,At]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[It,Ft]=Object(l.useState)(!1),[Gt,Pt]=Object(l.useState)(!1),[qt,zt]=Object(l.useState)(!1),[Qt,Ut]=Object(l.useState)(""),[Yt,Kt]=Object(l.useState)(""),[Ht,Wt]=Object(l.useState)(""),[Xt,Zt]=Object(l.useState)(!1),[$t,el]=Object(l.useState)(0),[al,tl]=Object(l.useState)(""),[ll,rl]=Object(l.useState)("0"),[cl,ol]=Object(l.useState)({irn:"",ackdate:"",acknum:"",signedqr:""}),[ml,ul]=Object(l.useState)("0"),[sl,il]=Object(l.useState)(""),[dl,El]=Object(l.useState)("N"),[pl,bl]=Object(l.useState)(""),[hl,gl]=Object(l.useState)(""),[Sl,yl]=Object(l.useState)(""),[Nl,Cl]=Object(l.useState)(""),[_l,fl]=Object(l.useState)(!1),[jl,Tl]=Object(l.useState)(""),[Ll,kl]=Object(l.useState)(""),[xl,wl]=Object(l.useState)(""),[Al,Il]=Object(l.useState)(""),[Ml,Rl]=Object(l.useState)(""),[Fl,Pl]=Object(l.useState)([]),[Jl,Bl]=Object(l.useState)(!1),[ql,Vl]=Object(l.useState)([]),[zl,Ql]=Object(l.useState)(!0);Object(l.useEffect)(()=>{xa().then(e=>{A(e),null!=e&&Ul(e)}),Ye(_,[e,"all","TRAN_SB"],function(e){let a=JSON.parse(e);"1"===a.query?d(a):o("/")})},[]);const Ul=e=>{A(e);var a=e.id.split("^");M(a[1]),H(null==a[3]?0:a[3]),$(a[4]),X(""===a[5]?"Select":a[5]),Ot(a[2]),sessionStorage.activeBranch=a[1]},Yl=e=>{const a={tranType:"SB",type:"SALE",nState:Ya.value,pOtherCharges:""===e?0:e.trim(),ppStateType:Z,ppStateValue:K};ea(e,da),Pa(e)&&Xl(te,a)},Kl=()=>{var e=Ea(q),l=pa(q),n=Ea(new Date);null===w?(g(!0),y("Please select location")):e>t||e<a?(g(!0),y(E("MSG0010"))):e>n?(g(!0),y(E("MSG0011"))):(gt(l),D("A"),b("INFO"),x(0),Ua(null),rt(null),Za(1*K>0&&null!=K?{value:K,label:W}:{value:0,label:"Select"}),re("CN"),oe(null),ue(""),de(""),je(""),Ne(""),Ce(""),be(""),Se("0"),Aa(0),ha(0),va(0),Da(0),ka(0),_a(0),Ma(0),da(0),Ga(0),le([]),$e([]),Me(0),sa(0))},Hl=()=>{N(!1),D("")},Wl=(e,a,t,l,n)=>"P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e,Xl=(a,t)=>{Ye(pe,[e,"calcinvoice",JSON.stringify(a),JSON.stringify(t)],e=>{let a=JSON.parse(e);Aa(a.fxamt),_a(a.sgst),ha(a.totalamt),Ga(a.taxablevalue),Ma(a.roundoff),va(a.cgst),Da(a.igst),ka(a.ugst);for(var t=0,l=0;l<Xe.length;l++)t+=1*Xe[l].tp_amount;Ke(1*a.totalamt-t)})},Zl=e=>{for(var a=!1,t={},l=0;l<te.length;l++)if(te[l].prd_isd===e.prd_isd&&te[l].prd_deno===e.prd_deno&&te[l].prd_product===e.prd_product){t.prd_line_no=te[l].prd_line_no,t.prd_qty=1*te[l].prd_qty+1*e.prd_qty,t.prd_amount=(t.prd_qty*e.prd_rate*e.prd_deno).toFixed(2),t.prd_usd_amount=(t.prd_amount/ft).toFixed(2),a=!0;break}return{isIsdExist:a,prdRow:t}},$l=(a,t)=>{x(a),b("INFO"),ct()(".loader").show(),Cl(t);const l={srno:a,sbLocationValue:I,type:"SB"};Ye(he,[e,"viewdata",JSON.stringify(l)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&((e=>{const a={nExecutive:"^0^"==e.executive?null:{id:e.executive,label:e.executive_name},nMode:e.mode,nDealer:"^0^0^"===e.dealerid?null:{id:e.dealerid,label:e.dealerlabel},nRemark1:e.remark1,nRemark2:e.remark2};Pl([a])})(a),ct()(".loader").hide(),D("Q"),"^0^"==a.executive?rt(null):rt({id:a.executive,label:a.executive_name}),et(a.mode),"^0^0^"===a.dealerid?Ua(null):Ua({id:a.dealerid,label:a.dealerlabel}),Aa(a.forextotal),va(a.cgst),_a(a.sgst),Da(a.igst),ka(a.ugst),Ma(a.round_off),ha(a.total_inr),da(a.other_charge),Ga(a.taxablevalue),Il(a.remark1),Rl(a.remark2),le(a.productlist),$e(a.paydetails),sa(a.paymaxlineno),Me(a.maxlineno),gt(a.date),Ot(a.locname),tl(a.dateymd),El(a.is_irn_applicable),rl(a.isIrnGenerated),ul(a.isIrnCancelled),il(a.irncanceldt),yl(a.irncancelrmk),"1"===a.isIrnGenerated&&ol({irn:a.irn,ackdate:a.ackdate,acknum:a.ackno,signedqr:a.signedqr}),null!=a.irncancelreason&&""!=a.irncancelreason&&bl(Fa.find(e=>e.id==a.irncancelreason).desc))})},en=a=>{if(ct()(".loader").show(),"0"===ll&&"Y"===dl)y("Irn not generated."),ct()(".loader").hide(),g(!0);else{const t={srno:k,location:I,type:"SB",printFlag:a};Ye(se,[e,"print",JSON.stringify(t)],e=>{ct()(".loader").hide(),window.open().document.write(e)})}};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Sale Bulk"))),""===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===f,onChange:()=>j("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===f,onChange:()=>j("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===f,onChange:()=>j("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"I"===f,onChange:()=>j("I"),type:"radio",label:"Dealer"})))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ul,isDisabled:"true"===r})))),n.a.createElement(Wa.a,null,"N"===f?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:q,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===f?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:z,onChange:e=>Ze(e.target.value,Q)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:U,onChange:e=>Ze(e.target.value,Y)})))):"D"===f||"I"===f?n.a.createElement(n.a.Fragment,null,"I"===f?n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>nl(e,I,"2,3,4"),onInputChange:Mt,onChange:e=>{F(e);var a=e.id.split("^");Za({value:a[3],label:a[4]}),a[8]>0&&Yl(a[8]),el(""==a[8]?0:a[8])}}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===u.query&&"N"!==f?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var a=[],t=0;if(ct()(".loader").show(),null===w||"S"===f&&!z||"S"===f&&!U||"D"===f&&!G||"D"===f&&!J||"I"===f&&null===R||"I"===f&&!G||"I"===f&&!J)ct()(".loader").hide(),a[t++]=E("MSG0006"),a[t++]=null===w?" Location.":"",a[t++]="S"!==f||z?"":" From Srno.",a[t++]="S"!==f||U?"":" To Srno.",a[t++]="D"!==f||G?"":" From Date.",a[t++]="D"!==f||J?"":" To Date.",a[t++]="I"===f&&null===R?" Dealer.":"",a[t++]="I"!==f||G?"":" From Date.",a[t++]="I"!==f||J?"":" To Date.",y(ja(a)),g(!0);else{const a={type:"SB",radioType:f,sbLocationValue:I,sbDealer:R,sbNewDate:Ea(q),sbSrnoTo:U,sbSrnoFrom:z,sbFromDate:Ea(G),sbToDate:Ea(J)};Ye(he,[e,"sblist",JSON.stringify(a)],e=>{console.log(e),ct()(".loader").hide(),dt(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===u.add&&"N"===f?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Kl()},"Add New"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Dealer"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,it.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>$l(e.hdr_srno,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_total_inr))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,{style:{display:(k<1||"N"===dl)&&"none"}},n.a.createElement(Xa.a,null,"1"===ml?n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"red"}},n.a.createElement(za.a,{icon:Qa.b}))," ",n.a.createElement("b",null,"Bill Deleted")),n.a.createElement("p",{className:"mx-2"},"Delete Date : ",n.a.createElement("b",null,sl)),n.a.createElement("p",{className:"mx-2"},"Reason of Deletion: ",n.a.createElement("b",null,pl)),n.a.createElement("p",{className:"mx-2"},"Deletion Remark: ",n.a.createElement("b",null,Sl))):n.a.createElement(n.a.Fragment,null,"1"===ll?n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"green"}},n.a.createElement(za.a,{icon:Qa.a}))," ",n.a.createElement("b",null,"IRN Generated")),"1"===u.delete&&n.a.createElement(Ol.a,{className:"mx-2 pointer",bg:"danger",onClick:()=>{zt(!0),Ut("Alert!"),Zt(!1),Kt(""),Wt("I confirm the deletion of this bill."),gl("")}},"Delete Bill")):n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"red"}},n.a.createElement(za.a,{icon:Qa.b}))," ",n.a.createElement("b",null,"IRN Generation Failed")),"1"===u.delete&&"Q"===T&&n.a.createElement(Ol.a,{className:"mx-2 pointer",bg:"warning",onClick:()=>{const a={coporate:Va,location:I,billdate:al,hdrsrno:k,type:"SB",pForexTotal:wa,pSgst:Ca,pIgst:Ta,pUgst:La,pCgst:Na,pOtherCharges:ia,pRoundOff:Ia,pTaxableVal:""===Ra?0:Ra,pTotalAmount:ba,productList:te,ppStateType:Z,ppStateValue:K,nState:Ya.value};ct()(".loader").show(),Ye(we,[e,"generateirn",JSON.stringify(a)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""!=a.msg?(g(!0),y(a.msg)):"0"==a.irn.Status?alert(JSON.stringify(a.irn.ErrorDetails)):(D(""),g(!0),y("IRN Generated successfully."))})}},"Generate"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===T||"E"===T?(C(E("WRN0000")),N(!0)):Hl())},"Back"),"\xa0","1"===u.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{style:{display:"1"===ll&&"none"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const a=new Date,t=Nl.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(a),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5),m={srno:k,type:"SB",pageright:"TRAN_SB",location:I};Ye(_e,[e,"checkUnlock",JSON.stringify(m)],e=>{let t=JSON.parse(e);kl(t.requestsrc),Be==o||"unlock"==t.msg?(D("E"),te.length>0&&ae(!1)):(fl(!0),Tl({trantype:"SB",trannumber:k,location:I,tranDate:Ea(a)}))}),te.length>0&&ae(!1)})()},"Edit"),"\xa0"):null,"1"===u.edit&&"E"===T||"1"===u.add&&"A"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();var a=[],t=0,l=0;for(t=0;t<Xe.length;t++)"PB"===Xe[t].tp_payment_type?l-=1*Xe[t].tp_amount:l+=1*Xe[t].tp_amount;if(null===Va)ct()(".loader").hide(),a[t++]=E("MSG0006"),a[t++]=null===Va?"Dealer":"",y(ja(a)),g(!0);else if(ba!=l)ct()(".loader").hide(),y("Total amount of payment must be equal to calculated INR."),g(!0);else{const t={type:"SB",srno:k,sbLocationValue:I,sbNewDate:Ea(q),nDealer:Va,nTranType:ot,nState:Ya.value,nExecutive:lt,pForexTotal:wa,nMode:$a,pSgst:Ca,pIgst:Ta,pUgst:La,pCgst:Na,pOtherCharges:ia,pRoundOff:Ia,pTaxableVal:Ra,pTotalAmount:ba,sbProductList:te,paymentData:Xe,radioType:f,sbSrnoTo:U,sbSrnoFrom:z,sbFromDate:Ea(G),sbToDate:Ea(J),nRemark1:Al,nRemark2:Ml},l=Ja(Fl,[t]);if("1"===u.edit&&"E"===T&&Dt(Ba(Tt,l,"SB",I)),a="",Ye(he,[e,"savedata",JSON.stringify(t),JSON.stringify(Tt)],e=>{let t=JSON.parse(e);ct()(".loader").hide(),"MSG0000"===t.msg?(dt(t.data),D("Q"),b("DETAILS"),$l(t.srno,Ea(q)),"undefined"!==typeof t.irn.Status&&("0"==t.irn.Status?(a=", IRN generation failed.",alert(JSON.stringify(t.irn.ErrorDetails))):ol({irn:t.irn.Data.Irn,ackdate:t.irn.Data.AckDt,acknum:t.irn.Data.AckNo,signedqr:t.irn.Data.SignedQRCode})),""!=t.printhtml&&window.open().document.write(t.printhtml),g(!0),y(E(t.msg)+a),Dt([])):"ERR0000"===t.msg?(g(!0),y(E("ERR0000"))):(g(!0),y(t.msg))}),"E"==T&&"SELF"!==Ll){const a=new Date,t={srno:k,type:"SB",status:"E",currentDate:Ea(a),pageright:"TRAN_SB"};Ye(_e,[e,"expireUnlock",JSON.stringify(t)],e=>{console.log(e)})}}})()},"Save")):null,"1"===u.query&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>en("D")},"With Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>en("")},"Without Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(_t(!0),void vt({location:I,trannumber:k,type:"SB"}))},"Fa View"),"\xa0","1"===u.edit&&"Q"===T?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ft(!0),void At({trantype:"SB",trannumber:k,trancategory:"T",location:I}))},"Activity Log"),"\xa0"):null):null,"Q"===T&&n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>Kl()},"Add New"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Srno : ",n.a.createElement("b",null,k," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,yt," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,ht))),n.a.createElement(Xa.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",wa)),"\xa0\xa0\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",ba)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:p,defaultActiveKey:"INFO",onSelect:e=>(e=>{if(b(e),"PAYMENT"===e){const e=Xe.reduce((e,a)=>e+1*a.tp_amount,0);Ke(1*ba-e)}})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Transaction Info"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:lt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Vt,onInputChange:Mt,onChange:e=>{rt(e)},isDisabled:"Q"===T}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===T,value:$a,onChange:e=>et(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Dealer Info"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"Dealer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===T&&"none"},className:"mx-2",onClick:()=>Ua(null)},n.a.createElement(Ol.a,{bg:"secondary"},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Va,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>nl(e,I,"2,3,4,8"),onInputChange:Mt,onChange:e=>{Ua(e)},isDisabled:"Q"===T}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Type"),n.a.createElement(s.a.Select,{disabled:"Q"===T,value:ot,onChange:e=>mt(e.target.value)},n.a.createElement("option",{value:"AF"},"ADS and FFMC"),n.a.createElement("option",{value:"DB"},"DESPATCH ABROAD"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===T,value:Al,onChange:e=>Il(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===T,value:Ml,onChange:e=>Rl(e.target.value)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6 mt-2"},n.a.createElement(i.a,{variant:"outline-secondary",size:"sm",onClick:()=>b("DETAILS")},"Details->"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(xt.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ne,onChange:e=>re(e.target.value)},n.a.createElement("option",{value:"CN"},"CN"),n.a.createElement("option",{value:"VTM"},"VTM")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{ref:c,cacheOptions:!1,defaultOptions:!1,value:ce,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,ne),onInputChange:Mt,onChange:a=>{oe(a);let t=a.id.split("^");De(t[1]),ke(null),Ne(""),Ce("");const l={isd:t[1],location:I,product:ne};Ye(ye,[e,"getrate",JSON.stringify(l)],e=>{let a=JSON.parse(e);je(1*a.salerate),Fe(1*a.maxsalerate),Pe(1*a.minsalerate),jt(1*a.usdratesale)})}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Denomination",type:"text",value:me,maxLength:5,onChange:e=>(e=>{Ze(e,ue),Ce(Wl(Ee,Oe,ie,e,fe))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:ie,maxLength:9,onChange:e=>(e=>{Ze(e,de),Ce(Wl(Ee,Oe,e,me,fe))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===T&&"none"},className:"mx-2",onClick:()=>{ct()(".loader").show();var a=[],t=0;if(null===ce)ct()(".loader").hide(),a[t++]=E("MSG0006"),a[t++]=null===ce?" Select ISD.":"",y(ja(a)),g(!0);else{Bl(!0),oe(ce);let a=ce.id.split("^");De(a[1]),ke(null),Ne(""),Ce("");const t={isd:a[1],location:I,product:ne};Ye(ye,[e,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);""===a?(alert("Select Individual First "),ct()(".loader").hide()):(Array.isArray(a)?Vl(a):a&&"object"===typeof a&&Vl([a]),ct()(".loader").hide())})}}},n.a.createElement(Ol.a,{bg:"secondary"},"See Min/Max Rate")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:fe,maxLength:Ve,onChange:e=>(e=>{ea(e,je),Ce(Wl(Ee,Oe,ie,me,e))})(e.target.value)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:ge,onChange:e=>Se(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===ge?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Le,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"AGENT",I),onInputChange:Mt,onChange:a=>{ke(a),Ye(L,[e,"getisdcommission",a.id,Te,ne],e=>{console.log(e);let a=JSON.parse(e);var t;Ne(a.type),be(a.value),t="P"===a.type||"R"===a.type?Wl(a.value,a.type,ie,me,fe):a.value,Ce(t)})}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Oe,onChange:e=>(e=>{Ne(e),be(""),Ce("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:Ee,onChange:e=>(e=>{ea(e,be),Ce(Wl(1*e,Oe,ie,me,fe))})(e.target.value)}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:ve,onChange:e=>ea(e.target.value,Ce)})))):null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(Ol.a,{className:"handCursor",bg:"primary",onClick:()=>{Pt(!0)}},"View Commission Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],a=0;if(null==ce||""===me||""===ie||""===fe||"1"===ge&&(""===Oe||null===Le||""===ve))ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null==ce?"Please select Isd.":"",e[a++]=""===me?"Please fill Denomination.":"",e[a++]=""==ie?"Please fill Quantity.":"",e[a++]=""==fe?"Please fill Rate.":"","1"!==ge||""!==Oe&&null!==Le&&""!==ve||(e[a++]=null==Le?"Agent.":"",e[a++]=""==Oe?"Commission type.":"",e[a++]=""==ve?"Commission value.":""),y(ja(e)),g(!0);else if(0!=Re&&0!=Ge&&(fe>Re||fe<Ge))ct()(".loader").hide(),e[a++]=fe>Re?"Maximum rate is "+Re:"",e[a++]=fe<Ge?"Maximum rate is "+Ge:"",y(ja(e)),g(!0);else{ct()(".loader").hide();var t=ce.id.split("^"),l=0,n=0,r="";if(null!==Le){var c=Le.id.split("^");l=c[1],n=c[2],r=c[5]}var o=0;""!=ft&&0!=ft&&(o=fe*ie*me/ft);const e={tranType:"SB",type:"SALE",uniquekey:Oa(15),prd_line_no:1*Ie+1,prd_location:I,prd_type:"SB",prd_srno:k,prd_isd:t[1],prd_date:Ea(q),prd_product:ne,prd_deno:me,prd_qty:ie,prd_rate:fe,prd_amount:fe*ie*me,prd_group:0,prd_account:0,prd_agent_group:l,prd_agent_ledger:n,isd_name:t[2],randomString:ut,prd_commission_type:Oe,prd_commission_value:""==ve?0:ve,prd_commission:""==Ee?0:Ee,nState:Ya.value,pOtherCharges:""===ia?0:ia,ppStateType:Z,ppStateValue:K,scrMode:T,prd_usd_rate:""==ft?0:ft.toFixed(2),prd_usd_amount:o.toFixed(2),prd_agent_name:r,isCommission:ge,delny:"Y"};var m;const a=Zl(e);a.isIsdExist?(m=ya(te,"prd_line_no",a.prdRow.prd_line_no,"prd_qty",a.prdRow.prd_qty),m=ya(te,"prd_line_no",a.prdRow.prd_line_no,"prd_amount",a.prdRow.prd_amount),m=ya(te,"prd_line_no",a.prdRow.prd_line_no,"prd_usd_amount",a.prdRow.prd_usd_amount)):m=Sa(te,e),m.length>0&&ae(!1);const s={TabType:"Product",ALineNo:Tt.length+1,AType:"A",TLoc:I,TType:"SB",Product:ne,ISD:t[2],Deno:me,Quantity:ie,Rate:fe,Amount:fe*ie*me,ProductGroup:0,ProductAccout:0,CommsnType:Oe,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==ve?0:ve,CommsnAmount:""==Ee?0:Ee};"1"===u.edit&&"E"===T&&Dt(e=>[...e,s]),le(m),Ae(xe+1),Me(Ie+1),oe(null),ue(""),de(""),je(""),Ce(""),be(""),Ne(),ke(null),Ne(""),Xl(m,e)}})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",size:"sm",onClick:()=>b("PAYMENT"),onKeyDown:e=>{"Enter"===e.key?b("PAYMENT"):"Tab"===e.key&&(e.preventDefault(),c.current.focus())}},"Payment ->"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Equivalent Amount"))),n.a.createElement("tbody",null,te.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===T||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=te.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:Tt.length+1,AType:"D",TLoc:I,TType:"SB",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===u.edit&&"E"===T&&Dt(a=>[...a,e])}const t={tranType:"SB",type:"SALE",nState:Ya.value,pOtherCharges:""===ia?0:ia,ppStateType:Z,ppStateValue:K},l=ga(te,"uniquekey",e);le(l),Xl(l,t),Ae(xe-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount))))))),n.a.createElement(xt.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:ia,onChange:e=>Yl(e.target.value),disabled:ee||"Q"===T})))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===T?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:ze,onChange:a=>(a=>{Ql(!1),Qe(a),qe(null),We("");var t="";if(""!==a){if("CH"===a)t="CASH";else{if("BN"===a)return t="BANK",void oa("BANK");if("CQ"===a)t="CHEQUE";else{if("RC"===a)return void(null!==Va&&(qe(Va),Ql(!0)));t="BANK"}}oa(t),Ye(L,[e,"getledgerinfo",t],e=>{let a=JSON.parse(e);qe({id:a.id,label:a.label})})}})(a.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"RC"},"Recievables")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Je,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,ca,I),onInputChange:Mt,onChange:e=>{qe(e),e.id.split("^")},isDisabled:zl}))),""!==ze?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",value:Ue,onChange:e=>ea(e.target.value,Ke)}))):null),"BN"===ze?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:255,value:He,onChange:e=>ma(e.target.value,We)})))):"CQ"===ze?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Cheque No",type:"text",maxLength:10,value:He,onChange:e=>na(e.target.value,We)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Bank Name",type:"text",maxLength:50,value:aa,onChange:e=>na(e.target.value,ta)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:la,onChange:e=>ra(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"RC"===ze?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{type:"text",maxLength:255,placeholder:"Remark",disabled:"Q"===T,value:xl,onChange:e=>ma(e.target.value,wl)})))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(ba<1)e[a++]=ba<1?"Total amount must be greater than 0.":"",y(ja(e)),g(!0);else if(""===ze||null===Je||Ue<1||"CQ"===ze&&(""===He||""===aa||null===la)||"BN"===ze&&""===He||"RC"===ze&&""===xl)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===Je?"Account.":"",e[a++]=""===ze?"Payment Type.":"",e[a++]=Ue<1?"Entered amount can't be 0.":"",e[a++]="RC"===ze&&""===xl?"Remark ":"","CQ"!==ze||""!==He&&""!==aa&&null!==la||(e[a++]=""===He?"Cheque Number.":"",e[a++]=""===aa?"Bank Name.":"",e[a++]=null===la?"Cheque Date":""),"BN"===ze&&""===He&&(e[a++]=""===He?"Reference Number.":""),y(ja(e)),g(!0);else{var t=0,l=0,n="";if(null!==Je){var r=Je.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Oa(10),tp_line_no:ua+1,tp_location:I,tp_srno:k,tp_payment_type:ze,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:Ue,tp_cheque:He,tp_cheque_bank:aa,tp_cheque_date:"CQ"===ze?Ea(la):"NULL",tp_type:"SP",tp_remark:xl,delny:"Y"},a=qa(e,Xe);if(a)a.tp_amount=(1*a.tp_amount||0)+(1*e.tp_amount||0);else{const a=Sa(Xe,e);$e(a);const r={TabType:"Payment",AType:"A",ALineNo:Tt.length+1,TLoc:I,TType:"SB",PaymentType:ze,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:Ue,ReferenceNo:He,Remark:xl};"1"===u.edit&&"E"===T&&Dt(e=>[...e,r])}Qe(""),sa(1*ua+1),Ke(""),qe(null),We(""),ta(""),ra(null),Ae(xe+1),wl("");const c=Xe.reduce((e,a)=>e+1*a.tp_amount,0);Ke(1*ba-c)}})()},"Add"),"\xa0"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque/Reference No/Remark"))),n.a.createElement("tbody",null,Xe.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"!==T?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{if("N"===a)g(!0),y("This cheque has already used.");else{const a=Xe.find(a=>a.uniquekey===e);if(a){const e={TabType:"Payment",ALineNo:Tt.length+1,AType:"D",TLine:ua+1,TLoc:I,TType:"SB",PaymentType:a.tp_payment_type,PaymentGroupCode:a.tp_group,PaymentLedgerCode:a.tp_account,PaymentAccountName:a.mvli_ledger_name,PaymentAmount:a.tp_amount,ReferenceNo:a.tp_cheque};"1"===u.edit&&"E"===T&&Dt(a=>[...a,e])}const t=ga(Xe,"uniquekey",e);$e(t);const l=Xe.reduce((e,a)=>e+1*a.tp_amount,0);Ke(1*ba-l)}Ae(xe-1)})(e.uniquekey,e.delny)},n.a.createElement(za.a,{icon:tt.r})):null),n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,"RC"===e.tp_payment_type?e.tp_remark:e.tp_cheque)))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(bt,{logObject:Lt,show:It,onHide:()=>Ft(!1)}),n.a.createElement(pt.a,{show:Jl,size:"xl",onHide:()=>Bl(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"MIN/MAX RATE CARD"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null," MINIMUM"),n.a.createElement("th",null,"RATE"),n.a.createElement("th",null,"MAXIMUM"))),n.a.createElement("tbody",null,ql.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.minsalerate),n.a.createElement("td",null,e.salerate),n.a.createElement("td",null,e.maxsalerate)))))))),n.a.createElement("span",{className:"corner-span"},xe),n.a.createElement(Gl,{faViewObject:Nt,show:Ct,onHide:()=>_t(!1)}),n.a.createElement(nr,{show:Gt,onHide:()=>Pt(!1),productList:te}),n.a.createElement(Ka,{isOpen:h,onClose:e=>g(!1)},S),n.a.createElement(St,{isOpen:O,onYes:e=>Hl(),onNo:e=>N(!1)},v),n.a.createElement(ur,{isOpen:qt,onYes:a=>(()=>{const a={hdrSrno:k,location:I,type:"SB",irnObj:cl,irnCancelReason:Yt,irnCancelReasonSelect:hl};return""===Yt?(zt(!1),g(!0),void y("Please fill reason.")):Xt?(ct()(".loader").show(),void Ye(we,[e,"cancelirn",JSON.stringify(a)],e=>{ct()(".loader").hide(),zt(!1);let a=JSON.parse(e);"2"==a.Status?(g(!0),y(a.msg)):"1"==a.Status?(D(""),g(!0),y("IRN cancelled successfully, Cancel Date "+a.Data.CancelDate)):alert(JSON.stringify(a.ErrorDetails))})):(zt(!1),g(!0),void y("Please check the declaration."))})(),onNo:e=>zt(!1),text:Qt,checkLabel:Ht,irnCancelDeclaration:Xt,setIrnCancelDeclaration:Zt,irnCancelReason:Yt,setIrnCancelReason:Kt,irnCancelReasonSelect:hl,setIrnCancelReasonSelect:gl}),n.a.createElement(Dl,{logObject:jl,show:_l,onHide:()=>fl(!1)}))};var dr=function(){const e=[{value:0,label:"Select"},{value:1,label:"Gst"},{value:2,label:"Unregistered"},{value:3,label:"Gst Excluded"}],a=Object(l.useRef)(),t=sessionStorage.getItem("sessionId"),r=Object(m.n)(),c=sessionStorage.getItem("startDate"),o=sessionStorage.getItem("endDate"),u=sessionStorage.getItem("branchDisable"),[d,p]=Object(l.useState)("INFO"),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(null),[j,T]=Object(l.useState)(0),[D,k]=Object(l.useState)(0),[x,w]=Object(l.useState)(new Date),[A,I]=Object(l.useState)("N"),[M,R]=Object(l.useState)(null),[F,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(new Date),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)(new Date),[Y,K]=Object(l.useState)(new Date),[H,W]=Object(l.useState)([]),[X,Z]=Object(l.useState)(null),[$,ee]=Object(l.useState)(null),[ae,te]=Object(l.useState)(null),[le,ne]=Object(l.useState)(null),[re,ce]=Object(l.useState)(null),[oe,me]=Object(l.useState)(""),[ue,ie]=Object(l.useState)("1"),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(),[Se,ye]=Object(l.useState)(null),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)(""),[fe,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)(0),[Le,ke]=Object(l.useState)(0),[xe,we]=Object(l.useState)(""),[Ae,Ie]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)(0),[Ge,Pe]=Object(l.useState)(""),[Je,qe]=Object(l.useState)(!1),[ze,Qe]=Object(l.useState)({location:"",trannumber:"",type:""}),[Ue,Ke]=Object(l.useState)(null),[He,We]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)(""),[aa,ta]=Object(l.useState)(""),[la,na]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(""),[oa,ua]=Object(l.useState)(""),[sa,ia]=Object(l.useState)(""),[da,ba]=Object(l.useState)(""),[ha,ya]=Object(l.useState)(0),[Na,va]=Object(l.useState)(0),[Ca,_a]=Object(l.useState)(0),[Ta,Da]=Object(l.useState)(0),[La,ka]=Object(l.useState)(0),[wa,Aa]=Object(l.useState)(0),[Ia,Ma]=Object(l.useState)(0),[Ra,Fa]=Object(l.useState)(0),[Ga,Pa]=Object(l.useState)(0),[Va,Qa]=Object(l.useState)([]),[Ua,Ya]=Object(l.useState)(1),[Za,$a]=Object(l.useState)(""),[et,lt]=Object(l.useState)(""),[rt,ot]=Object(l.useState)(""),[mt,ut]=Object(l.useState)(!1),[st,it]=Object(l.useState)(!0),[dt,pt]=Object(l.useState)(null),[ht,gt]=Object(l.useState)(""),[yt,Ot]=Object(l.useState)(""),[Nt,vt]=Object(l.useState)([]),[Ct,_t]=Object(l.useState)(""),[ft,jt]=Object(l.useState)(0),[Tt,Dt]=Object(l.useState)(""),[Lt,At]=Object(l.useState)(""),[It,Gt]=Object(l.useState)(1),[Pt,Bt]=Object(l.useState)([]),[qt,Vt]=Object(l.useState)(""),zt=new Date,[Qt,Ut]=Object(l.useState)(!1),[Yt,Kt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Wt,Xt]=Object(l.useState)([]),[Zt,$t]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[el,al]=Object(l.useState)(!1),[tl,ll]=Object(l.useState)(""),[nl,rl]=Object(l.useState)(""),[cl,ol]=Object(l.useState)(new Date),[ml,ul]=Object(l.useState)(""),[sl,il]=Object(l.useState)(""),[dl,El]=Object(l.useState)(null),[pl,bl]=Object(l.useState)("Y"),[hl,gl]=Object(l.useState)(""),[Sl,yl]=Object(l.useState)(""),[Ol,Nl]=Object(l.useState)(""),[Cl,_l]=Object(l.useState)([]);Object(l.useEffect)(()=>{xa().then(e=>{R(e),null!=e&&fl(e)}),Ye(_,[t,"all","TRAN_SI"],function(e){let a=JSON.parse(e);"1"===a.query?G(a):r("/")})},[]);const fl=e=>{console.log("this is location Value",e),R(e);var a=e.id.split("^");De(a[1]),ke(null==a[3]?0:a[3]),we(a[4]),Ie(""===a[5]?"Select":a[5]),Fe(a[2]),Ne({id:null==a[3]?0:a[3],label:""===a[5]?"Select":a[5]}),sessionStorage.activeBranch=a[1]},jl=()=>{h(!1),Pe("")},Tl=(e,a)=>{""===a&&(a=0);let t=0,l=0,n=0,r=0,c=0,o=0;for(var m=0;m<e.length;m++)t+=1*e[m].inv_amount,l+=1*e[m].inv_taxable/100*e[m].inv_sgst*1,n+=1*e[m].inv_taxable/100*e[m].inv_cgst*1,r+=1*e[m].inv_taxable/100*e[m].inv_igst*1,o+=1*e[m].inv_taxable;console.log("this ise me ",t,l,n,r,1*a),c=(t+l+n+r+1*a).toFixed(2),Ma(t.toFixed(2)),Da(l.toFixed(2)),Pa(o.toFixed(2)),Fa(0),_a(n.toFixed(2)),ka(r.toFixed(2)),ya(c),Aa(0);var u=0;for(m=0;m<Pt.length;m++)u+=1*Pt[m].tp_amount;Ot((1*c-u).toFixed(2))},Ll=()=>{var e=Ea(P),a=pa(P),t=Ea(new Date);null==M?(O(!0),v("Please select location")):e>o||e<c?(O(!0),v(E("MSG0010"))):e>t?(O(!0),v(E("MSG0011"))):(w(a),Pe("A"),p("INFO"),k(0),ee(null),ye(null),Ce(""),je(""),te(null),ll(""),ce(null),rl(""),ol(P),Qa([]),Bt([]),ya(0),Ma(0),Z(null),ie("1"),me(""),va(0))},kl=(e,a)=>{k(e),p("INFO"),Vt(a),ct()(".loader").show();const l={srno:e,siLocationValue:Te,type:"SI"};Ye(Me,[t,"viewdata",JSON.stringify(l)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&((e=>{const a={nParty:{id:e.acct_id,label:e.acct_label},nBillDate:Ea(P),nStateSupplier:{id:e.supply_state_id,label:e.supply_state_name},nGstin:e.gstin,nTaxClass:e.taxclass,nShipTo:{id:e.ship_acct_id,label:e.ship_acct_label},nPono:e.pono,nPODate:null===e.podate?null:e.podate,nEwayBillNo:e.ewaybillno,nPaymentDueDate:e.payment_due_date,nRemark1:de,nRemark2:pe};_l([a])})(a),ct()(".loader").hide(),Pe("Q"),Ee(a.remark1),be(a.remark2),ie(a.reversecharge),ee({id:a.acct_id,label:a.acct_label}),me(a.invoice),ne(a.bill_date?new Date(a.bill_date):null),ce(a.podate?new Date(a.podate):null),ol(a.payment_due_date?new Date(a.payment_due_date):null),Ma(a.forextotal),_a(a.cgst),Da(a.sgst),ka(a.igst),Aa(a.ugst),Fa(a.round_off),ya(a.total_inr),va(a.other_charge),Pa(a.taxablevalue),w(a.date),Ya(1*a.maxlineno),Qa(a.productlist),Gt(1*a.paymaxlineno),Bt(a.paydetails),k(a.srno),Ce(a.gstin),je(a.taxclass),ye({id:a.receiver_state_id,label:a.receiver_state_name}),Ne({id:a.supply_state_id,label:a.supply_state_name}),ll(a.pono),rl(a.ewaybillno),te({id:a.ship_acct_id,label:a.ship_acct_label}))})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Sale Invoice")),n.a.createElement("hr",null)),""===Ge?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(Xa.a,{style:{display:"flex"}},n.a.createElement(s.a.Check,{checked:"N"===A,onChange:()=>I("N"),type:"radio",label:"New"}),"\xa0",n.a.createElement(s.a.Check,{checked:"S"===A,onChange:()=>I("S"),type:"radio",label:"SrNo"}),n.a.createElement(s.a.Check,{checked:"D"===A,onChange:()=>I("D"),type:"radio",label:"Date"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:M,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:fl,isDisabled:"true"===u})))),n.a.createElement(Wa.a,null,"N"===A?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:P,onChange:e=>J(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:B,onChange:e=>Ze(e.target.value,q)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:V,onChange:e=>Ze(e.target.value,z)})))):"D"===A||"I"===A||"C"===A?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Q,onChange:e=>U(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Y,onChange:e=>K(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===F.query&&"N"!==A?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(ct()(".loader").show(),null===M||"S"===A&&!B||"S"===A&&!V||"D"===A&&!Q||"D"===A&&!Y)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===M?" Location.":"",e[a++]="S"!==A||B?"":" From Srno.",e[a++]="S"!==A||V?"":" To Srno.",e[a++]="D"!==A||Q?"":" From Date.",e[a++]="D"!==A||Y?"":" To Date.",v(ja(e)),O(!0);else{const e={radioType:A,siLocation:Te,accountFilter:C,siNewDate:Ea(P),siSrnoTo:V,siSrnoFrom:B,siFromDate:Ea(Q),siToDate:Ea(Y)};Ye(Me,[t,"silist",JSON.stringify(e)],e=>{ct()(".loader").hide(),W(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===F.add&&"N"===A?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Ll()},"Add New"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Bill Date"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Total INR"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,H.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>kl(e.hdr_srno,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:tt.k}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_bill_date),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_total_inr),n.a.createElement("td",null,e.hdr_date))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===Ge||"E"===Ge?(S(E("WRN0000")),h(!0)):jl())},"Back"),"\xa0","1"===F.edit&&"Q"===Ge?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,a=qt.split("/"),l=a[2]+"-"+a[1]+"-"+a[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:D,type:"SI",pageright:"TRAN_SI",location:Te};Ye(_e,[t,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);yl(t.requestsrc),Be==o||"unlock"==t.msg?(Pe("E"),Va.length>0&&it(!1)):(Ut(!0),Kt({trantype:"SI",trannumber:D,location:Te,tranDate:Ea(e)}))})})()},"Edit"),"\xa0"):null,"1"===F.edit&&"E"===Ge||"1"===F.add&&"A"===Ge?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();for(var e=0,a=0;a<Pt.length;a++)console.log("ME LOOP ME AAYA HU "),"PB"===Pt[a].tp_payment_type?e-=1*Pt[a].tp_amount:e+=1*Pt[a].tp_amount;var l=[];if(a=0,null===$||ha!=e||""===Se.id||""===Oe.id)ct()(".loader").hide(),l[a++]=E("MSG0006"),l[a++]=null===$?"Party.":"",l[a++]=ha!=e?"Total amount of payment must be equal to calculated INR.":"",l[a++]=""===Se.id?"State of Reciever can't be Empty.":"",l[a++]=""===Oe.id?"State of Supplier can't be Empty.":"",O(!0),v(ja(l));else{const e={srno:D,type:"SI",siLocationValue:Te,siNewDate:Ea(P),nBillDate:Ea(P),nManualBill:oe,nManualNo:dl,nParty:$,nStateReceiver:""===Se?0:Se,nStateSupplier:Oe,nGstin:ve,nTaxClass:""===fe?0:fe,nShipTo:ae,nPono:tl,nPODate:Ea(re),nEwayBillNo:nl,nPaymentDueDate:Ea(cl),nReverseCharge:ue,nRemark1:de,nRemark2:pe,pForexTotal:Ia,pSgst:Ta,pIgst:La,pUgst:wa,pCgst:Ca,pOtherCharges:Na,pRoundOff:Ra,pTaxableVal:""===Ga?0:Ga,pTotalAmount:ha,productList:Va,paymentData:Pt},a=Ja(Cl,[e]);if("1"===F.edit&&"E"===Ge&&Xt(Ba(Wt,a,"SI",Te)),Ye(Me,[t,"savedata",JSON.stringify(e),JSON.stringify(Wt)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(ct()(".loader").hide(),Pe(""),kl(a.srno,Ea(P)),O(!0),v(E(a.msg)),Xt([])):(ct()(".loader").hide(),O(!0),v(E(a.msg)))}),"E"==Ge&&"SELF"!==Sl){const e={srno:D,type:"SINV",status:"E",currentDate:Ea(zt),pageright:"TRAN_SI"};Ye(_e,[t,"expireUnlock",JSON.stringify(e)],e=>{})}}})()},"Save"),"\xa0"):null,"1"===F.query&&"Q"===Ge?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();const e={srno:D,location:Te,type:"SI"};Ye(se,[t,"print",JSON.stringify(e)],e=>{ct()(".loader").hide(),window.open().document.write(e)})})()},"Print"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(qe(!0),void Qe({location:Te,trannumber:D,type:"SI"}))},"Fa View"),"\xa0"):null,"1"===F.edit&&"Q"===Ge?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(al(!0),void $t({trantype:"SI",trannumber:D,trancategory:"T",location:Te}))},"Activity Log"),"\xa0"):null,"Q"===Ge&&n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>Ll()},"Add New"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",D)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,Re," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,x))),n.a.createElement(Xa.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",Ia)),"\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",ha)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:d,defaultActiveKey:"INFO",onSelect:e=>(e=>{p(e)})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bill Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:P,onChange:e=>ne(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party/Bill To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:$,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"CORPORATE  , DEALER",Te),onInputChange:Mt,onChange:a=>{ee(a),te(a);var t=a.id.split("^");ye({id:null==t[3]?0:t[3],label:""===t[4]?"Select":t[4]}),Ce(t[9]);const l=e.find(e=>e.value==t[10]);l?je(l.value):console.log("No match found for the value in location[10]"),t[5]===Oe.id?ut(!1):ut(!0)},isDisabled:"Q"===Ge||Va.length>0}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State of Receiver"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Se,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ht(e,1),onInputChange:Mt,onChange:e=>ye(e),isDisabled:!0})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State of Supplier"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ht(e,1),onInputChange:Mt,onChange:e=>Ne(e),isDisabled:!0}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GSTIN"),n.a.createElement(s.a.Control,{type:"text",maxLength:30,placeholder:"GSTIN",disabled:!0,value:ve,onChange:e=>Ce(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Tax Classification"),n.a.createElement(s.a.Select,{value:fe,onChange:e=>je(e.target.value),disabled:!0},e.map(e=>n.a.createElement("option",{key:e.value,value:e.value},e.label))))),n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ship To"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ae,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,Te),onInputChange:Mt,onChange:e=>{console.log("this is value of shipoooiung ",e),te(e)},isDisabled:"Q"===Ge}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PO No."),n.a.createElement(s.a.Control,{type:"text",maxLength:30,placeholder:"PO No.",value:tl,onChange:e=>ll(e.target.value),disabled:"Q"===Ge}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PO Date"),n.a.createElement(vl.a,{className:"form-control",selected:re,onChange:e=>ce(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===Ge,maxDate:new Date,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," E-way Bill No"),n.a.createElement(s.a.Control,{type:"text",maxLength:20,placeholder:"E-wayBillNo",value:nl,onChange:e=>rl(e.target.value),disabled:"Q"===Ge}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Due Date"),n.a.createElement(vl.a,{className:"form-control",selected:cl,onChange:e=>ol(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===Ge,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===Ge,value:de,onChange:e=>Ee(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===Ge,value:pe,onChange:e=>be(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>p("DETAILS")},"Product->")))),n.a.createElement(xt.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===Ge?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:X,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,Te),onInputChange:Mt,onChange:e=>{Z(e)},isDisabled:"Q"===Ge,ref:a}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:ml,maxLength:9,onChange:e=>(e=>{Ze(e,ul),il("")})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:sl,maxLength:Ve,onChange:e=>(e=>{ea(e,il),We((1*e*ml*1).toFixed(2)),ba((1*e*ml*1).toFixed(2))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",type:"text",maxLength:10,disabled:!0,value:He,onChange:e=>ea(e.target.value,We)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST Taxable Value(INR)",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",type:"text",maxLength:10,value:da,onChange:e=>ea(e.target.value,ba)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:mt,placeholder:"%",type:"text",maxLength:4,value:la,onChange:e=>ea(e.target.value,na)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"CGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:mt,placeholder:"%",type:"text",maxLength:4,value:Xe,onChange:e=>ea(e.target.value,$e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IGST %",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!mt,placeholder:"%",type:"text",maxLength:4,value:aa,onChange:e=>ea(e.target.value,ta)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SAC",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"SAC",type:"text",maxLength:10,value:sa,onChange:e=>ea(e.target.value,ia)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS"),n.a.createElement(s.a.Control,{placeholder:"%",type:"text",maxLength:4,value:ra,onChange:e=>ea(e.target.value,ca)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS 1"),n.a.createElement(s.a.Control,{placeholder:"%",type:"text",maxLength:4,value:oa,onChange:e=>ea(e.target.value,ua)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Is Service",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:pl,onChange:e=>bl(e.target.value),required:!0},n.a.createElement("option",{value:"Y"},"YES"),n.a.createElement("option",{value:"N"},"No"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Description of Services/Goods"),n.a.createElement(s.a.Control,{value:hl,maxLength:500,as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:e=>gl(e.target.value)})))),"\xa0",n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(null!==X&&He&&da&&(mt||Xe)&&(mt||la)&&(!mt||aa)&&sa&&""!==hl){let e=0,a=0,l="",n=X.id.split("^");a=n[1],e=n[2],l=n[3];const r={type:"PURCHASE",uniquekey:Oa(15),inv_line_no:Ua,inv_location:Te,inv_type:"SI",inv_group:a,inv_account:e,mvli_ledger_name:l,inv_srno:D,inv_date:Ea(P),inv_amount:He,inv_taxable:da,inv_qty:ml,inv_rate:sl,inv_sac:sa,inv_tds:""===ra?0:ra,inv_tds1:""===oa?0:oa,inv_sgst:""===la?0:la,inv_cgst:""===Xe?0:Xe,inv_igst:""===aa?0:aa,inv_pservice:pl,inv_descgs:hl,inv_sgst_calc:""===la?0:(da*la/100).toFixed(2),inv_cgst_calc:""===Xe?0:(da*Xe/100).toFixed(2),inv_igst_calc:""===aa?0:(da*aa/100).toFixed(2),inv_tds_calc:""===ra?0:(He*ra/100).toFixed(2),inv_tds1_calc:""===oa?0:(He*oa/100).toFixed(2),inv_total_amount:parseFloat((Number(He)+Number(da)*(Number(la)+Number(Xe)+Number(aa))/100).toFixed(2)),prd_product:"SI",prd_amount:He,delny:"Y"};console.log("this is pl",r);var t=Sa(Va,r);t.length>0&&it(!1);const c={TabType:"Product",ALineNo:Wt.length+1,AType:"A",TLoc:Te,TType:"SI",Group:a,Ledger:e,Amount:He,Taxable:da,SAC:sa,TDS:ra,SGST:la,CGST:Xe,IGST:La};"1"===F.edit&&"E"===Ge&&Xt(e=>[...e,c]),Ya(Ua+1),Qa(t),Ke(null),We(""),ba(""),$e(""),na(""),ia(""),ca(""),ua(""),il(""),bl(""),gl(""),ka(""),ta(""),ul(""),Tl(t,Na),Z(null)}else e[a++]=E("MSG0006"),e[a++]=null===X?" Account.":"",e[a++]=He?"":" Amount.",e[a++]=da?"":" GST Taxable Value(INR).",e[a++]=mt||Xe?"":" CGST.",e[a++]=mt||la?"":" SGST.",e[a++]=mt&&!aa?"IGST":"",e[a++]=sa?"":" SAC.",e[a++]=""===hl?" Description Of Services/Goods":"",v(ja(e)),O(!0)})()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>p("PAYMENT"),onKeyDown:e=>{"Enter"===e.key?p("PAYMENT"):"Tab"===e.key&&(e.preventDefault(),a.current.focus())}},"Payment->"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Ledger Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Taxable Value"),n.a.createElement("th",null,"SGST"),n.a.createElement("th",null,"CGST"),n.a.createElement("th",null,"IGST"),n.a.createElement("th",null,"Total Amount"),n.a.createElement("th",null,"TDS"))),n.a.createElement("tbody",null,Va.map(e=>n.a.createElement(n.a.Fragment,{key:e.inv_line_no},n.a.createElement("tr",null,n.a.createElement("td",null,"Q"===Ge||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=Va.find(a=>a.uniquekey===e);if(a){const e={Product:a.prd_product,TabType:"Product",ALineNo:Wt.length+1,AType:"D",TLoc:Te,TType:"SINV",Group:a.inv_group,Ledger:a.inv_account,Amount:a.inv_amount,Taxable:a.inv_taxable,SAC:a.inv_sac,TDS:a.inv_tds,SGST:a.inv_sgst,CGST:a.inv_cgst,IGST:a.inv_igst};"1"===F.edit&&"E"===Ge&&Xt(a=>[...a,e])}const t=ga(Va,"uniquekey",e);Qa(t),Tl(t,Na),T(j-1)})(e.uniquekey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.inv_group),n.a.createElement("td",null,e.inv_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.inv_amount),n.a.createElement("td",null,e.inv_taxable),n.a.createElement("td",null,e.inv_sgst_calc),n.a.createElement("td",null,e.inv_cgst_calc),n.a.createElement("td",null,e.inv_igst_calc),n.a.createElement("td",null,e.inv_total_amount),n.a.createElement("td",null,e.inv_tds_calc)),n.a.createElement("tr",null,n.a.createElement("td",null,"\xa0"),n.a.createElement("td",{colSpan:2},n.a.createElement("th",null,"SAC:"),n.a.createElement("td",null,e.inv_sac)),n.a.createElement("td",{colSpan:7},n.a.createElement("th",null,"Description Good/Service"),n.a.createElement("td",null,e.inv_descgs))))))))),n.a.createElement(xt.a,{eventKey:"PAYMENT",title:"Payments"},n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Taxable Value: ",Ga)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"SGST: ",Ta)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"IGST: ",La)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"CGST : ",Ca)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"UGST : ",wa)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Round Off: ",Ra))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:Na,onChange:e=>(e=>{ea(e,va),Tl(Va,e)})(e.target.value),disabled:st||"Q"===Ge})))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Payment Details"))),"Q"===Ge?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:ht,onChange:e=>(e=>{gt(e),pt(null),_t(0),At("");var a="";if(""!==e){if("CH"===e)a="CASH";else{if("BN"===e||"CQ"===e)return a="BANK",void Dt("BANK");if("RC"===e&&null!==$)return void pt($)}Dt(a),Ye(L,[t,"getledgerinfo",a],e=>{let a=JSON.parse(e);pt({id:a.id,label:a.label})})}})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"RC"},"Recievables")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:dt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,Tt,Te),onInputChange:Mt,onChange:e=>{pt(e);var a=e.id.split("^");jt(a[1]),_t(a[2])},isDisabled:"RC"===ht}))),""!==ht?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{placeholder:"Amount",value:yt,onChange:e=>ea(e.target.value,Ot)}))):null),"BN"===ht?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No"),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:255,value:Lt,onChange:e=>ma(e.target.value,At)})))):"RC"===ht?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{type:"text",maxLength:255,placeholder:"Remark",disabled:"Q"===Ge,value:Ol,onChange:e=>Nl(e.target.value)})))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{var e=[],a=0;if(ha<1)e[a++]=ha<1?"Total amount must be greater than 0.":"",v(ja(e)),O(!0);else if(""===ht||null===dt||yt<1||"BN"===ht&&""===Lt||"RC"===ht&&""===Ol)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===dt?"Account.":"",e[a++]=""===ht?"Payment Type.":"",e[a++]=yt<1?"Entered amount can't be 0.":"",e[a++]="RC"===ht&&""===Ol?"Remark ":"","BN"===ht&&""===Lt&&(e[a++]=""===Lt?"Refernece Number.":""),v(ja(e)),O(!0);else{var t=0,l=0,n="";if(null!==dt){var r=dt.id.split("^");t=r[1],l=r[2],n="RC"===ht?r[3]:r[5]}const e={uniquekey:Oa(10),tp_line_no:It,tp_location:Te,tp_srno:D,tp_payment_type:ht,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:yt,tp_cheque:Lt,tp_type:"SINV",prd_product:"SI",tp_remark:Ol,delny:"Y"},o=qa(e,Pt);if(o)o.tp_amount=(1*o.tp_amount||0)+(1*e.tp_amount||0);else{const a=Sa(Pt,e);Bt(a);const r={TabType:"Payment",AType:"A",ALineNo:Wt.length+1,TLoc:Te,TType:"SI",PaymentType:ht,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:yt,ReferenceNo:Lt,Remark:Ol};"1"===F.edit&&"E"===Ge&&Xt(e=>[...e,r])}gt(""),Gt(It+1),Ot(""),pt(null),Nl(""),T(j+1);var c=0;for(a=0;a<Pt.length;a++)c+=1*Pt[a].tp_amount;Ot(1*ha-c)}})()},"Add")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Refernce No/Remark"))),n.a.createElement("tbody",null,Pt.map((e,a)=>n.a.createElement("tr",{key:e.uniquekey},n.a.createElement("td",null,"Q"!==Ge?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((e,a)=>{const t=Pt.find(a=>a.uniquekey===e);if(t){const e={TabType:"Payment",ALineNo:Wt.length+1,AType:"D",TLine:It+1,TLoc:Te,TType:"SI",PaymentType:t.tp_payment_type,PaymentGroupCode:t.tp_group,PaymentLedgerCode:t.tp_account,PaymentAccountName:t.mvli_ledger_name,PaymentAmount:t.tp_amount,ReferenceNo:t.tp_cheque};"1"===F.edit&&"E"===Ge&&Xt(a=>[...a,e])}const l=ga(Pt,"uniquekey",e);Bt(l);for(var n=0,r=0;r<l.length;r++)n+=1*l[r].tp_amount;Ot(1*ha-n),T(j-1)})(e.uniquekey,e.delny)},n.a.createElement(za.a,{icon:tt.r})):null),n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,"RC"===e.tp_payment_type?e.tp_remark:e.tp_cheque))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(bt,{logObject:Zt,show:el,onHide:()=>al(!1)}),n.a.createElement("span",{className:"corner-span"},j),n.a.createElement(Gl,{faViewObject:ze,show:Je,onHide:()=>qe(!1)}),n.a.createElement(Ka,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(St,{isOpen:b,onYes:e=>jl(),onNo:e=>h(!1)},g),n.a.createElement(Dl,{logObject:Yt,show:Qt,onHide:()=>Ut(!1)}))};var Er=function(){const e=Object(l.useRef)(),[a,t]=Object(l.useState)("N"),r=sessionStorage.getItem("startDate"),c=sessionStorage.getItem("endDate"),o=sessionStorage.getItem("branchDisable"),u=sessionStorage.getItem("sessionId"),d=Object(m.n)(),[p,b]=Object(l.useState)("INFO"),[h,g]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,k]=Object(l.useState)([]),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)([]),[M,R]=Object(l.useState)(0),[F,G]=Object(l.useState)([]),[P,J]=Object(l.useState)(null),[B,q]=Object(l.useState)(""),[z,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(new Date),[H,X]=Object(l.useState)(null),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(new Date),[ne,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)("N"),[be,he]=Object(l.useState)([]),[ge,Se]=Object(l.useState)(null),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)(null),[fe,je]=Object(l.useState)(""),[De,Le]=Object(l.useState)(1),[ke,Ae]=Object(l.useState)(""),[Ie,Me]=Object(l.useState)({value:0,label:"Select"}),[Re,Fe]=Object(l.useState)(null),[Ge,Pe]=Object(l.useState)(null),[Je,qe]=Object(l.useState)(null),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,We]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)(null),[aa,ta]=Object(l.useState)(""),[la,ra]=Object(l.useState)("P"),[oa,ua]=Object(l.useState)("B"),[sa,ia]=Object(l.useState)(""),[da,ba]=Object(l.useState)(""),[ha,Na]=Object(l.useState)(null),[va,Ca]=Object(l.useState)(null),[_a,Ta]=Object(l.useState)(0),[Da,La]=Object(l.useState)(""),[ka,wa]=Object(l.useState)(""),[Aa,Ia]=Object(l.useState)(""),[Ma,Ra]=Object(l.useState)("CN"),[Ga,Va]=Object(l.useState)(""),[Ua,Ya]=Object(l.useState)(null),[Za,$a]=Object(l.useState)(""),[et,lt]=Object(l.useState)(""),[rt,ot]=Object(l.useState)(""),[mt,ut]=Object(l.useState)("0"),[st,it]=Object(l.useState)(null),[dt,ht]=Object(l.useState)(""),[gt,yt]=Object(l.useState)(""),[Ot,Nt]=Object(l.useState)(0),[Ct,_t]=Object(l.useState)(0),[ft,jt]=Object(l.useState)(0),[Tt,Dt]=Object(l.useState)(0),[Lt,At]=Object(l.useState)(0),[It,Ft]=Object(l.useState)(0),[Gt,qt]=Object(l.useState)(0),[Kt,Ht]=Object(l.useState)(0),[Wt,Xt]=Object(l.useState)(0),[Zt,$t]=Object(l.useState)(0),[el,al]=Object(l.useState)(0),[tl,ll]=Object(l.useState)("S"),[nl,rl]=Object(l.useState)(!0),[ml,ul]=Object(l.useState)(""),[sl,il]=Object(l.useState)(null),[pl,bl]=Object(l.useState)(""),[hl,gl]=Object(l.useState)(""),[Sl,yl]=Object(l.useState)(""),[Nl,Cl]=Object(l.useState)(0),[_l,fl]=Object(l.useState)(""),[jl,Tl]=Object(l.useState)([]),[Ll,kl]=Object(l.useState)(""),[xl,wl]=Object(l.useState)(null),[Al,Il]=Object(l.useState)(""),[Ml,Rl]=Object(l.useState)(0),[Fl,Pl]=Object(l.useState)(!1),[Jl,Bl]=Object(l.useState)([]),[ql,Vl]=Object(l.useState)(0),[zl,Ql]=Object(l.useState)(1),[Ul,Yl]=Object(l.useState)(!1),[Kl,Hl]=Object(l.useState)(""),[Wl,Xl]=Object(l.useState)(""),[$l,en]=Object(l.useState)(""),[an,tn]=Object(l.useState)(null),[ln,nn]=Object(l.useState)(""),[rn,cn]=Object(l.useState)({location:"",trannumber:"",type:""}),[on,mn]=Object(l.useState)(!1),[un,sn]=Object(l.useState)(""),dn=new Date,[En,pn]=Object(l.useState)(!1),[bn,hn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[gn,Sn]=Object(l.useState)(0),[yn,On]=Object(l.useState)(0),[Nn,vn]=Object(l.useState)(!1),[Cn,_n]=Object(l.useState)([]),[fn,jn]=Object(l.useState)(!1),[Tn,Dn]=Object(l.useState)([]),[Ln,kn]=Object(l.useState)(""),[xn,wn]=Object(l.useState)(!0),[An,In]=Object(l.useState)(!1),[Mn,Rn]=Object(l.useState)(""),[Fn,Gn]=Object(l.useState)([]),[Pn,Jn]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Bn,qn]=Object(l.useState)(!1),[Vn,zn]=Object(l.useState)("C"),[Qn,Un]=Object(l.useState)(!1),[Yn,Kn]=Object(l.useState)(!1),[Hn,Wn]=Object(l.useState)(""),[Xn,Zn]=Object(l.useState)("0"),[$n,er]=Object(l.useState)({irn:"",ackdate:"",acknum:"",signedqr:""}),[ar,tr]=Object(l.useState)("0"),[lr,rr]=Object(l.useState)(""),[cr,or]=Object(l.useState)(""),[mr,sr]=Object(l.useState)(""),[ir,dr]=Object(l.useState)(!1),[Er,pr]=Object(l.useState)(""),[br,hr]=Object(l.useState)("N"),[gr,Sr]=Object(l.useState)(0),[yr,Or]=Object(l.useState)(""),[Nr,vr]=Object(l.useState)(""),[Cr,_r]=Object(l.useState)(""),[fr,jr]=Object(l.useState)(""),[Tr,Dr]=Object(l.useState)(""),[Lr,kr]=Object(l.useState)(null),[xr,wr]=Object(l.useState)(""),[Ar,Ir]=Object(l.useState)(""),[Mr,Rr]=Object(l.useState)(""),[Fr,Gr]=Object(l.useState)(""),[Pr,Jr]=Object(l.useState)([]),[Br,qr]=Object(l.useState)(""),[Vr,zr]=Object(l.useState)(""),[Qr,Ur]=Object(l.useState)("0"),[Yr,Kr]=Object(l.useState)(""),[Hr,Wr]=Object(l.useState)(""),[Xr,Zr]=Object(l.useState)(""),[$r,ec]=Object(l.useState)(""),[ac,tc]=Object(l.useState)(""),[lc,nc]=Object(l.useState)(""),[rc,cc]=Object(l.useState)(""),[oc,mc]=Object(l.useState)(""),[uc,sc]=Object(l.useState)(""),[ic,dc]=Object(l.useState)(null),[Ec,pc]=Object(l.useState)("");Object(l.useEffect)(()=>{xa().then(e=>{J(e),null!=e&&bc(e)}),Ye(_,[u,"all","TRAN_SP"],function(e){let a=JSON.parse(e);"1"===a.query?k(a):d("/")}),Ye(W,[u,"listResidential"],e=>{w(JSON.parse(e))});const e=sessionStorage.getItem("values");if(e){const a=JSON.parse(e);"SALE"==a.md_type?(T("A"),Ye(V,[u,"getIndividualData",a.code],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a),Sc({...a,desc:"".concat(a.desc.replaceAll("^","  ^  "))})})):T("")}},[]);const bc=e=>{J(e);var a=e.id.split("^");q(a[1]),me(null==a[3]?0:a[3]),ie(a[4]),ce(""===a[5]?"Select":a[5]),nn(a[2]),sessionStorage.activeBranch=a[1]},hc=()=>{var e=Ea(te),a=pa(te),t=Ea(new Date);null==P?(v(!0),f("Please select location")):e>c||e<r?(v(!0),f(E("MSG0010"))):e>t?(v(!0),f(E("MSG0011"))):(tn(a),T("A"),b("INFO"),Ql(1),R(0),Se(null),ua("B"),Ne(null),Ce(null),Le(1),Ae(""),Fe(null),Me(1*oe>0&&null!=oe?{value:oe,label:ne}:{value:0,label:"Select"}),ra("P"),Pe(null),ta(""),Qe(""),Ke(""),qe(null),We(""),$e(""),Xt(0),jt(0),At(0),qt(0),Ht(0),Ft(0),$t(0),Dt(0),he([]),Tl([]),On(0),Sr(0),al(0),kr(null),wr(""),Dr(""),Rr(""),Gr(""),Ur("0"),Kr(""),Wr(""),Zr(""),ec(""),tc(""),nc(""),cc(""),pc(""),dc(null),sc(""),mc(""),Ye(S,[u,"getState",1],e=>{I(JSON.parse(e))}))},gc=(e,a)=>{R(e),b("INFO"),Ya(null),$a(""),sn(a),ct()(".loader").show();const t={srno:e,spLocationValue:B,type:"SP"};Ye(re,[u,"viewdata",JSON.stringify(t)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&((e=>{const a={nExecutive:null==e.executive?null:{id:e.executive,label:e.executive_name},nMode:e.mode,nTraveller:{id:e.ind_id,label:e.ind_label,desc:e.desc},nPurpose:{id:e.purpose,label:e.purpose_name},nResident:e.residential,nTravellerCode:e.emp_code,nCorporate:null===e.corp_id?null:{id:e.corp_id,label:e.corp_label},nState:e.state,sourceOfFund:{id:e.sourceoffundCode,label:e.sourceoffund},nCountry:{id:e.cntsrno,label:e.cntname},nTicketClass:e.ticketclass,nFlightNo:e.flightno,nTicketNo:e.ticketno,nDepDate:Ea(Je),nDuration:e.duration,nVisaType:e.visatype,nRemark1:e.remark1,nRemark2:e.remark2};Jr([a])})(a),ct()(".loader").hide(),T("Q"),Ee(a.saletype),Ne({id:a.ind_id,label:a.ind_label,desc:a.desc}),Hl(a.individual_srno),null==a.executive?Se(null):Se({id:a.executive,label:a.executive_name}),ua(a.mode),Ce({id:a.purpose,label:a.purpose_name}),ul(a.service_type),Pe({id:a.cntsrno,label:a.cntname}),Le(a.residential),null==a.corp_id?(Fe(null),Sr(0)):(Fe({id:a.corp_id,label:a.corp_label}),Sr(a.corp_id.split("^")[8])),Ae(a.emp_code),Me({value:a.state,label:a.statename}),ra(a.panform60),ta(a.ticketclass),Ke(a.flightno),Qe(a.ticketno),qe(new Date(a.depdate)),We(a.duration),$e(a.visatype),Rr(a.remark1),Gr(a.remark2),Xt(a.forextotal),At(a.cgst),Ft(a.sgst),qt(a.igst),Ht(a.ugst),$t(a.round_off),jt(a.total_inr),Dt(a.other_charge),al(a.taxablevalue),he(a.productlist),Tl(a.paydetails),Rl(a.paymaxlineno),Ql(a.maxlineno),tn(a.date),nn(a.locname),R(a.srno),On(0),kn(a.ind_pan),pr(a.dateymd),hr(a.is_irn_applicable),Zn(a.isIrnGenerated),tr(a.isIrnCancelled),rr(a.irncanceldt),_r(a.irncancelrmk),kr({id:a.sourceoffundCode,label:a.sourceoffund}),$e({id:a.visatypeCode,label:a.visatype}),Ur(a.isloanavailed),Kr(a.loanAccountNo),Wr(a.loanApplicant),Zr(a.loanApplicantPassport),ec(a.loanApplicantPan),tc(a.loanCoApplicant),nc(a.loanCoApplicantPassport),cc(a.loanCoApplicantPan),pc(a.loanDisbRefno),null==a.loanDisbDate?dc(null):dc(new Date(a.loanDisbDate)),sc(a.loanDisbAmt),mc(a.loanInstName),"1"===a.isIrnGenerated&&er({irn:a.irn,ackdate:a.ackdate,acknum:a.ackno,signedqr:a.signedqr}),null!=a.irncancelreason&&""!=a.irncancelreason&&Or(Fa.find(e=>e.id==a.irncancelreason).desc))})},Sc=e=>{Ne(e);var a=e.id.split("^");Hl(a[1]),On(1),kn(a[4])},yc=()=>{g(!1);const e=JSON.parse(sessionStorage.getItem("values"));e&&"SALE"===e.md_type?(d("/individual-profile"),sessionStorage.removeItem("values"),sessionStorage.setItem("flag","1")):T("")},Oc=e=>{Ya(e);var a=e.id.split("^"),t=a[1];$a(t),lt(1*t+1*ka-1),"R"===tl&&ot(a[7])},Nc=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ea(e,Dt);const t={tranType:"SP",type:"SALE",pOtherCharges:""===e?0:e.trim(),ppStateType:ue,ppStateValue:oe,nState:Ie.value,nCorporate:""!=a?a:Re,travellerPan:Ln,loan:"1"===Qr?"Y":"N",purpose:fe};Pa(e.trim())&&_c(be,t)},vc=()=>{ct()(".loader").show();var e=[],a=0;if(null==va||""===Da||""===ka||""===Aa||"VTM"===Ma&&(null==Ua||""===rt||null==ha)||"1"===mt&&(""===dt||null===st||""===gt))ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null==va?"Please select Isd.":"",e[a++]=""===Da?"Please fill Denomination.":"",e[a++]=""==ka?"Please fill Quantity.":"",e[a++]=""==Aa?"Please fill Rate.":"","VTM"!==Ma||null!=Ua&&""!=et&&null!=ha||(e[a++]=null==ha?"Issuer.":"",e[a++]=null==Ua?"From.":"",e[a++]=""==rt?"Card Number.":""),"1"!==mt||""!==dt&&null!==st&&""!==gt||(e[a++]=null==st?"Agent.":"",e[a++]=""==dt?"Commission type.":"",e[a++]=""==gt?"Commission value.":""),f(ja(e)),v(!0);else if("VTM"===Ma&&1*et-1*Ua>100)ct()(".loader").hide(),f("'To' must be less than 100."),v(!0);else if(0!=Ot&&0!=Ct&&(Aa>Ot||Aa<Ct))ct()(".loader").hide(),e[a++]=Aa>Ot?"Maximum rate is "+Ot:"",e[a++]=Aa<Ct?"Minimum rate is "+Ct:"",f(ja(e)),v(!0);else{ct()(".loader").hide();var t=va.id.split("^"),l=0,n=0,r="",c=0,o=0;if(null!==st){var m=st.id.split("^");l=m[1],n=m[2],r=m[5]}if(null!==ha){var u=ha.id.split("^");c=u[1],o=u[2]}var s=0;""!=gn&&0!=gn&&(s=Aa*ka*Da/gn);const e={tranType:"SP",type:"SALE",uniqueKey:Oa(15),prd_line_no:zl,prd_location:B,prd_type:"SP",prd_srno:M,prd_isd:t[1],prd_date:Ea(te),prd_product:Ma,prd_deno:Da,prd_qty:ka,prd_rate:Aa,prd_amount:(Aa*ka*Da).toFixed(2),prd_from:Za,prd_prefix:Ga,prd_to:et,prd_group:c,prd_account:o,prd_agent_group:l,prd_agent_ledger:n,prd_card_no:rt,isd_name:t[2],prd_commission_type:dt,prd_commission_value:""==gt?0:gt,prd_commission:""==$l?0:$l,prd_sale_reload:tl,nCorporate:Re,nState:Ie.value,pOtherCharges:Tt,ppStateType:ue,ppStateValue:oe,scrMode:j,prFrom:Ua,prd_usd_rate:gn.toFixed(2),prd_usd_amount:s.toFixed(2),delny:"Y",isCommission:mt,prd_agent_name:r,travellerPan:Ln,loan:"1"===Qr?"Y":"N",purpose:fe};if("VTM"===Ma&&(e=>be.some(a=>a.prd_from===e.prd_from&&a.prd_group===e.prd_group&&a.prd_isd===e.prd_isd&&a.prd_account===e.prd_account))(e))return v(!0),void f("VTM already added in list.");var i;const a=Cc(e);a.isIsdExist?(i=ya(be,"prd_line_no",a.prdRow.prd_line_no,"prd_qty",a.prdRow.prd_qty),i=ya(be,"prd_line_no",a.prdRow.prd_line_no,"prd_amount",a.prdRow.prd_amount),i=ya(be,"prd_line_no",a.prdRow.prd_line_no,"prd_usd_amount",a.prdRow.prd_usd_amount)):i=Sa(be,e),i.length>0&&rl(!1);const d={TabType:"Product",ALineNo:Fn.length+1,AType:"A",TLoc:B,TType:"SP",Product:Ma,ISD:t[2],Deno:Da,Quantity:ka,Rate:Aa,Amount:Aa*ka*Da,ProductFrom:Ua,ProductTo:et,ProductPrefix:Ga,ProductGroup:c,ProductAccout:o,CommsnType:dt,AgentGroupCode:l,AgentLedgerCode:n,CommsnRate:""==gt?0:gt,CommsnAmount:""==$l?0:$l};"1"===D.edit&&"E"===j&&Gn(e=>[...e,d]),he(i),Vl(ql+1),Ql(1*zl+1),Ca(null),Na(null),La(""),"CN"===Ma&&wa(""),Ia(""),Va(""),Ya(null),$a(""),lt(""),ot(""),yt(""),ht(),it(null),ht(""),en(""),_c(i,e)}},Cc=e=>{for(var a=!1,t={},l=0;l<be.length;l++)if(be[l].prd_isd===e.prd_isd&&be[l].prd_deno===e.prd_deno&&be[l].prd_product===e.prd_product){t.prd_line_no=be[l].prd_line_no,t.prd_qty=1*be[l].prd_qty+1*e.prd_qty,t.prd_amount=(t.prd_qty*e.prd_rate*e.prd_deno).toFixed(2),t.prd_usd_amount=(t.prd_amount/gn).toFixed(2),a=!0;break}return{isIsdExist:a,prdRow:t}},_c=(e,a)=>{Ye(pe,[u,"calcinvoice",JSON.stringify(e),JSON.stringify(a)],e=>{let a=JSON.parse(e);Xt(a.fxamt),Ft(a.sgst),jt(a.totalamt),al(a.taxablevalue),$t(a.roundoff),At(a.cgst),qt(a.igst),Ht(a.ugst),zr(a.tcs);for(var t=0,l=0;l<jl.length;l++)t+=1*jl[l].tp_amount;gl(1*a.totalamt-t)})},fc=e=>{if(ct()(".loader").show(),"0"===Xn&&"Y"===br)f("Irn not generated."),ct()(".loader").hide(),v(!0);else{const a={srno:M,location:B,type:"SP",printFlag:e,nCorporate:Re,nIndivualSrno:Kl,pSaleReload:tl};Ye(se,[u,"print",JSON.stringify(a)],e=>{ct()(".loader").hide(),window.open().document.write(e)})}},jc=e=>{Yl(!0),Xl("E"===e&&null!=Oe?"E":"A")},Tc=(e,a,t,l,n)=>"P"===a?e*t*l/100:"R"===a?t*l*n*(e/100):e;return n.a.createElement(n.a.Fragment,null,Ul?n.a.createElement(Zl,{reqObj:{nIndivualSrno:Kl,scrIndividual:Wl},value:"TRAN_SP",hideIndividualProfile:(e,a)=>{if(console.log("hideIndividualProfile",e,a),Yl(e),a>0){const e={individualsrno:a,type:"SP"};Ye(V,[u,"individualidfrompicklist",JSON.stringify(e)],e=>{let a=JSON.parse(e);const t=a.desc.split("^");""===a.id?Ne(null):(Ne({...a,desc:"".concat(t.slice().join("  ^  "))}),kn(a.desc.split("^")[1].trim()))})}}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h1",null,"Sale to public")),n.a.createElement("hr",null)),""===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===a,onChange:()=>t("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===a,onChange:()=>t("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===a,onChange:()=>t("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"I"===a,onChange:()=>t("I"),type:"radio",label:"Individual"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"C"===a,onChange:()=>t("C"),type:"radio",label:"Corporate"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"R"===a,onChange:()=>t("R"),type:"radio",label:"Rate Card."}),"\xa0"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:P,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:bc,isDisabled:"true"===o})))),n.a.createElement(Wa.a,null,"N"===a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:te,onChange:e=>le(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{style:{display:"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type"),n.a.createElement(s.a.Select,{value:de,onChange:e=>Ee(e.target.value)},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"E"},"EEFBC"))))):"S"===a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:Z,onChange:e=>Ze(e.target.value,$)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:ee,onChange:e=>Ze(e.target.value,ae)})))):"D"===a||"I"===a||"C"===a?n.a.createElement(n.a.Fragment,null,"I"===a?n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:H,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Pt,onInputChange:Mt,onChange:e=>{X(e)}}))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:z,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"R"===a?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Vn,onChange:e=>zn(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"CN"),n.a.createElement("option",{value:"R"},"Card"),n.a.createElement("option",{value:"T"},"TT"),n.a.createElement("option",{value:"D"},"DD"))))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===D.query&&"N"!==a&&"R"!==a?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(ct()(".loader").show(),null===P||"S"===a&&!Z||"S"===a&&!ee||"D"===a&&!z||"D"===a&&!U||"I"===a&&null===H||"I"===a&&!z||"I"===a&&!U||"C"===a&&null===Re||"C"===a&&!z||"C"===a&&!U)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null===P?" Location.":"",e[t++]="S"!==a||Z?"":" From Srno.",e[t++]="S"!==a||ee?"":" To Srno.",e[t++]="D"!==a||z?"":" From Date.",e[t++]="D"!==a||U?"":" To Date.",e[t++]="I"===a&&null===H?" Individual.":"",e[t++]="I"!==a||z?"":" From Date.",e[t++]="I"!==a||U?"":" To Date.",e[t++]="C"===a&&null===Re?" Corporate.":"",e[t++]="C"!==a||z?"":" From Date.",e[t++]="C"!==a||U?"":" To Date.",f(ja(e)),v(!0);else{const e={type:"SP",radioType:a,spLocation:B,spIndividual:H,spNewDate:Ea(te),spSrnoTo:ee,spSrnoFrom:Z,spFromDate:Ea(z),spToDate:Ea(U)};Ye(re,[u,"splist",JSON.stringify(e)],e=>{console.log(e),ct()(".loader").hide(),G(JSON.parse(e))})}})()},"List"):null,"\xa0","1"===D.add&&"N"===a?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>hc()},"Add New"):null,"\xa0","1"===D.add&&"R"===a?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={location:B,product:Vn};Ye(ye,[u,"getratecard",JSON.stringify(e)],e=>{let a=JSON.parse(e);const t=window.open("about:blank","_blank");var l=a[0].mrc_date;t.document.write('\n                <html>\n                <head>\n                    <title>Rate Card</title>\n                    <style>\n                    table {\n                        width: 100%;\n                        border-collapse: collapse;\n                    }\n                    th, td  {\n                        border: 2px solid black;\n                        padding: 8px;\n                        text-align: left;\n                    }\n                    th {\n                        background-color: #f2f2f2;\n                    }\n                    .header {\n                        display: flex;\n                        justify-content: space-between; /* Aligns items to opposite corners */\n                        align-items: center; /* Vertically centers items */\n                    }\n                    .header img {\n                        width: 300px; /* Adjust the width as needed */\n                        height: auto;\n                    }\n                    .container{\n                    background: aliceblue;\n                    padding: 20px;\n                    }\n                    </style>\n                </head>\n                <body>\n                <div class= "container">\n                    <div class="header">\n                    <img src="img/logo.png" alt="Rate Card Image" />\n                        <div>\n                            <h1>Zenith Forex</h1>\n                            <p>Card Rate as on '.concat(l,"<p>\n                        </div>\n                    </div>\n                    <table>\n                    <thead>\n                        <tr>\n                        <th>Code</th>\n                        <th>Currencies</th>\n                        <th>Product</th>\n                        <th>Sale Rate</th>\n                        <th>Max Sale Rate</th>\n                        <th>Min Sale Rate</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ").concat(a.map(e=>"\n                        <tr>\n                            <td>".concat(e.mrc_isd,"</td>\n                            <td>").concat(e.isd_name,"</td>\n                            <td>").concat("C"===e.mrc_product?"CN":"R"===e.mrc_product?"Card":"D"===e.mrc_product?"DD":"T"===e.mrc_product?"TT":"","</td>\n                            <td>").concat(e.mrc_sale_rate,"</td>\n                            <td>").concat(e.mrc_max_salerate,"</td>\n                            <td>").concat(e.mrc_min_salerate,"</td>\n                        </tr>\n                        ")).join(""),"\n                    </tbody>\n                    </table>\n                </div>\n                </body>\n                </html>\n\n              ")),t.document.close()})})()},"Get Rate"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Corporate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,F.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{onClick:()=>gc(e.hdr_srno,e.new_date),className:"pointer colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.bd_first_name+" "+e.bd_middle_name+" "+e.bd_last_name),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.hdr_total_inr))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,{style:{display:(M<1||"N"===br)&&"none"}},n.a.createElement(Xa.a,null,"1"===ar?n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"red"}},n.a.createElement(za.a,{icon:tt.h}))," ",n.a.createElement("b",null,"Bill Deleted")),n.a.createElement("p",{className:"mx-2"},"Delete Date : ",n.a.createElement("b",null,lr)),n.a.createElement("p",{className:"mx-2"},"Reason of Deletion: ",n.a.createElement("b",null,yr)),n.a.createElement("p",{className:"mx-2"},"Deletion Remark: ",n.a.createElement("b",null,Cr))):n.a.createElement(n.a.Fragment,null,"1"===Xn?n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"green"}},n.a.createElement(za.a,{icon:Qa.a}))," ",n.a.createElement("b",null,"IRN Generated")),"1"===D.delete&&n.a.createElement(Ol.a,{className:"mx-2 pointer",bg:"danger",onClick:()=>{Kn(!0),Wn("Alert!"),dr(!1),or(""),sr("I confirm the deletion of this bill."),vr("")}},"Delete Bill")):n.a.createElement("div",{className:"d-flex align-items-baseline"},n.a.createElement("p",null,n.a.createElement("span",{style:{color:"red"}},n.a.createElement(za.a,{icon:tt.h}))," ",n.a.createElement("b",null,"IRN Generation Failed")),"1"===D.delete&&"Q"===j&&n.a.createElement(Ol.a,{className:"mx-2 pointer",bg:"warning",onClick:()=>{const e={coporate:Re,individual:Oe,location:B,billdate:Er,hdrsrno:M,type:"SP",pForexTotal:Wt,pSgst:It,pIgst:Gt,pUgst:Kt,pCgst:Lt,pOtherCharges:Tt,pRoundOff:Zt,pTaxableVal:""===el?0:el,pTotalAmount:ft,productList:be,ppStateType:ue,ppStateValue:oe,nState:Ie.value};ct()(".loader").show(),Ye(we,[u,"generateirn",JSON.stringify(e)],e=>{let a=JSON.parse(e);ct()(".loader").hide(),""!=a.msg?(v(!0),f(a.msg)):"0"==a.irn.Status?alert(JSON.stringify(a.irn.ErrorDetails)):(T(""),v(!0),f("IRN Generated successfully."))})}},"Generate"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===j||"E"===j?(O(E("WRN0000")),g(!0)):yc())},"Back"),"\xa0","1"===D.edit&&"Q"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{style:{display:"1"===Xn&&"none"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,a=un.split("/"),t=a[2]+"-"+a[1]+"-"+a[0],l=Ea(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5),o={srno:M,type:"SP",pageright:"TRAN_SP",location:B,spLocation:B};Ye(re,[u,"checkForvtmActivation",JSON.stringify(o)],a=>{ct()(".loader").hide();let t=JSON.parse(a);1===t.counter?(v(!0),f(t.msg)):Ye(_e,[u,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);jr(t.requestsrc),Be==c||"unlock"==t.msg?(T("E"),be.length>0&&rl(!1)):(pn(!0),hn({trantype:"SP",trannumber:M,location:B,tranDate:Ea(e)}))})})})()},"Edit"),"\xa0"):null,"1"===D.edit&&"E"===j||"1"===D.add&&"A"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();var e=0,t=Ea(te),l=0;null!==Je&&(l=Ea(Je));for(var n=0;n<jl.length;n++)"CH"===jl[n].tp_payment_type&&jl[n].tp_amount,"PB"===jl[n].tp_payment_type?e-=1*jl[n].tp_amount:e+=1*jl[n].tp_amount;var r=[],c=0;if(null===Oe||null===ve||null===Ge||""===ze||""===Ue||null==Je||""===He||""===Ln.trim()||null===Ln||l<t||gr>0&&Tt<gr||null===Lr||null!=Lr&&"OTHER"===Lr.id.split("^")[2]&&""==xr)ct()(".loader").hide(),r[c++]=E("MSG0006"),r[c++]=null===Oe?"Traveller":"",r[c++]=""===Ln.trim()||null===Ln?"Traveller PAN is mendatory.":"",r[c++]=null===ve?"Purpose":"",r[c++]=null===Ge?"Country":"",r[c++]=""===Ue?"Flight Number":"",r[c++]=""===ze?"Ticket Number":"",r[c++]=null===Je?"Departure Date":"",r[c++]=""===He?"Duration of stay abroad":"",r[c++]=l<t?"Departure date can't be before bill date.":"",r[c++]=gr>0&&Tt<gr?"Other charges can't be less than pre-set service charges.":"",r[c++]=null===Lr?"Source Of Fund":"",null!=Lr&&(r[c++]="OTHER"===Lr.id.split("^")[2]&&""==xr?"Source Of Fund":""),f(ja(r)),v(!0);else if(ft!=e)ct()(".loader").hide(),f("Total amount of payment must be equal to calculated INR."),v(!0);else{const e={srno:M,spLocationValue:B,spSaleType:de,spNewDate:Ea(te),nCorporate:Re,nCountry:Ge,nState:Ie.value,nResident:De,nTraveller:Oe,nPurpose:ve,nExecutive:ge,pForexTotal:Wt,nFlightNo:Ue,nTicketNo:ze,nVisaType:Xe,nDepDate:Ea(Je),nTicketClass:aa,nDuration:He,nPanForm60:la,nMode:oa,pSgst:It,pIgst:Gt,pUgst:Kt,pCgst:Lt,pTcs:Vr,pOtherCharges:Tt,pRoundOff:Zt,pTaxableVal:el,pTotalAmount:ft,nTravellerCode:ke,spProductList:be,paymentData:jl,prd_usd_rate:""==gn?0:gn,radioType:a,spLocation:B,spIndividual:H,spSrnoTo:ee,spSrnoFrom:Z,spFromDate:Ea(z),spToDate:Ea(U),ppStateType:ue,ppStateValue:oe,sourceOfFund:Lr,sourceOfFundOther:xr,nRemark1:Mr,nRemark2:Fr,travellerPan:Ln,purpose:fe,loan:Qr,reqLoanAccountNo:Yr,reqLoanApplicant:Hr,reqLoanApplicantPassport:Xr,reqLoanApplicantPan:$r,reqLoanCoApplicant:ac,reqLoanCoApplicantPassport:lc,reqLoanCoApplicantPan:rc,reqLoanDisbRefNo:Ec,reqLoanDisbDate:Ea(ic),reqLoanDisbAmt:""===uc?0:uc,reqLoanInstName:oc},t=Ja(Pr,[e]);if("1"===D.edit&&"E"===j&&Gn(Ba(Fn,t,"SP",B)),r="",Ye(re,[u,"savedata",JSON.stringify(e),JSON.stringify(Fn)],e=>{ct()(".loader").hide();let a=JSON.parse(e);"MSG0000"===a.msg?(G(a.spList),T("Q"),b("INFO"),gc(a.srno,Ea(te)),"undefined"!==typeof a.irn.Status&&"0"==a.irn.Status&&(r=", IRN generation failed",alert(JSON.stringify(a.irn.ErrorDetails))),""!=a.printhtml&&window.open().document.write(a.printhtml),v(!0),f(E(a.msg)+r),Gn([])):"CREDIT_PERIOD_EXCEEDED"===a.msg||"CREDIT_LIMIT_EXCEEDED"===a.msg?(In(!0),Rn(a.msg+", Do you want to request for additional limit?")):(v(!0),f(a.msg))}),"E"==j&&"SELF"!==fr){const e={srno:M,type:"SP",status:"E",currentDate:Ea(dn),pageright:"TRAN_SP"};Ye(_e,[u,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null,"1"===D.query&&"Q"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>fc("D")},"With Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>fc("")},"Without Deno"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(mn(!0),void cn({location:B,trannumber:M,type:"SP"}))},"Fa View"),"\xa0","1"===D.edit&&"Q"===j?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(qn(!0),void Jn({trantype:"SP",trannumber:M,trancategory:"T",location:B}))},"Activity Log"),"\xa0"):null):null,"Q"===j&&n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>hc()},"Add New"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",M)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,ln," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,an))),n.a.createElement(Xa.a,{className:"ppCharges"},n.a.createElement("span",null,n.a.createElement("b",null,"Forex Total (INR): ",Wt)),"\xa0\xa0\xa0",n.a.createElement("span",null,n.a.createElement("b",null,"Total Amount (INR): ",ft)))),n.a.createElement(kt.a,{activeKey:p,defaultActiveKey:"INFO",onSelect:e=>(e=>{if(b(e),"PAYMENT"===e){il(null),bl("");const e=jl.reduce((e,a)=>e+1*a.tp_amount,0);gl(1*ft-e)}})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ge,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Vt,onInputChange:Mt,onChange:e=>{Se(e)},isDisabled:"Q"===j}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode"),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:oa,onChange:e=>ua(e.target.value)},n.a.createElement("option",{value:"B"},"In Branch"),n.a.createElement("option",{value:"D"},"Delivery")))),n.a.createElement(Xa.a,{style:{display:"none"},className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sale Type"),n.a.createElement(s.a.Select,{value:de,onChange:e=>Ee(e.target.value),disabled:!0},n.a.createElement("option",{value:"N"},"Normal"),n.a.createElement("option",{value:"E"},"EEFBC"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Traveller/Applicant Info"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-12 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Traveller/Applicant Name",n.a.createElement("span",{className:"colorThemeRed"},"*"),"Q"===j?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"tranNewFormText",onClick:()=>jc("A")},"Not in list? Create New"),"\xa0\xa0",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>jc("E")},"Edit")),1===yn?n.a.createElement("span",{style:{display:"Q"===j&&"none"},className:"mx-2",onClick:()=>{ct()(".loader").show(),vn(!0);const e={srno:Kl};Ye(re,[u,"getpretran",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),_n("")):_n(a)})}},n.a.createElement(Ol.a,{bg:"secondary"},"Previous Transaction")):null,1===yn?n.a.createElement("span",{style:{display:"Q"===j&&"none"},className:"mx-2",onClick:()=>{ct()(".loader").show(),jn(!0);const e={srno:Kl};Ye(re,[u,"getlrntran",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""===a?(alert("Select Individual First "),Dn("")):Dn(a)})}},n.a.createElement(Ol.a,{bg:"secondary"},"LRS Transaction")):null),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Pt(e,"SALE"),onInputChange:Mt,onChange:Sc,isDisabled:"Q"===j,formatOptionLabel:dl,components:{Menu:El}})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purpose",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ve,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:zt,onInputChange:Mt,onChange:e=>{Ce(e);var a=e.id.split("^");je(a[2])},isDisabled:"Q"===j}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Residential Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:De,onChange:e=>Le(e.target.value)},x.map((e,a)=>n.a.createElement("option",{value:e.mrs_srno,key:a},e.mrs_resident))))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Traveller/Employee Code"),n.a.createElement(s.a.Control,{disabled:"Q"===j,maxLength:20,value:ke,onChange:e=>Ae(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"Corporate"),n.a.createElement("span",{style:{display:"Q"===j&&"none"},className:"mx-2",onClick:()=>(Fe(null),void Me({value:oe,label:ne}))},n.a.createElement(Ol.a,{bg:"secondary"},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Re,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"CORPORATE",B),onInputChange:Mt,onChange:e=>{Fe(e);var a=e.id.split("^");Me({value:a[3],label:a[4]}),Nc(a[8],e),Sr(""==a[8]?0:a[8])},isDisabled:"Q"===j}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place of Supply"),n.a.createElement(vt.a,{isDisabled:!0,options:A,value:Ie,onChange:e=>Me(e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Source of Fund",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Lr,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Qt,onInputChange:Mt,onChange:e=>{kr(e),Ir(e.id.split("^")[2])},isDisabled:"Q"===j}))),"OTHER"===Ar?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Enter Source Of Income",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===j,placeholder:"Source Of Income",type:"text",maxLength:50,value:xr,onChange:e=>na(e.target.value,wr)}))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Visit Info"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country to Visit",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ge,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Yt(e),onInputChange:Mt,onChange:e=>{Pe(e)},isDisabled:"Q"===j}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ticket Class"),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:aa,onChange:e=>ta(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"FC"},"First Class"),n.a.createElement("option",{value:"BC"},"Business Class"),n.a.createElement("option",{value:"EC"},"Economy Class")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flight No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===j,placeholder:"Flight No",type:"text",maxLength:20,value:Ue,onChange:e=>na(e.target.value,Ke)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ticket No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===j,placeholder:"Ticket No",type:"text",maxLength:20,value:ze,onChange:e=>na(e.target.value,Qe)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Departure Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Je,onChange:e=>qe(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===j,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Duration of stay abroad",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===j,placeholder:"Duration",type:"text",maxLength:2,value:He,onChange:e=>ea(e.target.value,We)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Visa Type",n.a.createElement("span",{style:{display:"Q"===j&&"none"},className:"mx-2",onClick:()=>{$e(null)}},n.a.createElement(Ol.a,{bg:"secondary"},"Reset"))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Xe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Ut,onInputChange:Mt,onChange:e=>{$e(e)},isDisabled:"Q"===j})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 1"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 1",disabled:"Q"===j,value:Mr,onChange:e=>Rr(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark 2"),n.a.createElement(s.a.Control,{type:"text",maxLength:100,placeholder:"Remark 2",disabled:"Q"===j,value:Fr,onChange:e=>Gr(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan"),n.a.createElement(s.a.Select,{disabled:"Q"===j,value:Qr,onChange:e=>Ur(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes"))))),n.a.createElement(Wa.a,null,"\xa0"),"1"===Qr&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Loan Related Details"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Institute Name"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Account No",maxLength:50,autoComplete:"off",value:oc,onChange:e=>na(e.target.value,mc)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Account No"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Account No",maxLength:50,autoComplete:"off",value:Yr,onChange:e=>na(e.target.value,Kr)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Disb. Amount"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Account No",maxLength:50,autoComplete:"off",value:uc,onChange:e=>ea(e.target.value,sc)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Disb. Date"),n.a.createElement(vl.a,{className:"form-control",selected:ic,onChange:e=>dc(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)}),disabled:"Q"===j}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Disb Reference No"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Account No",maxLength:50,autoComplete:"off",value:Ec,onChange:e=>na(e.target.value,pc)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Applicant"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Applicant",maxLength:50,autoComplete:"off",value:Hr,onChange:e=>ca(e.target.value,Wr)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Applicant Passport"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Applicant Passport",maxLength:50,autoComplete:"off",value:Xr,onChange:e=>Zr(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Applicant Pan"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Applicant Pan",maxLength:50,autoComplete:"off",value:$r,onChange:e=>ec(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Co Applicant"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Co Applicant",maxLength:50,autoComplete:"off",value:ac,onChange:e=>ca(e.target.value,tc)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Co App Passport"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Co App Passport",maxLength:50,autoComplete:"off",value:lc,onChange:e=>nc(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Loan Co App Pan"),n.a.createElement(s.a.Control,{disabled:"Q"===j,type:"text",placeholder:"Loan Co App Pan",maxLength:50,autoComplete:"off",value:rc,onChange:e=>cc(e.target.value)}))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>b("DETAILS")},"Details->")))),n.a.createElement(xt.a,{eventKey:"DETAILS",title:"Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),"Q"===j?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Ma,onChange:e=>(e=>{Ra(e),Ca(null),Ee("N"),Na(null),La(""),wa("VTM"===e?1:""),Ia(""),Ya(null),$a(""),Va(""),lt(""),ot("")})(e.target.value),ref:e},n.a.createElement("option",{value:"CN"},"CN"),n.a.createElement("option",{value:"VTM"},"VTM")))),"VTM"===Ma&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:tl,onChange:e=>(e=>{ll(e),Ya(null),$a(""),lt(""),ot(""),La(""),Ia("")})(e.target.value)},n.a.createElement("option",{value:"S"},"Sale"),n.a.createElement("option",{value:"R"},"Reload")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*"),"\xa0\xa0",null!==va&&"VTM"===Ma&&n.a.createElement(Ol.a,{bg:"success",size:"sm"},"DSR: (",Br,")")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:va,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,Ma),onInputChange:Mt,onChange:e=>{qr(""),Ca(e);let a=e.id.split("^");Ta(a[1]),it(null),ht(""),yt(""),Ya(null),$a("");const t={isd:a[1],location:B,product:Ma};if(Ye(ye,[u,"getrate",JSON.stringify(t)],e=>{let a=JSON.parse(e);Ia(Math.round(1e5*a.salerate)/1e5),Nt(1*a.maxsalerate),_t(1*a.minsalerate),Sn(1*a.usdratesale)}),"VTM"===Ma){const e={isd:a[1],product:"VTM",billdate:Ea(te)};Ye(Te,[u,"getlatestdsr",JSON.stringify(e)],e=>{let a=JSON.parse(e);qr(a.dsrrate)})}}}))),"VTM"===Ma?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ha,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",B),onInputChange:Mt,onChange:e=>{Na(e);var a=e.id.split("^");ia(a[1]),ba(a[2]),Ya(null),$a("")}}))):null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"VTM"===Ma?"Value":"Denomination",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",value:Da,maxLength:5,onChange:e=>(e=>{ea(e,La),yt(Tc($l,dt,ka,e,Aa))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"VTM"===Ma&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Quantity",value:ka,maxLength:9,onChange:e=>(e=>{Ze(e,wa),""===Ma&&lt(1*e+1*Ua-1),yt(Tc($l,dt,e,Da,Aa))})(e.target.value)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("span",{style:{display:"Q"===j&&"none"},className:"mx-2",onClick:()=>{ct()(".loader").show();var e=[],a=0;if(null===va)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===va?" Select ISD.":"",f(ja(e)),v(!0);else{Pl(!0),Ca(va);let e=va.id.split("^");Ta(e[1]),it(null),ht(""),yt("");const a={isd:e[1],location:B,product:Ma};Ye(ye,[u,"getrate",JSON.stringify(a)],e=>{let a=JSON.parse(e);""===a?(alert("Select Individual First "),ct()(".loader").hide()):(Array.isArray(a)?Bl(a):a&&"object"===typeof a&&Bl([a]),ct()(".loader").hide())})}}},n.a.createElement(Ol.a,{bg:"secondary"},"See Min/Max Rate")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Rate",value:Aa,maxLength:Ve,onChange:e=>(e=>{ea(e,Ia),yt(Tc($l,dt,ka,Da,e))})(e.target.value)})))),"VTM"===Ma?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Prefix",type:"text",maxLength:5,value:Ga,onChange:e=>na(e.target.value,Va)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),"S"===tl?n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ua,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>cl(e,{isd:_a,location:B,group:sa,account:da,product:"VTM",type:"VTMIN"}),onInputChange:Mt,onChange:Oc}):n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ua,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ol(e,{isd:_a,location:B,group:sa,account:da,product:"VTM",type:"SP"}),onInputChange:Mt,onChange:Oc}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"To",type:"text",maxLength:6,value:et,onChange:e=>Ze(e.target.value,lt)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No"),n.a.createElement(s.a.Control,{disabled:"R"===tl,placeholder:"Card No",maxLength:20,type:"text",value:rt,onChange:e=>ot(e.target.value)})))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission"),n.a.createElement(s.a.Select,{value:mt,onChange:e=>ut(e.target.value)},n.a.createElement("option",{value:"0"},"No"),n.a.createElement("option",{value:"1"},"Yes")))),"1"===mt?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Agent",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:st,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"AGENT",B),onInputChange:Mt,onChange:e=>{it(e),Ye(L,[u,"getisdcommission",e.id,_a,Ma],e=>{console.log(e);let a=JSON.parse(e);var t;ht(a.type),en(a.value),t="P"===a.type||"R"===a.type?Tc(a.value,a.type,ka,Da,Aa):a.value,yt(t)})}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:dt,onChange:e=>(e=>{ht(e),en(""),yt("")})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Paisa"),n.a.createElement("option",{value:"R"},"Percentage"),n.a.createElement("option",{value:"F"},"Flat")))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:5,value:$l,onChange:e=>(e=>{ea(e,en),yt(Tc(1*e,dt,ka,Da,Aa))})(e.target.value)}))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Commission Value"),n.a.createElement(s.a.Control,{disabled:!0,value:gt,onChange:e=>ea(e.target.value,yt)})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>vc()},"Add"),"\xa0",n.a.createElement(i.a,{variant:"outline-secondary",className:"buttonStyle",size:"sm",onClick:()=>b("PAYMENT"),onKeyDown:a=>{"Enter"===a.key?b("PAYMENT"):"Tab"===a.key&&(a.preventDefault(),e.current.focus())}},"Payment->")))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(Ol.a,{className:"handCursor",bg:"primary",onClick:()=>{Un(!0)}},"View Commission Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Isd Code"),n.a.createElement("th",null,"Isd Name"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"USD Rate"),n.a.createElement("th",null,"USD Amount"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,be.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"===j||"N"===e.delny?null:n.a.createElement("span",{onClick:()=>(e=>{const a=be.find(a=>a.uniquekey===e);if(a){const e={TabType:"Product",ALineNo:Fn.length+1,AType:"D",TLoc:B,TType:"SP",Product:a.prd_product,ISD:a.isd_name,Deno:a.prd_deno,Quantity:a.prd_qty,Rate:a.prd_rate,Amount:a.prd_amount,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account,AgentGroupCode:a.prd_agent_group,AgentLedgerCode:a.prd_agent_ledger,CommsnType:a.prd_commission_type,CommsnRate:a.prd_commission_value,CommsnAmnt:a.prd_commission};console.log(e),"1"===D.edit&&"E"===j&&Gn(a=>[...a,e])}const t={tranType:"SP",type:"SALE",pOtherCharges:""===Tt?0:Tt,ppStateType:ue,ppStateValue:oe,nState:Ie.value,nCorporate:Re,travellerPan:Ln,loan:"1"===Qr?"Y":"N",purpose:fe},l=ga(be,"uniqueKey",e);he(l),Vl(ql-1),_c(l,t)})(e.uniqueKey),className:"colorThemeBlue pointer"},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.isd_name),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,e.prd_usd_rate),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to))))))),n.a.createElement(xt.a,{eventKey:"PAYMENT",title:"Payment"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Taxable Value: ",el)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"SGST: ",It)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"IGST: ",Gt)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"CGST : ",Lt)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"UGST : ",Kt)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"TCS : ",Vr)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement(s.a.Label,null,"Round Off: ",Zt))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"flex",alignItems:"center"}},n.a.createElement("span",null,"OtherCharges: \xa0"),n.a.createElement("span",null,n.a.createElement(s.a.Control,{size:"sm",placeholder:"Other Charges",type:"text",maxLength:5,value:Tt,onChange:e=>Nc(e.target.value),disabled:nl||"Q"===j})))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Payment Details"))),"Q"===j?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Payment Type"),n.a.createElement(s.a.Select,{value:pl,onChange:e=>(e=>{wn(!1),bl(e),il(null),yl(0),fl("");var a="";if(""!==e){if("CH"===e)a="CASH";else{if("BN"===e)return a="BANK",void Il("BANK");if("CQ"===e)a="CHEQUE";else if("RC"===e){if(a="WALKIN",null!==Re)return il(Re),void wn(!0)}else a="WALKIN"}Il(a),Ye(L,[u,"getledgerinfo",a],e=>{let a=JSON.parse(e);il({id:a.id,label:a.label})})}})(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"CH"},"Cash"),n.a.createElement("option",{value:"BN"},"Bank"),n.a.createElement("option",{value:"CQ"},"Cheque"),n.a.createElement("option",{value:"RC"},"Recievables")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:sl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,Al,B),onInputChange:Mt,onChange:e=>{il(e);var a=e.id.split("^");Cl(a[1]),yl(a[2])},isDisabled:xn}))),""!==pl?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Amount",value:hl,onChange:e=>ea(e.target.value,gl)}))):null),"BN"===pl?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Reference No",maxLength:255,value:_l,onChange:e=>ma(e.target.value,fl)})))):"CQ"===pl?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Cheque No",type:"text",maxLength:10,value:_l,onChange:e=>na(e.target.value,fl)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{placeholder:"Bank Name",type:"text",maxLength:50,value:Ll,onChange:e=>na(e.target.value,kl)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:xl,onChange:e=>wl(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"RC"===pl?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{type:"text",maxLength:255,placeholder:"Remark",disabled:"Q"===j,value:Tr,onChange:e=>ma(e.target.value,Dr)})))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();var e=[],a=0;if(ft<1)ct()(".loader").hide(),e[a++]=ft<1?"Total amount must be greater than 0.":"",f(ja(e)),v(!0);else if(""===pl||null===sl||hl<1||"CQ"===pl&&(""===_l||""===Ll||null===xl)||"BN"===pl&&""===_l||"RC"===pl&&""===Tr)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=null===sl?"Account.":"",e[a++]=""===pl?"Payment Type.":"",e[a++]=hl<1?"Entered amount can't be 0.":"",e[a++]="RC"===pl&&""===Tr?"Remark ":"","CQ"!==pl||""!==_l&&""!==Ll&&null!==xl||(e[a++]=""===_l?"Cheque Number.":"",e[a++]=""===Ll?"Bank Name.":"",e[a++]=null===xl?"Cheque Date":""),"BN"===pl&&""===_l&&(e[a++]=""===_l?"Refernece Number.":""),f(ja(e)),v(!0);else{ct()(".loader").hide();{var t=0,l=0,n="";if(null!==sl){var r=sl.id.split("^");t=r[1],l=r[2],n=r[5]}const e={uniquekey:Oa(10),tp_line_no:Ml+1,tp_location:B,tp_srno:M,tp_payment_type:pl,tp_account:l,tp_group:t,mvli_ledger_name:n,tp_amount:hl,tp_cheque:_l,tp_cheque_bank:Ll,tp_cheque_date:"CQ"===pl?Ea(xl):"NULL",tp_type:"SP",tp_remark:Tr,delny:"Y"},a=qa(e,jl);if(a)a.tp_amount=(1*a.tp_amount||0)+(1*e.tp_amount||0);else{const a=Sa(jl,e);Tl(a);const r={TabType:"Payment",AType:"A",ALineNo:Fn.length+1,TLoc:B,TType:"SP",PaymentType:pl,PaymentLedgerCode:l,PaymentGroupCode:t,PaymentAccountName:n,PaymentAmount:hl,ReferenceNo:_l,Remark:Tr};"1"===D.edit&&"E"===j&&Gn(e=>[...e,r])}bl(""),Rl(1*Ml+1),il(null),fl(""),kl(""),wl(null),Dr(""),Vl(ql+1);const c=jl.reduce((e,a)=>e+1*a.tp_amount,0);gl(1*ft-c)}}})()},"Add")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Cheque/Refernece No/Remark"))),n.a.createElement("tbody",null,jl.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,"Q"!==j?n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>(e=>{ct()(".loader").show();const a={srno:M,location:B,type:"SP",payment_line_no:e.tp_line_no};Ye(K,[u,"shouldDelete",JSON.stringify(a)],a=>{ct()(".loader").hide();let t=JSON.parse(a);if(M<1||"1"==t.isdeletable){const a=ga(jl,"uniquekey",e.uniquekey);Tl(a);const t=a.reduce((e,a)=>e+1*a.tp_amount,0);gl(1*ft-t);const l=jl.find(a=>a.uniquekey===e.uniquekey);if(l){const e={TabType:"Payment",ALineNo:Fn.length+1,AType:"D",TLoc:B,TType:"SP",PaymentType:l.tp_payment_type,PaymentGroupCode:l.tp_group,PaymentLedgerCode:l.tp_account,PaymentAccountName:l.mvli_ledger_name,PaymentAmount:l.tp_amount,ReferenceNo:l.tp_cheque};"1"===D.edit&&"E"===j&&Gn(a=>[...a,e])}Tl(ga(jl,"uniquekey",e.uniquekey))}else v(!0),f("Cannot delete, amount aleady knockedoff.")}),Vl(ql-1)})(e)},n.a.createElement(za.a,{icon:tt.r})):null),n.a.createElement("td",null,"BN"===e.tp_payment_type?"Bank":"CQ"===e.tp_payment_type?"Cheque":"CH"===e.tp_payment_type?"Cash":"RC"===e.tp_payment_type?"Reveivables":"PB"===e.tp_payment_type?"Payables":"AP"===e.tp_payment_type?"Advance Paid":"AR"===e.tp_payment_type?"Advance Received":""),n.a.createElement("td",null,e.tp_group),n.a.createElement("td",null,e.tp_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tp_amount),n.a.createElement("td",null,"RC"===e.tp_payment_type?e.tp_remark:e.tp_cheque))))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(pt.a,{show:Nn,size:"xl",onHide:()=>vn(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"Previous Transaction"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null," Branch"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Certificate"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"USD"),n.a.createElement("th",null,"Departure"),n.a.createElement("th",null,"Cash"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Receivable"))),n.a.createElement("tbody",null,Cn.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tp_type),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.hdr_departure_date),n.a.createElement("td",null,"CH"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"BN"===e.tp_payment_type?e.tp_amount:""),n.a.createElement("td",null,"RC"===e.tp_payment_type?e.tp_amount:"")))))))),n.a.createElement(pt.a,{show:fn,size:"xl",onHide:()=>jn(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"Previous Transaction"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null," Branch"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Certificate"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"USD Equivalent"),n.a.createElement("th",null,"Value"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Tn.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tp_type),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_usd_amount),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(pt.a,{show:Fl,size:"xl",onHide:()=>Pl(!1),scrollable:!0,backdrop:"static"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("span",null,"MIN/MAX RATE CARD"),n.a.createElement("span",null,"\xa0"))))),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,responsive:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ISD"),n.a.createElement("th",null," MINIMUM"),n.a.createElement("th",null,"RATE"),n.a.createElement("th",null,"MAXIMUM"))),n.a.createElement("tbody",null,Jl.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.minsalerate),n.a.createElement("td",null,e.salerate),n.a.createElement("td",null,e.maxsalerate)))))))),n.a.createElement(bt,{logObject:Pn,show:Bn,onHide:()=>qn(!1)}),n.a.createElement("span",{className:"corner-span"},ql),n.a.createElement(Gl,{faViewObject:rn,show:on,onHide:()=>mn(!1)}),n.a.createElement(nr,{show:Qn,onHide:()=>Un(!1),productList:be}),n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:h,onYes:e=>yc(),onNo:e=>g(!1)},y),n.a.createElement(St,{isOpen:An,onYes:e=>(()=>{ct()("loader").show();const e={paymentData:jl,spNewDate:Ea(te),nTraveller:Oe,srno:M,spLocationValue:B};Ye(xe,[u,"addlimit",JSON.stringify(e)],e=>{let a=JSON.parse(e);ct()("loader").hide(),In(!1),v(!0),f(a.msg)})})(),onNo:e=>In(!1)},Mn),n.a.createElement(ur,{isOpen:Yn,onYes:e=>(()=>{const e={hdrSrno:M,location:B,type:"SP",irnObj:$n,irnCancelReason:cr,irnCancelReasonSelect:Nr};return""===cr?(Kn(!1),v(!0),void f("Please fill reason.")):ir?(ct()(".loader").show(),void Ye(we,[u,"cancelirn",JSON.stringify(e)],e=>{ct()(".loader").hide(),Kn(!1);let a=JSON.parse(e);"2"==a.Status?(v(!0),f(a.msg)):"1"==a.Status?(T(""),v(!0),f("IRN cancelled successfully, Cancel Date "+a.Data.CancelDate)):alert(JSON.stringify(a.ErrorDetails))})):(Kn(!1),v(!0),void f("Please check the declaration."))})(),onNo:e=>Kn(!1),text:Hn,checkLabel:mr,irnCancelDeclaration:ir,setIrnCancelDeclaration:dr,irnCancelReason:cr,setIrnCancelReason:or,irnCancelReasonSelect:Nr,setIrnCancelReasonSelect:vr}),n.a.createElement(Dl,{logObject:bn,show:En,onHide:()=>pn(!1)}))};var pr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)("N"),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(!1),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(!1),[I,M]=Object(l.useState)(null),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(0),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)("PP"),[z,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)("PP"),[ee,ae]=Object(l.useState)(null),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)([]),[me,ue]=Object(l.useState)([]),[se,ie]=Object(l.useState)([]),[de,pe]=Object(l.useState)(""),[be,he]=Object(l.useState)(""),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(0),[Ce,fe]=Object(l.useState)(0),[je,Te]=Object(l.useState)(0),[De,Le]=Object(l.useState)(0),[ke,xe]=Object(l.useState)(""),we=new Date,[Ae,Ie]=Object(l.useState)(!1),[Me,Re]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Fe,Ge]=Object(l.useState)([]),[Pe,Je]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Ve,ze]=Object(l.useState)(!1),[Qe,Ue]=Object(l.useState)("");var Ke=[],He=0;Object(l.useEffect)(()=>{d||(xa().then(e=>{M(e),null!=e&&We(e)}),Ye(_,[a,"all","TRAN_TRF_MANUAL_BOOK"],a=>{let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const We=e=>{M(e);const a=e.id.split("^");P(a[1]),F(a[2]),sessionStorage.activeBranch=a[1]},Xe=()=>{O(!1),h("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Manual Book"))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:We,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===g,onChange:()=>S("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===g,onChange:()=>S("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===g,onChange:()=>S("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"MT"===g,onChange:()=>S("MT"),type:"radio",label:"Manual Type"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"MN"===g,onChange:()=>S("MN"),type:"radio",label:"Manual No"})))))),n.a.createElement(Wa.a,null,"N"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:J,minDate:new Date(t),maxDate:new Date(r),onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,maxLength:20,onChange:e=>Ze(e.target.value,H),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:W,maxLength:20,onChange:e=>Ze(e.target.value,X),placeholder:"To"})))):"D"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:z,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"MT"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Z,onChange:e=>$(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk"))))):"MN"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Manual No.",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>tl(e,G),onInputChange:Mt,onChange:e=>{ae(e),console.log(e);const a=e.id.split("^");re(a[4]),le(a[5])}})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.add&&"N"===g?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(J);I&&J?e>r||e<t?(f(!0),T(E("MSG0010"))):(h("A"),pe(""),he(""),Oe(""),Se(""),oe([])):(Ke[He++]=E("MSG0006"),Ke[He++]=I?"":" Location.",Ke[He++]=J?"":" Date.",T(ja(Ke)),f(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==g&&"D"!==g&&"MT"!==g&&"MN"!==g?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(null===I||"S"===g&&!K||"S"===g&&!W||"D"===g&&!z||"D"===g&&!U)Ke[He++]=E("MSG0006"),Ke[He++]=I?"":" Location.",Ke[He++]="S"!==g||K?"":" From.",Ke[He++]="S"!==g||W?"":" To.",Ke[He++]="D"!==g||z?"":" From Date.",Ke[He++]="D"!==g||U?"":" To Date.",T(ja(Ke)),f(!0);else if("MN"===g&&null===ee)T("Please select Manul No."),f(!0);else{console.log(I);const e={filterRadioType:g,filterLocation:G,filterFromDate:Ea(z),filterToDate:Ea(U),filterFromSrno:K,filterToSrno:W,filterManualType:Z,filterManualNo:ee,filterFromManualNo:te,filterPrefixManualNo:ne};Ye(Ee,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);ue(a)})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,me.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{ve(e),h("Q"),xe(n),Le(e);const r={srno:e,location:t,type:l};Ye(Ee,[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(oe(a.manualBookList),fe(a.maxlineno),F(a.locationname))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(v("Do you really want to exit ?"),O(!0)):Xe())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=ke.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:De,type:"MNLBK",pageright:"TRAN_TRF_MANUAL_BOOK",location:G};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);Ue(t.requestsrc),Be==o||"unlock"==t.msg?h("E"):(Ie(!0),Re({trantype:"MNLBK",trannumber:De,location:G,tranDate:Ea(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ze(!0),void Je({trantype:"MNLBK",trannumber:De,trancategory:"T",location:G}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(ce.length<1)T("Empty List!"),f(!0);else{const e={location:G,srno:Ne,date:Ea(J),data:ce,filterRadioType:g,filterLocation:G,filterFromDate:Ea(z),filterToDate:Ea(U),filterFromSrno:K,filterToSrno:W,filterManualType:Z,filterManualNo:ee,filterFromManualNo:te,filterPrefixManualNo:ne};if(Ye(Ee,[a,"save",JSON.stringify(e),JSON.stringify(Fe)],e=>{let a=JSON.parse(e);"true"===a.status?(ue(a),oe([]),h(""),Ge([])):(T(a.err),f(!0))}),"E"==b&&"SELF"!==Qe){const e={srno:Ne,type:"MNLBK",status:"E",currentDate:Ea(we),pageright:"TRAN_TRF_MANUAL_BOOK"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Sr No: ",Ne)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",R))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:q,onChange:e=>V(e.target.value)},n.a.createElement("option",{value:"PP"},"PP Purchase Public"),n.a.createElement("option",{value:"SP"},"SP Sale Public"),n.a.createElement("option",{value:"PB"},"PB Purchase Bulk"),n.a.createElement("option",{value:"SB"},"SB Sale Bulk")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:de,onChange:e=>(e=>{Ze(e.target.value,pe),""===be||""===e.target.value?Se(""):Se(1*be-1+1*e.target.value)})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:ye,onChange:e=>na(e.target.value,Oe),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:be,onChange:e=>(e=>{Ze(e.target.value,he),""===e.target.value||""===de?Se(""):Se(1*e.target.value-1+1*de)})(e),maxLength:16,placeholder:"From"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ge,disabled:!0,placeholder:"To"})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(""===de||""===be)e[a++]=E("MSG0006"),e[a++]=""===de?" Quantity.":"",e[a++]=""===be?" From.":"",T(ja(e)),f(!0);else if(de>=101)T("Quantity Should be less than 101!"),f(!0);else{const e={unique_no:Oa(5),tmb_srno:Ne,tmb_location:G,tmb_quantity:de,tmb_from:be,tmb_to:ge,tmb_prefix:ye,tmb_date:pa(J),tmb_type:"MNLBK",tmb_manual_type:q,tmb_line_no:1*Ce+1,del:"Y"};oe(Sa(ce,e));const a={ALineNo:Fe.length+1,AType:"A",TLoc:G,TType:"MNLBK",Quantity:de,ProductFrom:be,ProductTo:ge,ProductPrefix:ye,ManualType:q};"1"===o.edit&&"E"===b&&Ge(e=>[...e,a]),pe(""),he(""),Se(""),Oe(""),fe(Ce+1)}})()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"),n.a.createElement("th",null,"Manual Type"))),n.a.createElement("tbody",null,ce.map(e=>n.a.createElement("tr",{key:e.tmb_lino_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=ce.find(a=>a.unique_no===e);if(a){const e={ALineNo:Fe.length+1,AType:"D",TLoc:a.tmb_location,TType:"MNLBK",Quantity:a.tmb_quantity,ProductFrom:a.tmb_from,ProductTo:a.tmb_to,ProductPrefix:a.tmb_prefix,ManualType:a.tmb_manual_type};"1"===o.edit&&"E"===b&&Ge(a=>[...a,e])}oe(ga(ce,"unique_no",e)),Te(je+1)})(e.unique_no)},n.a.createElement(za.a,{icon:tt.r}))," "," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{const r={srno:e,lineno:t,location:l,type:n};Ye(Ee,[a,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);ie(a)}),A(!0)})(e.tmb_srno,e.tmb_line_no,e.tmb_location,e.tmb_type)},n.a.createElement(za.a,{icon:Qa.f})):null):null,n.a.createElement("td",null,e.tmb_prefix),n.a.createElement("td",null,e.tmb_quantity),n.a.createElement("td",null,e.tmb_from),n.a.createElement("td",null,e.tmb_to),n.a.createElement("td",null,e.tmb_manual_type)))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(bt,{logObject:Pe,show:Ve,onHide:()=>ze(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:C,onClose:e=>f(!1)},j),n.a.createElement(St,{isOpen:y,onYes:e=>Xe(),onNo:e=>O(!1)},N),n.a.createElement(Ka,{isOpen:D,onClose:e=>L(!1)},k),n.a.createElement(Dl,{logObject:Me,show:Ae,onHide:()=>Ie(!1)})),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:w,onHide:()=>A(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,se.map(e=>n.a.createElement("tr",{key:e.tmb_line_no},n.a.createElement("td",null,e.tmbb_from),n.a.createElement("td",null,e.tmbb_out_srno),n.a.createElement("td",null,e.tmbb_out_type),n.a.createElement("td",null,e.tmbb_out_line_no),n.a.createElement("td",null,e.tmbb_out_location))))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>A(!1)},"Close")))))};var br=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)([]),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(null),[q,V]=Object(l.useState)(null),[z,Q]=Object(l.useState)(0),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(0),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(new Date),[te,le]=Object(l.useState)(new Date),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(0),[Oe,Ne]=Object(l.useState)(0),[ve,Ce]=Object(l.useState)(0),[fe,je]=Object(l.useState)(0),[Te,De]=Object(l.useState)(0),[Le,ke]=Object(l.useState)(""),xe=new Date,[we,Ae]=Object(l.useState)(!1),[Ie,Me]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Re,Fe]=Object(l.useState)([]),[Ge,Pe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Je,qe]=Object(l.useState)(!1),[ze,Qe]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{B(e),null!=e&&Ue(e)}),Ye(_,[a,"all","TRAN_TRF_OUT_CURRENCY"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const Ue=e=>{console.log(e),B(e);const a=e.id.split("^");Q(a[1]),Y(a[2]),sessionStorage.activeBranch=a[1]},Ke=()=>{S(!1),h("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Transfer Out Currency"))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ue,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Z,minDate:new Date(t),maxDate:new Date(r),onChange:e=>$(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ul(e),onInputChange:Mt,onChange:e=>{console.log(e),V(e);const a=e.id.split("^");H(a[1]),X(a[2])}})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ne,maxLength:20,onChange:e=>Ze(e.target.value,re),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,maxLength:20,onChange:e=>Ze(e.target.value,oe),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:ee,onChange:e=>ae(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:te,onChange:e=>le(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0,l=Ea(Z);null===J||null===q?(e[a++]=E("MSG0006"),e[a++]=null===J?" From Location.":"",e[a++]=null===q?" To Location.":"",f(ja(e)),v(!0)):U===W?(f("From location and To location should not be same!."),v(!0)):l>r||l<t?(v(!0),f(E("MSG0010"))):(h("A"),A([]),ye(null),be(""),Ee(""),ge(""),ye(""),Ne(0),Ce(0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===J)f("Please Select Location!"),v(!0);else if("S"!==G||""!==ne&&""!==ce){const e={filterRadioType:G,filterLocation:z,filterFromDate:Ea(ee),filterToDate:Ea(te),filterFromSrno:ne,filterToSrno:ce};Ye("/api/tran_transfer_out_currency_a.php",[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);M(a)})}else e[t++]=E("MSG0006"),e[t++]="S"===G&&""===ne?" From.":"",e[t++]="S"===G&&""===ce?" To.":"",f(ja(e)),v(!0)})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"From Location"),n.a.createElement("th",null,"To Location"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,I.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{Ce(e),h("Q"),ke(n),De(e);const r={srno:e,location:t,type:l};Ye("/api/tran_transfer_out_currency_a.php",[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(A(a.currencyList),je(a.maxlineno),Q(a.fromLocationCode),H(a.toLocationCode),Y(a.fromLocation),X(a.toLocation),Ne(a.totalAmount))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_fromlocation),n.a.createElement("td",null,e.hdr_tolocation),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):Ke())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Le.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:Te,type:"CNOUT",pageright:"TRAN_TRF_OUT_CURRENCY",location:z};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);Qe(t.requestsrc),Be==o||"unlock"==t.msg?h("E"):(Ae(!0),Me({trantype:"CNOUT",trannumber:Te,location:z,tranDate:Ea(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(qe(!0),void Pe({trantype:"CNOUT",trannumber:Te,trancategory:"T",location:z}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(w.length<1)f("Empty list!"),v(!0);else{const e={fromLocation:z,toLocation:K,srno:ve,date:Ea(Z),totalAmount:Oe,data:w,status:"P",type:"CNOUT",filterRadioType:G,filterLocation:z,filterFromDate:Ea(ee),filterToDate:Ea(te),filterFromSrno:ne,filterToSrno:ce};if(ct()(".loader").show(),Ye("/api/tran_transfer_out_currency_a.php",[a,"save",JSON.stringify(e),JSON.stringify(Re)],e=>{ct()(".loader").hide();let a=JSON.parse(e);Fe([]),""===a.msg?(M(a.currency),V(null),A([]),h("")):(v(!0),f(a.msg))}),"E"==b&&"SELF"!==ze){const e={srno:ve,type:"CNOUT",status:"E",currentDate:Ea(xe),pageright:"TRAN_TRF_OUT_CURRENCY"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",ve)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"From Location : ",U)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"To Location : ",W)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Total Amount"),n.a.createElement(s.a.Control,{value:Oe,disabled:!0,placeholder:"Total"})))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{ue(e);const a=e.id.split("^");ie(a[1])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:de,onChange:e=>(e=>{Ze(e.target.value,Ee),""===e.target.value||""===pe||""===he?ye(""):ye(1*e.target.value*(1*pe)*(1*he))})(e),maxLength:20,placeholder:"Denomination"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:pe,onChange:e=>(e=>{Ze(e.target.value,be),""===e.target.value||""===de||""===he?ye(""):ye(1*e.target.value*(1*de)*(1*he))})(e),maxLength:20,placeholder:"Quantity"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:he,onChange:e=>(e=>{ea(e.target.value,ge),""===e.target.value||""===de||""===pe?ye(""):ye(1*e.target.value*(1*pe)*(1*de))})(e),maxLength:Ve,placeholder:"Rate"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:Se,disabled:!0,placeholder:"Amount"})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(null===me||""===de||""===pe||""===he)e[a++]=E("MSG0006"),e[a++]=null===me?"Select Currency.":"",e[a++]=""===de?"Denomination.":"",e[a++]=""===pe?"Quantity.":"",e[a++]=""===he?"Rate.":"",f(ja(e)),v(!0);else{let e={unique_no:Oa(5),prd_line_no:1*fe+1,prd_location:z,prd_date:Ea(Z),prd_type:"CNOUT",prd_product:"CN",prd_isd:se,prd_deno:de,prd_qty:pe,prd_rate:he,prd_amount:Se,del:"Y"};A(Sa(w,e));const a={ALineNo:Re.length+1,AType:"A",TLoc:z,TType:"CNOUT",Product:"CN",ISD:se,Quantity:pe,Deno:de,ProductRate:he,ProductAmount:Se};"1"===o.edit&&"E"===b&&Fe(e=>[...e,a]);let t=0;for(let l=0;l<w.length;l++)t+=1*w[l].prd_amount;Ne(t),je(fe+1),ue(null),be(""),Ee(""),ge(""),ye("")}})()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,w.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=w.find(a=>a.unique_no===e);if(a){const e={ALineNo:Re.length+1,AType:"D",TLoc:a.prd_location,TType:"CNOUT",Product:"CN",ISD:a.prd_isd,Quantity:a.prd_qty,Deno:a.prd_deno,ProductRate:a.prd_rate,ProductAmount:a.prd_amount};"1"===o.edit&&"E"===b&&Fe(a=>[...a,e])}A(ga(w,"unique_no",e));let t=0;for(let l=0;l<w.length;l++)t+=1*w[l].prd_amount;Ne(t)})(e.unique_no)},n.a.createElement(za.a,{icon:tt.r}))," "," ")):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount)))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(bt,{logObject:Ge,show:Je,onHide:()=>qe(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:g,onYes:e=>Ke(),onNo:e=>S(!1)},y),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(Dl,{logObject:Ie,show:we,onHide:()=>Ae(!1)})))};var hr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,b]=Object(l.useState)(!1),[h,g]=Object(l.useState)(""),[S,y]=Object(l.useState)(!1),[O,N]=Object(l.useState)(""),[v,C]=Object(l.useState)(!1),[f,j]=Object(l.useState)(""),[T,D]=Object(l.useState)(!1),[L,k]=Object(l.useState)(""),[x,w]=Object(l.useState)(!1),[A,I]=Object(l.useState)(null),[M,R]=Object(l.useState)(null),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)(0),[B,q]=Object(l.useState)(""),[V,z]=Object(l.useState)(0),[Q,U]=Object(l.useState)("N"),[Y,K]=Object(l.useState)(new Date),[H,W]=Object(l.useState)(new Date),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)([]),[re,ce]=Object(l.useState)([]),[oe,me]=Object(l.useState)([]),[ue,se]=Object(l.useState)(null),[ie,de]=Object(l.useState)(""),[Ee,pe]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)("0"),[fe,je]=Object(l.useState)(0),[Te,De]=Object(l.useState)(0),[Le,ke]=Object(l.useState)(""),[xe,we]=Object(l.useState)(""),[Ae,Ie]=Object(l.useState)(0),[Me,Re]=Object(l.useState)(0),[Fe,Ge]=Object(l.useState)(""),[Pe,Je]=Object(l.useState)(""),[Ve,ze]=Object(l.useState)(0),[Qe,Ue]=Object(l.useState)(0),[Ke,He]=Object(l.useState)(""),We=new Date,[Xe,$e]=Object(l.useState)(!1),[ea,aa]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[ta,la]=Object(l.useState)([]),[na,ra]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ca,oa]=Object(l.useState)(!1),[ma,ua]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{I(e),null!=e&&sa(e)}),Ye(_,[a,"all","TRAN_TRF_OUT_VTC"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),b(!0))},[d,a,e]);const sa=e=>{I(e);const a=e.id.split("^");J(a[1]),G(a[2]),sessionStorage.activeBranch=a[1]},ia=e=>{if(null!=e){Ne(e);let a=e.id.split("^");ke(a[1]),we(a[2])}};const da=()=>{var e=[],t=0;if(""===ie||""===Ee||null===ue||"1"===ve&&null===Oe)e[t++]=E("MSG0006"),e[t++]="1"===ve&&null===Oe?" Select Currency.":"",e[t++]=null===ue?" Select Issuer.":"",e[t++]=""===ie?" Quantity.":"",e[t++]=""===Ee?" From.":"",j(ja(e)),C(!0);else if(ie>=101)j("Quantity Should be less than 101!"),C(!0);else{const e=Ee.id.split("^"),t={prd_location:P,prd_from:Pe,prd_to:he,type:"VTMIN",prd_isd:"1"===ve?Le:"",prd_qty:ie,prd_account:Te,prd_group:fe};if(!function(e){let a=!0;return le.find(t=>{t.prd_isd===e.prd_isd&&t.prd_group===e.prd_group&&t.prd_account===e.prd_account&&(1*t.prd_from<=1*e.prd_from&&1*e.prd_from<=1*t.prd_to||1*t.prd_from<=1*e.prd_to&&1*e.prd_to<=1*t.prd_to)&&(a=!1)}),a}(t))return j("Already exist From To in the List"),void C(!0);Ye(be,[a,"vtcList",JSON.stringify(t)],a=>{if(JSON.parse(a)===ie){const a={unique_no:Oa(5),prd_qty:ie,prd_from:Pe,prd_to:he,prd_location:P,prd_issuername:Fe,prd_isd:"1"===ve?Le:"",prd_date:Ea(Y),prd_type:"VTMOUT",prd_prefix:Se,prd_product:"VTM",prd_group:fe,prd_account:Te,prd_line_no:1*Me+1,tpb_in_srno:e[1],tpb_in_line_no:e[2],del:"Y"};ne(Sa(le,a));const t={ALineNo:ta.length+1,AType:"A",TLoc:P,TType:"VTMOUT",Product:"VTM",IssuerName:Fe,ISD:"1"===ve?Le:"",Quantity:ie,ProductFrom:Pe,ProductTo:he,ProductPrefix:Se,ProductAccout:Te,AgentGroupCode:fe,Account:Te};"1"===o.edit&&"E"===h&&la(e=>[...e,t]),console.log(le),Re(Me+1),Ne(null),se(null),de(""),pe(""),ge(""),ye("")}else j("Doesn't exist!"),C(!0)})}},pa=()=>{y(!1),g("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Transfer Out VTM"))),n.a.createElement(Wa.a,null,"\xa0"),""===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:A,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:sa,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===Q,onChange:()=>U("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===Q,onChange:()=>U("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===Q,onChange:()=>U("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Y,minDate:new Date(t),maxDate:new Date(r),onChange:e=>K(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:M,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>ul(e),onInputChange:Mt,onChange:e=>{R(e);const a=e.id.split("^");z(a[1]),q(a[2])}})))):"S"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:$,maxLength:20,onChange:e=>Ze(e.target.value,ee),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ae,maxLength:20,onChange:e=>Ze(e.target.value,te),placeholder:"To"})))):"D"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:H,onChange:e=>W(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:X,onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.add&&"N"===Q?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(Y),a=[],l=0;null===A||null===M?(a[l++]=E("MSG0006"),a[l++]=null===A?" From Location.":"",a[l++]=null===M?" To Location.":"",j(ja(a)),C(!0)):F===B?(j("From location and To location should not be same!."),C(!0)):e>r||e<t?(C(!0),j(E("MSG0010"))):(Ne(null),se(null),ne([]),de(""),pe(""),ge(""),g("A"),Re(0),Ie(0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==Q&&"D"!==Q?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===A)j("Please Select Location!"),C(!0);else if("S"!==Q||""!==$&&""!==ae){console.log(A);const e={filterRadioType:Q,filterLocation:P,filterFromDate:Ea(H),filterToDate:Ea(X),filterFromSrno:$,filterToSrno:ae};Ye(be,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);ce(a)})}else e[t++]=E("MSG0006"),e[t++]="S"===Q&&""===$?" From.":"",e[t++]="S"===Q&&""===ae?" To.":"",j(ja(e)),C(!0)})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,re.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{Ie(e),g("Q"),He(n),Ue(e);const r={srno:e,location:t,type:l};Ye(be,[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(ne(a.outVTCList),Re(a.maxlineno),J(a.fromLocationCode),z(a.toLocationCode),je(a.groupcode),De(a.ledgercode),G(a.fromLocation),q(a.toLocation))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===h||"E"===h?(N("Do you really want to exit ?"),y(!0)):pa())},"Back")," ","1"===o.edit&&"Q"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Ke.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:Qe,type:"VTMOUT",pageright:"TRAN_TRF_OUT_VTC",location:P};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);ua(t.requestsrc),Be==o||"unlock"==t.msg?g("E"):($e(!0),aa({trantype:"VTMOUT",trannumber:Qe,location:P,tranDate:Ea(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(oa(!0),void ra({trantype:"VTMOUT",trannumber:Qe,trancategory:"T",location:P}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===h||"1"===o.add&&"A"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(le.length<1)j("Empty List!"),C(!0);else{const e={group:fe,account:Te,fromLocation:P,toLocation:V,srno:Ae,date:Ea(Y),data:le,status:"P",type:"VTMOUT",filterRadioType:Q,filterLocation:P,filterFromDate:Ea(H),filterToDate:Ea(X),filterFromSrno:$,filterToSrno:ae};if(Ye(be,[a,"save",JSON.stringify(e),JSON.stringify(ta)],e=>{let a=JSON.parse(e);""===a.err?(ce(a.outVTCArr),ne([]),g(""),la([])):(j(a.err),C(!0))}),"E"==h&&"SELF"!==ma){const e={srno:Ae,type:"VTMOUT",status:"E",currentDate:Ea(We),pageright:"TRAN_TRF_OUT_VTC"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-3"},n.a.createElement(s.a.Label,null,"Sr No : ",Ae)),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"From Location : ",F)),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"To Location : ",B))),n.a.createElement(Wa.a,null,"\xa0"),"E"===h||"A"===h?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ve,onChange:e=>(e=>{Ce(e),ia(null)})(e.target.value),required:!0},n.a.createElement("option",{value:"0"},"Multi Currency"),n.a.createElement("option",{value:"1"},"Single Currency")))),"1"===ve&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"VTM"),onInputChange:Mt,onChange:ia}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ue,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",P),onInputChange:Mt,onChange:e=>{console.log(e),se(e);const a=e.id.split("^");je(a[1]),De(a[2]),Ge(a[5]),de(""),pe(""),ge("")}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ie,onChange:e=>(e=>{Ze(e.target.value,de),""===Pe||""===e.target.value?ge(""):ge(1*e.target.value+(1*Pe-1))})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a,t,l,n)=>{var r={sid:sessionStorage.getItem("sessionId"),type:"productbank",srch:e,location:a,groupCode:t,accountCode:l,currencyCode:n};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(r)).then(e=>JSON.parse(e.data))})(e,P,fe,Te,Le),onInputChange:Mt,onChange:e=>{pe(e),console.log(e);const a=e.id.split("^");ye(a[4]),Je(a[5]),""===a[5]||""===ie?ge(""):ge(1*a[5]-1+1*ie)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:he,disabled:!0,placeholder:"To"})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>da()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,le.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===h||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=le.find(a=>a.unique_no===e);if(a){const e={ALineNo:ta.length+1,AType:"D",TLoc:a.prd_location,TType:"VTMOUT",Product:"VTM",ISD:a.prd_isd,IssuerName:a.prd_issuername,Quantity:a.prd_qty,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account};"1"===o.edit&&"E"===h&&la(a=>[...a,e])}ne(ga(le,"unique_no",e)),ze(Ve+1)})(e.unique_no)},n.a.createElement(za.a,{icon:tt.r}))," "," "),"Q"===h?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{const r={srno:e,lineno:t,location:l,type:n};Ye(be,[a,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);me(a)}),w(!0)})(e.prd_srno,e.prd_line_no,e.prd_location,e.prd_type)},n.a.createElement(za.a,{icon:Qa.f})):null):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_issuername),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to)))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(bt,{logObject:na,show:ca,onHide:()=>oa(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:v,onClose:e=>C(!1)},f),n.a.createElement(St,{isOpen:S,onYes:e=>pa(),onNo:e=>y(!1)},O),n.a.createElement(Ka,{isOpen:T,onClose:e=>D(!1)},L),n.a.createElement(Dl,{logObject:ea,show:Xe,onHide:()=>$e(!1)})),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:x,onHide:()=>w(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,oe.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.tpb_from),n.a.createElement("td",null,e.tpb_out_srno),n.a.createElement("td",null,e.tpb_out_type),n.a.createElement("td",null,e.tpb_out_line_no),n.a.createElement("td",null,e.tpb_out_location),n.a.createElement("td",null))))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>w(!1)},"Close")))))};var gr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(0),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)(),[K,H]=Object(l.useState)(),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)([]),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(null),[ne,re]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,de]=Object(l.useState)(""),[Ee,pe]=Object(l.useState)(null),[be,he]=Object(l.useState)("0"),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)(0),[De,Le]=Object(l.useState)(0),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)(0),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)(""),[Ge,Pe]=Object(l.useState)(!1),[Je,Ve]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),ze=new Date,[Qe,Ue]=Object(l.useState)([]),[Ke,He]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[We,Xe]=Object(l.useState)(!1);var $e=[],ea=0;const[aa,ta]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{A(e),null!=e&&la(e)}),Ye(_,[a,"all","TRAN_TRF_VTC"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const la=e=>{A(e);const a=e.id.split("^");F(a[1]),M(a[2]),sessionStorage.activeBranch=a[1]},ra=e=>{if(null!=e){pe(e);let a=e.id.split("^");ve(a[1]),fe(a[2])}};const ca=()=>{var e=[],a=0;if(""===ne||""===oe||null===te)e[a++]=E("MSG0006"),e[a++]=""===ne?" Quantity.":"",e[a++]=""===oe?" From.":"",e[a++]=null===te?" Issuer.":"",f(ja(e)),v(!0);else if(ne>=101)f("Quantity should be less than 101"),v(!0);else if("1"===be&&null===Ee)f("Please Select Currency!"),v(!0);else if(W.find(e=>e.prd_isd===Ne&&e.prd_group===ge&&e.prd_account===ye&&e.prd_prefix===ie&&(1*e.prd_from<=1*oe&&1*oe<=1*e.prd_to||1*e.prd_from<=1*ue&&1*ue<=1*e.prd_to||1*oe<=1*e.prd_from&&1*ue>=1*e.prd_to)))f("Same VTC with From To already exist"),v(!0);else{const e={unique_no:Oa(5),prd_qty:ne,prd_from:oe,prd_to:ue,prd_location:R,prd_issuername:ke,prd_isd:"1"===be?Ne:"",prd_date:Ea(J),prd_type:"VTMIN",prd_prefix:ie,prd_product:"VTM",prd_group:ge,prd_account:ye,prd_line_no:1*De+1,del:"Y"};X(Sa(W,e));const a={TabType:"Product",ALineNo:Qe.length+1,AType:"A",TLoc:R,TType:"VTMIN",Product:"VTM",IssuerName:ke,ISD:"1"===be?Ne:"",Quantity:ne,ProductFrom:oe,ProductTo:ue,ProductPrefix:ie,ProductAccout:ye,AgentGroupCode:ge,Account:ye};"1"===o.edit&&"E"===b&&Ue(e=>[...e,a]),console.log(W),Le(De+1),pe(null),le(null),re(""),me(""),de(""),se("")}},oa=()=>{S(!1),h("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Transfer In VTM"))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:la,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:J,minDate:new Date(t),maxDate:new Date(r),onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:U,maxLength:16,onChange:e=>Ze(e.target.value,Y),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,maxLength:16,onChange:e=>Ze(e.target.value,H),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:q,onChange:e=>V(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:z,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(J);w&&J?e>r||e<t?(v(!0),f(E("MSG0010"))):(h("A"),X([]),Te(0),he("0")):($e[ea++]=E("MSG0006"),$e[ea++]=w?"":" Location.",$e[ea++]=J?"":" Date.",f(ja($e)),v(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],t=0;if(null===w||"S"===G&&!U||"S"===G&&!K||"D"===G&&!q||"D"===G&&!z)e[t++]=E("MSG0006"),e[t++]=null===w?" Location.":"",e[t++]="S"!==G||U?"":" From Srno.",e[t++]="S"!==G||K?"":" To Srno.",e[t++]="D"!==G||q?"":" From Date.",e[t++]="D"!==G||z?"":" To Date.",f(ja(e)),v(!0);else{console.log(w);const e={radioType:G,location:R,fromDate:Ea(q),toDate:Ea(z),fromSrno:U,toSrno:K};Ye(ce,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);$(a)})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,Z.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{Te(e),h("Q"),Me(e),Fe(n);const r={srno:e,location:t,type:l};Ye(ce,[a,"view",JSON.stringify(r)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(X(a.trfList),Le(a.maxlineno),M(a.locationname),Oe(a.ledgercode),Se(a.groupcode),xe(a.ledgername),Te(a.srno))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):oa())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Re.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r;console.log(c);const o=Math.ceil(c/864e5);console.log(o);const m={srno:Ie,type:"VTMIN",pageright:"TRAN_TRF_VTC",location:R};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);ta(t.requestsrc),Be==o||"unlock"==t.msg?h("E"):(Pe(!0),Ve({trantype:"VTMIN",trannumber:Ie,location:R,tranDate:Ea(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Xe(!0),void He({trantype:"VTMIN",trannumber:Ie,trancategory:"T",location:R}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(console.log(R),W.length<1)f("Empty List!"),v(!0);else{const e={group:ge,account:ye,location:R,srno:je,date:Ea(J),data:W,radioType:G,location:R,fromDate:Ea(q),toDate:Ea(z),fromSrno:U,toSrno:K};if(Ye(ce,[a,"save",JSON.stringify(e),JSON.stringify(Qe)],e=>{let a=JSON.parse(e);""===a.err?($(a.list),X([]),h(""),Ue([])):(f(a.err),v(!0))}),"E"==b&&"SELF"!==aa){const e={srno:je,type:"VTMIN",status:"E",currentDate:Ea(ze),pageright:"TRAN_TRF_VTC"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",je))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",I))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:be,onChange:e=>(e=>{he(e),ra(null)})(e.target.value),required:!0},n.a.createElement("option",{value:"0"},"Multi Currency"),n.a.createElement("option",{value:"1"},"Single Currency")))),1==be&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Ee,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"VTM"),onInputChange:Mt,onChange:ra}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:te,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",R),onInputChange:Mt,onChange:e=>{console.log(e),le(e);const a=e.id.split("^");Se(a[1]),Oe(a[2]),xe(a[5])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ne,onChange:e=>(e=>{Ze(e.target.value,re),""===oe||""===e.target.value?se(""):se(1*oe-1+1*e.target.value)})(e),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Prefix"),n.a.createElement(s.a.Control,{value:ie,onChange:e=>na(e.target.value,de),maxLength:5,placeholder:"Prefix"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(s.a.Control,{value:oe,onChange:e=>(e=>{Ze(e.target.value,me),""===e.target.value||""===ne?se(""):se(1*e.target.value-1+1*ne)})(e),maxLength:16,placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ue,disabled:!0,placeholder:"To"})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>ca()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Prefix"),n.a.createElement("th",null,"Issuer Name"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"From"),n.a.createElement("th",null,"To"))),n.a.createElement("tbody",null,W.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=W.find(a=>a.unique_no===e);if(a){console.log("oitem  ",a);const e={TabType:"Product",ALineNo:Qe.length+1,AType:"D",TLoc:a.prd_location,TType:"VTMIN",Product:"VTM",ISD:"1"===be?Ne:"",IssuerName:a.prd_issuername,Quantity:a.prd_qty,ProductFrom:a.prd_from,ProductTo:a.prd_to,ProductPrefix:a.prd_prefix,ProductGroup:a.prd_group,ProductAccout:a.prd_account};"1"===o.edit&&"E"===b&&Ue(a=>[...a,e])}X(ga(W,"unique_no",e)),Ae(we+1)})(e.unique_no)},n.a.createElement(za.a,{icon:tt.r}))," "," "),"Q"===b?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n)=>{const r={srno:e,lineno:t,location:l,type:n};Ye(ce,[a,"viewDtls",JSON.stringify(r)],e=>{let a=JSON.parse(e);ae(a)}),x(!0)})(e.prd_srno,e.prd_line_no,e.prd_location,e.prd_type)},n.a.createElement(za.a,{icon:Qa.f})):null):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_prefix),n.a.createElement("td",null,e.prd_issuername),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_from),n.a.createElement("td",null,e.prd_to))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement(bt,{logObject:Ke,show:We,onHide:()=>Xe(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:g,onYes:e=>oa(),onNo:e=>S(!1)},y),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(Dl,{logObject:Je,show:Ge,onHide:()=>Pe(!1)})),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:k,onHide:()=>x(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,{style:{height:"84vh",overflowX:"auto"}},n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"From"),n.a.createElement("th",null,"Sr No."),n.a.createElement("th",null,"Out Type"),n.a.createElement("th",null,"Out Line No."),n.a.createElement("th",null,"Out Location"))),n.a.createElement("tbody",null,ee.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.tpb_from),n.a.createElement("td",null,e.tpb_out_srno),n.a.createElement("td",null,e.tpb_out_type),n.a.createElement("td",null,e.tpb_out_line_no),n.a.createElement("td",null,e.tpb_out_location),n.a.createElement("td",null))))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>x(!1)},"Close")))))};var Sr=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(null),[k,x]=Object(l.useState)("0"),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)(null),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)("PENDING"),[Z,$]=Object(l.useState)("PENDING"),[ee,ae]=Object(l.useState)([]),[te,le]=Object(l.useState)(null),[ne,re]=Object(l.useState)(null),[ce,oe]=Object(l.useState)(0),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(new Date),[pe,be]=Object(l.useState)(new Date),[he,ge]=Object(l.useState)([]),[Se,ye]=Object(l.useState)(!1),[Oe,Ne]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",location:""}),[ve,Ce]=Object(l.useState)("O"),[_e,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[De,Le]=Object(l.useState)(""),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)(""),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)(""),[Ge,Je]=Object(l.useState)(""),[Be,qe]=Object(l.useState)(""),[Ve,ze]=Object(l.useState)(""),[Qe,Ue]=Object(l.useState)(""),[Ke,He]=Object(l.useState)(""),[Xe,$e]=Object(l.useState)(""),[aa,ta]=Object(l.useState)(""),[la,ra]=Object(l.useState)(""),[ca,oa]=Object(l.useState)(""),[ma,ua]=Object(l.useState)(new Date),[sa,ia]=Object(l.useState)(new Date),[pa,ba]=Object(l.useState)(""),[ha,ga]=Object(l.useState)("");Object(l.useEffect)(()=>{xa().then(e=>{L(e),null!=e&&Oa(e)}),Ye(_,[e,"all","TRAN_VTM_ACTIVATION"],function(e){let t=JSON.parse(e);"1"===t.query?u(t):a("/")}),Ye(_,[e,"all","TRAN_VTM_ACTIVATION_APPROVER"],function(e){let a=JSON.parse(e);p(a)})},[]);const Sa=()=>{ct()(".loader").show();const a={filterStatus:Z,acLocationValue:k,fromDate:Ea(de),toDate:Ea(pe),aclocationType:ve,filterSearch:_e};Ye(Pe,[e,"listdata",JSON.stringify(a)],e=>{ct()(".loader").hide(),ae(JSON.parse(e))})},ya=()=>{h(!1),f("")},Oa=e=>{L(e);var a=e.id.split("^");x(a[1]),ue(a[2]),console.log(a[2]),sessionStorage.activeBranch=a[1]};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"VTM Activation"))),""===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ve,onChange:e=>Ce(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===ve?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:D,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Oa,isDisabled:"true"===c})))):null),n.a.createElement(Wa.a,null,""===_e?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:Z,onChange:e=>$(e.target.value)},n.a.createElement("option",{value:"PENDING"},"Pending"),n.a.createElement("option",{value:"EXPORTED"},"Exported"),n.a.createElement("option",{value:"ACTIVATED"},"Activated"),n.a.createElement("option",{value:"REJECTED"},"Rejected")))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search Box"),n.a.createElement(s.a.Control,{placeholder:"Search Box",type:"text",maxLength:16,value:_e,onChange:e=>Ze(e.target.value,fe)}))),"PENDING"===Z?n.a.createElement(n.a.Fragment,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:de,onChange:e=>Ee(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:pe,onChange:e=>be(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Sa()},"List"):null,"\xa0")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Card No"),n.a.createElement("th",null,"Corporate"),n.a.createElement("th",null,"Value"))),n.a.createElement("tbody",null,ee.map((a,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((a,t)=>{oe(0),f("Q"),T(t);const l={location:a,srno:t};Ye(Pe,[e,"viewdata",JSON.stringify(l)],e=>{let a=JSON.parse(e);oe(a.bill_no),console.log("this is ",a.issuer_label),A(a.issuer_label),B(a.reference_no),M(a.card_no),re(a.isd),H(a.value_card_amount),Le(a.sale_rate),xe(a.amount_in_inr),Ae(a.place_of_issue),Y(a.passport_no),null!==a.expiry_date?ia(new Date(a.expiry_date)):ia(null),null!==a.dob?ua(new Date(a.dob)):ua(null),null!==a.activation_date?P(new Date(a.activation_date)):P(null),ba(a.approver_remark),le(a.ind_label),Me(a.pan_no),Fe(a.nationality),Je(a.city),ze(a.phone),qe(a.pin),Ue(a.address),He(a.travel_country),$e(a.purpose_name),ta(a.bill_no),ra(a.mobile),oa(a.email),"0 0 "!==a.corp_label?F(a.corp_label):F(null),Q(a.remark),X(a.prd_vtm_status),ga(a.activated_by)})})(a.prd_location,a.prd_srno)},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,a.prd_srno),n.a.createElement("td",null,a.entity_name),n.a.createElement("td",null,a.prd_isd),n.a.createElement("td",null,a.issuer_name),n.a.createElement("td",null,a.prd_card_no),n.a.createElement("td",null,a.corp_name),n.a.createElement("td",null,a.value)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===C||"E"===C?(S("Do you really want to exit ?"),h(!0)):ya())},"Back"),"\xa0","1"!==o.edit&&"1"!==o.query||"Q"!==C?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ye(!0),void Ne({trantype:"TSA",trannumber:ce,trancategory:"T",location:k}))},"Activity Log"),"\xa0"),"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",ce)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,me," "))),"ACTIVATED"===W?n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Activated By : ",n.a.createElement("b",null,ha," "))):null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:!0,value:W,onChange:e=>X(e.target.value)},n.a.createElement("option",{value:"PENDING"},"Pending"),n.a.createElement("option",{value:"EXPORTED"},"Exported"),n.a.createElement("option",{value:"ACTIVATED"},"Activated"),n.a.createElement("option",{value:"REJECTED"},"Rejected")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Issuer",type:"text",value:w,onChange:e=>Ze(e.target.value,A)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Reference No",type:"text",maxLength:16,value:J,onChange:e=>Ze(e.target.value,B)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Card No",type:"text",maxLength:20,value:I,onChange:e=>na(e.target.value,M)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"ISD",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"ISD",type:"text",value:ne,onChange:e=>na(e.target.value,re)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card Value",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Requested Value",type:"text",maxLength:10,value:K,onChange:e=>ea(e.target.value,H)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sale Rate",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Sale Rate",type:"text",value:De,onChange:e=>Ze(e.target.value,Le)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount in INR",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Amount",type:"text",value:ke,onChange:e=>Ze(e.target.value,xe)})))),n.a.createElement(Wa.a,null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place Of Issue"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Issue Place",type:"text",value:we,onChange:e=>We(e.target.value,Ae)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Passport No"),n.a.createElement(s.a.Control,{disabled:"Q"===C||""!==U,placeholder:"Passport No",type:"text",maxLength:20,value:U,onChange:e=>na(e.target.value,Y)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Expiry Date"),n.a.createElement(vl.a,{className:"form-control",selected:sa,onChange:e=>ia(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===C,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Individual Profile",type:"text",value:te,onChange:e=>na(e.target.value,le)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date Of Birth"),n.a.createElement(vl.a,{className:"form-control",selected:ma,onChange:e=>ua(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"Q"===C,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"PAN No"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"PAN No",type:"text",maxLength:10,value:Ie,onChange:e=>da(e.target.value,Me)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nationality"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Nationality",type:"text",value:Re,onChange:e=>na(e.target.value,Fe)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"City"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"City",type:"text",value:Ge,onChange:e=>na(e.target.value,Je)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Phone"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Phone",type:"text",value:Ve,onChange:e=>na(e.target.value,ze)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Pin"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Pin",type:"text",value:Be,onChange:e=>na(e.target.value,qe)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Residential Address"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Residential Address",type:"text",value:Qe,onChange:e=>na(e.target.value,Ue)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Country Of Travel"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Country to travel",type:"text",value:Ke,onChange:e=>na(e.target.value,He)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type Of Travel"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Residential Address",type:"text",value:Xe,onChange:e=>na(e.target.value,$e)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sale Bill Number"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Sale Bill No",type:"text",value:aa,onChange:e=>na(e.target.value,ta)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mobile"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Mobile",type:"text",value:la,onChange:e=>na(e.target.value,ra)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Email"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Email",type:"text",value:ca,onChange:e=>na(e.target.value,oa)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Corporate",type:"text",value:R,onChange:e=>We(e.target.value,F)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch Remarks"),n.a.createElement(s.a.Control,{disabled:"Q"===C||"1"===d.query,placeholder:"Remark",type:"text",maxLength:50,value:z,onChange:e=>We(e.target.value,Q)}))),"1"===d.query?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Approver Remark"),n.a.createElement(s.a.Control,{placeholder:"Remark",type:"text",maxLength:50,value:pa,onChange:e=>We(e.target.value,ba)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Activation Date"),n.a.createElement(vl.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"ACTIVATED"===W||"REJECTED"===W||"PENDING"===W||!("1"===d.query),customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"PENDING"!==W||"1"!==o.add||"Q"!==C&&"E"!==C?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();const a={acSrno:j,acLocationValue:k};Ye(Pe,[e,"exportstatus","EXPORTED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Sa())})})()},"Export"),"\xa0"),"\xa0","1"===d.query&&"EXPORTED"===W?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();var a=[],l=0,n="",c="";if(null!==G&&(n=Ea(G),c=Ea(new Date)),""==pa&&(ct()(".loader").hide(),a[l++]=null==G?"Activation Date":"",v(ja(a)),O(!0)),null==G)ct()(".loader").hide(),a[l++]=E("MSG0006"),a[l++]=null==G?"Activation Date":"",v(ja(a)),O(!0);else if(n<c)ct()(".loader").hide(),O(!0),v("Activation date cannot be past date.");else if(n>r||n<t)ct()(".loader").hide(),O(!0),v("Activation"+E("MSG0010"));else{const a={acDate:Ea(G),acValue:je,acSrno:j,acLocationValue:k,acApproverRemark:pa};Ye(Pe,[e,"activatestatus","ACTIVATED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Sa())})}})()},"Activate"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();const a={acSrno:j,acLocationValue:k};Ye(Pe,[e,"rejectstatus","REJECTED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Sa())})})()},"Reject"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();const a={acSrno:j,acLocationValue:k};Ye(Pe,[e,"pendingstatus","PENDING",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Sa())})})()},"Send Back to Branch")):null)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(bt,{logObject:Oe,show:Se,onHide:()=>ye(!1)}),n.a.createElement(Ka,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(St,{isOpen:b,onYes:e=>ya(),onNo:e=>h(!1)},g))};var yr=function(){const e=sessionStorage.getItem("sessionId"),a=Object(m.n)(),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(null),[k,x]=Object(l.useState)("0"),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)(null),[J,B]=Object(l.useState)(""),[q,z]=Object(l.useState)(""),[Q,U]=Object(l.useState)(""),[Y,K]=Object(l.useState)(""),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(""),[$,ae]=Object(l.useState)("PENDING"),[te,le]=Object(l.useState)("PENDING"),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)(null),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(0),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(!1),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(""),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(new Date),[_e,fe]=Object(l.useState)(new Date),[je,Te]=Object(l.useState)([]),[De,Le]=Object(l.useState)(!1),[ke,xe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",location:""}),[we,Ae]=Object(l.useState)("O"),[Ie,Me]=Object(l.useState)("");Object(l.useEffect)(()=>{xa().then(e=>{L(e),null!=e&&Ge(e)}),Ye(_,[e,"all","TRAN_VTM_REQUEST"],function(e){let t=JSON.parse(e);"1"===t.query?u(t):a("/")}),Ye(_,[e,"all","VTM_REQUEST_APPROVAL"],function(e){let a=JSON.parse(e);p(a)})},[]);const Re=()=>{ct()(".loader").show();const a={status:te,enLocationValue:k,fromDate:Ea(ve),toDate:Ea(_e),enlocationType:we,filterSearch:Ie};Ye(ee,[e,"listdata",JSON.stringify(a)],e=>{ct()(".loader").hide(),re(JSON.parse(e))})},Fe=()=>{h(!1),f("")},Ge=e=>{L(e);var a=e.id.split("^");x(a[1]),Ee(a[2]),console.log(a[2]),sessionStorage.activeBranch=a[1]},Pe=()=>{ct()(".loader").show();const a={enSrno:j,enLocationValue:k};Ye(ee,[e,"rejectstatus","REJECTED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Re())})},Je=e=>{console.log("Invidual Value is ",e),oe(e);const a=e.id.split("^");ye(a[1]),Ne(a[2]);const t=e.desc.split("^")[2].split(" ")[1];W(t)},Be=e=>{be(!0),ge("E"===e&&null!=ce?"E":"A")};return n.a.createElement(n.a.Fragment,null,pe?n.a.createElement(Zl,{reqObj:{nIndivualSrno:Se,scrIndividual:he},value:"TRAN_VTM_ENCASHMENT",hideIndividualProfile:(a,t)=>{if(console.log("The value is ".concat(a," and Individual is ").concat(t)),be(a),t>0){const a={individualsrno:t,type:""};Ye(V,[e,"individualidfrompicklist",JSON.stringify(a)],e=>{let a=JSON.parse(e);console.log("RESPONSE IS  ",a),""===a.id?oe(null):Je(a)})}}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"VTM Encashment"))),""===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:we,onChange:e=>Ae(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),""===Ie?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status"),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value)},n.a.createElement("option",{value:"PENDING"},"Pending"),n.a.createElement("option",{value:"EXPORTED"},"Exported"),n.a.createElement("option",{value:"APPROVED"},"Approved"),n.a.createElement("option",{value:"REJECTED"},"Rejected"),n.a.createElement("option",{value:"ENCASHED"},"Encashed")))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Search Box"),n.a.createElement(s.a.Control,{placeholder:"Search Box",type:"text",maxLength:16,value:Ie,onChange:e=>Ze(e.target.value,Me)}))),"PENDING"===te?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,null),n.a.createElement(Xa.a,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:ve,onChange:e=>Ce(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:_e,onChange:e=>fe(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"O"===we?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:D,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ge,isDisabled:"true"===c})))):null,n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Re()},"List"):null,"\xa0","1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void(null===D?(O(!0),v("Please Select Location.")):(T(0),f("A"),M(""),F(null),P(null),ue(null),U(""),B(""),Z(""),A(null),W(""),z(""),K(""),oe(null),ae("PENDING"),ie(0)))},"Add New"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Isd"),n.a.createElement("th",null,"Issuer"),n.a.createElement("th",null,"Card No"),n.a.createElement("th",null,"Reference No"),n.a.createElement("th",null,"Corporate"),n.a.createElement("th",null,"Requested Value"),n.a.createElement("th",null,"Encashed Value"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,ne.map((a,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",null,n.a.createElement("span",{className:"colorThemeBlue pointer",onClick:()=>((a,t)=>{ie(0),f("Q"),T(t);const l={location:a,srno:t};Ye(ee,[e,"viewdata",JSON.stringify(l)],e=>{let a=JSON.parse(e);ue({id:a.isdid,label:a.isdlabel}),A({id:a.issuerid,label:a.issuerlabel}),M(a.cardno),Z(a.reqvalue),z(a.purchasebill),W(a.passport),B(a.refno),T(a.srno),ie(a.srno);const t=a.indDesc.split("^");0==a.individual?oe(null):oe({id:a.indid,label:a.indlabel,desc:"".concat(t.slice().join(" ^  "))}),null===a.encdate?P(null):P(new Date(a.encdate)),K(a.encvalue),ye(a.individual),U(a.encremark),ae(a.encstatus),Ne(a.individual),"^0^0^"==a.corpid?F(null):F({id:a.corpid,label:a.corplabel})})})(a.tve_location,a.tve_srno)},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,a.tve_srno),n.a.createElement("td",null,a.entity_name),n.a.createElement("td",null,a.tve_isd),n.a.createElement("td",null,a.issuer_name),n.a.createElement("td",null,a.tve_card_no),n.a.createElement("td",null,a.tve_ref_no),n.a.createElement("td",null,a.corp_name),n.a.createElement("td",null,a.tve_requested_value),n.a.createElement("td",null,a.tve_encashed_value),n.a.createElement("td",null,a.tve_status)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===C||"E"===C?(S("Do you really want to exit ?"),h(!0)):Fe())},"Back"),"\xa0","1"!==o.edit&&"1"!==o.query||"Q"!==C?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Le(!0),void xe({trantype:"PPE",trannumber:se,trancategory:"T",location:k}))},"Activity Log"),"\xa0"),"\xa0")),n.a.createElement(Wa.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",se)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,de," ")))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{disabled:!0,value:$,onChange:e=>ae(e.target.value)},n.a.createElement("option",{value:"PENDING"},"Pending"),n.a.createElement("option",{value:"EXPORTED"},"Exported"),n.a.createElement("option",{value:"APPROVED"},"Approved"),n.a.createElement("option",{value:"REJECTED"},"Rejected"),n.a.createElement("option",{value:"ENCASHED"},"Encashed")))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Isd",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,""),onInputChange:Mt,onChange:e=>ue(e),isDisabled:"Q"===C}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",k),onInputChange:Mt,onChange:e=>A(e),isDisabled:"Q"===C})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Card No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Card No",type:"text",maxLength:20,value:I,onChange:e=>na(e.target.value,M)}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Reference No",type:"text",maxLength:16,value:J,onChange:e=>Ze(e.target.value,B)}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Requested Value",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Requested Value",type:"text",maxLength:10,value:X,onChange:e=>ea(e.target.value,Z)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile",n.a.createElement("span",{className:"colorThemeRed"},"*"),"Q"===C?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"tranNewFormText",onClick:()=>Be("A")},"Not in list? Create New"),"\xa0\xa0",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>Be("E")},"Edit"))),n.a.createElement(wt.a,{value:ce,cacheOptions:!1,defaultOptions:!1,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Pt(e,"SALE"),onInputChange:Mt,formatOptionLabel:dl,components:{Menu:El},onChange:Je,isDisabled:"Q"===C})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Passport No"),n.a.createElement(s.a.Control,{disabled:"Q"===C||""!==H,placeholder:"Passport No",type:"text",maxLength:20,value:H,onChange:e=>na(e.target.value,W)}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark"),n.a.createElement(s.a.Control,{disabled:"Q"===C,placeholder:"Remark",type:"text",maxLength:50,value:Q,onChange:e=>We(e.target.value,U)}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Corporate"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"CORPORATE",k),onInputChange:Mt,onChange:e=>F(e),isDisabled:"Q"===C})))),"A"!==C?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purchase Bill No"),n.a.createElement(s.a.Control,{disabled:!0,placeholder:"Purchase Bill No",type:"text",maxLength:10,value:q,onChange:e=>na(e.target.value,z)}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashment Date"),n.a.createElement(vl.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"APPROVED"===$||"REJECTED"===$||"PENDING"===$||!("1"===d.query),customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashed Value"),n.a.createElement(s.a.Control,{disabled:"APPROVED"===$||"REJECTED"===$||"PENDING"===$||!("1"===d.query),placeholder:"Encashed Value",type:"text",maxLength:6,value:Y,onChange:e=>ea(e.target.value,K)})))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.edit&&"Q"===C&&"PENDING"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void f("E")},"Edit"),"\xa0"):null,"1"===o.edit&&"E"===C||"1"===o.add&&"A"===C?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();var a=[],t=0;if(null===me||null===w||""===I||""===J||""===X||null===ce)ct()(".loader").hide(),a[t++]=E("MSG0006"),a[t++]=null===me?"Isd":"",a[t++]=null===w?"Issuer":"",a[t++]=""===I?"Card Number":"",a[t++]=""===J?"Reference Number":"",a[t++]=""===X?"Request Value":"",a[t++]=null===ce?"Individual Profile":"",v(ja(a)),O(!0);else{const a={srno:j,enIsd:me,enIssuer:w,enCardNo:I,enReferenceNo:J,enRequestedValue:X,enIndividual:ce,enPassport:H,enCorporate:R,enPurchaseNo:q,enDate:Ea(G),enValue:Y,enRemark:Q,enLocationValue:k,status:$,scrMode:C,individualId:Oe,trantype:"PPE",fromDate:Ea(ve),toDate:Ea(_e),enlocationType:we,filterSearch:Ie},t={TabType:"EDIT",ALineNo:je.length+1,AType:"A",TLoc:k,enIsd:me,Issuer:w,CardNo:I,ReferenceNo:J,RequestedValue:X,Individual:ce,Passport:H,Corporate:R,PurchaseNo:q,Value:Y,Remark:Q,LocationValue:k,status:$,individualId:Oe,TType:"PPE"};if("1"===o.edit&&"E"===C)var l=[t];Ye(ee,[e,"savedata",JSON.stringify(a),JSON.stringify(l)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg?(ct()(".loader").hide(),f(""),re(a.data)):(ct()(".loader").hide(),v(E("ERR0000")),O(!0))})}})()},"Save"),"\xa0"):null,"PENDING"!==$||"1"!==o.add||"Q"!==C&&"E"!==C?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();const a={enSrno:j,enLocationValue:k};Ye(ee,[e,"exportstatus","EXPORTED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Re())})})()},"Export"),"\xa0"),"\xa0","1"===o.query&&"PENDING"===$&&"Q"===C&&n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>Pe()},"Reject"),"1"===d.query&&"EXPORTED"===$?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();var a=[],l=0,n="",c="";if(null!==G&&(n=Ea(G),c=Ea(new Date)),null==G||""===Y||0==Y)ct()(".loader").hide(),a[l++]=E("MSG0006"),a[l++]=null==G?"Encashed Date":"",a[l++]=""===Y||0==Y?"Encashed Value":"",v(ja(a)),O(!0);else if(n>c)ct()(".loader").hide(),O(!0),v("Encashment date cannot be future date.");else if(n>r||n<t)ct()(".loader").hide(),O(!0),v("Encashment "+E("MSG0010"));else{const a={enDate:Ea(G),enValue:Y,enSrno:j,enLocationValue:k};Ye(ee,[e,"approvestatus","APPROVED",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Re())})}})()},"Approve"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>Pe()},"Reject"),"\xa0",n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();const a={enSrno:j,enLocationValue:k};Ye(ee,[e,"pendingstatus","PENDING",JSON.stringify(a)],e=>{"MSG0000"===JSON.parse(e).msg&&(ct()(".loader").hide(),f(""),Re())})})()},"Send Back to Branch")):null))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(bt,{logObject:ke,show:De,onHide:()=>Le(!1)}),n.a.createElement(Ka,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(St,{isOpen:b,onYes:e=>Fe(),onNo:e=>h(!1)},g))};var Or=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),sessionStorage.getItem("branchDisable")),[r,c]=Object(l.useState)([]),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(!1),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(!1),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)([]),[k,x]=Object(l.useState)([]),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)("S"),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)("0"),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(new Date),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)(!1),[ce,oe]=Object(l.useState)(0),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(!1),[pe,be]=Object(l.useState)({location:"",trannumber:"",type:""});Object(l.useEffect)(()=>{o||(xa().then(e=>{F(e),null!=e&&he(e)}),Ye(_,[a,"all","TRAN_SETTLEMENT_VTM"],function(a){let t=JSON.parse(a);"1"===t.query?c(t):e("/")}),u(!0))},[o,a,e]);const he=e=>{F(e);const a=e.id.split("^");P(a[1]),B(a[2]),sessionStorage.activeBranch=a[1]},ge=()=>{h(!1),p("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"VTM Settlement"))),n.a.createElement(Wa.a,null,"\xa0"),""===d?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:he,isDisabled:"true"===t}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===I,onChange:()=>M("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===I,onChange:()=>M("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"S"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:q,maxLength:20,onChange:e=>Ze(e.target.value,V),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:z,maxLength:20,onChange:e=>Ze(e.target.value,Q),placeholder:"To"})))):"D"===I?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===r.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],t=0;if(null===R)ct()(".loader").hide(),v("Please Select Location!"),O(!0);else if("S"===I&&!q||"S"===I&&!z||"D"===I&&!U||"D"===I&&!K)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]="S"!==I||q?"":" From.",e[t++]="S"!==I||z?"":" To.",e[t++]="D"!==I||U?"":" From Date.",e[t++]="D"!==I||K?"":" To Date.",v(ja(e)),O(!0);else{const e={locationCode:G,filterRadioType:I,filterFromSrno:q,filterToSrno:z,filterFromDate:Ea(U),filterToDate:Ea(K),type:"VT"};Ye("/api/settlement_vtm_a.php",[a,"list",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);L(a),oe(a.hdrSrno)})}})()},"List"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===r.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,D.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===r.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o)=>{ct()(".loader").show(),p("Q"),B(n),X(r),ae(c),$(o),ue(t),oe(e),ie(l);const m={srno:e,location:l,type:t};Ye("/api/settlement_vtm_a.php",[a,"view",JSON.stringify(m)],e=>{ct()(".loader").hide();let a=JSON.parse(e);x(a.productData),A(a.paymentData)})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.entity_name,e.ledger,e.hdr_forex_total,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_forex_total)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>ge()},"Back")," "," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ee(!0),void be({location:se,trannumber:ce,type:me}))},"fA View"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location:")," ",J)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date:")," ",Z)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Ledger: "),W)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Total:")," ",ee))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Product Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,k.map(e=>n.a.createElement("tr",{key:e.prd_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.prd_date),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Payment Details"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,w.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,"RC"===e.tp_payment_type?"Receivables":"PB"===e.tp_payment_type?"Payables":e.tp_payment_type),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:y,onClose:e=>O(!1)},N),n.a.createElement(St,{isOpen:b,onYes:e=>ge(),onNo:e=>h(!1)},g),n.a.createElement(Ka,{isOpen:C,onClose:e=>f(!1)},j)),n.a.createElement(Gl,{faViewObject:pe,show:de,onHide:()=>Ee(!1)}),n.a.createElement("div",null))};var Nr=function(){const e=sessionStorage.getItem("sessionId"),a=sessionStorage.getItem("userSrno"),t=Object(m.n)(),[r,c]=Object(l.useState)(""),[o,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)([]),[b,h]=Object(l.useState)([]),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(1==b.edit?"G":"S"),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(!1),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)("P"),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)("10"),[se,ie]=Object(l.useState)();function de(e){x("S"),A(e)}function Ee(){M(!1),F("");var a=[],t=0;if(ct()(".loader").show(),a[t++]=E("MSG0006"),!y&&(a[t++]=" Account."),!N&&!j&&(a[t++]=" Amount."),!C&&(a[t++]=" Till Date."),console.log(Ea(C),Ea(new Date),Ea(C)<Ea(new Date)),0===te&&C&&Ea(C)<Ea(new Date)&&(a[t++]=" Till Date can't be selected as Past date."),!j&&!N&&(a[t++]=" Additional Days."),!D&&(a[t++]=" Request Remark."),t>1)B(ja(a)),P(!0),ct()(".loader").hide();else{const a=y.id.split("^")[1],t=y.id.split("^")[2],l={locationType:"G"===k?"G":"O",location:"G"===k?0:w.id.split("^")[1],group:a,account:t,amount:N||0,tillDate:Ea(C),additionalDays:j||0,remark:D,status:q,approverRemark:ee,srno:te,filterStatus:ce,limit:me};Ye(xe,[e,"addNew",JSON.stringify(l)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""===a.err?(p(a.list),pe()):(B(a.err),P(!0)),c("")})}}function pe(){F(""),M(!1),L(""),T(),f(),v(),O(),V("P"),ae(""),le(0),Q(""),ie()}function be(){c(""),M(!1),F(""),pe()}return Object(l.useEffect)(()=>{o||(Ye(_,[e,"all","TRAN_ADDITIONAL_CREDIT"],function(e){let a=JSON.parse(e);"1"===a.query?S(a):t("/")}),Ye(_,[e,"all","TRAN_ADDITIONAL_CREDIT_APPROVAl"],function(e){let a=JSON.parse(e);"1"===a.query&&h(a)}),Rt("").then(e=>{console.log(e),1===e.length&&(A(e[0]),console.log(e[0])),re(e)}).catch(e=>{console.error("Error fetching allowed locations:",e)}),u(!0))},[o,e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Additional Limit"))),n.a.createElement(Wa.a,null,"\xa0"),""===r?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),"1"===b.edit?n.a.createElement(s.a.Select,{value:k,onChange:e=>(function(e){"G"===e?(x("G"),A("")):x(e)})(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),"1"===b.edit&&n.a.createElement("option",{value:"G"},"Global"),n.a.createElement("option",{value:"S"},"Selective")):n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:de,isDisabled:1===ne.length}))),"S"===k&&"1"===b.edit&&n.a.createElement(Xa.a,{className:"col-md-4"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"\xa0"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:de}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ce,onChange:e=>oe(e.target.value)},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"A"},"Approved"),n.a.createElement("option",{value:"R"},"Rejected")))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Limit",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:me,onChange:e=>ue(e.target.value)},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"20"},"20"),n.a.createElement("option",{value:"50"},"50"))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){var e=[],a=0;e[a++]=E("MSG0006"),"G"!=k&&!w&&(e[a++]=" Location."),a>1?(console.log("i",a),B(ja(e)),P(!0)):c("A")}},"Add New"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){ct()(".loader").show(),console.log(k,w);var a=[],t=0;if(a[t++]=E("MSG0006"),"G"!==k&&!w&&(a[t++]=" Location."),t>1)console.log("i",t),B(ja(a)),P(!0),ct()(".loader").hide();else{const a={locationType:"G"===k?"G":"O",location:"G"===k?0:null===w||void 0===w?void 0:w.id.split("^")[1],filterStatus:ce,limit:me};Ye(xe,[e,"getCreditLimitList",JSON.stringify(a)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""===a.err?p(a.list):(B(a.err),P(!0))})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===g.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Requester Name"),n.a.createElement("th",null,"Requesting Date"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Additional Amount"),n.a.createElement("th",null,"Additional Days"),n.a.createElement("th",null,"Till Date"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Approver Name"),n.a.createElement("th",null,"Approved Date"))),n.a.createElement("tbody",null,d.map(e=>n.a.createElement("tr",{key:e.entity_id},n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue"},n.a.createElement(za.a,{icon:tt.k,onClick:()=>(function(e){console.log(e.tilldate,"     ",typeof e.tilldate),c("V"),x(e.locationtype),A({id:"^"+e.location+"^"+e.branchname+"^",label:e.location+" "+e.branchname}),V(e.status),f(new Date(null===e||void 0===e?void 0:e.tilldate)),L(e.requesterremark),Y(e.requestername),$(e.requestingdate),H(e.approvername),X(e.approveddate),T(e.additionaldays),v(e.additionalamount),O({id:"^"+e.account.split(" ").join("^")+"^",label:e.account}),le(e.srno),Q(e.status),ae(e.approvedremark)})(e)}))),n.a.createElement("td",null,e.srno),n.a.createElement("td",null,"P"===e.status?"Pending":"A"===e.status?"Approved":"Rejected"),n.a.createElement("td",null,e.requestername),n.a.createElement("td",null,ba(e.requestingdate)),n.a.createElement("td",null,e.account),n.a.createElement("td",null,e.additionalamount),n.a.createElement("td",null,e.additionaldays),n.a.createElement("td",null,ba(e.tilldate)),n.a.createElement("td",null,"G"===e.locationtype?"G":e.branchname),n.a.createElement("td",null,e.approvername),n.a.createElement("td",null,ba(e.approveddate))))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null," Srno : ")," ",te))," "),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"1"===b.edit&&"G"===k?n.a.createElement(n.a.Fragment,null," ",n.a.createElement("b",null,"Location : "),"Global"):n.a.createElement(n.a.Fragment,null,n.a.createElement("b",null," Location : "),null===w||void 0===w?void 0:w.label)))),"A"!=r&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Requester Name : "),U," ")),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Requesting Date : "),ba(Z))),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Approver Name : "),K,"  ")),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Approving Date : "),ba(W)," ")))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Gt(e,1),onInputChange:Mt,onChange:function(e){O(e)},isDisabled:"V"===r||"P"!==z&&"E"===r||0!=te&&U.split(" ")[0]!==a}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:N,maxLength:qe,onChange:e=>Ze(e.target.value,v),placeholder:"Amount",disabled:"V"===r||"P"!==z&&"E"===r||0!=te&&U.split(" ")[0]!==a}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Additional Days",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:j,maxLength:3,onChange:e=>Ze(e.target.value,T),placeholder:"Additional Days",disabled:"V"===r||"P"!==z&&"E"===r||0!=te&&U.split(" ")[0]!==a}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,{className:"al_date_picker_width"},n.a.createElement(s.a.Label,null,"Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:C,onChange:e=>{f(e)},dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,disabled:"V"===r||"P"!==z&&"E"===r||0!=te&&U.split(" ")[0]!==a,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-8 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Request Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:D,maxLength:"100",onChange:e=>We(e.target.value,L),placeholder:"Request Remark",disabled:"V"===r||"P"!==z&&"E"===r||0!=te&&U.split(" ")[0]!==a})))),"\xa0",0!=te&&"A"!=r&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:q,onChange:e=>V(e.target.value),disabled:"V"===r||"1"!==b.edit||"P"!==z,required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"A"},"Approved"),n.a.createElement("option",{value:"R"},"Rejected")))),"P"!==q&&n.a.createElement(Xa.a,{className:"col-md-8 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Approve Remark",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ee,maxLength:"100",onChange:e=>We(e.target.value,ae),placeholder:"Approve Remark",disabled:"V"===r||"P"!==z})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"A"===r?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:Ee},"Save"):"E"===r?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:function(){"E"===r?(F("Do You Really want to Update;"),M(!0),ie(()=>Ee)):(M(!1),F(""),c(""),pe())}},"Update"):"P"===z&&(U.split(" ")[0]===a||"1"===b.edit)&&n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>c("E")},"Edit"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void("A"===r||"E"===r?(F(E("WRN0000")),M(!0),ie(be)):(M(!1),F(""),c(""),pe()))},"Back"))))),n.a.createElement(St,{isOpen:I,onYes:se,onNo:e=>M(!1)},R),n.a.createElement(Ka,{isOpen:G,onClose:e=>P(!1)},J))};var vr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)([]),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)(""),[R,F]=Object(l.useState)(0),[G,P]=Object(l.useState)("N"),[J,B]=Object(l.useState)(null),[q,V]=Object(l.useState)(null),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)(""),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)(new Date),[te,le]=Object(l.useState)("IN"),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(0),[se,ie]=Object(l.useState)(0),[de,Ee]=Object(l.useState)(0),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(0),Oe=new Date,[Ne,ve]=Object(l.useState)(!1),[Ce,fe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[je,Te]=Object(l.useState)([]),[De,Le]=Object(l.useState)([]),[ke,xe]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[we,Ae]=Object(l.useState)(!1);var Ie=[],Me=0;const[Re,Fe]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{B(e),null!=e&&Ge(e)}),Ye(_,[a,"all","CURRENCY_CHANGE"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const Ge=e=>{B(e);const a=e.id.split("^");F(a[1]),M(a[2]),sessionStorage.activeBranch=a[1]},Pe=()=>{ct()(".loader").show();var e=[],a=0;if(q&&ne&&ce){const e=ne*ce;!function(e,a,t){let l=!1,n=[];n=je.map(n=>n.isd===e?(l=!0,{...n,totalInAmount:"IN"===a.trim()?n.totalInAmount+t:n.totalInAmount,TotalOutAmount:"OUT"===a?n.TotalOutAmount+t:n.TotalOutAmount}):n),!l&&e&&(n=[...je,{isd:e,totalInAmount:"IN"===a.trim()?t:0,TotalOutAmount:"OUT"===a?t:0}]),console.log(n),Te(n)}(z,te,e);const a={unique_no:Oa(5),prd_line_no:k.length+1,prd_location:R,prd_type:"CNCHNG",prd_isd:z,prd_date:Ea(W),prd_product:"CN",prd_in_type:te,prd_deno:ne,prd_qty:ce,prd_amount:e,del:"Y"};ct()(".loader").hide(),x(Sa(k,a));const t={TabType:"Product",ALineNo:De.length+1,AType:"A",TLoc:R,TType:"CNCHNG",ProductType:te,ISD:z,Deno:ne,Quantity:ce,ProductAmount:e};"1"===o.edit&&"E"===b&&Le(e=>[...e,t]),ie(se+1),V(null),le("IN"),re(""),oe("")}else ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]=q?"":" Currency.",e[a++]=ne?"":" Denomination.",e[a++]=ce?"":" Quantity.",f(ja(e)),v(!0)},Je=()=>{if(ct()(".loader").show(),k.length<1)ct()(".loader").hide(),f("Empty List!"),v(!0);else{let e=je.map(e=>e.totalInAmount!=e.TotalOutAmount?"For Currency ".concat(e.isd," IN and OUT Amount is not same. <br>"):"").join("");if(console.log(e),e.length>0)return ct()(".loader").hide(),f(e),void v(!0);const t={location:R,srno:me,date:Ea(W),data:k,type:"CNCHNG",filterRadioType:G,filterFromSrno:U,filterToSrno:K,filterFromDate:Ea(Z),filterToDate:Ea(ee)};if(Ye("/api/currency_change_a.php",[a,"save",JSON.stringify(t),JSON.stringify(De)],e=>{ct()(".loader").hide();let a=JSON.parse(e);""!==a.msg?(v(!0),f(a.msg)):(h(""),Le([]),A(a.curarray))}),"E"==b&&"SELF"!==Re){const e={srno:me,type:"CNCHNG",status:"E",currentDate:Ea(Oe),pageright:"CURRENCY_CHANGE"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}};const Ve=()=>{S(!1),h(""),x([])},ze=()=>{const e=new Date,t=he.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:Se,type:"CNCHNG",pageright:"CURRENCY_CHANGE",location:R};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);Fe(t.requestsrc),Be==o||"unlock"==t.msg?(h("E"),function(){let e=[];k.forEach(a=>{let t=e.findIndex(e=>e.isd===a.prd_isd);if(-1!=t){let l={...e[t],totalInAmount:"IN"===a.prd_in_type.trim()?1*e[t].totalInAmount+1*a.prd_amount:1*e[t].totalInAmount,TotalOutAmount:"OUT"===a.prd_in_type?1*e[t].TotalOutAmount+1*a.prd_amount:1*e[t].TotalOutAmount};e[t]=l}else e.push({isd:a.prd_isd,totalInAmount:"IN"===a.prd_in_type.trim()?1*a.prd_amount:0,TotalOutAmount:"OUT"===a.prd_in_type?1*a.prd_amount:0})}),Te(e)}()):(ve(!0),fe({trantype:"CNCHNG",trannumber:Se,location:R,tranDate:Ea(e)}))})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Currency Change"))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Ge,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===G,onChange:()=>P("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===G,onChange:()=>P("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===G,onChange:()=>P("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:W,minDate:new Date(t),maxDate:new Date(r),onChange:e=>X(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:U,maxLength:20,onChange:e=>Ze(e.target.value,Y),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:K,maxLength:20,onChange:e=>Ze(e.target.value,H),placeholder:"To"})))):"D"===G?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Z,onChange:e=>$(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:ee,onChange:e=>ae(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.add&&"N"===G?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(W);J&&W?e>r||e<t?(v(!0),f(E("MSG0010"))):(h("A"),V(null),le("IN"),re(""),oe(""),x([]),be(pa(W)),Te([]),ue(0)):(Ie[Me++]=E("MSG0006"),Ie[Me++]=J?"":" Location.",Ie[Me++]=W?"":" Date.",f(ja(Ie)),v(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==G&&"D"!==G?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),!J||"S"===G&&!U||"S"===G&&!K||"D"===G&&!Z||"D"===G&&!ee)ct()(".loader").hide(),Ie[Me++]=E("MSG0006"),Ie[Me++]=J?"":" Location.",Ie[Me++]="S"!==G||U?"":" From Srno.",Ie[Me++]="S"!==G||K?"":" To Srno.",Ie[Me++]="D"!==G||Z?"":" From Date.",Ie[Me++]="D"!==G||ee?"":" To Date.",f(ja(Ie)),v(!0);else{const e={location:R,filterRadioType:G,filterFromSrno:U,filterToSrno:K,filterFromDate:Ea(Z),filterToDate:Ea(ee)};Ye("/api/currency_change_a.php",[a,"list",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);A(a)})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"))),n.a.createElement("tbody",null,w.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r)=>{ct()(".loader").show(),ue(e),h("Q"),be(r),ge(n),ye(e);const c={srno:e,location:t,type:l};Ye("/api/currency_change_a.php",[a,"view",JSON.stringify(c)],e=>{ct()(".loader").hide();let a=JSON.parse(e);"MSG0000"===a.msg&&(ct()(".loader").hide(),x(a.currencyList),console.log("view list",a.currencyList),ie(a.maxlineno),F(a.location),M(a.locationname))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):Ve())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>ze()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Ae(!0),void xe({trantype:"CNCHNG",trannumber:Se,trancategory:"T",location:R}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>Je()},"Save")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Srno : ",me)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",I)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Date : ",pe))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:te,onChange:e=>le(e.target.value),required:!0},n.a.createElement("option",{value:"IN"},"IN"),n.a.createElement("option",{value:"OUT"},"OUT")))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:q,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{V(e);const a=e.id.split("^");Q(a[1])}}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ne,onChange:e=>Ze(e.target.value,re),maxLength:6,placeholder:"Denomination"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,onChange:e=>Ze(e.target.value,oe),maxLength:qe,placeholder:"Quantity"})))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>Pe()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,k.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=k.find(a=>a.unique_no===e);if(a){const e={TabType:"Product",ALineNo:De.length+1,AType:"D",TLoc:a.prd_location,TType:"CNCHNG",ProductType:a.prd_in_type,ISD:a.prd_isd,Deno:a.prd_deno,Quantity:a.prd_qty,ProductAmount:a.prd_amount};"1"===o.edit&&"E"===b&&Le(a=>[...a,e])}x(ga(k,"unique_no",e.unique_no)),Ee(de+1);let t=je.map(a=>a.isd===e.prd_isd?{...a,totalInAmount:"IN"===e.prd_in_type.trim()?a.totalInAmount-e.prd_amount:a.totalInAmount,TotalOutAmount:"OUT"===e.prd_in_type?a.TotalOutAmount-e.prd_amount:a.TotalOutAmount}:a);console.log(t),Te(t)})(e)},n.a.createElement(za.a,{icon:tt.r}))," "," ")):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_in_type),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement(bt,{logObject:ke,show:we,onHide:()=>Ae(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:g,onYes:e=>Ve(),onNo:e=>S(!1)},y),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(Dl,{logObject:Ce,show:Ne,onHide:()=>ve(!1)})))};var Cr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(!1),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(!1),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(null),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(0),[R,F]=Object(l.useState)(null),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)([]),[z,Q]=Object(l.useState)("N"),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(new Date),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)("FK"),[se,ie]=Object(l.useState)(0),[de,Ee]=Object(l.useState)(0),[pe,be]=Object(l.useState)(0),[he,ge]=Object(l.useState)(""),[Se,Oe]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)(0),fe=new Date,[je,Te]=Object(l.useState)(!1),[De,Le]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[ke,xe]=Object(l.useState)([]),[we,Ae]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Ie,Me]=Object(l.useState)(!1);var Re=[],Fe=0;const[Ge,Pe]=Object(l.useState)(""),[Je,ze]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{x(e),null!=e&&Qe(e)}),Ye(_,[a,"all","CURRENCY_WRITE_OFF"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const Qe=e=>{x(e);const a=e.id.split("^");M(a[1]),A(a[2]),sessionStorage.activeBranch=a[1]},Ue=()=>{S(!1),h("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Currency Write Off"))),n.a.createElement(Wa.a,null,"\xa0"),""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:k,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:Qe,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===z,onChange:()=>Q("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===z,onChange:()=>Q("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===z,onChange:()=>Q("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:U,minDate:new Date(t),maxDate:new Date(r),onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Z,maxLength:20,onChange:e=>Ze(e.target.value,$),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ee,maxLength:20,onChange:e=>Ze(e.target.value,ae),placeholder:"To"})))):"D"===z?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:K,onChange:e=>H(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:W,onChange:e=>X(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===o.add&&"N"===z?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(U);k&&U?e>r||e<t?(v(!0),f(E("MSG0010"))):(h("A"),B([]),F(null),re(""),le(""),oe(""),ue("FK")):(Re[Fe++]=E("MSG0006"),Re[Fe++]=k?"":" Location.",Re[Fe++]=U?"":" Date.",f(ja(Re)),v(!0))})()},"Add New"):null,"\xa0","1"!==o.query||"S"!==z&&"D"!==z?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!k||"S"==z&&!Z||"S"==z&&!ee||"D"==z&&!K||"D"==z&&!W)Re[Fe++]=E("MSG0006"),Re[Fe++]=k?"":" Location.",Re[Fe++]="S"!==z||Z?"":" From Srno.",Re[Fe++]="S"!==z||ee?"":" To Srno.",Re[Fe++]="D"!==z||K?"":" From Date.",Re[Fe++]="D"!==z||W?"":" To Date.",f(ja(Re)),v(!0);else{const e={location:I,filterRadioType:z,filterFromSrno:Z,filterToSrno:ee,filterFromDate:Ea(K),filterToDate:Ea(W)};Ye(Ne,[a,"list",JSON.stringify(e)],e=>{let a=JSON.parse(e);V(a)})}})()},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"SrNo"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Type"))),n.a.createElement("tbody",null,q.map(e=>n.a.createElement("tr",{key:e.hdr_srno},"1"===o.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r)=>{ie(e),h("Q"),Oe(r),Ce(e),ge(n);const c={srno:e,location:t,type:l};Ye(Ne,[a,"view",JSON.stringify(c)],e=>{let a=JSON.parse(e);"MSG0000"===a.msg&&(B(a.writeOffList),Ee(a.maxlineno),M(a.location),A(a.locationname))})})(e.hdr_srno,e.hdr_location,e.hdr_type,e.new_date,e.hdr_date)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_type)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>void("A"===b||"E"===b?(O("Do you really want to exit ?"),S(!0)):Ue())},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=he.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5);console.log(o);const m={srno:ve,type:"CNWOFF",pageright:"CURRENCY_WRITE_OFF",location:I};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);Pe(t.requestsrc),Be==o||"unlock"==t.msg?h("E"):(Te(!0),Le({trantype:"CNWOFF",trannumber:ve,location:I,tranDate:Ea(e)}))})})()},"Edit")):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Me(!0),void Ae({trantype:"CNWOFF",trannumber:ve,trancategory:"T",location:I}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{if(J.length<1)f("Empty List!"),v(!0);else{const e={location:I,srno:se,date:Ea(U),data:J,type:"CNWOFF",filterRadioType:z,filterFromSrno:Z,filterToSrno:ee,filterFromDate:Ea(K),filterToDate:Ea(W)};if(Ye(Ne,[a,"save",JSON.stringify(e),JSON.stringify(ke)],e=>{let a=JSON.parse(e);V(a),h(""),xe([])}),"E"==b&&"SELF"!==Ge){const e={srno:ve,type:"CNWOFF",status:"E",currentDate:Ea(fe),pageright:"CURRENCY_WRITE_OFF"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}})()},"Save")):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Sr No  :",se)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",w)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Date : ",Se))),n.a.createElement(Wa.a,null,"\xa0"),"E"===b||"A"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Currency",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:R,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Bt(e,"CN"),onInputChange:Mt,onChange:e=>{F(e);const t=e.id.split("^");P(t[1]);const l={product:"CN",isd:t[1]};Ye(ye,[a,"getrate",JSON.stringify(l)],e=>{let a=JSON.parse(e);ze(1*a.usdratesale)})}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Denomination"),n.a.createElement(s.a.Control,{value:ne,onChange:e=>Ze(e.target.value,re),maxLength:20,placeholder:"Denomination"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Quantity",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:te,onChange:e=>Ze(e.target.value,le),maxLength:qe,placeholder:"Quantity"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Rate",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ce,onChange:e=>(e=>{ea(e,oe),"USD"==G&&ze(e)})(e.target.value),maxLength:Ve,placeholder:"Rate"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-5 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:me,onChange:e=>ue(e.target.value),required:!0},n.a.createElement("option",{value:"FK"},"Fake or Forged"),n.a.createElement("option",{value:"TH"},"Theft"),n.a.createElement("option",{value:"LT"},"Lost in Transit"),n.a.createElement("option",{value:"OC"},"Out of Circulation"),n.a.createElement("option",{value:"MS"},"Multilated / Soiled"))))),n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"===o.add?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=[],a=0;if(null===R||""===ne||""===te||""===ce)e[a++]=E("MSG0006"),e[a++]=null===R?" Currency.":"",e[a++]=""===ne?" Denomination.":"",e[a++]=""===te?" Quantity.":"",e[a++]=""===ce?" Rate.":"",f(ja(e)),v(!0);else{if(""==Je||"0"==Je||!Je)return v(!0),void f("USD rate does not exist.");const e=ne*te*ce;var t=e/Je;const a={unique_no:Oa(5),prd_line_no:1*de+1,prd_location:I,prd_type:"CNWOFF",prd_isd:G,prd_date:Ea(U),prd_product:"CN",prd_deno:ne,prd_qty:te,prd_rate:ce,prd_amount:e,prd_reason:me,usdRate:Je,usdAmt:t.toFixed(2),del:"Y"};B(Sa(J,a));const l={TabType:"Product",ALineNo:ke.length+1,AType:"A",TLoc:I,TType:"CNWOFF",ISD:G,Deno:ne,Quantity:te,ProductRate:ce,ProductAmount:e,ProductReason:me};"1"===o.edit&&"E"===b&&xe(e=>[...e,l]),console.log(J),Ee(de+1),F(null),re(""),le(""),oe(""),ue("FK")}})()},"Add"):null))):null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No "),n.a.createElement("th",null,"Currency"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Reason"))),n.a.createElement("tbody",null,J.map(e=>n.a.createElement("tr",{key:e.prd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"===b||"N"===e.del?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{const a=J.find(a=>a.unique_no===e);if(a){const e={TabType:"Product",ALineNo:ke.length+1,AType:"D",TLoc:a.prd_location,TType:"CNWOFF",ISD:a.prd_isd,Deno:a.prd_deno,Quantity:a.prd_qty,ProductRate:a.prd_rate,ProductAmount:a.prd_amount,ProductReason:a.prd_reason};"1"===o.edit&&"E"===b&&xe(a=>[...a,e])}B(ga(J,"unique_no",e)),be(pe+1)})(e.unique_no)},n.a.createElement(za.a,{icon:tt.r}))," "," ")):null,n.a.createElement("td",null,e.prd_line_no),n.a.createElement("td",null,e.prd_isd),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount),n.a.createElement("td",null,"FK"===e.prd_reason?"Fake or Forged":"TH"===e.prd_reason?"Theft":"LT"===e.prd_reason?"Lost in Transit":"OC"===e.prd_reason?"Out of Circulation":"Multilated / Soiled"))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement(bt,{logObject:we,show:Ie,onHide:()=>Me(!1)}),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:N,onClose:e=>v(!1)},C),n.a.createElement(St,{isOpen:g,onYes:e=>Ue(),onNo:e=>S(!1)},y),n.a.createElement(Ka,{isOpen:j,onClose:e=>T(!1)},D),n.a.createElement(Dl,{logObject:De,show:je,onHide:()=>Te(!1)})))};var _r=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)("0"),[D,L]=Object(l.useState)("0"),[k,x]=Object(l.useState)(new Date),[w,A]=Object(l.useState)(new Date),[I,M]=Object(l.useState)(new Date),[R,F]=Object(l.useState)("N"),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(new Date),[z,Q]=Object(l.useState)(null),[U,Y]=Object(l.useState)("0"),[K,H]=Object(l.useState)("0"),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)([]),[ne,re]=Object(l.useState)(null),[ce,oe]=Object(l.useState)(0),[me,ue]=Object(l.useState)(""),[se,ie]=Object(l.useState)("0"),[de,Ee]=Object(l.useState)("0"),[pe,be]=Object(l.useState)("D"),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(!1),[Oe,Ne]=Object(l.useState)(""),[ve,Ce]=Object(l.useState)("INFORMATION"),[fe,je]=Object(l.useState)(0),[Te,De]=Object(l.useState)(0),[Le,ke]=Object(l.useState)(0),[xe,we]=Object(l.useState)(0),[Ae,Ie]=Object(l.useState)(0),[Me,Re]=Object(l.useState)(""),[Fe,Ge]=Object(l.useState)(!1),[Pe,Je]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),Ve=new Date,[ze,Qe]=Object(l.useState)({location:"",trannumber:"",type:""}),[Ue,Ke]=Object(l.useState)(!1),[He,We]=Object(l.useState)([]),[Xe,$e]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[aa,ta]=Object(l.useState)(!1),[la,na]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{O(e),null!=e&&ra(e)}),Ye(_,[a,"all","EXPENSE_TRANSFER"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const ra=e=>{O(e);const a=e.id.split("^");v(a[1]),f(a[2]),T(a[6]),L(a[7]),sessionStorage.activeBranch=a[1]},ca=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].td_flag?t+=1*e[a].td_amount:l+=-1*e[a].td_amount;ke(t),we(l);let n=t-l;Ie(n.toFixed(2)),console.log(n),n<0?(console.log("jjjjjj"),be("D"),ge(-1*n)):(be("C"),ge(n))};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Expense Transfer ",n.a.createElement("span",{style:{color:"white"}},fe)))),"\xa0",""==b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:ra,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===R,onChange:()=>F("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===R,onChange:()=>F("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===R,onChange:()=>F("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Wa.a,null,"N"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:k,minDate:new Date(t),maxDate:new Date(r),onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:G,maxLength:20,onChange:e=>Ze(e.target.value,P),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:J,maxLength:20,onChange:e=>Ze(e.target.value,B),placeholder:"To"})))):"D"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:w,onChange:e=>A(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"===R?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=0,a=[],l=Ea(k);y&&k?l>r||l<t?(ye(!0),Ne(E("MSG0010"))):(h("A"),le([]),Q(null),ge(""),ae(""),De(0),Ce("INFORMATION"),re(null),oe(0),ue("")):(a[e++]=E("MSG0006"),a[e++]=y?"":" Select location.",a[e++]=k?"":" Date.",Ne(ja(a)),ye(!0))})()},"Add New"):null,"\xa0","S"===R||"D"===R?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=0,t=[];if(!y||"S"===R&&!G||"S"===R&&!J||"D"===R&&!w||"D"===R&&!I)t[e++]=E("MSG0006"),t[e++]=y?"":" Select location.",t[e++]="S"!==R||G?"":" From Srno.",t[e++]="S"!==R||J?"":" To Srno.",t[e++]="D"!==R||w?"":" From Date.",t[e++]="D"!==R||I?"":" To Date.",Ne(ja(t)),ye(!0);else{const e={hdr_location:N,hdr_type:"EI",fromSrno:G,toSrno:J,fromDate:Ea(w),toDate:Ea(I),radioType:R};Ye("/api/expense_transfer_a.php",[a,"showHeaderEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);S(a)})}})()},"List"):null)),"\xa0",g.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),g.map(e=>n.a.createElement("tbody",null,n.a.createElement("tr",{key:e.hdr_srno},n.a.createElement("td",null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o,m)=>{f(m),ae(o),Re(n),De(e);const u={srno:e,type:t,date:n,location:l,group:r,ledger:c};Ye("/api/expense_transfer_a.php",[a,"viewDataList",JSON.stringify(u)],e=>{let a=JSON.parse(e);console.log(a),Q({id:a.p_id,label:a.p_label}),Y(r),H(c),le(a.resarray),ca(a.resarray),h("Q")})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.formatted_date,e.hdr_group,e.hdr_ledger,e.hdr_narration,e.entity_name)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))),n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{h("")}},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Me.split("/"),l=(t[2],t[1],t[0],Ea(e)),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5),o={srno:Te,type:"EI",pageright:"EXPENSE_TRANSFER",location:N};Ye(_e,[a,"checkUnlock",JSON.stringify(o)],a=>{let t=JSON.parse(a);na(t.requestsrc),Be==c||"unlock"==t.msg?h("E"):(Ge(!0),Je({trantype:"EI",trannumber:Te,location:N,tranDate:Ea(e)}))})})()},"Edit"),"\xa0"):null,"1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ta(!0),void $e({trantype:"EI",trannumber:Te,trancategory:"T",location:N}))},"Activity Log"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{const e={hdr_location:N,hdr_date:Ea(k),hdr_group:U,hdr_ledger:K,dataList:te,hdr_type:"EI",fromSrno:G,toSrno:J,fromDate:Ea(w),toDate:Ea(I),radioType:R,hdr_narration:ee,srNo:Te,hdr_total:Ae,hdr_location_group:j,hdr_location_ledger:D,viewDate:Me};if(Ye("/api/expense_transfer_a.php",[a,"saveEntry",JSON.stringify(e),JSON.stringify(He)],e=>{let a=JSON.parse(e);S(a),h(""),We([])}),"E"==b&&"SELF"!==la){const e={srno:Te,type:"EI",status:"E",currentDate:Ea(Ve),pageright:"EXPENSE_TRANSFER"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}},"Save"):null,"1"===o.query&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(Ke(!0),void Qe({location:"",trannumber:Te,type:"EI"}))},"Fa View")):null)),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Sr No : ",Te)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Location : ",N," ",C)),"\xa0",n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,Ae<0?"Debit Amount":"Credit Amount","  : ",Ae<0?-1*Ae:Ae))),n.a.createElement(kt.a,{activeKey:ve,defaultActiveKey:"INFO",onSelect:e=>(e=>{Ce(e)})(e)},n.a.createElement(xt.a,{eventKey:"INFORMATION",title:"Information"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,1),onInputChange:Mt,onChange:e=>{Q(e),console.log(e);const a=e.id.split("^");Y(a[1]),H(a[2]),X(a[4]),$(a[3])},isDisabled:"A"!=b&&!0})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Narration"),n.a.createElement(s.a.Control,{value:ee,maxLength:254,as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:e=>ae(e.target.value),disabled:"A"!=b})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{Ce("DETAIL")}},"Detail"))),"\xa0"),n.a.createElement(xt.a,{eventKey:"DETAIL",title:"Detail"},("A"==b||"E"==b)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ne,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ul,onInputChange:Mt,onChange:e=>{re(e);const a=e.id.split("^");oe(a[1]),ue(a[2]),ie(a[6]),Ee(a[7])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Dr/Cr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:pe,onChange:e=>be(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Dr"),n.a.createElement("option",{value:"C"},"Cr")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount"),n.a.createElement(s.a.Control,{value:he,maxLength:qe,onChange:e=>ea(e.target.value,ge),placeholder:"Amount"})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e=0,a=[];if(he&&N!=ce){const e={uniquekey:Oa(15),td_location:ce,td_location_name:me,td_flag:pe,td_amount:"C"==pe?-1*he:he,td_group:se,td_ledger:de,delny:"Y"};le(Sa(te,e));const a={TabType:"Detail",ALineNo:He.length+1,AType:"A",TLoc:N,TType:"EI",LocationName:me,Flag:pe,Amount:"C"==pe?-1*he:he,Group:se,Ledger:de};"1"===o.edit&&"E"===b&&We(e=>[...e,a]),ca(te),je(fe+1),be("D"),ge(""),re(null)}else a[e++]=E("MSG0006"),a[e++]=he?"":" Amount.",a[e++]=N==ce?"You can't select same branch.":"",Ne(ja(a)),ye(!0)}},"Add"))),n.a.createElement(Wa.a,null,"\xa0")),te.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.delete&&"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Location"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"))),n.a.createElement("tbody",null,te.map(e=>n.a.createElement("tr",{key:e.td_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter "},"Q"===b||"N"===e.delny?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l,n)=>{const r=te.find(a=>a.uniquekey===e);if(r){const e={TabType:"Detail",ALineNo:He.length+1,AType:"D",TLoc:r.td_location,TType:"EI",LocationName:r.td_location_name,Flag:r.td_flag,Amount:r.td_amount,Group:r.td_group,Ledger:r.td_ledger};"1"===o.edit&&"E"===b&&We(a=>[...a,e])}le(ga(te,"uniquekey",e)),je(fe-1),console.log(te),ca(te)})(e.uniquekey,e.td_location,e.td_type,e.td_srno,e.td_line_no)},n.a.createElement(za.a,{icon:tt.r}))," "),"Q"===b?n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t)=>{Ke(!0),Qe({location:t,trannumber:e,type:a})})(e.td_srno,e.td_type,e.td_location)},n.a.createElement(za.a,{icon:Qa.f})):null):null,n.a.createElement("td",null,e.td_location_name),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.td_flag&&-1*e.td_amount),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.td_flag&&e.td_amount))))))))))),n.a.createElement(bt,{logObject:Xe,show:aa,onHide:()=>ta(!1)}),n.a.createElement(Ka,{isOpen:Se,onClose:e=>ye(!1)},Oe),n.a.createElement(Gl,{faViewObject:ze,show:Ue,onHide:()=>Ke(!1)}),n.a.createElement(Dl,{logObject:Pe,show:Fe,onHide:()=>Ge(!1)}),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var fr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)([]),[y,O]=Object(l.useState)(null),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(0),[D,L]=Object(l.useState)(0),[k,x]=Object(l.useState)(new Date),[w,A]=Object(l.useState)(new Date),[I,M]=Object(l.useState)(new Date),[R,F]=Object(l.useState)("N"),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)("INFORMATION"),[z,Q]=Object(l.useState)("C"),[U,Y]=Object(l.useState)(new Date),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(""),[Z,$]=Object(l.useState)(null),[ee,ae]=Object(l.useState)("0"),[te,le]=Object(l.useState)("0"),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(0),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)("0"),[he,ge]=Object(l.useState)("0"),[Se,ye]=Object(l.useState)(0),[Oe,Ne]=Object(l.useState)(null),[ve,Ce]=Object(l.useState)("0"),[_e,fe]=Object(l.useState)("0"),[je,Te]=Object(l.useState)(""),[De,Le]=Object(l.useState)([]),[ke,xe]=Object(l.useState)(0),[we,Ae]=Object(l.useState)(!1),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)(0),[Ge,Pe]=Object(l.useState)(0),[Je,Be]=Object(l.useState)(0),[Ve,ze]=Object(l.useState)(0),[Qe,Ue]=Object(l.useState)({location:"",trannumber:"",type:""}),[Ke,He]=Object(l.useState)(!1);var We=0,Xe=[];Object(l.useEffect)(()=>{d||(xa().then(e=>{O(e),null!=e&&$e(e)}),Ye(_,[a,"all","FUND_TRANSFER"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const $e=e=>{O(e);const a=e.id.split("^");console.log(a,"location"),v(a[1]),f(a[2]),""===a[6]?T(0):T(a[6]),""===a[7]?L(0):L(a[7]),sessionStorage.activeBranch=a[1]},aa=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].td_flag?t+=1*e[a].td_amount:l+=-1*e[a].td_amount;Pe(t),Be(l);let n=t-l;ze(n.toFixed(2)),console.log(n),n<0?(console.log("jjjjjj"),ye(-1*n)):ye(n)};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Fund Transfer ",n.a.createElement("span",{style:{color:"white"}},ke)))),"\xa0",""===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:y,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:$e,isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===R,onChange:()=>F("N"),type:"radio",label:"New"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===R,onChange:()=>F("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===R,onChange:()=>F("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"N"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:k,minDate:new Date(t),maxDate:new Date(r),onChange:e=>x(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:G,maxLength:20,onChange:e=>Ze(e.target.value,P),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:J,maxLength:20,onChange:e=>Ze(e.target.value,B),placeholder:"To"})))):"D"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:w,onChange:e=>A(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"===R?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(k);y&&k?e>r||e<t?(Ae(!0),Me(E("MSG0010"))):(h("A"),Le([]),$(null),ye(""),Fe(0),V("INFORMATION"),H(""),X(""),Ne(null),Ce("0"),fe("0"),Te(""),ue(null),ie(0),Ee("")):(Xe[We++]=E("MSG0006"),Xe[We++]=y?"":" Please select location.",Xe[We++]=k?"":" Please select date.",Me(ja(Xe)),Ae(!0))})()},"Add New"):null,"\xa0","S"===R||"D"===R?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(!y||"S"==R&&!G||"S"==R&&!J||"D"==R&&!w||"D"==R&&!I)Xe[We++]=E("MSG0006"),Xe[We++]=y?"":" Please select location.",Xe[We++]="S"!=R||G?"":" Please enter from srno.",Xe[We++]="S"!=R||J?"":" Please enter to srno.",Xe[We++]="D"!=R||w?"":" Please select from date.",Xe[We++]="D"!=R||I?"":" Please select to date.",Me(ja(Xe)),Ae(!0);else{const e={hdr_location:N,hdr_type:"FT",fromSrno:G,toSrno:J,fromDate:Ea(w),toDate:Ea(I),radioType:R};Ye("/api/fund_transfer_a.php",[a,"showHeaderEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);S(a)})}})()},"List"):null)),"\xa0",g.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"))),g.map(e=>n.a.createElement("tbody",null,n.a.createElement("tr",{key:e.hdr_srno},n.a.createElement("td",null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,t,l,n,r,c,o,m,u,s,i)=>{f(m),H(o),Q(u),Fe(e),Ce(s),fe(i),V("INFORMATION");const d={srno:e,type:t,date:n,location:l,group:r,ledger:c};Ye("/api/fund_transfer_a.php",[a,"viewDataList",JSON.stringify(d)],e=>{let a=JSON.parse(e);console.log(a),$({id:a.p_id,label:a.p_label}),ae(r),le(c),Le(a.resarray),aa(a.resarray),h("Q"),ye("")})})(e.hdr_srno,e.hdr_type,e.hdr_location,e.formatted_date,e.hdr_group,e.hdr_ledger,e.hdr_ref_no,e.entity_name,e.hdr_in_out,e.branchGroup,e.branchLedger)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.hdr_type),n.a.createElement("td",null,e.formatted_date)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{h("")}},"Back")," ","1"===o.edit&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void h("E")},"Edit"),"\xa0"):null,"1"===o.edit&&"E"===b||"1"===o.add&&"A"===b?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(Z){const e={hdr_location:N,hdr_date:Ea(k),hdr_group:ee,hdr_ledger:te,hdr_type:"FT",srNo:Re,hdr_ref_no:K,dataList:De,fromSrno:G,toSrno:J,fromDate:Ea(w),toDate:Ea(I),radioType:R,hdr_total:Ve,hdr_location_group:j,hdr_location_ledger:D,hdr_in_out:z};Ye("/api/fund_transfer_a.php",[a,"saveEntry",JSON.stringify(e)],e=>{console.log(e);let a=JSON.parse(e);S(a),h("")})}else Xe[We++]=E("MSG0006"),Xe[We++]=Z?"":" Please select account.",Me(ja(Xe)),Ae(!0)}},"Save"):null,"1"===o.query&&"Q"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(He(!0),void Ue({location:"",trannumber:Re,type:"FT"}))},"Fa View")):null)),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Sr No : ",Re)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Location : ",N," ",C)),"\xa0",n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"C"===z?"Out":"In","  : ",Math.abs(Ve)))),n.a.createElement(kt.a,{activeKey:q,defaultActiveKey:"INFO",onSelect:e=>(e=>{V(e)})(e)},n.a.createElement(xt.a,{eventKey:"INFORMATION",title:"Information"},n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:z,onChange:e=>Q(e.target.value),required:!0,disabled:"A"!=b&&!0},n.a.createElement("option",{value:"C"},"Out"),n.a.createElement("option",{value:"D"},"In")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Z,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>el(e,N),onInputChange:Mt,onChange:e=>{$(e),console.log(e);const a=e.id.split("^");ae(a[1]),le(a[2]),re(a[4]),oe(a[3])},isDisabled:"A"!=b&&!0})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No."),n.a.createElement(s.a.Control,{value:K,maxLength:255,onChange:e=>na(e.target.value,H),placeholder:"Reference No.",disabled:"A"!=b&&!0})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{V("DETAIL")}},"Detail"))),"\xa0"),n.a.createElement(xt.a,{eventKey:"DETAIL",title:"Detail"},("A"==b||"E"==b)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ul,onInputChange:Mt,onChange:e=>{ue(e);const a=e.id.split("^");console.log(a,"branch"),ie(a[1]),Ee(a[2]),""===a[6]?be(0):be(a[6]),""===a[7]?ge(0):ge(a[7]),Ne(null),Ce("0"),fe("0"),Te("")}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Oe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>el(e,se),onInputChange:Mt,onChange:e=>{Ne(e),console.log(e);const a=e.id.split("^");console.log(a),Ce(a[1]),fe(a[2]),Te(a[3])}})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No."),n.a.createElement(s.a.Control,{value:W,maxLength:255,onChange:e=>na(e.target.value,X),placeholder:"Reference No."}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Se,maxLength:qe,onChange:e=>ea(e.target.value,ye),placeholder:"Amount"})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(me&&Se&&Oe&&N!=se){const e={uniquekey:Oa(15),td_location:se,td_amount:Se,td_ref_no:W,td_group:ve,td_ledger:_e,td_date:Ea(k),td_type:"FT",td_location_name:de,td_flag:"C"===z?"D":"C",delny:"Y",branchgroup:pe,branchledger:he};Le(Sa(De,e)),aa(De),xe(ke+1),ye(""),ue(null),Ne(null),X(""),console.log(e)}else Xe[We++]=E("MSG0006"),Xe[We++]=me?"":" Please select  branch.",Xe[We++]=Oe?"":" Please select  bank.",Xe[We++]=Se?"":" Please enter amount.",Xe[We++]=N==se?"You can't select same branch.":"",Me(ja(Xe)),Ae(!0)}},"Add"))),n.a.createElement(Wa.a,null,"\xa0")),De.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.delete&&"1"===o.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Bank Group"),n.a.createElement("th",null,"Bank Ledger"),n.a.createElement("th",null,"Reference"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,De.map(e=>n.a.createElement("tr",{key:e.td_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter "},"Q"===b||"N"===e.delny?null:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l,n)=>{console.log(e),Le(ga(De,"uniquekey",e)),xe(ke-1),console.log(De),aa(De)})(e.uniquekey,e.td_location,e.td_type,e.td_srno,e.td_line_no)},n.a.createElement(za.a,{icon:tt.r}))," "),"Q"===b?n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t)=>{He(!0),Ue({location:t,trannumber:e,type:a})})(e.td_srno,e.td_type,e.td_location)},n.a.createElement(za.a,{icon:Qa.f})):null):null,n.a.createElement("td",null,e.td_line_no),n.a.createElement("td",null,e.td_location_name),n.a.createElement("td",null,e.td_group),n.a.createElement("td",null,e.td_ledger),n.a.createElement("td",null,e.td_ref_no),n.a.createElement("td",{style:{textAlign:"right"}},e.td_amount))))))))))),n.a.createElement(Ka,{isOpen:we,onClose:e=>Ae(!1)},Ie),n.a.createElement(Gl,{faViewObject:Qe,show:Ke,onHide:()=>He(!1)}),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var jr=()=>{var e,a,t,r,c,o,u,d,E,p,b,h,g,S,y,O,N,v,C,f,j;const T=Object(m.n)(),D=sessionStorage.getItem("sessionId"),[L,k]=Object(l.useState)(!1),[x,w]=Object(l.useState)([]),[A,I]=Object(l.useState)(!1),[M,R]=Object(l.useState)(""),[F,G]=Object(l.useState)(""),[P,J]=Object(l.useState)([]),[B,q]=Object(l.useState)([]),[V,z]=Object(l.useState)([]),[Q,Y]=Object(l.useState)("L"),[K,H]=Object(l.useState)(""),[W,X]=Object(l.useState)(new Date),[Z,$]=Object(l.useState)(new Date),[ee,ae]=Object(l.useState)("A"),[te,le]=Object(l.useState)(0),[ne,re]=Object(l.useState)([]),[ce,oe]=Object(l.useState)("A"),[me,ue]=Object(l.useState)(!1),[se,ie]=Object(l.useState)(""),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)(!1);Object(l.useEffect)(()=>{L||(Ye(_,[D,"all","TRAN_CONVEYANCE"],function(e){let a=JSON.parse(e);"1"===a.query?w(a):T("/")}),k(!0))},[L,D,T]);const Oe=e=>{ue(e);var a=[];a=e?P.map(e=>({...e,ischecked:"1"==e.tce_approval_3?"0":"1"})):P.map(e=>({...e,ischecked:"0"})),J(a)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Conveyance Entry"))),n.a.createElement(Wa.a,null,"\xa0"),""===F?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Q,onChange:e=>Y(e.target.value),required:!0},n.a.createElement("option",{value:"L"},"Location"),n.a.createElement("option",{value:"U"},"User Name"),n.a.createElement("option",{value:"D"},"Date"),n.a.createElement("option",{value:"S"},"Status")))),"L"==Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{le(e),re(a),oe(t)}}))):"U"==Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"User Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"User Name",value:K,onChange:e=>H(e.target.value),autoComplete:"off"})))):"D"===Q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," From Date"),n.a.createElement(vl.a,{className:"form-control",selected:W,onChange:e=>X(e),maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:Z,onChange:e=>$(e),maxDate:new Date,dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Filter",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ee,onChange:e=>ae(e.target.value),required:!0},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"A"},"Approved"),n.a.createElement("option",{value:"P"},"Pending"),n.a.createElement("option",{value:"R"},"Rejected"),n.a.createElement("option",{value:"P"},"Paid")))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={conveyanceFilter:Q,radioType:ce,location:te,multipleLocation:ne.join(),user:K,fromDate:Ea(W),toDate:Ea(Z),conveyanceStatus:ee,approval3:1,status:"P"};Ye("/api/tran_conveyance_a.php",[D,"coveyanceList",JSON.stringify(e)],e=>{J(JSON.parse(e))})})()},"List")," \xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();const e={conveyanceData:P,conveyanceFilter:Q,radioType:ce,location:te,multipleLocation:ne.join(),user:K,fromDate:Ea(W),toDate:Ea(Z),conveyanceStatus:ee,approval3:1};for(var a=!1,t="Please select transactions.",l=0;l<P.length;l++)"1"==P[l].ischecked&&(a=!0,t="");a?Ye("/api/tran_conveyance_a.php",[D,"sendForTransfer",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);J(a)}):(ct()(".loader").hide(),I(!0),R(t)),Oe(!1)})()},"Send for Transfer"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"conveyanceCheck"},n.a.createElement("span",{className:"d-inline-flex"},n.a.createElement(s.a.Check,{type:"checkbox",label:"",checked:me,onChange:e=>Oe(e.target.checked)}),"\xa0 Select All")),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Branch"),n.a.createElement("th",null,"Mode"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"From Date"),n.a.createElement("th",null,"To Date"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"User Name"))),n.a.createElement("tbody",null,P.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,n.a.createElement("span",{style:{display:"inline-block"}},n.a.createElement(s.a.Check,{type:"checkbox",checked:me||"1"===e.ischecked&&"checked",name:"ischecked",onChange:e=>((e,a,t)=>{let l=P.map((l,n)=>e!==n?l:"ischecked"===t?(ue(!1),a.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}):void 0);J(l)})(a,e,"ischecked")})),"\xa0",n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t)=>{G("E");const l={srno:e,status:a,randomNumber:t};Ye("/api/tran_conveyance_a.php",[D,"edit",JSON.stringify(l)],e=>{let a=JSON.parse(e);q(a.convArray),z(a.docArray)})})(e.tce_srno,e.tce_status,e.tce_random_number)},n.a.createElement(za.a,{icon:Qa.f})),"\xa0"),n.a.createElement("td",null,e.tce_srno),n.a.createElement("td",null,"BV"===e.tce_type?"Branch Visit":"D"===e.tce_type?"Delivery":"LG"===e.tce_type?"Lead Generation":null),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,"H"===e.tce_mode?"Hotel":"F"===e.tce_mode?"Food":"B"===e.tce_mode?"Bike":"C"===e.tce_mode?"Car":"S"===e.tce_mode?"Bus":"M"===e.tce_mode?"Metro":"A"===e.tce_mode?"Auto":"Taxi"),n.a.createElement("td",null,e.tce_amount),n.a.createElement("td",null,e.tce_from_date),n.a.createElement("td",null,e.tce_to_date),n.a.createElement("td",null,"P"===e.tce_status?"Pending":"A"===e.tce_status?"Approved":"R"===e.tce_status?"Rejected":"Paid"),n.a.createElement("td",null,e.um_username)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Srno: ",n.a.createElement("b",null,null===(e=B[0])||void 0===e?void 0:e.tce_srno)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type: ",n.a.createElement("b",null,"BV"===(null===(a=B[0])||void 0===a?void 0:a.tce_type)?"Branch Visit":"D"===(null===(t=B[0])||void 0===t?void 0:t.tce_type)?"Manual No / Invoice No.":"Lead Generation")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Branch: ",n.a.createElement("b",null,null===(r=B[0])||void 0===r?void 0:r.entity_name)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode: ",n.a.createElement("b",null,"F"===(null===(c=B[0])||void 0===c?void 0:c.tce_mode)?"Food":"H"===(null===(o=B[0])||void 0===o?void 0:o.tce_mode)?"Hotel":"B"===(null===(u=B[0])||void 0===u?void 0:u.tce_mode)?"Bike":"C"===(null===(d=B[0])||void 0===d?void 0:d.tce_mode)?"Car":"BS"===(null===(E=B[0])||void 0===E?void 0:E.tce_mode)?"Bus":"M"===(null===(p=B[0])||void 0===p?void 0:p.tce_mode)?"Metro":"A"===(null===(b=B[0])||void 0===b?void 0:b.tce_mode)?"Auto":"Taxi"))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Place: ",n.a.createElement("b",null,null===(h=B[0])||void 0===h?void 0:h.tce_from)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Place: ",n.a.createElement("b",null,null===(g=B[0])||void 0===g?void 0:g.tce_to)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Distance: ",n.a.createElement("b",null,null===(S=B[0])||void 0===S?void 0:S.tce_distance)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount: ",n.a.createElement("b",null,null===(y=B[0])||void 0===y?void 0:y.tce_amount))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remark: ",n.a.createElement("b",null,null===(O=B[0])||void 0===O?void 0:O.tce_remark)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date: ",n.a.createElement("b",null,null===(N=B[0])||void 0===N?void 0:N.tce_from_date)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date: ",n.a.createElement("b",null,null===(v=B[0])||void 0===v?void 0:v.tce_to_date)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status: ",n.a.createElement("b",null,"P"===(null===(C=B[0])||void 0===C?void 0:C.tce_status)?"Pending":"R"===(null===(f=B[0])||void 0===f?void 0:f.tce_status)?"Rejected":"A"===(null===(j=B[0])||void 0===j?void 0:j.tce_status)?"Approved":"Paid"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement("h5",{style:{paddingTop:"11px"}},"Uploaded Documents")),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Ext"),n.a.createElement("th",null,"Document Name"),n.a.createElement("th",null,"Document Description"))),n.a.createElement("tbody",null,V.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"textCenter"},"jpg"===e.tmd_doc_ext||"jpeg"===e.tmd_doc_ext||"png"===e.tmd_doc_ext||"pdf"===e.tmd_doc_ext||"bmp"===e.tmd_doc_ext||"gif"===e.tmd_doc_ext?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t,l)=>{const n={srno:e,lineNo:a,randomNumber:t,docExt:l,name:"conveyanceDoc",pageright:"TRAN_CONVEYANCE"};_a(U,[D,"docView",JSON.stringify(n)],e=>{let a=JSON.parse(e);ie(a.bs64),Ee(a.typ),be(a.desc),ge(a.fname),ye(!0)})})(e.tmd_srno,e.tmd_line_no,e.tmd_random_number,e.tmd_doc_ext)},n.a.createElement(za.a,{icon:Qa.f})),"\xa0"):null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((e,a,t)=>{const l={srno:e,lineNo:a,randomNumber:t,name:"conveyanceDoc",pageright:"TRAN_CONVEYANCE"};va(U,"post",[D,"docdownload",JSON.stringify(l)])})(e.tmd_srno,e.tmd_line_no,e.tmd_random_number)},n.a.createElement(za.a,{icon:tt.l}))),n.a.createElement("td",null,e.tmd_doc_ext),n.a.createElement("td",null,e.tmd_doc_name),n.a.createElement("td",null,e.tmd_doc_desc))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void G("")},"Back")))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(pt.a,{show:Se,onHide:()=>ye(!1),size:"xl",centered:!0},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,{id:"example-custom-modal-styling-title"},pe+" : "+he)),n.a.createElement(pt.a.Body,null,n.a.createElement("embed",{src:se,type:de,style:{minHeight:"100vh",minWidth:"100%"}}))),n.a.createElement(Ka,{isOpen:A,onClose:e=>I(!1)},M))};var Tr=()=>{const[e,a]=Object(l.useState)(""),[t,r]=Object(l.useState)("N"),c=Object(m.n)(),o=sessionStorage.getItem("sessionId"),u=sessionStorage.getItem("startDate"),d=sessionStorage.getItem("endDate"),b=sessionStorage.getItem("branchDisable"),[h,g]=Object(l.useState)([]),[S,y]=Object(l.useState)([]),[O,N]=Object(l.useState)([]),[v,C]=Object(l.useState)([]),[f,j]=Object(l.useState)([]),[T,D]=Object(l.useState)([]),[k,x]=Object(l.useState)([]),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)([]),[R,F]=Object(l.useState)([]),[G,P]=Object(l.useState)([]),[J,B]=Object(l.useState)([]),[q,V]=Object(l.useState)([]),[z,Q]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(!1),[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(new Date),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(""),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(""),[ue,se]=Object(l.useState)(""),[ie,de]=Object(l.useState)(""),[Ee,pe]=Object(l.useState)(""),[be,he]=Object(l.useState)(new Date),[ge,Se]=Object(l.useState)(new Date),[ye,Oe]=Object(l.useState)("N"),[Ne,ve]=Object(l.useState)(""),[Ce,_e]=Object(l.useState)(""),[fe,je]=Object(l.useState)(""),[Te,De]=Object(l.useState)("E"),[ke,xe]=Object(l.useState)("PP"),[we,Ae]=Object(l.useState)(""),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)(""),[Ge,Pe]=Object(l.useState)(""),[Je,Be]=Object(l.useState)(""),[qe,Ve]=Object(l.useState)(""),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(""),[He,Xe]=Object(l.useState)(null),[$e,ea]=Object(l.useState)(""),[aa,ta]=Object(l.useState)(""),[la,ra]=Object(l.useState)(null),[ca,oa]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(""),[ia,da]=Object(l.useState)([]);let ba=[],ha=0;const[ga,ya]=Object(l.useState)(""),[Ca,Ta]=Object(l.useState)(""),[Da,La]=Object(l.useState)(""),[ka,wa]=Object(l.useState)(""),[Aa,Ia]=Object(l.useState)(!1),[Ma,Ra]=Object(l.useState)([]),[Fa,Ga]=Object(l.useState)([]),[Pa,Ja]=Object(l.useState)("0"),[Ba,qa]=Object(l.useState)(""),[Va,Ua]=Object(l.useState)(!1),[Ya,Za]=Object(l.useState)(""),[$a,et]=Object(l.useState)(0),[lt,rt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[ot,mt]=Object(l.useState)(!1),[ut,st]=Object(l.useState)(""),[it,dt]=Object(l.useState)([]),[ht,gt]=Object(l.useState)(0),[St,yt]=Object(l.useState)(0),[Ot,Nt]=Object(l.useState)(0),[vt,Ct]=Object(l.useState)(""),[_t,ft]=Object(l.useState)(""),[jt,Tt]=Object(l.useState)(""),[Dt,Lt]=Object(l.useState)([]),[kt,xt]=Object(l.useState)(!1),[At,Gt]=Object(l.useState)(0),[Pt,Jt]=Object(l.useState)(0),[Bt,qt]=Object(l.useState)(0),[Vt,zt]=Object(l.useState)(0),[Qt,Ut]=Object(l.useState)("C"),[Yt,Kt]=Object(l.useState)(null),[Ht,Wt]=Object(l.useState)(""),[Xt,Zt]=Object(l.useState)(""),[$t,el]=Object(l.useState)(""),[al,tl]=Object(l.useState)([]),[ll,nl]=Object(l.useState)(0),[rl,cl]=Object(l.useState)(0),[ol,ml]=Object(l.useState)(null),[ul,sl]=Object(l.useState)(0),[dl,El]=Object(l.useState)(0),[pl,bl]=Object(l.useState)(0),[hl,gl]=Object(l.useState)(0),[Sl,yl]=Object(l.useState)(""),[Ol,Nl]=Object(l.useState)(""),[Cl,_l]=Object(l.useState)(!1),[fl,jl]=Object(l.useState)("N"),[Tl,Dl]=Object(l.useState)(new Date),[Ll,kl]=Object(l.useState)(new Date),[xl,wl]=Object(l.useState)(),[Al,Il]=Object(l.useState)(!0),[Ml,Rl]=Object(l.useState)(""),[Fl,Gl]=Object(l.useState)(""),[Pl,Jl]=Object(l.useState)(""),[Bl,ql]=Object(l.useState)(""),[Vl,zl]=Object(l.useState)(null),[Ql,Ul]=Object(l.useState)("A"),[Yl,Kl]=Object(l.useState)("PM"),[Hl,Wl]=Object(l.useState)("CM"),[Xl,Zl]=Object(l.useState)(""),[$l,en]=Object(l.useState)("O"),[an,tn]=Object(l.useState)(new Date),[ln,nn]=Object(l.useState)(new Date);Object(l.useEffect)(()=>{xa().then(e=>{ee(e),null!=e&&rn(e)}),Ye(_,[o,"all","TRAN_MODULE_PAYMENT"],function(e){let a=JSON.parse(e);"1"===a.query?(g(a),"1"===a.add&&"N"==t||r("S")):c("/")}),Ye(_,[o,"all","TRAN_PAYMENT_APPROVE_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&y(a)}),Ye(_,[o,"all","TRAN_PAYMENT_APPROVE_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&N(a)}),Ye(_,[o,"all","TRAN_PAYMENT_BANK_FILE_DOWNLOAD"],function(e){let a=JSON.parse(e);"1"===a.query&&C(a)}),Ye(_,[o,"all","TRAN_PAYMENT_FA_DOWNLOAD"],function(e){let a=JSON.parse(e);"1"===a.query&&j(a)}),Ye(_,[o,"all","TRAN_PAYMENT_ENCASHMENT_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&D(a)}),Ye(_,[o,"all","TRAN_PAYMENT_ENCASHMENT_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&x(a)}),Ye(_,[o,"all","TRAN_PAYMENT_THIRD_PARTY_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&A(a)}),Ye(_,[o,"all","TRAN_PAYMENT_THIRD_PARTY_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&M(a)}),Ye(_,[o,"all","TRAN_PAYMENT_FUND_TRANSFER_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&F(a)}),Ye(_,[o,"all","TRAN_PAYMENT_FUND_TRANSFER_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&P(a)}),Ye(_,[o,"all","TRAN_PAYMENT_EXPENSE_L1"],function(e){let a=JSON.parse(e);"1"===a.query&&B(a)}),Ye(_,[o,"all","TRAN_PAYMENT_EXPENSE_L2"],function(e){let a=JSON.parse(e);"1"===a.query&&V(a)});const e={group:4505,srno:1005,account_num:12345,location:ae};Ye(L,[o,"activebank",JSON.stringify(e)],function(e){const a=JSON.parse(e);console.log(a),wl(a)}),Ye(Le,[o,"getCategory"],e=>{let a=JSON.parse(e);console.log(a),Ga(a)})},[]);const rn=e=>{Ra([]),ee(e);const a=e.id.split("^");te(a[1]),ne(a[2]),sessionStorage.activeBranch=a[1]},cn=()=>{const e={remark:Ya,activitytype:1==$a?"MODIFY":"CREATE",subtranno:$a,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,srno:Pa,uniquekey:ht,tmp_location:ae,tmp_to_location:oe,tmp_request_date:Ea(X),tmp_type:"PM",tmp_remark:Ce,tmpUploadDoc:Ne,tmp_paycategory:Te,tmp_encashment_number:we||"0",tmp_encashment_type:ke,tmp_tpdepositor_name:Ie,tmp_tptransaction_desc:Re,tmp_tprelationship_manager:Ge,tmp_document_collected:Je,tmp_from_bank:He,tmp_from_ftbank_group:$e||"0",tmp_from_ftbank_account:aa||"0",tmp_to_bank:He,tmp_to_ftbank_group:ca||"0",tmp_to_ftbank_account:ua||"0",tmp_refCode:Bl,tmp_amount:fe,tmp_account_name:qe.toUpperCase(),tmp_account_number:ze.toUpperCase(),tmp_ifsc:Ue.toUpperCase(),uploadedDoc:ia,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:be,tpToDate:ge,tpCommentData:it,tpStatus:ye,resStatus:_t,tp_user:sessionStorage.getItem("userSrno"),tmp_bk_number:Xl};Ye(Le,[o,"saveEntry",JSON.stringify(e)],function(e){let t=JSON.parse(e);Ra(t),ct()(".loader").hide(),Ja("0"),da([]),a(""),yt(0),dt([]),Ua(!1),Za("")})},on=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].tmpfa_credit_debit?t+=1*e[a].tmpfa_amount:l+=1*e[a].tmpfa_amount;bl(l),gl(t);let n=t-l;cl(n),console.log(n)};function mn(e){const a=e.getDate().toString().padStart(2,"0"),t=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear(),n=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0"),c=e.getSeconds().toString().padStart(2,"0");return"".concat(a,"-").concat(t,"-").concat(l," ").concat(n,":").concat(r,":").concat(c)}return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Payment Module  ",n.a.createElement("span",{style:{color:"white"}},Ot)))),n.a.createElement(Wa.a,null,"\xa0"),""===e?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},"1"===h.add?n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===t,onChange:()=>r("N"),type:"radio",label:"New"})):null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===t,onChange:()=>r("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===t,onChange:()=>r("D"),type:"radio",label:"Date"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"St"===t,onChange:()=>r("St"),type:"radio",label:"Status"})),"1"===f.query&&n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"Fa"===t,onChange:()=>r("Fa"),type:"radio",label:"FA Download"})))))),n.a.createElement(Wa.a,null,"St"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:ye,onChange:e=>(e=>{Oe(e.target.value),Ra([])})(e),required:!0},n.a.createElement("option",{value:"N"},"New"),n.a.createElement("option",{value:"PA1"},"Pending Approval 1"),n.a.createElement("option",{value:"PA2"},"Pending Approval 2"),n.a.createElement("option",{value:"PT"},"Pending Transfer"),n.a.createElement("option",{value:"D"},"Done")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Status",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Ql,onChange:e=>Ul(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"D"===ye&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date"),n.a.createElement(vl.a,{className:"form-control",selected:an,onChange:e=>tn(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date"),n.a.createElement(vl.a,{className:"form-control",selected:ln,onChange:e=>nn(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),"O"===Ql&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Yl,onChange:e=>Kl(e.target.value),required:!0},n.a.createElement("option",{value:"PM"},"Payment"),n.a.createElement("option",{value:"CM"},"Commission"))))):null,"N"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:X,minDate:new Date(u),maxDate:new Date(d),onChange:e=>Z(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"S"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ie,maxLength:20,onChange:e=>Ze(e.target.value,de),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ee,maxLength:20,onChange:e=>Ze(e.target.value,pe),placeholder:"To"})))):"D"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:be,onChange:e=>he(e),dateFormat:"dd/MM/yyyy",placeholderText:"From Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:ge,onChange:e=>Se(e),dateFormat:"dd/MM/yyyy",placeholderText:"To Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"Fa"===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Download",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:fl,onChange:e=>(e=>{jl(e.target.value),Ra([])})(e),required:!0},n.a.createElement("option",{value:"N"},"New"),n.a.createElement("option",{value:"P"},"Period")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Hl,onChange:e=>Wl(e.target.value),required:!0},n.a.createElement("option",{value:"CM"},"CM"),n.a.createElement("option",{value:"PM"},"PM")))),"1"===f.query&&"P"===fl&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:Tl,onChange:e=>Dl(e),dateFormat:"dd/MM/yyyy",placeholderText:"From Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:Ll,onChange:e=>kl(e),dateFormat:"dd/MM/yyyy",placeholderText:"To Date",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))))):null,""!==t&&n.a.createElement(Wa.a,null,"St"===t&&"PT"===ye?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location One/All",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:$l,onChange:e=>(e=>{en(e),Ra([])})(e.target.value)},n.a.createElement("option",{value:"O"},"One"),n.a.createElement("option",{value:"A"},"All")))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{display:"A"===$l&&"none"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:$,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:rn,isDisabled:"true"===b}))))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===h.add&&"N"===t?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{var e=Ea(X);$&&X?e>d||e<u?(K(!0),W(E("MSG0010"))):(gt(Oa(20)),Ja(0),a("A"),_e(""),je(""),ve(""),De("E"),xe("PP"),Ae(""),Me(""),Fe(""),Pe(""),Be(""),Ve(""),Qe(""),Ke(""),Xe(null),ra(null),ea(""),ta(""),da([]),et(0),yt(0),st(""),dt([]),ft("N"),Tt(pa(X)),ql(""),ce(null),Gl(""),Jl(""),Rl(""),Zl("")):(ba[ha++]=E("MSG0006"),ba[ha++]=$?"":"Location.",ba[ha++]=X?"":"Date.",W(ja(ba)),K(!0))})()},"Add New"):null,"\xa0","1"!==h.query||"S"!==t&&"D"!==t&&"St"!==t?null:n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=Ea(be),a=Ea(ge);if(!$||"S"===t&&!ie||"S"===t&&!Ee||"D"===t&&!be||"D"===t&&!ge)ba[ha++]=E("MSG0006"),ba[ha++]=$?"":"Location.",ba[ha++]="S"!==t||ie?"":"From Srno.",ba[ha++]="S"!==t||Ee?"":"To Srno.",ba[ha++]="D"!==t||be?"":"From Date.",ba[ha++]="D"!==t||ge?"":"To Date.",ct()(".loader").hide(),W(ja(ba)),K(!0);else if("D"===t&&(a>d||e<u))ct()(".loader").hide(),K(!0),W(E("MSG0010"));else{const e={tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:Ea(be),tpToDate:Ea(ge),tpStatus:ye,tmp_type:"PM",paymentOption:Ql,paymentPayType:Yl,locationOneAll:$l,frmdate:Ea(an),todate:Ea(a)};Ye(Le,[o,"listEntry",JSON.stringify(e)],function(e){let a=JSON.parse(e);ct()(".loader").hide(),Ra(a),Lt([]),Il(!0)})}})()},"List"),"1"===v.query&&"St"===t&&"PT"===ye&&Ma.length>0&&!0===Al?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>_l(!0)},"Download Bank File")):null,"1"===f.query&&"Fa"===t?n.a.createElement(n.a.Fragment,null,"\xa0",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e={remark:"Payment Transfer",activitytype:"MODIFY",subtranno:1,trantype:"PM",trancategory:"T",branch:ae,tpFaDownloadOption:fl,tpFromFaDownload:Tl,tpToFaDownload:Ll,tpModuleData:Ma,tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:Ea(be),tpToDate:Ea(ge),tpStatus:ye,tmp_type:"PM",fadownloadtype:Hl};va(Le,"post",[o,"faDownload",JSON.stringify(e)])})()},"Download FA")):null)),"\xa0",Ma.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"1"===v.query&&"St"===t&&"PT"===ye&&n.a.createElement(s.a.Check,{type:"checkbox",label:"",checked:kt,onChange:e=>{const a=e.target.checked;xt(a);const t=Ma.map(e=>({...e,ischecked:a?"1":"0"}));Ra(t),Lt(a?t:[])}})),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Ref No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Payment Date"),n.a.createElement("th",null,"Net Payable"),n.a.createElement("th",null,"Remark"))),n.a.createElement("tbody",null,Ma.map((e,l)=>n.a.createElement("tr",{key:l},n.a.createElement("td",null,"1"===v.query&&"St"===t&&"PT"===ye?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{style:{display:"inline-block"}},n.a.createElement(s.a.Check,{type:"checkbox",label:"",checked:"1"===e.ischecked,name:"ischecked",onChange:e=>((e,a,t)=>{const l=a.target.checked,n=Ma.map((a,n)=>e===n?{...a,[t]:l?"1":"0"}:a);Ra(n);const r=n.filter(e=>"1"===e.ischecked);Lt(r)})(l,e,"ischecked")})),"\xa0"):null,n.a.createElement("span",{className:"pointer colorThemeBlue",style:{display:"inline-block"},onClick:()=>((e,t,l,n)=>{ct()(".loader").show(),Ja(e),qa(l);const r={srno:e,location:t,type:l,date:n};Ye(Le,[o,"viewModulePymentData",JSON.stringify(r)],e=>{let t=JSON.parse(e),l=t.modulePaymentData[0];da(t.docData),yt(t.commentMaxLine),dt(t.commentData),nl(t.maxFaEntryLine),tl(t.faEntryData),on(t.faEntryData),et(1),"CM"===l.tmp_type?De("CM"):(console.log(l.tmp_paycategory),De(l.tmp_paycategory)),yl(l.tmp_approval_level1),Nl(l.tmp_approval_level2),ft(l.tmp_status),Tt(l.formatted_date),Oe(l.tmp_status),_e(l.tmp_remark),Rl(l.maker_name),Gl(l.checker1_name),Jl(l.checker2_name),je(l.tmp_amount),Gt(l.tmp_gst),Jt(l.tmp_tds),zt(l.tmp_netpayable),qt(l.tmp_othcharges),Ve(l.tmp_account_name),Qe(l.tmp_account_number),Ke(l.tmp_ifsc),xe(l.tmp_encashment_type),Ae(l.tmp_encashment_number),Me(l.tmp_tpdepositor_name),Be(l.tmp_document_collected),Pe(l.tmp_tprelationship_manager),Fe(l.tmp_tptransaction_desc),Xe({id:NaN+l.tmp_from_ftbank_group+"^"+l.tmp_from_ftbank_account+"^"+l.frombankname+"^"+l.frombanktype,label:l.tmp_from_ftbank_group+" "+l.tmp_from_ftbank_account+" "+l.frombankname}),ra({id:NaN+l.tmp_to_ftbank_group+"^"+l.tmp_to_ftbank_account+"^"+l.tobankname+"^"+l.tobanktype,label:l.tmp_to_ftbank_group+" "+l.tmp_to_ftbank_account+" "+l.tobankname}),Zl(l.tmp_bk_number),"0"!==l.tmp_party_group&&"0"!==l.tmp_party_account&&ml({id:NaN+l.tmp_party_group+"^"+l.tmp_party_account+"^"+l.partybankname+"^"+l.partybanktype,label:l.tmp_party_group+" "+l.tmp_party_account+" "+l.partybankname}),"F"===l.tmp_paycategory&&(ml({id:NaN+l.tmp_to_ftbank_group+"^"+l.tmp_to_ftbank_account+"^"+l.tobankname+"^"+l.tobanktype,label:l.tmp_to_ftbank_group+" "+l.tmp_to_ftbank_account+" "+l.tobankname}),sl(l.tmp_to_ftbank_group),El(l.tmp_to_ftbank_account),ql(l.tmp_ref_no),ce({label:l.tmp_to_location+" "+l.to_location_name})),ct()(".loader").hide(),a("Q")})})(e.tmp_srno,e.tmp_location,e.tmp_type,e.tmp_request_date)},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.tmp_srno),n.a.createElement("td",null,e.tmp_ref_no),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.tmp_type),n.a.createElement("td",null," ","PA1"===e.tmp_status?"Pending Approval 1":"PA2"===e.tmp_status?"Pending Approval 2":"PT"===e.tmp_status?"Pending Transfer":"D"===e.tmp_status?"Done":"New"),n.a.createElement("td",null,e.tmp_value_date),n.a.createElement("td",null,e.tmp_netpayable),n.a.createElement("td",null,e.tmp_remark)))))))):""!=e?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>a("")},"Back")," ","1"===h.query&&"Q"===e?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(mt(!0),void rt({trantype:"PM",trannumber:Pa,trancategory:"T"}))},"Activity Log"),"\xa0"):null,"1"===h.add&&"N"===_t&&""!==e?n.a.createElement(n.a.Fragment,null,"   ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(ct()(".loader").show(),void(!Ce&&"F"!==Te||ia.length<1&&"F"!==Te||"E"===Te&&!we||"T"===Te&&!Ie||"T"===Te&&!Re||"T"===Te&&!Ge||"T"===Te&&!Je||"F"===Te&&!He||"F"===Te&&!la||"F"===Te&&!Bl||!fe||!qe&&"F"!==Te||!ze&&"F"!==Te||!Ue&&"F"!==Te?(ba[ha++]=E("MSG0006"),ba[ha++]="E"!==Te||we?"":"Encashment Number.",ba[ha++]="T"!==Te||Ie?"":"Depositor Name.",ba[ha++]="T"!==Te||Re?"":"Transaction Description.",ba[ha++]="T"!==Te||Ge?"":"Relationship Manager.",ba[ha++]="T"!==Te||Je?"":"Document Description.",ba[ha++]="F"!==Te||He?"":"From Bank.",ba[ha++]="F"!==Te||la?"":"To Bank.",ba[ha++]="F"!==Te||Bl?"":"Reference No.",ba[ha++]=fe?"":"Amount.",ba[ha++]=qe||"F"===Te?"":"Account Name.",ba[ha++]=ze||"F"===Te?"":"Account Number.",ba[ha++]=Ue||"F"===Te?"":"IFSC.",ba[ha++]=ia.length<1&&"F"!==Te?"Upload at least one document Document.":"",ba[ha++]=Ce||"F"===Te?"":"Narration.",ct()(".loader").hide(),W(ja(ba)),K(!0)):"E"===e&&""===Ya?(ct()(".loader").hide(),Ua(!0)):"F"===Te&&$e===ca&&aa===ua?(W("From Bank and To Bank can't be same"),K(!0),ct()(".loader").hide()):cn()))},"Save"),"\xa0"):null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location :")," ",le)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Status :")," ","PA1"===_t?"Pending Approval 1":"PA2"===_t?"Pending Approval 2":"PT"===_t?"Pending Transfer":"D"===_t?"Done":"New")),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date :")," ",jt))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Maker :")," ",Ml)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Checker 1 :")," ",Fl)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Checker 2 :")," ",Pl))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Category",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:Te,onChange:e=>De(e.target.value),disabled:!("N"===_t&&"1"===h.add)},Fa.map((e,a)=>n.a.createElement("option",{key:a,value:e.tpc_value},e.tpc_name)),"Q"===e&&"CM"===Te&&n.a.createElement("option",{value:Te},"Commission"))))),n.a.createElement(Wa.a,null,"E"===Te?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashment Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ke,onChange:e=>xe(e.target.value),disabled:!("N"===_t&&"1"===h.add),required:!0},n.a.createElement("option",{value:"PP"},"PP"),n.a.createElement("option",{value:"PB"},"PB")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Encashment Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:we,maxLength:20,onChange:e=>Ze(e.target.value,Ae),placeholder:"Encashment Number",disabled:!("N"===_t&&"1"===h.add)})))):"T"===Te?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Depositor Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ie,maxLength:200,onChange:e=>We(e.target.value,Me),placeholder:"Depositor Name",disabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Description",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Re,maxLength:50,onChange:e=>na(e.target.value,Fe),placeholder:"Transaction Description",disabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Realationship Manager",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ge,maxLength:20,onChange:e=>We(e.target.value,Pe),placeholder:"Realationship Manager",disabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document Collected",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Je,maxLength:50,onChange:e=>na(e.target.value,Be),placeholder:"Document Collected",disabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"BK Number","PA2"===_t&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Xl,maxLength:50,onChange:e=>na(e.target.value,Zl),placeholder:"BK Number",disabled:!("PA2"===_t&&"1"===O.query)})))):"Ex"===Te?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Sub-category"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Vl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>(e=>{var a={sid:sessionStorage.getItem("sessionId"),type:"expenseSubPurpose",srch:e};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(a)).then(e=>JSON.parse(e.data))})(e),onInputChange:Mt,onChange:e=>(e=>{zl(e)})(e),isDisabled:!("N"===_t&&"1"===h.add)})))):null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Invoice Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:fe,maxLength:20,onChange:e=>Ze(e.target.value,je),placeholder:"Amount",disabled:!("N"===_t&&"1"===h.add)})))),n.a.createElement(Wa.a,null,"F"===Te&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:le,disabled:!0}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:He,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>il(e,ae,""),onInputChange:Mt,onChange:e=>(e=>{Xe(e);const a=e.id.split("^");ea(a[1]),ta(a[2])})(e),isDisabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:re,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>{ce(e),ra(null);const a=e.id.split("^");me(a[1]),se(a[2]),sessionStorage.activeBranch=a[1]},isDisabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:la,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>il(e,oe,""),onInputChange:Mt,onChange:e=>(e=>{ra(e);const a=e.id.split("^");oa(a[1]),sa(a[2]),Qe(a[5]),Ke(a[6])})(e),isDisabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reference No.",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Bl,maxLength:100,onChange:e=>ma(e.target.value,ql),placeholder:"Reference No.",disabled:!("N"===_t&&"1"===h.add)}))))),"F"!==Te&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:qe,maxLength:255,onChange:e=>We(e.target.value,Ve),placeholder:"Account Name",disabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ze,maxLength:20,onChange:e=>Ze(e.target.value,Qe),placeholder:"Account Number",disabled:!("N"===_t&&"1"===h.add)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IFSC",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ue,maxLength:11,onChange:e=>na(e.target.value,Ke),placeholder:"IFSC",disabled:!("N"===_t&&"1"===h.add)})))),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Documents"))),"A"===e||"E"===e?n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"uploadPaymentModuleDoc"},n.a.createElement(s.a.Label,null,"Upload Document","F"!=Te&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:Ne,disabled:"Q"===e,onChange:e=>ve(e.target.value)}),"\xa0")),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Document Description","F"!=Te&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:vt,maxLength:50,onChange:e=>We(e.target.value,Ct),placeholder:"Document Description",disabled:"Q"===e}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{margin:"33px"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),void 0===document.getElementById("uploadPaymentModuleDoc").files[0])ct()(".loader").hide(),W("Please select a file to upload."),K(!0);else if(document.getElementById("uploadPaymentModuleDoc").files[0].name.split(".").length>2)ct()(".loader").hide(),W("(.) not allowed in file name."),K(!0);else if(document.getElementById("uploadPaymentModuleDoc").files[0].size>10485760)ct()(".loader").hide(),W("Please select a file with in 10 MB size."),K(!0);else if(vt){const e={uniquekey:ht,location:ae,srno:Pa,type:"PM",uploadType:"uploadPaymentModuleDoc",pageright:"TRAN_MODULE_PAYMENT",sid:o,file:Ne,desc:vt};console.log(e),Na(JSON.stringify(e),"uploadPaymentModuleDoc",e=>{let a=JSON.parse(e);ct()(".loader").hide(),da(a.docdetail),ve(""),Ct("")})}else ct()(".loader").hide(),W("Please add document description."),K(!0)})()},"Add")),n.a.createElement(Xa.a,null,"\xa0")):null,ia.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Ext"),n.a.createElement("th",null,"Document Name"),n.a.createElement("th",null,"Document Description"))),n.a.createElement("tbody",null,ia.map((a,t)=>n.a.createElement("tr",null,n.a.createElement("td",{className:"textCenter "},"A"===e||"E"===e?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((a,t,l,n)=>{ct()(".loader").show();const r={line:a,srno:t,type:"PM",location:n,uniquekey:ht,scrMode:e};Ye(Le,[o,"deleteUploadDoc",JSON.stringify(r)],e=>{let a=JSON.parse(e);da(a),ct()(".loader").hide()})})(a.tmd_line_no,a.tmd_srno,a.tmd_type,a.tmd_location)},n.a.createElement(za.a,{icon:tt.r})),"\xa0"):null,"jpg"===a.tmd_doc_ext||"jpeg"===a.tmd_doc_ext||"png"===a.tmd_doc_ext||"pdf"===a.tmd_doc_ext||"bmp"===a.tmd_doc_ext||"gif"===a.tmd_doc_ext?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((a,t,l,n,r)=>{if("xlsx"==t)W("You can't view "+t+" format"),K(!0);else if("xls"==t)W("You can't view "+t+" format"),K(!0);else{const t={line:a,srno:l,type:"PM",loc:ae,name:"paymentmoduledoc",pageright:"TRAN_MODULE_PAYMENT",scrMode:e};_a(U,[o,"docView",JSON.stringify(t)],e=>{let a=JSON.parse(e);ya(a.bs64),Ta(a.typ),La(a.desc),wa(a.fname),Ia(!0)})}})(a.tmd_line_no,a.tmd_doc_ext,a.tmd_srno,a.tmd_type,a.tmd_location)},n.a.createElement(za.a,{icon:Qa.f})),"\xa0"):null,n.a.createElement("span",{className:"pointer colorThemeBlue",onClick:()=>((a,t,l,n)=>{var r={srno:t,type:l,loc:n,scrMode:e,line:a,name:"paymentmoduledoc",pageright:"TRAN_MODULE_PAYMENT"};va(U,"post",[o,"docdownload",JSON.stringify(r)])})(a.tmd_line_no,a.tmd_srno,a.tmd_type,a.tmd_location)},n.a.createElement(za.a,{icon:tt.l}))),n.a.createElement("td",null,a.tmd_doc_ext),n.a.createElement("td",null,a.tmd_doc_name),n.a.createElement("td",null,a.tmd_doc_desc)))))))):null,"1"===O.query&&"Q"===e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"GST",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:At,maxLength:20,onChange:e=>(e=>{let a=e.target.value;Ze(a,Gt),zt(fe-a-Pt-Bt)})(e),placeholder:"GST",disabled:!(O.query&&"PA2"===_t)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"TDS",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Pt,maxLength:20,onChange:e=>(e=>{let a=e.target.value;Ze(a,Jt),zt(fe-a-Bt-At)})(e),placeholder:"TDS",disabled:!(O.query&&"PA2"===_t)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Charges",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Bt,maxLength:20,onChange:e=>(e=>{let a=e.target.value;Ze(a,qt),zt(fe-a-Pt-At)})(e),placeholder:"Charges",disabled:!(O.query&&"PA2"===_t)}))),n.a.createElement(Xa.a,null),n.a.createElement(Xa.a,null)),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Net Payable",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Vt,maxLength:20,placeholder:"Amount",disabled:!0}))),"1"===O.query&&"N"!==_t&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Party",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ol,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,ae),onInputChange:Mt,onChange:e=>{ml(e);const a=e.id.split("^");console.log(a),sl(a[1]),El(a[2])},isDisabled:!("1"===O.query&&"PA2"===_t)||"F"===Te})))),"1"===O.query&&"PA2"===_t?n.a.createElement(n.a.Fragment,null,n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cr/Dr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Qt,onChange:e=>Ut(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"Credit"),n.a.createElement("option",{value:"D"},"Debit")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ledger",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Yt,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,ae),onInputChange:Mt,onChange:e=>{Kt(e);const a=e.id.split("^");console.log(a),Wt(a[1]),Zt(a[2])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:$t,maxLength:20,onChange:e=>Ze(e.target.value,el),placeholder:"Amount"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{margin:"33px"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),Yt&&$t)if(4===al.length)W("You can add only four FA entries"),K(!0);else{nl(1*ll+1);const e={remark:"Fa Entry Added",activitytype:"MODIFY",subtranno:1,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,srno:Pa,type:"PM",line:1*ll+1,location:ae,tpFaFlag:Qt,tpFaGroup:Ht,tpFaAccount:Xt,tpFaAmount:$t};Ye(Le,[o,"addFaEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);console.log(a),el(""),Ut("C"),Kt(null),tl(a),on(a),ct()(".loader").hide()})}else ba[ha++]=E("MSG0006"),ba[ha++]=Yt?"":"Ledger.",ba[ha++]=$t?"":"Amount.",W(ja(ba)),K(!0)})()},"Add")))):null,al.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Credit"),n.a.createElement("th",null,"Debit"))),n.a.createElement("tbody",null,al.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,"1"===O.query&&"PA2"===_t&&n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,a,t,l)=>{ct()(".loader").show();const n={remark:"Fa Entry Deleted",activitytype:"MODIFY",subtranno:1,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,line:e,srno:a,location:t,type:l};Ye(Le,[o,"deleteFaEntry",JSON.stringify(n)],e=>{let a=JSON.parse(e);console.log(a),tl(a),on(a),ct()(".loader").hide()})})(e.tmpfa_line_no,e.tmpfa_srno,e.tmpfa_location,e.tmpfa_type)},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,"C"===e.tmpfa_credit_debit&&e.tmpfa_amount),n.a.createElement("td",null,"D"===e.tmpfa_credit_debit&&e.tmpfa_amount))),n.a.createElement("tr",null,n.a.createElement("td",{style:{textAlign:"left",color:"red"},colSpan:2},0!==rl&&n.a.createElement("b",null,"Difference : ",rl>0?rl+" Dr":-1*rl+" Cr")),n.a.createElement("td",{colSpan:1},n.a.createElement("b",null,pl)),n.a.createElement("td",{colSpan:1},n.a.createElement("b",null,hl)))))))),""!==e&&n.a.createElement(n.a.Fragment,null,n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},n.a.createElement(s.a.Label,null,"Narration","F"!=Te&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{as:"textarea",rows:3,maxLength:500,placeholder:"Narration",value:Ce,onChange:e=>na(e.target.value,_e),disabled:"Q"===e})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"\xa0")),n.a.createElement("hr",null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Comments"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,"Comment"),n.a.createElement(s.a.Control,{value:ut,onChange:e=>na(e.target.value,st),placeholder:"Add Comment"})),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{style:{margin:"33px"},variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(ct()(".loader").show(),ut){yt(1*St+1);const a={remark:"Comment added",activitytype:"MODIFY",subtranno:1,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,tc_line_no:1*St+1,location:ae,srno:Pa,type:"PM",tc_branch:ae,srno:Pa,tc_type:"PM",tc_comment:ut,tc_user_srno:sessionStorage.getItem("userSrno"),entity_name:le,um_username:sessionStorage.getItem("userName"),tc_timestamp:mn(new Date)};ct()(".loader").hide(),"A"===e||"E"===e?dt(Sa(it,a)):"Q"===e&&Ye(Le,[o,"addComment",JSON.stringify(a)],e=>{let a=JSON.parse(e);dt(a)}),st("")}else ct()(".loader").hide(),W("Add Comment"),K(!0)})()},"Add")),n.a.createElement(Xa.a,null,"\xa0"),n.a.createElement(Xa.a,null,"\xa0")),it.length>0&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User Id"),n.a.createElement("th",null,"Comment"),n.a.createElement("th",null,"Timestamp"))),n.a.createElement("tbody",null,it.map((e,a)=>n.a.createElement("tr",null,n.a.createElement("td",null,e.um_username),n.a.createElement("td",null,e.tc_comment),n.a.createElement("td",null,e.tc_timestamp))))))),n.a.createElement("hr",null)),"Q"===e&&n.a.createElement(n.a.Fragment,null,(S.query||T.query||w.query||R.query||J.query)&&"N"===Sl&&"PA1"===_t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(()=>{if(console.log(T.query),ct()(".loader").show(),0!=rl)ct()(".loader").hide(),W("Total Amount should be equal to total net payable"),K(!0);else if(Vt<0)ct()(".loader").hide(),W(" Net Payable should be greater than zero"),K(!0);else if("1"!==T.query&&"E"===Te||"1"!==w.query&&"T"===Te||"1"!==R.query&&"F"===Te||"1"!==J.query&&"Ex"===Te)ct()(".loader").hide(),W("You can't approve this entry"),K(!0);else{const e={remark:"Approval level 1",activitytype:"MODIFY",subtranno:1,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Pa,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:Ea(be),tpToDate:Ea(ge),tpStatus:ye,tpGst:At,tpTds:Pt,tpOtherCharges:Bt,tpNetPayable:Vt,tpPartyGroup:ul,tpPartyAccount:dl,tpChecker1:sessionStorage.getItem("userSrno")};Ye(Le,[o,"approveLevelOne",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ra(t),ct()(".loader").hide(),a("")})}})()},"Approval Level 1"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>(()=>{if(ct()(".loader").show(),"1"!==T.query&&"E"===Te||"1"!==w.query&&"T"===Te||"1"!==R.query&&"F"===Te||"1"!==J.query&&"Ex"===Te)ct()(".loader").hide(),W("You can't unlock this entry"),K(!0);else{const e={remark:"Unlock level 1",activitytype:"MODIFY",subtranno:1,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Pa,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:be,tpToDate:ge,tpStatus:ye};Ye(Le,[o,"unlockLevelOne",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ra(t),ml(null),ct()(".loader").hide(),a("")})}})()},"Unlock")))),(O.query||k.query||I.query||G.query||q.query)&&"Y"===Sl&&"N"===Ol&&"PA2"===_t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(()=>{if(ct()(".loader").show(),0!=rl)ct()(".loader").hide(),W("Total Amount should be equal to total net payable"),K(!0);else if(Vt<0)ct()(".loader").hide(),W(" Net Payable should be greater than zero"),K(!0);else if(ol)if("1"!==k.query&&"E"===Te||"1"!==I.query&&"T"===Te||"1"!==G.query&&"F"===Te||"1"!==q.query&&"Ex"===Te)ct()(".loader").hide(),W("You can't approve this entry"),K(!0);else if("T"===Te&&""===Xl)ct()(".loader").hide(),W("Please fill BK number."),K(!0);else{const e={remark:"Approval level 2",activitytype:"MODIFY",subtranno:1,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Pa,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:Ea(be),tpToDate:Ea(ge),tpStatus:ye,tpGst:At,tpTds:Pt,tpOtherCharges:Bt,tpNetPayable:Vt,tpPartyGroup:ul,tpPartyAccount:dl,tpChecker2:sessionStorage.getItem("userSrno"),tpBKNumber:Xl};Ye(Le,[o,"approveLevelTwo",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ra(t),ct()(".loader").hide(),a("")})}else ct()(".loader").hide(),W("Please select party"),K(!0)})()},"Approval Level 2"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",onClick:()=>(()=>{if(ct()(".loader").show(),"1"!==k.query&&"E"===Te||"1"!==I.query&&"T"===Te||"1"!==G.query&&"F"===Te||"1"!==q.query&&"Ex"===Te)ct()(".loader").hide(),W("You can't unlock this entry"),K(!0);else{const e={remark:"Unlock level 2",activitytype:"MODIFY",subtranno:1,trannumber:Pa,trantype:"PM",trancategory:"T",branch:ae,tmp_srno:Pa,tmp_type:"PM",tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:be,tpToDate:ge,tpStatus:ye};Ye(Le,[o,"unlockLevelTwo",JSON.stringify(e)],e=>{let t=JSON.parse(e);Ra(t),ct()(".loader").hide(),a("")})}})()},"Unlock")))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(pt.a,{show:Aa,onHide:()=>Ia(!1),size:"xl",centered:!0},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,{id:"example-custom-modal-styling-title"},Da+" : "+ka)),n.a.createElement(pt.a.Body,null,n.a.createElement("embed",{src:ga,type:Ca,style:{minHeight:"100vh",minWidth:"100%"}}))),n.a.createElement(bt,{logObject:lt,show:ot,onHide:()=>mt(!1)}),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:Va,onHide:()=>Ua(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,"E"===e?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:Ya,onChange:e=>na(e.target.value,Za),autoComplete:"off",required:!0}))):null),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>(ct()(".loader").show(),void cn())},"Save"),"\xa0",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Ua(!1)},"Cancel")))),n.a.createElement(pt.a,{size:"lg",show:Cl,onHide:()=>_l(!1)},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Bank Detail")),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Bank",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:xl,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>il(e,ae,"AXIS"),onInputChange:Mt,onChange:e=>(e=>{wl(e),e.id.split("^")})(e)}))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:()=>_l(!1)},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{const e=xl.id.split("^");if(0===Dt.length)K(!0),W("Please select at least one record");else if(xl)if("AXIS"!==e[7])_l(!1),W("You can't download any other than Axis bank files "),K(!0);else{console.log(e);const a={tpBankData:Dt,tmp_location:ae,radioType:t,tpFromSrno:ie,tpToSrno:Ee,tpFromDate:Ea(be),tpToDate:Ea(ge),tpStatus:ye,tmp_type:"PM",tmp_from_bank_group:e[9],tmp_from_bank_account:e[8],tmp_account_number:e[5],tmp_ifdc:e[6],paymentOption:Ql,paymentPayType:Yl,locationOneAll:$l};va(Le,"post",[o,"downloadbankfile",JSON.stringify(a)]),_l(!1),Il(!1)}else W("Please select from bank"),K(!0)}},"Download Bank Files"))),n.a.createElement(Ka,{isOpen:Y,onClose:e=>K(!1)},H))},Dr=t(271);var Lr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("branchDisable"),[r,c]=Object(l.useState)(!1),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)({value:0,label:"Select"}),[b,h]=Object(l.useState)("1"),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)([]),[N,v]=Object(l.useState)(!0),[C,f]=Object(l.useState)(!1),[j,T]=Object(l.useState)("0"),[D,L]=Object(l.useState)("0"),[k,x]=Object(l.useState)("0"),[w,A]=Object(l.useState)(null),[I,M]=Object(l.useState)(null),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)(!1),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(""),z=new Date,[Q,U]=Object(l.useState)(!1),[Y,K]=Object(l.useState)(""),[W,X]=Object(l.useState)(!1),[Z,$]=Object(l.useState)({trantype:"",trannumber:"",location:"",entity_name:"",trandate:"",tdu_status:""}),[ee,ae]=Object(l.useState)("");Object(l.useEffect)(()=>{r||(xa().then(e=>{A(e),null!=e&&ne(e)}),Ye(_,[a,"all","TRAN_OPN_TRIAL"],function(a){let t=JSON.parse(a);"1"===t.query?O(t):e("/")}),c(!0))},[r,a,e]);var te=[],le=0;const ne=e=>{A(e);let a=e.id.split("^");F(a[1]),sessionStorage.activeBranch=a[1]},re=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].tfd_flag?t+=1*e[a].tfd_amount:l+=1*e[a].tfd_amount;T(t),L(l),x((t+l).toFixed(2))},ce=e=>{let t="";if(console.log(e),"selected"==e){if(""==R)return te[le++]=""===R?" Please select location.":"",B(ja(te)),void P(!0);t=R,console.log(R)}var l={srno:23,location:t};va(H,"post",[a,"downloadOpnTrial",JSON.stringify(l)])};return n.a.createElement("div",null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Opening Trial"))),"\xa0",N?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:ne,isDisabled:"true"===t})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-10"},"1"===y.query&&n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{if(null==w)te[le++]=E("MSG0006"),te[le++]=null===w?" Please select location.":"",B(ja(te)),P(!0);else{v(!1);const e=w.id.split("^");F(e[1]),p(e[2]),Ye(H,[a,"listOpenTrial",e[1]],e=>{let a=JSON.parse(e);console.log(a),u(a),re(a),V(a.tfd_date)})}}},"List"),"\xa0",n.a.createElement("span",{className:"ml-2"},n.a.createElement(Dr.a,null,n.a.createElement(Dr.a.Toggle,{variant:"outline-primary",id:"dropdown-basic"},"Download"),n.a.createElement(Dr.a.Menu,null,n.a.createElement(Dr.a.Item,{onClick:()=>ce("all")},"All Location"),n.a.createElement(Dr.a.Item,{onClick:()=>ce("selected")},"Only selected location"))))))),"\xa0"):n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Location : ",d))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{f(!1),v(!0)}},"Back")," ","1"!==y.add||C?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=q,l=Ea(e),n=new Date(t),r=new Date(l)-n,c=Math.ceil(r/864e5),o=w.id.split("^")[1],m={srno:1,type:"OPNTRL",pageright:"TRAN_OPN_TRIAL",location:o};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],t=>{let l=JSON.parse(t);if(ae(l.requestsrc),Be==c||"unlock"==l.msg)f(!0);else{let t;Ye(_e,[a,"getStatus",JSON.stringify(m)],a=>{t=JSON.parse(a),$({trantype:"OPNTRL",trannumber:1,location:o,entity_name:d,tranDate:Ea(e),tdu_status:t}),X(!0)})}})})()},"Edit")))),"\xa0"),C&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Flag",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:b,onChange:e=>h(e.target.value),required:!0},n.a.createElement("option",{value:"1"},"Credit"),n.a.createElement("option",{value:"0"},"Debit")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,1),onInputChange:Mt,onChange:e=>{M(e)}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:g,onChange:e=>ea(e.target.value,S),placeholder:"Amount",maxLength:qe})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{if(null==I||""==g)te[le++]=E("MSG0006"),te[le++]=null===I?" Please select account.":"",te[le++]=""==g?" Please fill amount.":"",B(ja(te)),P(!0);else{ct()(".loader").show(),console.log(I);const e=I.id.split("^"),t=e[1],l=e[2];console.log(e),console.log(t),console.log(l);const n={flag:b,acc:l,grp:t,amt:g,location:R};if(Ye(H,[a,"addNew",JSON.stringify(n)],e=>{let a=JSON.parse(e);u(a),re(a),ct()(".loader").hide(),M(null),S("")}),"SELF"!==ee){const e={srno:1,type:"OPNTRL",status:"E",currentDate:Ea(z),pageright:"TRAN_OPN_TRIAL"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{console.log(e)})}}}},"Add")," ","\xa0",!Q&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(U(!0),void K(null))},"Upload"),"\xa0",n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:function(){const e={location:R,right:"TRAN_OPN_TRIAL"};Ca(H,"post",[a,"downloadlist",JSON.stringify(e)])}},"Download")," \xa0")),"\xa0"),Q&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,{controlId:"fileExcel"},n.a.createElement(s.a.Label,null,"Choose File",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"file",value:Y,onChange:e=>K(e.target.value)})))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",className:"handCursor",onClick:function(){ct()(".loader").show();const e={location:R,right:"TRAN_OPN_TRIA"};Ca(H,"post",[a,"downloadformat",JSON.stringify(e)],e=>{ct()(".loader").hide(),B(ja([e])),P(!0)})}},"Trial Upload Format ",n.a.createElement(za.a,{icon:Cl.faDownload}))),n.a.createElement("br",null)," ",n.a.createElement("br",null),n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{if(console.log(document.getElementById("fileExcel").files[0]),ct()(".loader").show(),void 0===document.getElementById("fileExcel").files[0])ct()(".loader").hide(),B("Please select a file to upload."),P(!0);else{var e=document.getElementById("fileExcel").files[0].name.split(".");if(e.length>2)ct()(".loader").hide(),B("(.) not allowed in file name."),P(!0);else if(document.getElementById("fileExcel").files[0].size>10485760)ct()(".loader").hide(),B("Please select a file with in 10 MB size."),P(!0);else if("xlsx"!=e[1])ct()(".loader").hide(),B("File extension should be in xlsx format"),P(!0);else{const e={flag:b,sid:a,amt:g,location:R,trialFile:Y,uploadType:"uploadtrial",pageright:"TRAN_OPN_TRIAL"};Na(JSON.stringify(e),"fileExcel",e=>{let a=JSON.parse(e);ct()(".loader").hide(),u(a.trialdata),B(ja([a.msg])),P(!0),U(!1),re(a.trialdata)})}}})()},"Upload")," "))),!N&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,"0.00"!=k&&n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:4}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:2},n.a.createElement("b",null,"Total Difference:")," ",n.a.createElement("span",null,k)))),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:4}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Debit:")," ",n.a.createElement("span",null,j)),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Credit:")," ",n.a.createElement("span",null,-1*D))),n.a.createElement("tr",null,"1"===y.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"))),n.a.createElement("tbody",null,o.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===y.delete?n.a.createElement("td",{className:"textCenter"},C&&n.a.createElement("span",{className:"handCursor",onClick:()=>(e=>{Ye(H,[a,"deleteOpenTrial",e,R],e=>{let a=JSON.parse(e);u(a),re(a)})})(e.line)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:tt.r})))):null,n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&-1*e.tfd_amount))))))))),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:G,onClose:e=>P(!1)},J),n.a.createElement(Dl,{logObject:Z,show:W,hdrNotExist:!0,onHide:()=>X(!1)}),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")))},kr=t(162);var xr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),t=sessionStorage.getItem("startDate"),r=sessionStorage.getItem("endDate"),c=sessionStorage.getItem("branchDisable"),[o,u]=Object(l.useState)([]),[d,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(null),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(""),[N,v]=Object(l.useState)(null),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)("D"),[R,F]=Object(l.useState)("N"),[G,P]=Object(l.useState)(new Date),[J,B]=Object(l.useState)(new Date),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),Object(l.useState)(new Date)),K=new Date,[H,W]=Object(l.useState)(""),[X,Z]=Object(l.useState)(!1),[$,ee]=Object(l.useState)(""),[ae,te]=Object(l.useState)(!1),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)(""),[me,ue]=Object(l.useState)("0"),[se,ie]=Object(l.useState)("0"),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(""),[he,ge]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(null),[Ne,ve]=Object(l.useState)(""),[Ce,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[De,Le]=Object(l.useState)(""),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)(""),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)([]),[Ge,Pe]=Object(l.useState)("D"),[Je,Ve]=Object(l.useState)("10"),[ze,Qe]=Object(l.useState)(""),[Ue,Ke]=Object(l.useState)(!1),[He,Xe]=Object(l.useState)("0"),[$e,aa]=Object(l.useState)([]),[ta,la]=Object(l.useState)(!1),[ra,ca]=Object(l.useState)([]),[oa,ua]=Object(l.useState)("0"),[sa,ia]=Object(l.useState)("0"),[da,ha]=Object(l.useState)(!1),[ya,Na]=Object(l.useState)(""),[va,Ca]=Object(l.useState)(""),[_a,Ta]=Object(l.useState)(new Date),[Da,La]=Object(l.useState)("0"),[ka,wa]=Object(l.useState)("0"),[Aa,Ia]=Object(l.useState)("0"),[Ma,Ra]=Object(l.useState)(!1),[Fa,Ga]=Object(l.useState)(!1),[Pa,Ja]=Object(l.useState)(""),[Ba,qa]=Object(l.useState)(0),[Va,Ua]=Object(l.useState)("0"),[Ya,Za]=Object(l.useState)(""),[$a,et]=Object(l.useState)(""),[lt,rt]=Object(l.useState)(""),[ot,mt]=Object(l.useState)("T"),[ut,st]=Object(l.useState)(""),[it,dt]=Object(l.useState)(""),[ht,gt]=Object(l.useState)(""),[yt,Ot]=Object(l.useState)(""),[Nt,vt]=Object(l.useState)(""),[Ct,_t]=Object(l.useState)(null),[ft,jt]=Object(l.useState)(null),[Tt,Dt]=Object(l.useState)(!1),[Lt,kt]=Object(l.useState)(null),[xt,At]=Object(l.useState)({value:0,label:"Select"}),[It,Gt]=Object(l.useState)(0),[Pt,Jt]=Object(l.useState)(""),[Bt,qt]=Object(l.useState)(""),[Vt,zt]=Object(l.useState)(!1),[Qt,Ut]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Yt,Ht]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Wt,Xt]=Object(l.useState)(!1),[Zt,$t]=Object(l.useState)("");Object(l.useEffect)(()=>{d||(xa().then(e=>{h(e),null!=e&&el(e)}),Ye(_,[a,"all","INTER_BRANCH_ENTRY"],function(a){let t=JSON.parse(a);"1"===t.query?u(t):e("/")}),p(!0))},[d,a,e]);const el=e=>{h(e);const a=e.id.split("^");S(a[1]),O(a[2]),sessionStorage.activeBranch=a[1]},tl=()=>{var e=[],t=0;if(null==ce)e[t++]=E("MSG0006"),e[t++]=null==ce?"Please select account.":"",ee(ja(e)),Z(!0);else{const e={data:"".concat(Ge,"^").concat(me,"^").concat(se,"^").concat(Ea(U)),limit:Je,srch:ze};Ye(Se,[a,"getknockoff",JSON.stringify(e)],e=>{let a=JSON.parse(e);Fe(a)}),Ke(!0)}},ll=(e,a,t)=>{let l=Re.map((l,n)=>e===n?"tfd_amount"===t?{...l,[t]:a.target.value}:a.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}:l);Fe(l)},nl=()=>{Ke(!1)},cl=()=>{if("0"==Va&&"A"==H)ee("You can't save without adding data"),Z(!0);else if("E"===H&&""===Pa)Ga(!0),ct()(".loader").hide();else{const e={remark:Pa,activitytype:1==Ba?"MODIFY":"CREATE",subtranno:Ba,trannumber:oa,trantype:"IB",trancategory:"T",branch:g,location:g,toLocation:C,flag:I,date:Ea(U),type:"IB",narration:Ya,bookList:$e,radioType:R,scrMode:H,srNo:oa,totalCredit:ka,totalDebit:Da,group:me,account:se,chequeSrno:yt,chequeLine:ht,chequeLocation:Nt,chequeNum:ya,randomString:sa,knockoffValue:ye};if(Ye(Se,[a,"saveIBEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);W("Q"),ml(a.resarray),"N"==R?(aa(a.resarray),ua(a.srno)):aa(a.resarray),qt(Ea(new Date)),rt(ba(a.resarray[0].tfd_date)),Ra(!1),Ua(0),Ja(""),et(a.srno),ge("")}),"E"==H&&"SELF"!==Zt){const e={srno:oa,type:"IB",status:"E",currentDate:Ea(K),pageright:"INTER_BRANCH_ENTRY"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{})}}},ol=()=>{var e=[],t=0;if(null===b||"S"===R&&!q||"S"===R&&!z||"D"===R&&!G||"D"===R&&!J)e[t++]=E("MSG0006"),e[t++]=null===b?" From Branch.":"",e[t++]="S"!==R||q?"":" From Srno.",e[t++]="S"!==R||z?"":" To Srno.",e[t++]="D"!==R||G?"":" From date.",e[t++]="D"!==R||J?"":" To date.",ee(ja(e)),Z(!0);else{const e={date:Ea(U),type:"IB",location:g,radioType:R,fromSrno:q,toSrno:z,fromDate:Ea(G),toDate:Ea(J),flag:I};Ye(Se,[a,"showIBEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);ca(a),la(!0)})}},ml=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++)"D"==e[a].tfd_flag?t+=1*e[a].tfd_amount:l+=e[a].tfd_amount<0?-1*e[a].tfd_amount:1*e[a].tfd_amount;La(t),wa(l);let n=t-l;Ia(n.toFixed(2)),n<0?(Pe("D"),ge(-1*n)):0==n?ge(""):(Pe("C"),ge(n))},sl=e=>{st(e);const a=e.id.split("^");Na(a[4]),dt(a[4]),Ot(a[1]),gt(a[2]),vt(a[3]),Ta(a[5])};return n.a.createElement(n.a.Fragment,null,Tt?n.a.createElement(Zl,{value:"FABOOK",hideIndividualProfile:(e,t)=>{Dt(e),t>0&&Ye(le,[a,"individual",t],e=>{let a=JSON.parse(e);jt(a)})}}):n.a.createElement(n.a.Fragment,null,"  ",n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Inter Branch Entry ",n.a.createElement("span",{style:{color:"white"}},He)))),"\xa0",""==H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:b,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>el(e),isDisabled:"true"===c}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Note Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement("select",{class:"form-select","aria-label":"Default select example",value:I,onChange:e=>(e=>{let a=e.target.value;M(a),F("C"==a?"S":"N")})(e)},n.a.createElement("option",{value:"D"},"Debit"),n.a.createElement("option",{value:"C"},"Credit"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Branch",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:N,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ul,onInputChange:Mt,onChange:e=>(e=>{v(e);const a=e.id.split("^");f(a[1]),T(a[2]),L(a[6]),x(a[7]),A(a[8])})(e)})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},"D"==I&&n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===R,onChange:()=>F("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===R,onChange:()=>F("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===R,onChange:()=>F("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Wa.a,null,"N"===R?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:U,onChange:e=>Y(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:q,onChange:e=>Ze(e.target.value,V),placeholder:"From Srno"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:z,onChange:e=>Ze(e.target.value,Q),placeholder:"To Srno"})))):"D"===R?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:G,onChange:e=>P(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:J,onChange:e=>B(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"==R?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,l=Ea(U);null!==b&&null!==N&&U?g===C?(ee("From Branch and To Branch should not be same!."),Z(!0)):l>r||l<t?(ee(E("MSG0010")),Z(!0)):(W("A"),ia(Oa(15)),ge(""),aa([]),ua(0),et(0),Za(""),wa(0)):(e[a++]=E("MSG0006"),e[a++]=null===b?" From Branch.":"",e[a++]=null===N?" To Branch.":"",e[a++]=U?"":" Select date.",ee(ja(e)),Z(!0))}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:ol},"List"))),"\xa0",ta&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===o.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Debit"),n.a.createElement("th",null,"Total Credit"),n.a.createElement("th",null,"From Branch"),n.a.createElement("th",null,"To Branch"))),n.a.createElement("tbody",null,ra.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l,n,r,c,o,m,u,s)=>{ct()(".loader").show(),O(u),T(s),qt(o),"N"==R&&F("A"),ua(e),Za(m);const i={srNo:e,location:g,toLocation:C,type:t};Ye(Se,[a,"viewdata",JSON.stringify(i)],a=>{let t=JSON.parse(a);aa(t),ct()(".loader").hide(),W("Q"),la(!1),ha(!0),rt(l),et(e),ml(t),jt(null)})})(e.tfh_srno,e.tfh_type,e.formatted_date,e.entity_name,e.hdr_group,e.mvli_ledger_name,e.tfh_date,e.tfh_narration,e.from_branch,e.to_branch)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfh_total_debit),n.a.createElement("td",null,e.tfh_total_credit),n.a.createElement("td",null,e.from_branch),n.a.createElement("td",null,e.to_branch)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"A"==H||"E"==H?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{re("Do you really want to exit"),te(!0)}},"Cancel"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{W("")}},"Back"),"\xa0","1"===o.edit&&"Q"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Bt.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5),m={srno:$a,type:"IB",pageright:"INTER_BRANCH_ENTRY",location:g};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);$t(t.requestsrc),Be==o||"unlock"==t.msg?W("E"):(zt(!0),Ut({trantype:"IB",trannumber:$a,location:g,tranDate:Ea(e)}))})})()},"Edit")):null,"1"===o.edit&&"E"===H||"1"===o.add&&"A"===H?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:cl},"Save"):null,"\xa0","1"!==o.query||"E"!==H&&"Q"!==H?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(Xt(!0),void Ht({trantype:"IB",trannumber:oa,trancategory:"T"}))},"Activity Log")))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",$a)),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type : IB"))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Branch : ",y))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,"A"==H?n.a.createElement(s.a.Label,null,"Date : ",pa(U)," "):n.a.createElement(s.a.Label,null,"Date : ",lt," "))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Note Type : ","D"==I?"Debit":"Credit"))),n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Debit to : ",j," ")))),"\xa0","E"==H||"A"==H?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ce,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,g),onInputChange:Mt,onChange:e=>{oe(e);const a=e.id.split("^");ue(a[1]),ie(a[2]),Ee(a[4]),be(a[3])}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:he,maxLength:qe,onChange:e=>ea(e.target.value,ge),placeholder:"Amount"})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Knockoff"),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ye,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>rl(e,1,"".concat(Ge,"^").concat(me,"^").concat(se,"^").concat(Ea(U))),onInputChange:Mt,onChange:e=>{Oe(e);const a=e.id.split("^");ve(a[3]),fe(a[2]),Te(a[6]),xe(a[4]),Le(a[8]),Ae(a[9]),Me(a[10])}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-primary",onClick:tl},"Selective Knockoff"))),"\xa0",n.a.createElement(pt.a,{show:Ue,onHide:nl,size:"xl"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Selective Knockoff")),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Control,{value:ze,maxLength:qe,placeholder:"Search",onChange:e=>na(e.target.value,Qe)})),"\xa0",n.a.createElement(Xa.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:Je,onChange:e=>Ve(e.target.value),required:!0},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"2"},"15"),n.a.createElement("option",{value:"20"},"20"))),"\xa0",n.a.createElement(Xa.a,{className:"col-md-3 "},n.a.createElement(i.a,{variant:"outline-primary",onClick:tl},"Search"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Pending"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Amount"),n.a.createElement("th",null,"KnockOff Amount"))),n.a.createElement("tbody",null,Re.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null," ",n.a.createElement(s.a.Check,{type:"checkbox",checked:"1"==e.ischecked,name:"ischecked",onChange:e=>ll(a,e,"ischecked")})),n.a.createElement("td",null," ",n.a.createElement(s.a.Control,{value:e.tfd_amount,name:"tfd_amount",onChange:e=>ll(a,e,"tfd_amount")})),n.a.createElement("td",null,e.tfd_knockoff_type),n.a.createElement("td",null,e.tfd_date),n.a.createElement("td",null,e.total_amount),n.a.createElement("td",null,e.knockoff_amount)))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:nl},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{const e={knockoffData:Re,randomString:sa,flag:"C"};Ye(Se,[a,"addknockoffSelective",JSON.stringify(e)],e=>{let a=JSON.parse(e);Ke(!1),Xe(He+1),ha(!0),oe(null),jt(null),ml(a),Oe(null),fe(""),ve(""),Te(""),ge(""),Ua(Va+1);for(let t=0;t<Re.length;t++)Re[t].tfd_transfer_type="",Re[t].tfd_cheque_status="",Re[t].cheque_date="",Re[t].tfd_cheque_bank_name="",Re[t].tfd_cheque_no="",Re[t].tfd_individual_code="",Re[t].tfd_account_type="",Re[t].chequeValueNum="",Re[t].tfd_flag=I,Re[t].tfd_srno=a[0].tfd_srno,Re[t].tfd_line_no=a[0].tfd_line_no,Re[t].tfd_knockoff_amount=a[0].tfd_amount,"0"!=Re[t].ischecked&&aa(Sa($e,Re[t]))})}},"Add"))),n.a.createElement(Wa.a,null,"BANK"==de&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:ot,onChange:e=>mt(e.target.value),required:!0},n.a.createElement("option",{value:"T"},"Transfer/Ref No."),n.a.createElement("option",{value:"C"},"Cheque")))),"CHEQUE"==de?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ya,maxLength:qe,onChange:e=>ma(e.target.value,Na),placeholder:"CHEQUE"==de||"BANK"==de&&"C"==ot?"Cheque Number":"Reference Number"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:va,maxLength:100,onChange:e=>We(e.target.value,Ca),placeholder:"Bank Name"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:_a,onChange:e=>Ta(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"BANK"==de?n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,"C"==I&&"T"==ot&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ya,maxLength:255,onChange:e=>ma(e.target.value,Na),placeholder:"Reference Number"})),"C"==I&&"C"==ot&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ut,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,me,se,g),onInputChange:Mt,onChange:e=>sl(e)})),"D"==I&&"T"==ot&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:ya,maxLength:100,onChange:e=>ma(e.target.value,Na),placeholder:"Reference Number"})),"\xa0","D"==I&&"C"==ot&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ut,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,me,se,g),onInputChange:Mt,onChange:e=>sl(e)})),"\xa0")),"D"==I&&"C"==ot&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:va,maxLength:100,onChange:e=>We(e.target.value,Ca),placeholder:"Bank Name"}))),"\xa0"):null),n.a.createElement(Wa.a,null,"WALKIN"==de&&n.a.createElement(Xa.a,{className:"col-md-9"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile","A"===H&&n.a.createElement("span",null,"  ",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>void Dt(!0)},"Not in list? Create New "),n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",onClick:()=>{jt(null)}},"Reset")))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ft,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Kt,onInputChange:Mt,onChange:e=>{jt(e),null==Lt&&At({value:It,label:Pt})},isDisabled:"Q"===H,formatOptionLabel:dl,components:{Menu:El}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(ct()(".loader").show(),null==ce||""===he||"CHEQUE"==de&&null==_a||"CHEQUE"==de&&""==ya||"CHEQUE"==de&&""==va||"BANK"==de&&"C"==I&&"T"==ot&&""==ya||"BANK"==de&&"C"==I&&"C"==ot&&""==ya||"D"==I&&"T"==ot&&"BANK"==de&&""==ya||"D"==I&&"C"==ot&&"BANK"==de&&""==ya||"D"==I&&"C"==ot&&"BANK"==de&&""==va)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null==ce?"Please select account.":"",e[t++]=""===he?"Please fill amount.":"",e[t++]="CHEQUE"==de&&""==ya?"Fill Cheque number":"",e[t++]="CHEQUE"==de&&""==va?"Fill Bank Name":"",e[t++]="CHEQUE"==de&&null==_a?"Please select date.":"",e[t++]="BANK"==de&&"C"==I&&"T"==ot&&""==ya?"Fill Reference Number":"",e[t++]="BANK"==de&&"C"==I&&"C"==ot&&""==ya?"Fill Cheque Number":"",e[t++]="BANK"==de&&"D"==I&&"T"==ot&&""==ya?"Fill Reference Number":"",e[t++]="BANK"==de&&"D"==I&&"C"==ot&&""==ya?"Fill Cheque Number":"",e[t++]="D"==I&&"C"==ot&&"BANK"==de&&""==va?"Fill Bank Name":"",ee(ja(e)),Z(!0);else{Ua(Va+1);let e="",t=0;if(null!=ft){let a=ft.id.split("^");e=a[2],t=a[1]}let l,n="",r="";"CHEQUE"==de?n=Ea(_a):"BANK"==de&&(r=ot,n=_a),null==ye?l={uniquekey:Oa(15),tfd_date:Ea(U),tfd_type:"IB",tfd_flag:"C",tfd_amount:he,tfd_location:g,tfd_group:me,tfd_account:se,tfd_account_type:de,mvli_ledger_name:pe,srno:oa,tfd_srno:oa,tfd_individual:e,tfd_individual_code:t,tfd_cheque_no:ya,tfd_cheque_bank_name:"BANK"==de?pe:va,cheque_date:Ea(n),tfd_cheque_status:Ct,chequeValueNum:it,tfd_transfer_type:r,tfd_knockoff_srno:"null",tfd_knockoff_type:"",tfd_knockoff_lineno:"null",tfd_reftype:"",delny:"Y"}:(l={tfd_line_no:"",tfd_location:g,tfd_type:"IB",tfd_srno:"",tfd_knockoff_type:Ce,tfd_knockoff_srno:Ne,tfd_knockoff_lineno:ke,tfd_group:me,tfd_account:se,tfd_amount:he,tfd_flag:"C",tfd_date:Ea(U),mvli_ledger_name:Ie,randomString:sa,delny:"Y",tfd_transfer_type:"",tfd_cheque_status:"",cheque_date:"",tfd_cheque_bank_name:"",tfd_cheque_no:"",tfd_individual_code:"",tfd_account_type:"",chequeValueNum:"",tfd_reftype:""},Ye(Se,[a,"addknockoffSingle",JSON.stringify(l)],e=>{let a=JSON.parse(e);l.tfd_line_no=a[0].tfd_line_no,l.tfd_srno=a[0].tfd_srno})),aa(Sa($e,l)),Xe(He+1),ha(!0),ge(""),M("D"),oe(null),Ca(""),Na(""),Ca(""),jt(null),_t(null),ml($e),Ta(new Date),Ee(""),mt("T"),Oe(null),fe(""),ve(""),Te(""),ct()(".loader").hide()}}},"Add"),n.a.createElement(s.a.Check,{type:"checkbox",label:"Show Additional Details",checked:Ma,onChange:()=>{Ra(!Ma)}}))),"\xa0"):null,n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,Ma?n.a.createElement("td",{colSpan:10}):n.a.createElement("td",{colSpan:7}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Credit:")," ",n.a.createElement("span",null,ka))),n.a.createElement("tr",null,"1"===o.delete?n.a.createElement("th",null):null,n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Knockoff"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"),Ma&&n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Cheque Number"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Cheque Bank Name")))),n.a.createElement("tbody",null,da&&$e.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===o.delete?n.a.createElement("td",{className:"textCenter"},"Q"!==H&&"Y"==e.delny?n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>((e,t,l,n,r)=>{const c={location:t,flag:I,type:"IB",srno:l,lineno:n,amt:r<0?-1*r:r,randomString:sa};Ye(Se,[a,"canDelete",JSON.stringify(c)],a=>{"0"==JSON.parse(a).isdeletable?(Z(!0),ee("Cannot delete, amount already knocked off.")):(aa(ga($e,"uniquekey",e)),Xe(He-1),ml($e))})})(e.uniquekey,e.tfd_location,e.tfd_srno,e.tfd_line_no,e.tfd_amount)},n.a.createElement(za.a,{icon:tt.r})):null):null,n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tfd_individual),n.a.createElement("td",null,"null"==e.tfd_knockoff_srno||"0"==e.tfd_knockoff_srno||null==e.tfd_knockoff_srno?null:e.tfd_knockoff_type+" "+e.tfd_knockoff_srno),n.a.createElement("td",{style:{textAlign:"right"}},"D"===e.tfd_flag?e.tfd_amount:""),n.a.createElement("td",{style:{textAlign:"right"}},"C"===e.tfd_flag?e.tfd_amount<0?-1*e.tfd_amount:e.tfd_amount:""),Ma&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.cheque_date),n.a.createElement("td",null,e.tfd_cheque_bank_name))))))),n.a.createElement(Wa.a,null,n.a.createElement(kr.a,{controlId:"floatingTextarea2",label:"Narration"},n.a.createElement(s.a.Control,{value:Ya,maxLength:500,as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:e=>Za(e.target.value),disabled:"Q"===H}))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))),n.a.createElement(Ka,{isOpen:X,onClose:e=>Z(!1)},$),n.a.createElement(St,{isOpen:ae,onYes:e=>(W(""),la(!0),ol(),Ra(!1),te(!1),ge(""),void oe(null)),onNo:e=>te(!1)},ne),n.a.createElement(bt,{logObject:Yt,show:Wt,onHide:()=>Xt(!1)}),n.a.createElement(Dl,{logObject:Qt,show:Vt,onHide:()=>zt(!1)}),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:Fa,onHide:()=>Ga(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,"E"===H?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:Pa,onChange:e=>We(e.target.value,Ja),autoComplete:"off",required:!0}))):null),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===H&&""===Pa?(Ga(!1),ee("Please fill Activity Remark!"),Z(!0)):(cl(),Ga(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>Ga(!1)},"Cancel")))))};var wr=function(){const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),c=sessionStorage.getItem("startDate"),o=sessionStorage.getItem("endDate"),u=sessionStorage.getItem("branchDisable"),[d,p]=Object(l.useState)(null),[b,h]=Object(l.useState)("N"),[g,S]=Object(l.useState)(""),[y,O]=Object(l.useState)(new Date),[N,v]=Object(l.useState)(""),[C,f]=Object(l.useState)(0),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)(!1),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(!1),[R,F]=Object(l.useState)(""),[G,P]=Object(l.useState)("D"),[J,B]=Object(l.useState)(null),[q,V]=Object(l.useState)(""),[z,Q]=Object(l.useState)(""),[U,Y]=Object(l.useState)("0"),[K,H]=Object(l.useState)(null),[W,X]=Object(l.useState)(null),[Z,$]=Object(l.useState)(""),[ee,ae]=Object(l.useState)(""),[te,le]=Object(l.useState)(""),[ne,re]=Object(l.useState)(""),[ce,oe]=Object(l.useState)("C"),[me,ue]=Object(l.useState)(null),[se,ie]=Object(l.useState)(null),[de,Ee]=Object(l.useState)("0"),[pe,be]=Object(l.useState)(null),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)([]),[Oe,Ne]=Object(l.useState)("0"),[ve,Ce]=Object(l.useState)(""),[_e,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)({location:"",trannumber:"",type:""}),[De,Le]=Object(l.useState)(!1),[ke,xe]=Object(l.useState)(""),[we,Ae]=Object(l.useState)(""),[Ie,Me]=Object(l.useState)(new Date),[Re,Fe]=Object(l.useState)(new Date);Object(l.useEffect)(()=>{xa().then(e=>{null!=e&&Ge(e)}),Ye(_,[a,"all","TRAN_BOOK_ENTRY"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")})},[]);const Ge=e=>{p(e),X(e);var a=e.id.split("^");$(a[1]),ae(a[2]),v(a[2]),ye([]),sessionStorage.activeBranch=a[1]},Pe=()=>{M(!1),S("")},Be=e=>{be(e),ge(e.id.split("^")[1]),ue(null)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"Cross KnockOff")),n.a.createElement("hr",null)),""===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"20px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===b,onChange:()=>h("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===b,onChange:()=>h("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===b,onChange:()=>h("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:d,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>Ge(e),isDisabled:"true"===u})))),n.a.createElement(Wa.a,null,"N"===b?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date"),n.a.createElement(vl.a,{className:"form-control",selected:y,onChange:e=>O(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===b?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:ke,onChange:e=>Ze(e.target.value,xe)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:we,onChange:e=>Ze(e.target.value,Ae)})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Ie,onChange:e=>Me(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Re,onChange:e=>Fe(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"==b?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=Ea(y);if(Ea(new Date),e>o||e<c)return x(!0),void A(E("MSG0010"));S("A"),f("0"),T(pa(y)),P("C"),oe("D"),B(null),ie(null),H(null),ue(null),be(null),L("")}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;if(Ea(ke),"S"!==b||""!=ke.trim()&&""!==we.trim())if("D"!==b||null!==Ie&&null!==Re){ct()(".loader").show();const e={type:"CRKNF",srnoFrom:ke,srnoTo:we,fromDate:Ea(Ie),toDate:Ea(Re),radioType:b,location:Z};Ye(Je,[a,"listdata",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);ye(a.data)})}else e[t++]=E("MSG0006"),e[t++]=null===Ie?"From Date":"",e[t++]=null===Re?"To Date":"",x(!0),A(ja(e));else e[t++]=E("MSG0006"),e[t++]=""===ke?"From Srno":"",e[t++]=""===we?"To Srno":"",x(!0),A(ja(e))}},"List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,striped:!0,bordered:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Se.map(e=>n.a.createElement("tr",{key:e.thrk_srno},n.a.createElement("td",null,n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{ct()(".loader").show(),f(e.thrk_srno),S("Q");const t={srno:e.thrk_srno,type:e.thrk_type,loc1:e.thrk_loc_1,flag1:e.thrk_flag_1,grpcode1:e.thrk_group_1,acccode1:e.thrk_account_1,loc2:e.thrk_loc_2,flag2:e.thrk_flag_2,grpcode2:e.thrk_group_2,acccode2:e.thrk_account_2,date:e.thrk_date};Ye(Je,[a,"viewdata",JSON.stringify(t)],e=>{ct()(".loader").hide();let a=JSON.parse(e),t=a.data[0];if(Ge({id:t.e1id,label:t.e1label}),Be({id:t.e2id,label:t.e2label}),P(t.thrk_flag_1),oe(t.thrk_flag_2),B({id:t.a1id,label:t.a1label}),ie({id:t.a2id,label:t.a2label}),V(t.grpcode1),Q(t.acctcode1),re(t.grpcode2),le(t.acctcode2),L(t.thrk_amount),Ne(t.thrk_amount),T(t.thrk_date),""!=a.knockoff_1){H(a.knockoff_1);let e=a.knockoff_1.id.split("^");Ce(e[2]+" "+e[3])}else H(null);if(""!=a.knockoff_2){ue(a.knockoff_2);let e=a.knockoff_2.id.split("^");fe(e[2]+" "+e[3])}else ue(null)})})(e)},n.a.createElement(za.a,{icon:Qa.f}))),n.a.createElement("td",null,e.thrk_srno),n.a.createElement("td",null,e.thrk_date),n.a.createElement("td",null,e.thrk_amount))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",size:"sm",className:"buttonStyle",onClick:()=>void("A"===g||"E"===g?(F(E("WRN0000")),M(!0)):Pe())},"Back"),"\xa0","1"===t.edit&&"Q"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void S("E")},"Edit"),"\xa0"):null,"1"===t.edit&&"E"===g||"1"===t.add&&"A"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",size:"sm",className:"buttonStyle",onClick:()=>(()=>{ct()(".loader").show();const e={srno:C,type:"CRKNF",flag:G,nLocatinCode:Z,ledgerValue:J,knockoffValue:K,crFlag:ce,crLocationCode:he,crLedgerValue:se,crKnockoffValue:me,grpCode:q,accCode:z,crGrpCode:ne,crAccCode:te,hdrDate:Ea(y),amount:D,prevAmount:Oe,srnoFrom:ke,srnoTo:we,fromDate:Ea(Ie),toDate:Ea(Re),radioType:b,location:Z};Ye(Je,[a,"savedata",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);"1"==a.msg?(S(""),ye(a.data)):(x(!0),A(a.msg))})})()},"Save"),"\xa0"):null,"1"===t.query&&"Q"===g?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(Le(!0),void Te({location:"",trannumber:C,type:"CRKNF"}))},"Fa View"),"\xa0"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Serial Number : ",C)),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Location : ",n.a.createElement("b",null,N," "))),n.a.createElement(Xa.a,{className:"col-md-2 col-4"},n.a.createElement("span",null,"Date : ",n.a.createElement("b",null,j))),n.a.createElement(Xa.a,{className:"col-md-3 col-6",style:{textAlign:"right"}},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Control,{value:D,maxLength:qe,onChange:e=>ea(e.target.value,L),placeholder:"Amount",disabled:"Q"===g})))),n.a.createElement(Wa.a,null,"\xa0"),"Q"===g&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"KnockedOff Bill : ",n.a.createElement("b",null,ve)))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:W,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>(e=>{X(e)})(e),isDisabled:!0}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cr/Dr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===g,value:G,onChange:e=>(e=>{P(e),H(null)})(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"Credit"),n.a.createElement("option",{value:"D"},"Debit")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:J,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,Z),onInputChange:Mt,onChange:e=>{B(e);const t=e.id.split("^");V(t[1]),Q(t[2]),H(null);const l={groupCode:t[1],flag:"C"==G?"D":"C"};Ye(Je,[a,"checkknockoff",JSON.stringify(l)],e=>{const a=JSON.parse(e);Y(a.isknockoff)})},isDisabled:"Q"===g})))),"Q"!==g&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Knockoff",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:K,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>rl(e,Z,"".concat(G,"^").concat(q,"^").concat(z,"^").concat(Ea(y))),onInputChange:Mt,onChange:e=>{H(e);const a=e.id.split("^");L(a[8])},formatOptionLabel:pl,components:{Menu:bl},isDisabled:"Q"===g})))),n.a.createElement("hr",null),"Q"===g&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Knocked Off Bill  : ",n.a.createElement("b",null,_e)))),n.a.createElement(Wa.a,null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:pe,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:ul,onInputChange:Mt,onChange:e=>Be(e),isDisabled:"true"===u||"Q"===g}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cr/Dr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{disabled:"Q"===g,value:ce,onChange:e=>(e=>{oe(e),ue(null)})(e.target.value),required:!0},n.a.createElement("option",{value:"C"},"Credit"),n.a.createElement("option",{value:"D"},"Debit")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:se,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,he),onInputChange:Mt,onChange:e=>{ie(e);const t=e.id.split("^");re(t[1]),le(t[2]),ue(null);const l={groupCode:t[1],flag:"C"==ce?"D":"C"};Ye(Je,[a,"checkknockoff",JSON.stringify(l)],e=>{const a=JSON.parse(e);Ee(a.isknockoff)})},isDisabled:"Q"===g})))),"Q"!==g&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Knockoff",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:me,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>rl(e,he,"".concat(ce,"^").concat(ne,"^").concat(te,"^").concat(Ea(y))),onInputChange:Mt,onChange:e=>{ue(e),e.id.split("^")},formatOptionLabel:pl,components:{Menu:bl},isDisabled:"Q"===g})))))),n.a.createElement(Ka,{isOpen:k,onClose:e=>x(!1)},w),n.a.createElement(St,{isOpen:I,onYes:e=>Pe(),onNo:e=>M(!1)},R),n.a.createElement(Gl,{faViewObject:je,show:De,onHide:()=>Le(!1)}))};var Ar=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)([]),[m,u]=Object(l.useState)(0),[s,d]=Object(l.useState)([]);Object(l.useEffect)(()=>{const t={srno:e.srno,location:e.location,type:e.type};Ye(le,[a,"download",JSON.stringify(t)],e=>{ct()(".loader").show();let a=JSON.parse(e);ct()(".loader").hide(),console.log(a.header),console.log(a.detail),r(a.detail),o(a.header[0]),u(a.credit),d(a.finData),console.log(a.header[0].tfh_total_credit),console.log("Financial Detail is: ",a.finData)})},[]);const E={border:"1px solid black",textAlign:"left",fontFamily:"Bookman Old Style"},p={borderLeft:"1px solid black",borderRight:"1px solid black"};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"Button"},n.a.createElement(i.a,{variant:"outline-success",size:"sm",onClick:()=>void e.hidePrint("")},"Back")),n.a.createElement("div",{className:"container-fluid"},n.a.createElement("p",{style:{marginTop:"30px",fontFamily:"Bookman Old Style"}},s[0]," (",c.entity_name,")",n.a.createElement("br",null),c.entity_address,n.a.createElement("br",null),c.entity_name,"-",c.entity_pincode,n.a.createElement("br",null),"Sr.No.: ",c.srno),n.a.createElement("p",{style:{marginLeft:"260px",fontWeight:"bold",fontFamily:"Bookman Old Style",marginTop:"10px"}},"Bank Book Voucher"),n.a.createElement("table",{className:"col-md-5 col-12",style:{borderCollapse:"collapse",border:"1px solid black",fontFamily:"Bookman Old Style"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{colspan:"3"},n.a.createElement("span",{style:{float:"left"}},"Entered By:",c.um_user_name," ")),n.a.createElement("td",{colspan:"2"},n.a.createElement("span",{style:{float:"left"}},"Trans. No: ",c.tfh_srno),n.a.createElement("span",{style:{float:"right"}},"Date:",c.tfh_date))),n.a.createElement("tr",null,n.a.createElement("th",{style:{...E,textAlign:"center"}},"Account Name"),n.a.createElement("th",{style:{...E,textAlign:"center"}},"Debit"),n.a.createElement("th",{style:{...E,textAlign:"center"}},"Credit"),n.a.createElement("th",{style:{...E,textAlign:"center"}},"Cheque No."),n.a.createElement("th",{style:{...E,textAlign:"center"}},"Bank Name"))),n.a.createElement("tbody",null,t.filter(e=>"GB"!==e.tfd_reftype).map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",{style:p},e.mvli_ledger_name),n.a.createElement("td",{style:{...p,textAlign:"right"}},"D"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:{...p,textAlign:"right"}},"C"==e.tfd_flag&&e.tfd_amount),n.a.createElement("td",{style:p},e.tfd_cheque_no),n.a.createElement("td",{style:p},e.tfd_cheque_bank_name)))),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("td",{style:{...E,textAlign:"right"}},"Total"),n.a.createElement("td",{style:{...E,textAlign:"right"}},c.tfh_total_debit),n.a.createElement("td",{style:{...E,textAlign:"right"}},c.tfh_total_credit),n.a.createElement("td",{style:E}),n.a.createElement("td",{style:E})))),n.a.createElement("p",{style:{fontFamily:"Bookman Old Style"}},n.a.createElement("br",null),"Amount in Words:( ",m,") ",n.a.createElement("br",null),n.a.createElement("span",null,c.tfh_narration)),n.a.createElement("p",null,n.a.createElement("span",{style:{fontWeight:"bold"}},"Prepared By"),n.a.createElement("span",{style:{marginLeft:"120px",fontWeight:"bold"}},"Authorized By"),n.a.createElement("span",{style:{marginLeft:"160px",fontWeight:"bold"}},"Payee's Signature")),n.a.createElement("p",null,"Note : This is a system - generated receipt hence does not require Stamp & signature. ",n.a.createElement("br",null),"GST, TDS & TCS will be applicable on every sales & encashment transaction execute as per Gazette Ambit.")),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null))};var Ir=e=>{const a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)([]),[m,u]=Object(l.useState)([]),[s,d]=Object(l.useState)(0);Object(l.useEffect)(()=>{const t={srno:e.srno,location:e.location,type:e.type};Ye(le,[a,"download",JSON.stringify(t)],e=>{ct()(".loader").show();let a=JSON.parse(e);ct()(".loader").hide(),console.log(a.header),console.log(a.detail),r(a.detail),o(a.header[0]),d(a.credit),u(a.finData),console.log(a.header[0].tfh_total_credit)})},[]);const E={border:"1px solid black",textAlign:"left",fontFamily:"Bookman Old Style"};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"Button"},n.a.createElement(i.a,{variant:"outline-success",size:"sm",onClick:()=>void e.hidePrint("")},"Back")),n.a.createElement("div",{className:"container-fluid"},n.a.createElement("p",{style:{marginLeft:"120px",fontFamily:"Bookman Old Style"}},m[0]," (",c.entity_name,") ",n.a.createElement("br",null),c.entity_address,n.a.createElement("br",null),c.entity_name,"-",c.entity_pincode,n.a.createElement("br",null),"RBI LICENSE NO.-",m[2]),n.a.createElement("p",{style:{marginLeft:"220px",fontFamily:"Bookman Old Style"}},"RECEIPT"),n.a.createElement("p",{style:{marginLeft:"6px"}},"RECEIPT No: ",c.tfh_srno,n.a.createElement("span",{style:{marginLeft:"200px"}}," Date: ",c.tfh_date),n.a.createElement("br",null),"AMOUNT RECEIVED FROM : ",n.a.createElement("br",null),"201002059946 ",n.a.createElement("br",null),"ON ACCOUNT OF      : ",n.a.createElement("br",null),"REFERENCE NO.      : 0 ",n.a.createElement("br",null),"Cheque/Cash Detail for Payments received"),n.a.createElement("table",{className:"col-md-5 col-12",style:{borderCollapse:"collapse",border:"1px solid black",fontFamily:"Bookman Old Style"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{...E,textAlign:"center"}},"Drawee Bank & Branch"),n.a.createElement("th",{style:{...E,textAlign:"center"}},"Cheque Number"),n.a.createElement("th",{style:{...E,textAlign:"center"}},"Cheque Date"),n.a.createElement("th",{style:{...E,textAlign:"center"}},"Amount"))),n.a.createElement("tbody",null,t.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",{style:{...E}},e.mvli_ledger_name),n.a.createElement("td",{style:{...E}},e.tfd_cheque_no),n.a.createElement("td",{style:{...E}},e.tfd_cheque_date),n.a.createElement("td",{style:{...E}},e.tfd_amount))))),n.a.createElement("p",{style:{marginLeft:"400px"}},"____________________________________________",n.a.createElement("br",null),"Stamp & Signature of Authorized Official"),n.a.createElement("p",{style:{marginLeft:"6px"}},"Conditions :"),n.a.createElement("ol",null,n.a.createElement("li",null,"Forex to be released, subject to be realization of cheque."),n.a.createElement("li",null,"Forex rate shall be aplicable on the day on which FOREX is released ",n.a.createElement("br",null)," and all relevant documents are duly signed by passanger."),n.a.createElement("li",null,"Subject to ",c.entity_name," Jurisdiction."),n.a.createElement("li",null,"Please retail Receipt & produce while availing forex."))),n.a.createElement("br",null),n.a.createElement("br",null))};var Mr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),c=sessionStorage.getItem("startDate"),o=sessionStorage.getItem("endDate"),u=sessionStorage.getItem("branchDisable"),[d,p]=Object(l.useState)(null),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)({value:"BK",label:"Bank Book"}),[N,v]=Object(l.useState)("C"),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)(!1),[D,L]=Object(l.useState)("N"),[k,x]=Object(l.useState)(""),[w,A]=Object(l.useState)(""),[I,M]=Object(l.useState)(null),[R,F]=Object(l.useState)("0"),[G,P]=Object(l.useState)(""),[J,B]=Object(l.useState)(""),[q,V]=Object(l.useState)(!1),[z,Q]=Object(l.useState)(new Date),[U,Y]=Object(l.useState)([]),[K,H]=Object(l.useState)(!1),[W,X]=Object(l.useState)([]),[Z,$]=Object(l.useState)("0"),[ee,ae]=Object(l.useState)(""),[te,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(""),[oe,me]=Object(l.useState)(null),[ue,se]=Object(l.useState)([]),[ie,de]=Object(l.useState)(null),[Ee,pe]=Object(l.useState)(""),[be,he]=Object(l.useState)(""),[ge,Se]=Object(l.useState)(""),[ye,Oe]=Object(l.useState)(""),[Ne,ve]=Object(l.useState)(""),[Ce,fe]=Object(l.useState)(""),[je,Te]=Object(l.useState)(""),[De,Le]=Object(l.useState)(!0),[ke,xe]=Object(l.useState)(!1),[we,Ae]=Object(l.useState)("10"),[Ie,Me]=Object(l.useState)(""),[Re,Fe]=Object(l.useState)("0"),[Ge,Pe]=Object(l.useState)("0"),[Je,Ve]=Object(l.useState)("0"),[ze,Qe]=Object(l.useState)(!1),[Ue,Ke]=Object(l.useState)(""),[He,Xe]=Object(l.useState)(!1),[$e,aa]=Object(l.useState)(""),[ta,la]=Object(l.useState)(""),[ra,ca]=Object(l.useState)(""),[oa,ua]=Object(l.useState)("0"),[sa,ia]=Object(l.useState)(!1),[da,ba]=Object(l.useState)(null),[ha,ya]=Object(l.useState)(null),[Na,va]=Object(l.useState)({value:0,label:"Select"}),[Ca,_a]=Object(l.useState)(0),[Ta,Da]=Object(l.useState)(""),[La,ka]=Object(l.useState)(!1),[wa,Aa]=Object(l.useState)(!1),[Ia,Ma]=Object(l.useState)(""),[Ra,Fa]=Object(l.useState)(""),[Ga,Pa]=Object(l.useState)(new Date),[Ja,Ba]=Object(l.useState)(""),[qa,Va]=Object(l.useState)(null),[Ua,Ya]=Object(l.useState)("T"),[Za,$a]=Object(l.useState)(""),[et,lt]=Object(l.useState)(""),[rt,ot]=Object(l.useState)(""),[mt,ut]=Object(l.useState)(""),[st,it]=Object(l.useState)(""),[dt,ht]=Object(l.useState)("0"),[gt,yt]=Object(l.useState)("0"),[Ot,Nt]=Object(l.useState)(""),[Ct,_t]=Object(l.useState)(!1),[ft,jt]=Object(l.useState)(!1),[Tt,Dt]=Object(l.useState)(""),[Lt,kt]=Object(l.useState)(0),[xt,At]=Object(l.useState)(!1),[It,Gt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:"",tranDate:""}),[Pt,Jt]=Object(l.useState)(""),[Bt,qt]=Object(l.useState)({trantype:"",trannumber:"",trancategory:""}),[Vt,zt]=Object(l.useState)(!1),[Qt,Ut]=Object(l.useState)("0"),Yt=new Date,[Ht,Wt]=Object(l.useState)(""),[Xt,Zt]=Object(l.useState)("0");Object(l.useEffect)(()=>{j||(xa().then(e=>{p(e),null!=e&&ol(e)}),Ye(_,[a,"all","TRAN_BOOK_ENTRY"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")}),T(!0))},[j,a,e]);const $t=()=>{var e=[],t=0;if("0.00"!=Je)e[t++]="0.00"!=Je?"Total Debit and Total Credit should be equal":"",Ke(ja(e)),Qe(!0);else if("E"===ra&&""===Tt)jt(!0);else{const e={remark:Tt,activitytype:1==Lt?"MODIFY":"CREATE",subtranno:Lt,trannumber:R,trantype:y.value,trancategory:"T",branch:J,location:J,date:Ea(z),type:y.value,narration:ta,bookList:U,radioType:D,scrMode:ra,srNo:R,totalCredit:Ge,totalDebit:Re,chequeSrno:mt,chequeLine:rt,chequeLocation:st,chequeNum:Ia,randomString:Qt,knockoffValue:ie};if(ct()("loader").show(),Ye(le,[a,"saveBookEntry",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);console.log(a.resarray),ae(a.srno),"N"==D?(console.log("N"),Y(a.resarray),F(a.srno),ca("Q"),Jt(Ea(new Date))):(la(ta),Y(a.resarray),ca("Q")),_t(!1),ua(0),ia(!1),Dt(""),$(Z+1)}),"E"==ra&&"SELF"!==Ht){const e={srno:R,type:y.value,status:"E",currentDate:Ea(Yt),pageright:"TRAN_BOOK_ENTRY"};Ye(_e,[a,"expireUnlock",JSON.stringify(e)],e=>{})}}},el=()=>{var e=[],t=0;if(null===d||"S"==D&&!k||"S"==D&&!w||"D"==D&&!b||"D"==D&&!g)e[t++]=E("MSG0006"),e[t++]=null==d?" Select location.":"",e[t++]="S"!=D||k?"":" From Srno.",e[t++]="S"!=D||w?"":" To Srno.",e[t++]="D"!=D||b?"":" From date.",e[t++]="D"!=D||g?"":" To date.",Ke(ja(e)),Qe(!0);else{const e={date:Ea(z),type:y.value,location:J,radioType:D,fromSrno:k,toSrno:w,fromDate:Ea(b),toDate:Ea(g)};Ye(le,[a,"showBookEntry",JSON.stringify(e)],e=>{let a=JSON.parse(e);X(a),H(!0)})}},tl=e=>{let a,t=0,l=0;for(a=0;a<e.length;a++){let n=0;"GB"!=e[a].tfd_reftype&&("D"==e[a].tfd_flag?t+=1*(n=e[a].tfd_amount<0?-1*e[a].tfd_amount:e[a].tfd_amount):l+=1*(n=e[a].tfd_amount>0?-1*e[a].tfd_amount:e[a].tfd_amount))}Fe(t),Pe(l);let n=t+l;Ve(n.toFixed(2)),n<0?(v("D"),f(-1*n)):0==n?f(""):(v("C"),f(n))},ll=()=>{xe(!1),Le(!0)},nl=()=>{var e=[],t=0;if(null==I)e[t++]=E("MSG0006"),e[t++]=null==I?"Please select account.":"",Ke(ja(e)),Qe(!0);else{const e={data:"".concat(N,"^").concat(dt,"^").concat(gt,"^").concat(Ea(z)),limit:we,srch:Ie};Ye(le,[a,"getknockoff",JSON.stringify(e)],e=>{let a=JSON.parse(e);se(a)}),xe(!0),Le(!1)}},cl=(e,a,t)=>{let l=ue.map((l,n)=>e===n?"tfd_amount"===t?{...l,[t]:a.target.value}:a.target.checked?{...l,[t]:"1"}:{...l,[t]:"0"}:l);se(l)},ol=e=>{p(e);const a=e.id.split("^");B(a[1]),P(a[2]),sessionStorage.activeBranch=a[1]},ml=e=>{$a(e);const a=e.id.split("^");Ma(a[4]),lt(a[4]),ut(a[1]),ot(a[2]),it(a[3]),Pa(a[5])},ul=e=>{Nt(e)};return n.a.createElement(n.a.Fragment,null,"P"===Ot?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ar,{srno:R,location:J,type:y.value,hidePrint:ul})):"A"===Ot?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ir,{srno:R,location:J,type:y.value,hidePrint:ul})):n.a.createElement(n.a.Fragment,null,La?n.a.createElement(Zl,{value:"FABOOK",hideIndividualProfile:(e,t)=>{ka(e),t>0&&Ye(le,[a,"individual",t],e=>{let a=JSON.parse(e);ba(a)})}}):n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h2",null,"FA Book Entry  ",n.a.createElement("span",{style:{color:"white"}},Z)))),"\xa0",""==ra?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:d,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:e=>ol(e),isDisabled:"true"===u}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"FA Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(vt.a,{value:y,onChange:e=>O(e),options:[{value:"BK",label:"Bank Book"},{value:"CS",label:"Cash Book"},{value:"JV",label:"Journal Voucher"}]}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"N"===D,onChange:()=>L("N"),type:"radio",label:"New",selected:!0})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===D,onChange:()=>L("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===D,onChange:()=>L("D"),type:"radio",label:"Date"})))))),"\xa0",n.a.createElement(Wa.a,null,"N"===D?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:z,onChange:e=>Q(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))):"S"===D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:k,onChange:e=>Ze(e.target.value,x)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{value:w,onChange:e=>Ze(e.target.value,A)})))):"D"===D?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"N"==D?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],a=0,t=Ea(z);null!==d&&z?t>o||t<c?(Ke(E("MSG0010")),Qe(!0)):(ca("A"),F(0),M(null),H(!1),V(!0),Y([]),Pe("0"),Fe("0"),Ve("0"),la(""),ce(y.value),ne(pa(z)),Ut(Oa(15)),Zt("0")):(e[a++]=E("MSG0006"),e[a++]=null===d?"Select Location.":"",e[a++]=z?"":"Select Date.",Ke(ja(e)),Qe(!0)),ua(0),kt(0)}},"Add New"):n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:el},"List"))),"\xa0",K&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===t.add?n.a.createElement("th",null):null,n.a.createElement("th",null,"Srno."),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Debit"),n.a.createElement("th",null,"Total Credit"))),n.a.createElement("tbody",null,W.map(e=>n.a.createElement("tr",{key:e.tfd_line_no},"1"===t.delete?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor",onClick:()=>((e,t,l,n,r)=>{ct()(".loader").show(),Jt(r),"N"==D&&L("A"),F(e);const c={srNo:e,location:J,date:l,type:t,narration:n,operation:"view"};Ye(le,[a,"viewdata",JSON.stringify(c)],a=>{let r=JSON.parse(a);Y(r),ct()(".loader").hide(),ca("Q"),H(!1),V(!0),ae(e),ne(l),ce(t),la(n),tl(r),ba(null)})})(e.tfh_srno,e.tfh_type,e.formatted_date,e.tfh_narration,e.tfh_date)},n.a.createElement("div",{className:"colorThemeBlue"},n.a.createElement(za.a,{icon:Qa.f})))):null,n.a.createElement("td",null,e.tfh_srno),n.a.createElement("td",null,e.tfh_type),n.a.createElement("td",null,e.formatted_date),n.a.createElement("td",null,e.tfh_total_debit),n.a.createElement("td",null,-1*e.tfh_total_credit)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"A"==ra||"E"==ra?n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{Xe(!0),aa("Do you really want to exit")}},"Cancel"):n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>{ca("")}},"Back"),"\xa0","1"===t.edit&&"Q"===ra?n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(()=>{const e=new Date,t=Pt.split("/"),l=t[2]+"-"+t[1]+"-"+t[0],n=Ea(e),r=new Date(l),c=new Date(n)-r,o=Math.ceil(c/864e5),m={srno:0===R?ee:R,type:y.value,pageright:"TRAN_BOOK_ENTRY",location:J};Ye(_e,[a,"checkUnlock",JSON.stringify(m)],a=>{let t=JSON.parse(a);Wt(t.requestsrc),Be==o||"unlock"==t.msg?ca("E"):(At(!0),Gt({trantype:y.value,trannumber:0==ee?R:ee,location:J,tranDate:Ea(e)}))})})()},"Edit")," \xa0",n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>void Nt("P")},"Print")," \xa0","1"==sessionStorage.getItem("userSrno")&&n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>void Nt("A")},"Advance")):null," \xa0","1"!==t.query||"E"!==ra&&"Q"!==ra?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(zt(!0),void qt({trantype:y.value,trannumber:R,trancategory:"T"}))},"Activity Log")),"\xa0","1"===t.edit&&"E"===ra||"1"===t.add&&"A"===ra?n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{let e;if("BK"===y.value)e=["BANK","CHEQUE"];else if("CS"===y.value)e=["CASH"];else if("JV"===y.value){if(U.some(e=>["BANK","CASH","CHEQUE"].includes(e.tfd_account_type))&&U.length>0)return Ke("No account should have type BANK , CHEQUE or CASH"),void Qe(!0);$t()}if(e){if(!U.some(a=>Array.isArray(e)?e.includes(a.tfd_account_type):a.tfd_account_type===e)&&U.length>0)return Ke("At least one account should be of  '".concat(e.join("' or '"),"'")),void Qe(!0);$t()}}},"Save"):null)),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo : ",R))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type : ",re))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location : ",G))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Date : ",te)))),"\xa0","E"==ra||"A"==ra?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cr/Dr",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:N,onChange:e=>(e=>{v(e.target.value);const a=e.target.value;null!=I&&"CHEQUE"==I.id.split("^")[4]&&"C"==a&&(Ke("'CHEQUE'can not be Credit"),Qe(!0),v("D"))})(e),required:!0},n.a.createElement("option",{value:"C"},"Credit"),n.a.createElement("option",{value:"D"},"Debit")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Account",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:I,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Ft(e,J),onInputChange:Mt,onChange:e=>{M(e),me(e);const t=e.id.split("^"),l=(t[1],t[4]);Ba(l),ht(t[1]),yt(t[2]);const n={groupCode:t[1],flag:"C"==N?"D":"C"};Ye(le,[a,"checkknockoff",JSON.stringify(n)],e=>{const a=JSON.parse(e);Zt(a.isknockoff)}),"WALKIN"==l?(ia(!0),Va(null)):"CHEQUE"==l?(v("D"),Aa(!0),ba(null),ia(!1),Va("I")):(ba(null),ia(!1),Aa(!1),Va(null))}}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Amount",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:C,maxLength:qe,onChange:e=>ea(e.target.value,f),placeholder:"Amount",disabled:!De})))),"\xa0",n.a.createElement(Wa.a,null,De&&"1"===Xt&&n.a.createElement(Xa.a,{className:"col-md-9 col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Knockoff",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:ie,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>rl(e,J,"".concat(N,"^").concat(dt,"^").concat(gt,"^").concat(Ea(z))),onInputChange:Mt,onChange:e=>{de(e);const a=e.id.split("^");pe(a[3]),he(a[2]),Se(a[6]),ve(a[4]),Oe(a[8]),fe(a[9]),Te(a[10])},formatOptionLabel:pl,components:{Menu:bl}})))),"\xa0","1"===Xt&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-primary",onClick:nl},"Selective Knockoff"))),n.a.createElement(pt.a,{show:ke,onHide:ll,size:"xl"},n.a.createElement(pt.a.Header,{closeButton:!0},n.a.createElement(pt.a.Title,null,"Selective Knockoff")),n.a.createElement(pt.a.Body,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Search"),n.a.createElement(s.a.Control,{value:Ie,maxLength:qe,placeholder:"Search",onChange:e=>na(e.target.value,Me)})),"\xa0",n.a.createElement(Xa.a,{className:"col-md-4 "},n.a.createElement(s.a.Label,null,"Limit"),n.a.createElement(s.a.Select,{value:we,onChange:e=>Ae(e.target.value),required:!0},n.a.createElement("option",{value:"10"},"10"),n.a.createElement("option",{value:"2"},"15"),n.a.createElement("option",{value:"20"},"20"))),"\xa0",n.a.createElement(Xa.a,{className:"col-md-3 "},n.a.createElement(i.a,{variant:"outline-primary",onClick:nl},"Search"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Pending"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total Amount"),n.a.createElement("th",null,"KnockOff Amount"))),n.a.createElement("tbody",null,ue.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null," ",n.a.createElement(s.a.Check,{type:"checkbox",checked:"1"==e.ischecked,name:"ischecked",onChange:e=>cl(a,e,"ischecked")})),n.a.createElement("td",null," ",n.a.createElement(s.a.Control,{value:e.tfd_amount,name:"tfd_amount",onChange:e=>cl(a,e,"tfd_amount")})),n.a.createElement("td",null,e.tfd_knockoff_type),n.a.createElement("td",null,e.tfd_date),n.a.createElement("td",null,e.total_amount),n.a.createElement("td",null,e.knockoff_amount)))))))),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"secondary",onClick:ll},"Close"),n.a.createElement(i.a,{variant:"primary",onClick:()=>{const e={knockoffData:ue,randomString:Qt};Ye(le,[a,"addknockoffSelective",JSON.stringify(e)],e=>{let a=JSON.parse(e);xe(!1),Le(!0),$(Z+1),V(!0),v("C"),M(null),ba(null),tl(a),de(null),he(""),pe(""),Se(""),f("")});for(let a=0;a<ue.length;a++)ue[a].tfd_transfer_type="",ue[a].tfd_cheque_status="",ue[a].cheque_date="",ue[a].tfd_cheque_bank_name="",ue[a].tfd_cheque_no="",ue[a].tfd_individual_code="",ue[a].tfd_account_type="",ue[a].chequeValueNum="","0"!=ue[a].ischecked&&Y(Sa(U,ue[a]))}},"Add"))),n.a.createElement(Wa.a,null,"BANK"==Ja&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:Ua,onChange:e=>Ya(e.target.value),required:!0},n.a.createElement("option",{value:"T"},"Transfer/Ref No."),n.a.createElement("option",{value:"C"},"Cheque")))),"CHEQUE"==Ja?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ia,maxLength:qe,onChange:e=>ma(e.target.value,Ma),placeholder:"CHEQUE"==Ja||"BANK"==Ja&&"C"==Ua?"Cheque Number":"Reference Number"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ra,maxLength:100,onChange:e=>We(e.target.value,Fa),placeholder:"Bank Name"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Cheque Date",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:Ga,onChange:e=>Pa(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",placeholder:"dd/mm/yyyy",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):"BANK"==Ja?n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,"C"==N&&"T"==Ua&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ia,maxLength:255,onChange:e=>ma(e.target.value,Ma),placeholder:"Reference Number"})),"C"==N&&"C"==Ua&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Za,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,dt,gt,J),onInputChange:Mt,onChange:e=>ml(e)})),"D"==N&&"T"==Ua&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Reference Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ia,maxLength:100,onChange:e=>ma(e.target.value,Ma),placeholder:"Reference Number"})),"\xa0","D"==N&&"C"==Ua&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Label,null,"Cheque Number",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Za,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>al(e,dt,gt,J),onInputChange:Mt,onChange:e=>ml(e)})),"\xa0")),"D"==N&&"C"==Ua&&n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Bank Name",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ra,maxLength:100,onChange:e=>We(e.target.value,Fa),placeholder:"Bank Name"}))),"\xa0"):null),n.a.createElement(Wa.a,null,sa&&n.a.createElement(Xa.a,{className:"col-md-9  col-12"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Profile","A"===ra&&n.a.createElement("span",null,"  ",n.a.createElement("span",{className:"tranNewFormText",onClick:()=>void ka(!0)},"Not in list? Create New "),n.a.createElement("span",null,n.a.createElement(Ol.a,{bg:"secondary",onClick:()=>{ba(null)}},"Reset")))),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:da,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Kt,onInputChange:Mt,onChange:e=>{ba(e),null==ha&&va({value:Ca,label:Ta})},isDisabled:"Q"===ra,formatOptionLabel:dl,components:{Menu:El}})))),"\xa0",n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{var e=[],t=0;let l,n;if(ct()(".loader").show(),null!=I&&(n=(l=I.id.split("^"))[4]),""==C||null==I||"CHEQUE"==n&&null==Ga||"CHEQUE"==n&&""==Ia||"CHEQUE"==n&&""==Ra||"BANK"==n&&"C"==N&&"T"==Ua&&""==Ia||"BANK"==n&&"C"==N&&"C"==Ua&&""==Ia||"D"==N&&"T"==Ua&&"BANK"==n&&""==Ia||"D"==N&&"C"==Ua&&"BANK"==n&&""==Ia||"D"==N&&"C"==Ua&&"BANK"==n&&""==Ra)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null==I?"Please select account.":"",e[t++]=""===C?"Please fill amount.":"",e[t++]="CHEQUE"==n&&""==Ia?"Fill Cheque number":"",e[t++]="CHEQUE"==n&&""==Ra?"Fill Bank Name":"",e[t++]="CHEQUE"==n&&null==Ga?"Please select date.":"",e[t++]="BANK"==n&&"C"==N&&"T"==Ua&&""==Ia?"Fill Reference Number":"",e[t++]="BANK"==n&&"C"==N&&"C"==Ua&&""==Ia?"Fill Cheque Number":"",e[t++]="BANK"==n&&"D"==N&&"T"==Ua&&""==Ia?"Fill Reference Number":"",e[t++]="BANK"==n&&"D"==N&&"C"==Ua&&""==Ia?"Fill Cheque Number":"",e[t++]="D"==N&&"C"==Ua&&"BANK"==n&&""==Ra?"Fill Bank Name":"",Ke(ja(e)),Qe(!0);else{ua(oa+1),ct()(".loader").hide(),l[1],l[2];let e="",t=0;if(null!=da){let a=da.id.split("^");e=a[2],t=a[1]}let r="",c="";"CHEQUE"==n?r=Ea(Ga):"BANK"==n&&(c=Ua,r=Ga);let o,m=C;"C"==N?C>0&&(m=-1*C):C<0&&(m=-1*C),null==ie?o={uniquekey:Oa(15),tfd_date:Ea(z),type:y,tfd_type:y.value,tfd_flag:N,tfd_amount:m,tfd_location:J,tfd_group:l[1],tfd_account:l[2],tfd_account_type:l[4],mvli_ledger_name:l[3],srno:R,tfd_individual:e,tfd_individual_code:t,tfd_cheque_no:Ia,tfd_cheque_bank_name:"BANK"==n?l[3]:Ra,cheque_date:Ea(r),tfd_cheque_status:qa,chequeValueNum:et,tfd_transfer_type:c,tfd_knockoff_srno:"null",tfd_knockoff_type:"",tfd_knockoff_lineno:"null",delny:"Y",tfd_reftype:"",tfd_srno:R,tfd_line_no:0}:(o={tfd_location:J,tfd_type:be,tfd_srno:Ee,tfd_line_no:Ne,tfd_knockoff_type:be,tfd_knockoff_srno:Ee,tfd_knockoff_lineno:Ne,tfd_group:dt,tfd_account:gt,tfd_amount:m,tfd_flag:"D"==Ce?"C":"D",tfd_date:Ea(z),mvli_ledger_name:je,randomString:Qt,delny:"Y",tfd_transfer_type:"",tfd_cheque_status:"",cheque_date:"",tfd_cheque_bank_name:"",tfd_cheque_no:"",tfd_individual_code:"",tfd_account_type:"",chequeValueNum:"",tfd_reftype:""},Ye(le,[a,"addknockoffSingle",JSON.stringify(o)],e=>{JSON.parse(e)})),Y(Sa(U,o)),$(Z+1),V(!0),f(""),v("C"),M(null),Fa(""),Ma(""),Fa(""),ba(null),Va(null),tl(U),Pa(new Date),Ba(""),Ya("T"),de(null),he(""),pe(""),Se("")}}},"Add"),"\xa0",n.a.createElement(s.a.Check,{type:"checkbox",label:"Show Additional Details",checked:Ct,onChange:()=>{_t(!Ct)}})))):null,"\xa0",q&&n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,"0"!=Je&&n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,Ct?n.a.createElement("td",{colSpan:10}):n.a.createElement("td",{colSpan:7}),0!=Je&&n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Difference:")," ",n.a.createElement("span",null,Je)))),n.a.createElement("tr",null,Ct?n.a.createElement("td",{colSpan:9}):n.a.createElement("td",{colSpan:6}),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Debit:")," ",n.a.createElement("span",null,Math.abs(Re))),n.a.createElement("td",{style:{textAlign:"right"},colSpan:1},n.a.createElement("b",null,"Total Credit:")," ",n.a.createElement("span",null,Math.abs(Ge)))),n.a.createElement("tr",null,n.a.createElement("th",null,"Action"),n.a.createElement("th",null,"Group"),n.a.createElement("th",null,"Account"),n.a.createElement("th",null,"Account Name"),n.a.createElement("th",null,"Individual"),n.a.createElement("th",null,"Knockoff"),n.a.createElement("th",{style:{textAlign:"right"}},"Debit"),n.a.createElement("th",{style:{textAlign:"right"}},"Credit"),Ct&&n.a.createElement(n.a.Fragment,null,n.a.createElement("th",null,"Cheque Number"),n.a.createElement("th",null,"Cheque Date"),n.a.createElement("th",null,"Cheque Bank Name")))),n.a.createElement("tbody",null,U.filter(e=>"GB"!==e.tfd_reftype).map((e,l)=>n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:l},n.a.createElement("td",{className:"textCenter"},"1"!==t.delete||"E"!=ra&&"A"!=ra||"Y"!=e.delny?null:n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(e=>{if(console.log("hi"),"E"==ra){const t={location:e.tfd_location,type:e.tfd_type,srno:e.tfd_srno,lineno:e.tfd_line_no,amt:e.tfd_amount<0?-1*e.tfd_amount:e.tfd_amount,randomString:Qt};Ye(le,[a,"canDelete",JSON.stringify(t)],a=>{"0"==JSON.parse(a).isdeletable?(Qe(!0),Ke("Cannot delete, amount already knocked off.")):(Y(ga(U,"uniquekey",e.uniquekey)),$(Z-1),tl(U))})}else Y(ga(U,"uniquekey",e.uniquekey)),$(Z-1),tl(U)})(e)},n.a.createElement(za.a,{icon:tt.r}))),n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tfd_individual),n.a.createElement("td",null,"null"==e.tfd_knockoff_srno||null==e.tfd_knockoff_srno?null:e.tfd_knockoff_srno+" "+e.tfd_knockoff_type),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&Math.abs(e.tfd_amount)),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&Math.abs(e.tfd_amount)),Ct&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.cheque_date),n.a.createElement("td",null,e.tfd_cheque_bank_name))),""!==e.tfd_cheque_no&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:12},"Ref/Cheque Num : ",e.tfd_cheque_no))))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("tbody",null,U.filter(e=>"GB"===e.tfd_reftype).map(e=>n.a.createElement("tr",{key:e.tfd_line_no},n.a.createElement("td",{className:"textCenter"},e.tfd_reftype),n.a.createElement("td",null,e.tfd_group),n.a.createElement("td",null,e.tfd_account),n.a.createElement("td",null,e.mvli_ledger_name),n.a.createElement("td",null,e.tfd_individual),n.a.createElement("td",null,"null"==e.tfd_knockoff_srno||null==e.tfd_knockoff_srno?null:e.tfd_knockoff_srno+" "+e.tfd_knockoff_type),n.a.createElement("td",{style:{textAlign:"right"}},"D"==e.tfd_flag&&Math.abs(e.tfd_amount)),n.a.createElement("td",{style:{textAlign:"right"}},"C"==e.tfd_flag&&Math.abs(e.tfd_amount)),Ct&&n.a.createElement(n.a.Fragment,null,n.a.createElement("td",null,e.tfd_cheque_no),n.a.createElement("td",null,e.cheque_date),n.a.createElement("td",null,e.tfd_cheque_bank_name)))))))),""!=ra?n.a.createElement(kr.a,{controlId:"floatingTextarea2",label:"Narration"},n.a.createElement(s.a.Control,{value:ta,maxLength:500,as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},onChange:e=>la(e.target.value),disabled:"Q"==ra})):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")))),n.a.createElement(bt,{logObject:Bt,show:Vt,onHide:()=>zt(!1)}),n.a.createElement(Ka,{isOpen:ze,onClose:e=>Qe(!1)},Ue),n.a.createElement(St,{isOpen:He,onYes:e=>(ca(""),H(!0),el(),_t(!1),Xe(!1),O({value:"BK",label:"Bank Book"}),f(""),M(null),ba(null),void ia(!1)),onNo:e=>Xe(!1)},$e),n.a.createElement(Dl,{logObject:It,show:xt,onHide:()=>At(!1)}),n.a.createElement("div",null,n.a.createElement(pt.a,{size:"lg",show:ft,onHide:()=>jt(!1),animation:!1,centered:!0},n.a.createElement(pt.a.Body,null,"E"===ra?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Reason",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{type:"text",placeholder:"Reason",maxLength:499,value:Tt,onChange:e=>We(e.target.value,Dt),autoComplete:"off",required:!0}))):null),n.a.createElement(pt.a.Footer,null,n.a.createElement(i.a,{variant:"outline-success",onClick:()=>void("E"===ra&&""===Tt?(jt(!1),Ke("Please fill Activity Remark!"),Qe(!0)):($t(),jt(!1)))},"Save")," ",n.a.createElement(i.a,{variant:"outline-success",onClick:()=>jt(!1)},"Cancel")))))};var Rr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=Object(l.useState)([]),[c,o]=Object(l.useState)(!1),[u,d]=Object(l.useState)(""),[p,b]=Object(l.useState)([]),h=sessionStorage.getItem("branchDisable"),[g,S]=Object(l.useState)(null),[y,O]=Object(l.useState)("PP"),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)(""),[j,T]=Object(l.useState)("");Object(l.useEffect)(()=>{xa().then(e=>{S(e),null!=e&&D(e)}),Ye(_,[a,"all","TRAN_KNOCKOFF_VIEW"],function(a){let t=JSON.parse(a);"1"===t.query?r(t):e("/")})},[]);const D=e=>{S(e);const t=e.id.split("^");T(t[1]),Ye("api/tran_knockoff_view_a.php",[a,"listKnockoffTypeList",t[1]],e=>{v(JSON.parse(e))})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Transaction Knockoff View"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:g,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:D,isDisabled:"true"===h}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Label,null,"Knockoff Type",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Select,{value:y,onChange:e=>{O(e.target.value)}},N.map((e,a)=>n.a.createElement("option",{value:e.tfd_knockoff_type,key:a},e.tfd_knockoff_type)))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"SrNo",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(s.a.Control,{type:"text",maxLength:10,value:C,onChange:e=>Ze(e.target.value,f)}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},"1"==t.query&&n.a.createElement(i.a,{style:{marginTop:"33px"},variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if(null===g||""===C)ct()(".loader").hide(),e[t++]=E("MSG0006"),e[t++]=null===g?"Select Location.":"",e[t++]=""===C?"Srno.":"",d(ja(e)),o(!0);else{const e={location:j,knockoffType:y,knockoffSrno:C};Ye("api/tran_knockoff_view_a.php",[a,"listKnockoffView",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);b(a)})}}}," List"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Et.a,{responsive:!0,bordered:!0,striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\xa0"),n.a.createElement("th",null,"Srno"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,p.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null),n.a.createElement("td",null,e.tfd_srno),n.a.createElement("td",null,e.tfd_type),n.a.createElement("td",null,e.tfd_date),n.a.createElement("td",null,e.tfd_amount))))))),n.a.createElement(Ka,{isOpen:c,onClose:e=>o(!1)},u))};var Fr=()=>{var e;const a=Object(m.n)(),t=null===(e=Object(m.l)().state)||void 0===e?void 0:e.dropdownType,r=sessionStorage.getItem("sessionId"),[c,o]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[u,d]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("D"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("O"),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)("G"),[w,A]=Object(l.useState)(!0),[I,M]=Object(l.useState)(!0),[R,F]=Object(l.useState)(!0);Object(l.useEffect)(()=>{c||(Ye(_,[r,"all","GLOBAL"===t?"REP_VALUATION_GLOBAL":"REP_VALUATION_LOCAL"],function(e){let t=JSON.parse(e);"1"===t.query?d(t):a("/")}),o(!0))},[c,r,a]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Report Valuation"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Level",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{disabled:!0,value:k,onChange:e=>x(e.target.value),required:!0},"GLOBAL"===t?n.a.createElement("option",{value:"G"},"Global"):n.a.createElement("option",{value:"L"},"Local")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Till Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:y,onChange:e=>O(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"LOCAL"===t||"GLOBAL"===t?n.a.createElement(n.a.Fragment,null,"LOCAL"===t?n.a.createElement(Xa.a,{className:"col-md-1 col-1"},n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"CN",checked:w,onChange:()=>A(!w)})):null,n.a.createElement(Xa.a,{className:"col-md-1 col-1"},n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"EVTM",checked:R,onChange:()=>F(!R)})),n.a.createElement(Xa.a,{className:"col-md-1 col-1"},n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"VTM",checked:I,onChange:()=>M(!I)}))," "):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],a=0;if("O"===j&&"0"===N||"S"==j&&C==[]||!1===w&&!1===I&&!1===R)e[a++]="O"==j&&"0"==N?"Please select location.":"",e[a++]="S"==j&&C==[]?"Please select atleast one location.":"",e[a++]=!1===w&&!1===I&&!1===R?"Please select atleast one CN/VTM/EVTM.":"",h(ja(e)),p(!0);else{const e={tillDate:Ea(g),type:y,radioTypeLocation:j,location:N,multipleLocation:C,tillDateDMY:pa(g),repLevel:"GLOBAL"===t?"G":"L",filterCN:"GLOBAL"!==t&&w,filterVTM:I,filterEVTM:R};"D"===y?Ca("api/valuation_a.php","post",[r,"valuationDownloadReport",JSON.stringify(e)],e=>{console.log("this is result ",e),ct()(".loader").hide(),h(ja([e])),p(!0)}):Ye("api/valuation_a.php",[r,"valuationViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Ka,{isOpen:E,onClose:e=>p(!1)},b),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Gr=()=>{var e;const a=Object(m.n)(),t=null===(e=Object(m.l)().state)||void 0===e?void 0:e.dropdownType,r=sessionStorage.getItem("sessionId"),[c,o]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[u,d]=Object(l.useState)([]),[E,p]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)("V"),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)("O"),[j,T]=Object(l.useState)("B"),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)("G"),[w,A]=Object(l.useState)(new Date),[I,M]=Object(l.useState)(new Date),[R,F]=Object(l.useState)("A"),[G,P]=Object(l.useState)(null),[J,B]=Object(l.useState)("D");Object(l.useEffect)(()=>{c||(Ye(_,[r,"all","GLOBAL"===t?"REP_VTM_PROFITABILITY_GLOBAL":"REP_VTM_PROFITABILITY_LOCAL"],function(e){let t=JSON.parse(e);"1"===t.query?d(t):a("/")}),o(!0))},[c,r,a]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Report VTM Profitability"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Level",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{disabled:!0,value:k,onChange:e=>x(e.target.value),required:!0},"GLOBAL"===t?n.a.createElement("option",{value:"G"},"Global"):n.a.createElement("option",{value:"L"},"Local")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:j,onChange:e=>T(e.target.value),required:!0},n.a.createElement("option",{value:"B"},"Both"),n.a.createElement("option",{value:"V"},"VTM"),n.a.createElement("option",{value:"E"},"EVTM")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer Options",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:R,onChange:e=>F(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===R?n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Issuer",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!0,defaultOptions:!0,value:G,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>Jt(e,"ISSUER",y),onInputChange:Mt,onChange:e=>{P(e)}}))):null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:w,onChange:e=>A(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Report Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:J,onChange:e=>B(e.target.value),required:!0},n.a.createElement("option",{value:"D"},"Detail"),n.a.createElement("option",{value:"S"},"Summary")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:g,onChange:e=>S(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{O(e),v(a),f(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],a=0;if("O"===C&&"0"===y||"S"==C&&N==[])e[a++]="O"==C&&"0"==y?"Please select location.":"",e[a++]="S"==C&&N==[]?"Please select atleast one location.":"",h(ja(e)),p(!0);else{const e={repLevel:"GLOBAL"===t?"G":"L",settlementType:j,issuerOption:R,selectedIssuer:G,fromDate:Ea(w),fromDateDMY:pa(w),toDate:Ea(I),toDateDMY:pa(I),type:g,radioTypeLocation:C,location:y,multipleLocation:N,filterReportType:J};"D"===g?Ca("api/vtm_profitability_a.php","post",[r,"vtmDownloadReport",JSON.stringify(e)],e=>{ct()(".loader").hide(),h(ja([e])),p(!0)}):Ye("api/vtm_profitability_a.php",[r,"vtmViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Ka,{isOpen:E,onClose:e=>p(!1)},b),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Pr=()=>{var e;const a=Object(m.n)(),t=(null===(e=Object(m.l)().state)||void 0===e||e.dropdownType,sessionStorage.getItem("sessionId")),[r,c]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[o,u]=Object(l.useState)([]),[d,E]=Object(l.useState)(!1),[b,h]=Object(l.useState)(""),[g,S]=Object(l.useState)("D"),[y,O]=Object(l.useState)(0),[N,v]=Object(l.useState)([]),[C,f]=Object(l.useState)("O"),[j,T]=Object(l.useState)(""),[D,L]=Object(l.useState)("G"),[k,x]=Object(l.useState)("0"),[w,A]=Object(l.useState)([]),[I,M]=Object(l.useState)(new Date),[R,F]=Object(l.useState)(new Date),[G,P]=Object(l.useState)("A"),[J,B]=Object(l.useState)("A"),[q,V]=Object(l.useState)("A"),[z,Q]=Object(l.useState)("PP");Object(l.useEffect)(()=>{r||(Ye(_,[t,"all","REPORT_GST"],function(e){let t=JSON.parse(e);"1"===t.query?u(t):a("/")}),c(!0))},[r,t,a]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Report GST"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:J,onChange:e=>B(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===J?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"State",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:w,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:e=>((e,a)=>{var t={sid:sessionStorage.getItem("sessionId"),type:"entitywisestate",srch:e,country:a};return It.a.create({baseURL:p,headers:{}}).get("?1="+JSON.stringify(t)).then(e=>JSON.parse(e.data))})(e,1),onInputChange:Mt,onChange:e=>{A(e);const a=e.id.split("^");x(a[1])}})))):null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Report Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:G,onChange:e=>P(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"T"},"Taxable"),n.a.createElement("option",{value:"E"},"Exempted")))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:q,onChange:e=>V(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"O"},"One")))),"O"===q?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Transaction Type  ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:z,onChange:e=>Q(e.target.value),required:!0},n.a.createElement("option",{value:"PP"},"Purchase Public"),n.a.createElement("option",{value:"SP"},"Sale Public"),n.a.createElement("option",{value:"PB"},"Purchase Bulk"),n.a.createElement("option",{value:"SB"},"Sale Bulk"))))):null),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:I,onChange:e=>M(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:R,onChange:e=>F(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:g,onChange:e=>S(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"),n.a.createElement("option",{value:"D"},"Download"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();const e={fromDate:Ea(I),toDate:Ea(R),stateCode:k,filterStateOption:J};"D"===g?Ca("api/rep_gst_a.php","post",[t,"repGstDownloadReport",JSON.stringify(e)],e=>{console.log("this is result ",e),ct()(".loader").hide(),h(ja([e])),E(!0)}):Ye("api/rep_gst_a.php",[t,"repGstViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Ka,{isOpen:d,onClose:e=>E(!1)},b),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Jr=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("O"),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)("A");Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","REPORTS_RBI_PURCHASE_STATEMENT"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Report RBI Purchase Statement"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Type",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:k,onChange:e=>x(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"CN"},"CN"),n.a.createElement("option",{value:"EVTM"},"VTM")))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Mode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:y,onChange:e=>O(e.target.value),required:!0},n.a.createElement("option",{value:"V"},"View"))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if("O"===j&&"0"===N||"S"==j&&0===C.length)e[t++]="O"==j&&"0"==N?"Please select location.":"",e[t++]="S"==j&&0===C.length?"Please select atleast one location.":"",ct()(".loader").hide(),p(ja(e)),d(!0);else{const e={fromDate:pa(b),toDate:pa(g),type:y,radioTypeLocation:j,location:N,multipleLocation:C,fromDateDMY:pa(b),toDateDMY:pa(g),cnVtm:k};"D"===y?Ca("api/rbi_purchase_a.php","post",[a,"rbiPurchaseDownloadReport",JSON.stringify(e)],e=>{ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("api/rbi_purchase_a.php",[a,"rbiPurchaseViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var Br=()=>{const e=Object(m.n)(),a=sessionStorage.getItem("sessionId"),[t,r]=(sessionStorage.getItem("branchDisable"),Object(l.useState)(!1)),[c,o]=Object(l.useState)([]),[u,d]=Object(l.useState)(!1),[E,p]=Object(l.useState)(""),[b,h]=Object(l.useState)(new Date),[g,S]=Object(l.useState)(new Date),[y,O]=Object(l.useState)("V"),[N,v]=Object(l.useState)(0),[C,f]=Object(l.useState)([]),[j,T]=Object(l.useState)("O"),[D,L]=Object(l.useState)(""),[k,x]=Object(l.useState)("A"),[w,A]=Object(l.useState)(!0),[I,M]=Object(l.useState)("A");Object(l.useEffect)(()=>{t||(Ye(_,[a,"all","REPORTS_RBI_TURNOVER_ADII"],function(a){let t=JSON.parse(a);"1"===t.query?o(t):e("/")}),r(!0))},[t,a,e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"Report RBI Turnover"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null," Card type ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Select,{value:I,onChange:e=>M(e.target.value),required:!0},n.a.createElement("option",{value:"A"},"All"),n.a.createElement("option",{value:"VTM"},"VTM"),n.a.createElement("option",{value:"EVTM"},"EVTM")))),n.a.createElement(Wa.a,null,n.a.createElement("h4",null,"Report Period")),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:b,onChange:e=>h(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To Date",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement("br",null),n.a.createElement(vl.a,{className:"form-control",selected:g,onChange:e=>S(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{size:"sm",type:"checkbox",label:"Show inter branch ",checked:w,onChange:()=>A(!w)}))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-6 col-6"},n.a.createElement(s.a.Label,null,"Location Filter"),n.a.createElement("br",null),n.a.createElement(xl,{onDataFromChild:(e,a,t)=>{v(e),f(a),T(t)}}))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>{ct()(".loader").show();var e=[],t=0;if("O"===j&&"0"===N||"S"===j&&0===C.length)e[t++]="O"===j&&"0"==N?"Please select location.":"",e[t++]="S"===j&&0===C.length?"Please select atleast one location.":"",ct()(".loader").hide(),p(ja(e)),d(!0);else{const e={fromDate:pa(b),toDate:pa(g),type:y,radioTypeLocation:j,location:N,multipleLocation:C,fromDateDMY:pa(b),toDateDMY:pa(g),filterInterbranch:w,cardType:I};"D"===y?Ca("api/rbi_turnover_a.php","post",[a,"rbiTurnoverDownloadReport",JSON.stringify(e)],e=>{ct()(".loader").hide(),p(ja([e])),d(!0)}):Ye("api/rbi_turnover_a.php",[a,"rbiTurnoverViewReport",JSON.stringify(e)],e=>{window.open().document.write(e),ct()(".loader").hide()})}}},"Generate"))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(Ka,{isOpen:u,onClose:e=>d(!1)},E),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"))};var qr=function(){var e,a,t,r,c,o,u,d,p,b,h,g,S,y,O,N,v,C,f,j,T,D,L,k,x,w,A,I,M,R,F,G,P,J,B,q,V,z,Q,U,Y;const K=Object(m.n)(),H=sessionStorage.getItem("sessionId"),W=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),sessionStorage.getItem("branchDisable")),[X,Z]=Object(l.useState)("INFO"),[$,ee]=Object(l.useState)([]),[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(!1),[oe,me]=Object(l.useState)(""),[ue,ie]=Object(l.useState)(!1),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(!1),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)([]),[Oe,Ne]=Object(l.useState)([]),[ve,_e]=Object(l.useState)([]),[fe,je]=Object(l.useState)("S"),[Te,De]=Object(l.useState)(null),[Le,ke]=Object(l.useState)("0"),[xe,we]=Object(l.useState)(""),[Ae,Ie]=Object(l.useState)(""),[Me,Re]=Object(l.useState)(""),[Fe,Ge]=Object(l.useState)(new Date),[Pe,Je]=Object(l.useState)(new Date),[Be,qe]=Object(l.useState)(""),[Ve,ze]=Object(l.useState)(new Date),[Qe,Ue]=Object(l.useState)(""),[Ke,He]=Object(l.useState)(0),[We,Xe]=Object(l.useState)(0),[$e,ea]=Object(l.useState)([]),[aa,ta]=Object(l.useState)(!1),[la,na]=Object(l.useState)(0),[ra,ca]=Object(l.useState)(""),[oa,ma]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(!1),[ia,da]=Object(l.useState)({location:"",trannumber:"",type:""});Object(l.useEffect)(()=>{ae||(xa().then(e=>{De(e),null!=e&&pa(e)}),Ye(_,[H,"all","TRAN_TT_SETTLEMENT"],function(e){let a=JSON.parse(e);"1"===a.query?ee(a):K("/")}),te(!0))},[ae,H,K]);const pa=e=>{De(e);const a=e.id.split("^");ke(a[1]),we(a[2]),sessionStorage.activeBranch=a[1],ye([])},ba=()=>{ce(!1),ne("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"TT Settlement"))),n.a.createElement(Wa.a,null,"\xa0"),""===le?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Te,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:pa,isDisabled:"true"===W}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===fe,onChange:()=>je("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===fe,onChange:()=>je("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"S"===fe?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ae,maxLength:20,onChange:e=>Ze(e.target.value,Ie),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Me,maxLength:20,onChange:e=>Ze(e.target.value,Re),placeholder:"To"})))):"D"===fe?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Fe,onChange:e=>Ge(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Pe,onChange:e=>Je(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===$.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],a=0;if(null===Te)ct()(".loader").hide(),Ee("Please Select Location!"),ie(!0);else if("S"===fe&&!Ae||"S"===fe&&!Me||"D"===fe&&!Fe||"D"===fe&&!Pe)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]="S"!==fe||Ae?"":" From.",e[a++]="S"!==fe||Me?"":" To.",e[a++]="D"!==fe||Fe?"":" From Date.",e[a++]="D"!==fe||Pe?"":" To Date.",Ee(ja(e)),ie(!0);else{const e={locationCode:Le,filterRadioType:fe,filterFromSrno:Ae,filterToSrno:Me,filterFromDate:Ea(Fe),filterToDate:Ea(Pe),type:"TT"};Ye(Ce,[H,"list",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);a.status?ye(a.list):(ce(!0),ne(a.msg))})}})()},"List"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===$.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Ref no"),n.a.createElement("th",null,"Remitter Name"),n.a.createElement("th",null,"Pan No"))),n.a.createElement("tbody",null,Se.map((e,a)=>n.a.createElement("tr",{key:a},"1"===$.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(function(e){ct()(".loader").show(),ne("Q"),ze(e.hdr_date),ca(e.hdr_type),na(e.hdr_srno),ma(e.hdr_location),Xe(Math.round(e.forex_amount)),He(Math.round(e.hdr_forex_total));const a={srno:e.hdr_srno,location:e.hdr_location,type:"TT"};Ye(Ce,[H,"view",JSON.stringify(a)],e=>{ct()(".loader").hide();let a=JSON.parse(e);Ne(a.productData),_e(a.paymentData)})})(e)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_forex_total),n.a.createElement("td",null,e.hdr_refno),n.a.createElement("td",null,e.hdr_remittername),n.a.createElement("td",null,e.hdr_pan)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>ba()},"Back")," "," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(sa(!0),void da({location:oa,trannumber:la,type:ra}))},"fA View"),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){const e={pType:"TT",type:ra,location:oa,srno:la,nCorporate:null,nDealer:null,printFlag:"D"};Ye(se,[H,"print",JSON.stringify(e)],e=>{e&&window.open().document.write(e)})})()},"Print"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Srno:")," ",la)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location:")," ",xe)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date:")," ",Ve)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Forex Amount: "),Ke)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Total Amount:")," ",We))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{justifyContent:"space-evenly"}},n.a.createElement("span",null," ",n.a.createElement("b",null,"GST : "),null===(e=Oe[0])||void 0===e?void 0:e.hdr_gst),n.a.createElement("span",null," ",n.a.createElement("b",null,"SGST : "),null===(a=Oe[0])||void 0===a?void 0:a.hdr_sgst),n.a.createElement("span",null," ",n.a.createElement("b",null,"IGST : "),null===(t=Oe[0])||void 0===t?void 0:t.hdr_igst),n.a.createElement("span",null," ",n.a.createElement("b",null,"CGST : "),null===(r=Oe[0])||void 0===r?void 0:r.hdr_cgst),n.a.createElement("span",null," ",n.a.createElement("b",null,"UGST : "),null===(c=Oe[0])||void 0===c?void 0:c.hdr_ugst),n.a.createElement("span",null," ",n.a.createElement("b",null,"TCS : "),null===(o=Oe[0])||void 0===o?void 0:o.hdr_tcs),n.a.createElement("span",null," ",n.a.createElement("b",null,"Round Off : "),null===(u=Oe[0])||void 0===u?void 0:u.hdr_roundoff),n.a.createElement("span",null," ",n.a.createElement("b",null,"Bank Charges : "),null===(d=Oe[0])||void 0===d?void 0:d.hdr_bankcharges),n.a.createElement("span",null,n.a.createElement("b",null,"Nostro Charges : "),null===(p=Oe[0])||void 0===p?void 0:p.hdr_nostrocharges),n.a.createElement("br",null))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:X,defaultActiveKey:"INFO",onSelect:e=>(e=>{Z(e)})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"All Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No : ",null===(b=Oe[0])||void 0===b?void 0:b.hdr_refno))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual : ",null===(h=Oe[0])||void 0===h?void 0:h.hdr_individual))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Id : ",null===(g=Oe[0])||void 0===g?void 0:g.hdr_individual_id))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive : ",null===(S=Oe[0])||void 0===S?void 0:S.hdr_executive))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IBan Number : ",null===(y=Oe[0])||void 0===y?void 0:y.hdr_iban_no))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Name On Pan : ",null===(O=Oe[0])||void 0===O?void 0:O.hdr_pan))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Name On Pan : ",null===(N=Oe[0])||void 0===N?void 0:N.hdr_nameonpan))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nostro Type : ",null===(v=Oe[0])||void 0===v?void 0:v.hdr_nostrotype))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Pan Relation : ",null===(C=Oe[0])||void 0===C?void 0:C.hdr_pan_relation))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purpose : ",null===(f=Oe[0])||void 0===f?void 0:f.purpose_name))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remitter Name : ",null===(j=Oe[0])||void 0===j?void 0:j.hdr_remittername))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place of Supply : ",null===(T=Oe[0])||void 0===T?void 0:T.hdr_supply_place))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Source Of Fund : ","L"===(null===(D=Oe[0])||void 0===D?void 0:D.hdr_sourceoffund)?"Loan":"Other"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product Type : ",null===(L=Oe[0])||void 0===L?void 0:L.prd_product)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Remmiter Details"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Date Of Birth"),n.a.createElement("th",null,"Id Type"),n.a.createElement("th",null,"Id No "),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Address"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:0},n.a.createElement("td",null,null===(k=Oe[0])||void 0===k?void 0:k.hdr_remittername),n.a.createElement("td",null,null===(x=Oe[0])||void 0===x?void 0:x.hdr_remitterdob),n.a.createElement("td",null,null===(w=Oe[0])||void 0===w?void 0:w.hdr_remitteridtype),n.a.createElement("td",null,null===(A=Oe[0])||void 0===A?void 0:A.hdr_remitteridno),n.a.createElement("td",null,null===(I=Oe[0])||void 0===I?void 0:I.hdr_remittertype),n.a.createElement("td",null,null===(M=Oe[0])||void 0===M?void 0:M.hdr_remitteraddress))))))),n.a.createElement(xt.a,{eventKey:"BENE",title:"Beneficiary Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Beneficiary Details"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Swift Code"),n.a.createElement("th",null,"Address"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:0},n.a.createElement("td",null,null===(R=Oe[0])||void 0===R?void 0:R.hdr_benename),n.a.createElement("td",null,null===(F=Oe[0])||void 0===F?void 0:F.hdr_benebankacct),n.a.createElement("td",null,null===(G=Oe[0])||void 0===G?void 0:G.hdr_benebank),n.a.createElement("td",null,null===(P=Oe[0])||void 0===P?void 0:P.hdr_beneswiftcode),n.a.createElement("td",null,null===(J=Oe[0])||void 0===J?void 0:J.hdr_beneadd)))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Loan Details"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Pan"),n.a.createElement("th",null,"Passport"),n.a.createElement("th",null,"Co Applicant Name"),n.a.createElement("th",null,"Co Applicant Pan"),n.a.createElement("th",null,"Co Applicant Passport"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:0},n.a.createElement("td",null,null===(B=Oe[0])||void 0===B?void 0:B.hdr_loanaccountno),n.a.createElement("td",null,null===(q=Oe[0])||void 0===q?void 0:q.hdr_loanapplicant),n.a.createElement("td",null,null===(V=Oe[0])||void 0===V?void 0:V.hdr_loanapplicantpan),n.a.createElement("td",null,null===(z=Oe[0])||void 0===z?void 0:z.hdr_loanapplicantpassport),n.a.createElement("td",null,null===(Q=Oe[0])||void 0===Q?void 0:Q.hdr_loancoapplicant),n.a.createElement("td",null,null===(U=Oe[0])||void 0===U?void 0:U.hdr_loancoapplicantpan),n.a.createElement("td",null,null===(Y=Oe[0])||void 0===Y?void 0:Y.hdr_loancoapplicantpassport))))))),n.a.createElement(xt.a,{eventKey:"PRODUCTDETAILS",title:"Product Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Oe.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.prd_date),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(xt.a,{eventKey:"PAYMENTDETAILS",title:"Payment Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,ve.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,"RC"===e.tp_payment_type?"Receivables":"PB"===e.tp_payment_type?"Payables":"BN"===e.tp_payment_type?"Bank":e.tp_payment_type),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,ve.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,"RC"===e.tp_payment_type?"Receivables":"PB"===e.tp_payment_type?"Payables":"BN"===e.tp_payment_type?"Bank":e.tp_payment_type),n.a.createElement("td",null,e.tp_amount))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:ue,onClose:e=>ie(!1)},de),n.a.createElement(St,{isOpen:re,onYes:e=>ba(),onNo:e=>ce(!1)},oe),n.a.createElement(Ka,{isOpen:pe,onClose:e=>be(!1)},he)),n.a.createElement(Gl,{faViewObject:ia,show:ua,onHide:()=>sa(!1)}),n.a.createElement("div",null))};var Vr=function(){var e,a,t,r,c,o,u,d,p,b,h,g,S,y,O,N,v,C,f,j,T,D,L,k,x,w,A,I,M,R,F,G,P,J,B,q,V,z,Q,U,Y;const K=Object(m.n)(),H=sessionStorage.getItem("sessionId"),W=(sessionStorage.getItem("startDate"),sessionStorage.getItem("endDate"),sessionStorage.getItem("branchDisable")),[X,Z]=Object(l.useState)("INFO"),[$,ee]=Object(l.useState)([]),[ae,te]=Object(l.useState)(!1),[le,ne]=Object(l.useState)(""),[re,ce]=Object(l.useState)(!1),[oe,me]=Object(l.useState)(""),[ue,ie]=Object(l.useState)(!1),[de,Ee]=Object(l.useState)(""),[pe,be]=Object(l.useState)(!1),[he,ge]=Object(l.useState)(""),[Se,ye]=Object(l.useState)([]),[Oe,Ne]=Object(l.useState)([]),[ve,_e]=Object(l.useState)([]),[fe,je]=Object(l.useState)("S"),[Te,De]=Object(l.useState)(null),[Le,ke]=Object(l.useState)("0"),[xe,we]=Object(l.useState)(""),[Ae,Ie]=Object(l.useState)(""),[Me,Re]=Object(l.useState)(""),[Fe,Ge]=Object(l.useState)(new Date),[Pe,Je]=Object(l.useState)(new Date),[Be,qe]=Object(l.useState)(""),[Ve,ze]=Object(l.useState)(new Date),[Qe,Ue]=Object(l.useState)(""),[Ke,He]=Object(l.useState)(0),[We,Xe]=Object(l.useState)(0),[$e,ea]=Object(l.useState)([]),[aa,ta]=Object(l.useState)(!1),[la,na]=Object(l.useState)(0),[ra,ca]=Object(l.useState)(""),[oa,ma]=Object(l.useState)(""),[ua,sa]=Object(l.useState)(!1),[ia,da]=Object(l.useState)({location:"",trannumber:"",type:""});Object(l.useEffect)(()=>{ae||(xa().then(e=>{De(e),null!=e&&pa(e)}),Ye(_,[H,"all","TRAN_TT_SETTLEMENT"],function(e){let a=JSON.parse(e);"1"===a.query?ee(a):K("/")}),te(!0))},[ae,H,K]);const pa=e=>{De(e);const a=e.id.split("^");ke(a[1]),we(a[2]),sessionStorage.activeBranch=a[1],ye([])},ba=()=>{ce(!1),ne("")};return n.a.createElement(n.a.Fragment,null,n.a.createElement(at,null),n.a.createElement(nt,null),n.a.createElement(Ha.a,{fluid:!0},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h3",null,"TT "))),n.a.createElement(Wa.a,null,"\xa0"),""===le?n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Location",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(wt.a,{cacheOptions:!1,defaultOptions:!1,value:Te,getOptionLabel:e=>e.label+" ",getOptionValue:e=>e.id,loadOptions:Rt,onInputChange:Mt,onChange:pa,isDisabled:"true"===W}))),n.a.createElement(Xa.a,{className:"col-md-4 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(Wa.a,{style:{marginTop:"30px"}},n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"S"===fe,onChange:()=>je("S"),type:"radio",label:"SrNo"})),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Check,{checked:"D"===fe,onChange:()=>je("D"),type:"radio",label:"Date"})))))),n.a.createElement(Wa.a,null,"S"===fe?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Ae,maxLength:20,onChange:e=>Ze(e.target.value,Ie),placeholder:"From"}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement(s.a.Control,{value:Me,maxLength:20,onChange:e=>Ze(e.target.value,Re),placeholder:"To"})))):"D"===fe?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"From",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Fe,onChange:e=>Ge(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})}))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"To",n.a.createElement("span",{className:"colorThemeRed"},"*")),n.a.createElement(vl.a,{className:"form-control",selected:Pe,onChange:e=>Je(e),dateFormat:"dd/MM/yyyy",showYearDropdown:!0,showMonthDropdown:!0,useShortMonthInDropdown:!0,dropdownMode:"select",peekNextMonth:!0,customInput:n.a.createElement("input",{type:"text",size:"sm",onKeyUp:e=>fa(e.target.value,e.target)})})))):null),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,"1"===$.query?n.a.createElement(i.a,{variant:"outline-primary",className:"buttonStyle",size:"sm",onClick:()=>(()=>{ct()(".loader").show();var e=[],a=0;if(null===Te)ct()(".loader").hide(),Ee("Please Select Location!"),ie(!0);else if("S"===fe&&!Ae||"S"===fe&&!Me||"D"===fe&&!Fe||"D"===fe&&!Pe)ct()(".loader").hide(),e[a++]=E("MSG0006"),e[a++]="S"!==fe||Ae?"":" From.",e[a++]="S"!==fe||Me?"":" To.",e[a++]="D"!==fe||Fe?"":" From Date.",e[a++]="D"!==fe||Pe?"":" To Date.",Ee(ja(e)),ie(!0);else{const e={locationCode:Le,filterRadioType:fe,filterFromSrno:Ae,filterToSrno:Me,filterFromDate:Ea(Fe),filterToDate:Ea(Pe),type:"TT"};Ye(Ce,[H,"list",JSON.stringify(e)],e=>{ct()(".loader").hide();let a=JSON.parse(e);a.status?ye(a.list):(ce(!0),ne(a.msg))})}})()},"List"):null)),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,"1"===$.edit?n.a.createElement("th",null):null,n.a.createElement("th",null,"Sr No"),n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Ref no"),n.a.createElement("th",null,"Remitter Name"),n.a.createElement("th",null,"Pan No"))),n.a.createElement("tbody",null,Se.map((e,a)=>n.a.createElement("tr",{key:a},"1"===$.edit?n.a.createElement("td",{className:"textCenter"},n.a.createElement("span",{className:"handCursor colorThemeBlue",onClick:()=>(function(e){ct()(".loader").show(),ne("Q"),ze(e.hdr_date),ca(e.hdr_type),na(e.hdr_srno),ma(e.hdr_location),Xe(Math.round(e.forex_amount)),He(Math.round(e.hdr_forex_total));const a={srno:e.hdr_srno,location:e.hdr_location,type:"TT"};Ye(Ce,[H,"view",JSON.stringify(a)],e=>{ct()(".loader").hide();let a=JSON.parse(e);Ne(a.productData),_e(a.paymentData)})})(e)},n.a.createElement(za.a,{icon:Qa.f}))):null,n.a.createElement("td",null,e.hdr_srno),n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.hdr_date),n.a.createElement("td",null,e.hdr_forex_total),n.a.createElement("td",null,e.hdr_refno),n.a.createElement("td",null,e.hdr_remittername),n.a.createElement("td",null,e.hdr_pan)))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(i.a,{variant:"outline-danger",className:"buttonStyle",size:"sm",onClick:()=>ba()},"Back")," "," ",n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(sa(!0),void da({location:oa,trannumber:la,type:ra}))},"fA View"),n.a.createElement(i.a,{variant:"outline-success",className:"buttonStyle",size:"sm",onClick:()=>(function(){const e={pType:"TT",type:ra,location:oa,srno:la,nCorporate:null,nDealer:null,printFlag:"D"};Ye(se,[H,"print",JSON.stringify(e)],e=>{e&&window.open().document.write(e)})})()},"Print"))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Srno:")," ",la)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Location:")," ",xe)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Date:")," ",Ve)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Forex Amount: "),Ke)),n.a.createElement(Xa.a,null,n.a.createElement(s.a.Label,null,n.a.createElement("b",null,"Total Amount:")," ",We))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{style:{justifyContent:"space-evenly"}},n.a.createElement("span",null," ",n.a.createElement("b",null,"GST : "),null===(e=Oe[0])||void 0===e?void 0:e.hdr_gst),n.a.createElement("span",null," ",n.a.createElement("b",null,"SGST : "),null===(a=Oe[0])||void 0===a?void 0:a.hdr_sgst),n.a.createElement("span",null," ",n.a.createElement("b",null,"IGST : "),null===(t=Oe[0])||void 0===t?void 0:t.hdr_igst),n.a.createElement("span",null," ",n.a.createElement("b",null,"CGST : "),null===(r=Oe[0])||void 0===r?void 0:r.hdr_cgst),n.a.createElement("span",null," ",n.a.createElement("b",null,"UGST : "),null===(c=Oe[0])||void 0===c?void 0:c.hdr_ugst),n.a.createElement("span",null," ",n.a.createElement("b",null,"TCS : "),null===(o=Oe[0])||void 0===o?void 0:o.hdr_tcs),n.a.createElement("span",null," ",n.a.createElement("b",null,"Round Off : "),null===(u=Oe[0])||void 0===u?void 0:u.hdr_roundoff),n.a.createElement("span",null," ",n.a.createElement("b",null,"Bank Charges : "),null===(d=Oe[0])||void 0===d?void 0:d.hdr_bankcharges),n.a.createElement("span",null,n.a.createElement("b",null,"Nostro Charges : "),null===(p=Oe[0])||void 0===p?void 0:p.hdr_nostrocharges),n.a.createElement("br",null))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(kt.a,{activeKey:X,defaultActiveKey:"INFO",onSelect:e=>(e=>{Z(e)})(e)},n.a.createElement(xt.a,{eventKey:"INFO",title:"All Info"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Ref No : ",null===(b=Oe[0])||void 0===b?void 0:b.hdr_refno))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual : ",null===(h=Oe[0])||void 0===h?void 0:h.hdr_individual))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Individual Id : ",null===(g=Oe[0])||void 0===g?void 0:g.hdr_individual_id))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Executive : ",null===(S=Oe[0])||void 0===S?void 0:S.hdr_executive))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"IBan Number : ",null===(y=Oe[0])||void 0===y?void 0:y.hdr_iban_no))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Name On Pan : ",null===(O=Oe[0])||void 0===O?void 0:O.hdr_pan))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Name On Pan : ",null===(N=Oe[0])||void 0===N?void 0:N.hdr_nameonpan))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Nostro Type : ",null===(v=Oe[0])||void 0===v?void 0:v.hdr_nostrotype))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Pan Relation : ",null===(C=Oe[0])||void 0===C?void 0:C.hdr_pan_relation))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Purpose : ",null===(f=Oe[0])||void 0===f?void 0:f.purpose_name))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Remitter Name : ",null===(j=Oe[0])||void 0===j?void 0:j.hdr_remittername))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Place of Supply : ",null===(T=Oe[0])||void 0===T?void 0:T.hdr_supply_place))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Source Of Fund : ","L"===(null===(D=Oe[0])||void 0===D?void 0:D.hdr_sourceoffund)?"Loan":"Other"))),n.a.createElement(Xa.a,{className:"col-md-3 col-6"},n.a.createElement(s.a.Group,null,n.a.createElement(s.a.Label,null,"Product Type : ",null===(L=Oe[0])||void 0===L?void 0:L.prd_product)))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Remmiter Details"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Date Of Birth"),n.a.createElement("th",null,"Id Type"),n.a.createElement("th",null,"Id No "),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Address"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:0},n.a.createElement("td",null,null===(k=Oe[0])||void 0===k?void 0:k.hdr_remittername),n.a.createElement("td",null,null===(x=Oe[0])||void 0===x?void 0:x.hdr_remitterdob),n.a.createElement("td",null,null===(w=Oe[0])||void 0===w?void 0:w.hdr_remitteridtype),n.a.createElement("td",null,null===(A=Oe[0])||void 0===A?void 0:A.hdr_remitteridno),n.a.createElement("td",null,null===(I=Oe[0])||void 0===I?void 0:I.hdr_remittertype),n.a.createElement("td",null,null===(M=Oe[0])||void 0===M?void 0:M.hdr_remitteraddress))))))),n.a.createElement(xt.a,{eventKey:"BENE",title:"Beneficiary Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Beneficiary Details"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"Bank"),n.a.createElement("th",null,"Swift Code"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Address"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:0},n.a.createElement("td",null,null===(R=Oe[0])||void 0===R?void 0:R.hdr_benename),n.a.createElement("td",null,null===(F=Oe[0])||void 0===F?void 0:F.hdr_benebankacct),n.a.createElement("td",null,null===(G=Oe[0])||void 0===G?void 0:G.hdr_benebank),n.a.createElement("td",null,null===(P=Oe[0])||void 0===P?void 0:P.hdr_beneswiftcode),n.a.createElement("td",null,null===(J=Oe[0])||void 0===J?void 0:J.hdr_beneadd)))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Loan Details"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Account Number"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Pan"),n.a.createElement("th",null,"Passport"),n.a.createElement("th",null,"Co Applicant Name"),n.a.createElement("th",null,"Co Applicant Pan"),n.a.createElement("th",null,"Co Applicant Passport"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:0},n.a.createElement("td",null,null===(B=Oe[0])||void 0===B?void 0:B.hdr_loanaccountno),n.a.createElement("td",null,null===(q=Oe[0])||void 0===q?void 0:q.hdr_loanapplicant),n.a.createElement("td",null,null===(V=Oe[0])||void 0===V?void 0:V.hdr_loanapplicantpan),n.a.createElement("td",null,null===(z=Oe[0])||void 0===z?void 0:z.hdr_loanapplicantpassport),n.a.createElement("td",null,null===(Q=Oe[0])||void 0===Q?void 0:Q.hdr_loancoapplicant),n.a.createElement("td",null,null===(U=Oe[0])||void 0===U?void 0:U.hdr_loancoapplicantpan),n.a.createElement("td",null,null===(Y=Oe[0])||void 0===Y?void 0:Y.hdr_loancoapplicantpassport))))))),n.a.createElement(xt.a,{eventKey:"PRODUCTDETAILS",title:"Product Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement("h4",null,"Product Info"))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"ISD"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Product"),n.a.createElement("th",null,"Denomination"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Rate"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,Oe.map((e,a)=>n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.isd),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,e.prd_date),n.a.createElement("td",null,e.prd_product),n.a.createElement("td",null,e.prd_deno),n.a.createElement("td",null,e.prd_qty),n.a.createElement("td",null,e.prd_rate),n.a.createElement("td",null,e.prd_amount))))))),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement(xt.a,{eventKey:"PAYMENTDETAILS",title:"Payment Details"},n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,ve.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,"RC"===e.tp_payment_type?"Receivables":"PB"===e.tp_payment_type?"Payables":"BN"===e.tp_payment_type?"Bank":e.tp_payment_type),n.a.createElement("td",null,e.tp_amount)))))))),n.a.createElement(Wa.a,null,n.a.createElement(Xa.a,null,n.a.createElement(Et.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Location"),n.a.createElement("th",null,"Ledger"),n.a.createElement("th",null,"Payment Type"),n.a.createElement("th",null,"Amount"))),n.a.createElement("tbody",null,ve.map(e=>n.a.createElement("tr",{key:e.tp_line_no},n.a.createElement("td",null,e.entity_name),n.a.createElement("td",null,e.ledger),n.a.createElement("td",null,"RC"===e.tp_payment_type?"Receivables":"PB"===e.tp_payment_type?"Payables":"BN"===e.tp_payment_type?"Bank":e.tp_payment_type),n.a.createElement("td",null,e.tp_amount))))))))),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0"),n.a.createElement(Wa.a,null,"\xa0")),n.a.createElement("div",null,n.a.createElement(Ka,{isOpen:ue,onClose:e=>ie(!1)},de),n.a.createElement(St,{isOpen:re,onYes:e=>ba(),onNo:e=>ce(!1)},oe),n.a.createElement(Ka,{isOpen:pe,onClose:e=>be(!1)},he)),n.a.createElement(Gl,{faViewObject:ia,show:ua,onHide:()=>sa(!1)}),n.a.createElement("div",null))};let zr={position:"fixed",bottom:"0",width:"100%",backgroundColor:"#00A1E4",color:"#ffffff"};var Qr=function(){return n.a.createElement("div",null,n.a.createElement(m.c,null,n.a.createElement(m.a,{exact:!0,path:"/",element:n.a.createElement(dt,null)}),n.a.createElement(m.a,{exact:!0,path:"*",element:n.a.createElement(dt,null)}),n.a.createElement(m.a,{exact:!0,path:"/login",element:n.a.createElement(dt,null)}),n.a.createElement(m.a,{exact:!0,path:"/home",element:n.a.createElement(ut,null)}),n.a.createElement(m.a,{exact:!0,path:"/user-list",element:n.a.createElement(Sl,null)}),n.a.createElement(m.a,{exact:!0,path:"/right-list",element:n.a.createElement(Ct,null)}),n.a.createElement(m.a,{exact:!0,path:"/changepassword",element:n.a.createElement(mt,null)}),n.a.createElement(m.a,{exact:!0,path:"/country-list",element:n.a.createElement(Ot,null)}),n.a.createElement(m.a,{exact:!0,path:"/city-list",element:n.a.createElement(yt,null)}),n.a.createElement(m.a,{exact:!0,path:"/state-list",element:n.a.createElement(Lt,null)}),n.a.createElement(m.a,{exact:!0,path:"/issuer-list",element:n.a.createElement(jt,null)}),n.a.createElement(m.a,{exact:!0,path:"/purpose-list",element:n.a.createElement(Tt,null)}),n.a.createElement(m.a,{exact:!0,path:"/isd-list",element:n.a.createElement(ft,null)}),n.a.createElement(m.a,{exact:!0,path:"/id-type",element:n.a.createElement(_t,null)}),n.a.createElement(m.a,{exact:!0,path:"/dealer-list",element:n.a.createElement(Nt,null)}),n.a.createElement(m.a,{exact:!0,path:"/voucher-group",element:n.a.createElement(yl,null)}),n.a.createElement(m.a,{exact:!0,path:"/voucher-ledger",element:n.a.createElement(Tl,null)}),n.a.createElement(m.a,{exact:!0,path:"/region-list",element:n.a.createElement(Dt,null)}),n.a.createElement(m.a,{exact:!0,path:"/country-class",element:n.a.createElement(Ql,null)}),n.a.createElement(m.a,{exact:!0,path:"/division-list",element:n.a.createElement(sn,null)}),n.a.createElement(m.a,{exact:!0,path:"/risk-list",element:n.a.createElement(nn,null)}),n.a.createElement(m.a,{exact:!0,path:"/business-nature",element:n.a.createElement(Vl,null)}),n.a.createElement(m.a,{exact:!0,path:"/legal-entity",element:n.a.createElement(en,null)}),n.a.createElement(m.a,{exact:!0,path:"/district-list",element:n.a.createElement(Yl,null)}),n.a.createElement(m.a,{exact:!0,path:"/cost-center",element:n.a.createElement(zl,null)}),n.a.createElement(m.a,{exact:!0,path:"/gst-classification",element:n.a.createElement(Xl,null)}),n.a.createElement(m.a,{exact:!0,path:"/msme",element:n.a.createElement(tn,null)}),n.a.createElement(m.a,{exact:!0,path:"/designation",element:n.a.createElement(Ul,null)}),n.a.createElement(m.a,{exact:!0,path:"/executive",element:n.a.createElement(Wl,null)}),n.a.createElement(m.a,{exact:!0,path:"/voucher-type",element:n.a.createElement(un,null)}),n.a.createElement(m.a,{path:"/purchase-from-public",element:n.a.createElement(sr,null)}),n.a.createElement(m.a,{exact:!0,path:"/individual-profile",element:n.a.createElement(Zl,null)}),n.a.createElement(m.a,{exact:!0,path:"/group-doc",element:n.a.createElement(mn,null)}),n.a.createElement(m.a,{exact:!0,path:"/financial-year",element:n.a.createElement(kl,null)}),n.a.createElement(m.a,{exact:!0,path:"/sampleform",element:n.a.createElement(cn,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-trial",element:n.a.createElement(Lr,null)}),n.a.createElement(m.a,{exact:!0,path:"/residential-status",element:n.a.createElement(ln,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-cmrcmp",element:n.a.createElement(Xn,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-currency-stock",element:n.a.createElement(Un,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-vtc",element:n.a.createElement(tr,null)}),n.a.createElement(m.a,{exact:!0,path:"/opn-bank-statement",element:n.a.createElement(Bn,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-tc",element:n.a.createElement(er,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-etc",element:n.a.createElement(Zn,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-encashment",element:n.a.createElement(yr,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-opn-evtm",element:n.a.createElement($n,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-encashment",element:n.a.createElement(yr,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-settlement",element:n.a.createElement(lr,null)}),n.a.createElement(m.a,{exact:!0,path:"/source-of-fund",element:n.a.createElement(Sn,null)}),n.a.createElement(m.a,{exact:!0,path:"/master_visa_type",element:n.a.createElement(yn,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-book-in",element:n.a.createElement(Ll,null)}),n.a.createElement(m.a,{exact:!0,path:"/tc-settlement",element:n.a.createElement(ar,null)}),n.a.createElement(m.a,{exact:!0,path:"/fa-book-entry",element:n.a.createElement(Mr,null)}),n.a.createElement(m.a,{exact:!0,path:"/purchase-bulk",element:n.a.createElement(rr,null)}),n.a.createElement(m.a,{exact:!0,path:"/sale-public",element:n.a.createElement(Er,null)}),n.a.createElement(m.a,{exact:!0,path:"/transfer-vtc",element:n.a.createElement(gr,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-deposit",element:n.a.createElement(Pl,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-book-out",element:n.a.createElement(Ml,null)}),n.a.createElement(m.a,{exact:!0,path:"/received-cheque-bounce",element:n.a.createElement(Bl,null)}),n.a.createElement(m.a,{exact:!0,path:"/issue-cheque-bounce",element:n.a.createElement(Jl,null)}),n.a.createElement(m.a,{exact:!0,path:"/bank-reconciliation",element:n.a.createElement(Fl,null)}),n.a.createElement(m.a,{exact:!0,path:"/manual-book",element:n.a.createElement(pr,null)}),n.a.createElement(m.a,{exact:!0,path:"/ledger",element:n.a.createElement(gn,null)}),n.a.createElement(m.a,{exact:!0,path:"/testing",element:n.a.createElement(Al,null)}),n.a.createElement(m.a,{exact:!0,path:"/sale-bulk",element:n.a.createElement(ir,null)}),n.a.createElement(m.a,{exact:!0,path:"/trial-balance",element:n.a.createElement(Nn,null)}),n.a.createElement(m.a,{exact:!0,path:"/out-vtc",element:n.a.createElement(hr,null)}),n.a.createElement(m.a,{exact:!0,path:"/out-currency",element:n.a.createElement(br,null)}),n.a.createElement(m.a,{exact:!0,path:"/accept-interbranch",element:n.a.createElement(In,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-fin-recv-bill-wise-detail",element:n.a.createElement(On,null)}),n.a.createElement(m.a,{exact:!0,path:"/ledger-link",element:n.a.createElement($l,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-in-hand-report",element:n.a.createElement(hn,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-used-report",element:n.a.createElement(bn,null)}),n.a.createElement(m.a,{exact:!0,path:"/ib-entry",element:n.a.createElement(xr,null)}),n.a.createElement(m.a,{exact:!0,path:"/margin",element:n.a.createElement(an,null)}),n.a.createElement(m.a,{exact:!0,path:"/ibr",element:n.a.createElement(ql,null)}),n.a.createElement(m.a,{exact:!0,path:"/data-unlock",element:n.a.createElement(Kn,null)}),n.a.createElement(m.a,{exact:!0,path:"/transaction-report",element:n.a.createElement(Ln,null)}),n.a.createElement(m.a,{exact:!0,path:"/currency-writeoff",element:n.a.createElement(Cr,null)}),n.a.createElement(m.a,{exact:!0,path:"/purchase-invoice",element:n.a.createElement(cr,null)}),n.a.createElement(m.a,{exact:!0,path:"/global-vtm-settlement",element:n.a.createElement(Wn,null)}),n.a.createElement(m.a,{exact:!0,path:"/currency-change",element:n.a.createElement(vr,null)}),n.a.createElement(m.a,{exact:!0,path:"/cancellation",element:n.a.createElement(Vn,null)}),n.a.createElement(m.a,{exact:!0,path:"/manual-cancellation",element:n.a.createElement(qn,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-cancellation",element:n.a.createElement(Il,null)}),n.a.createElement(m.a,{exact:!0,path:"/entity",element:n.a.createElement(Hl,null)}),n.a.createElement(m.a,{exact:!0,path:"/settlement-vtm",element:n.a.createElement(Or,null)}),n.a.createElement(m.a,{exact:!0,path:"/expense-transfer",element:n.a.createElement(_r,null)}),n.a.createElement(m.a,{exact:!0,path:"/fund-transfer",element:n.a.createElement(fr,null)}),n.a.createElement(m.a,{exact:!0,path:"/stock-in-hand-report",element:n.a.createElement(xn,null)}),n.a.createElement(m.a,{exact:!0,path:"/manual-book-report",element:n.a.createElement(fn,null)}),n.a.createElement(m.a,{exact:!0,path:"/fund-request",element:n.a.createElement(Mn,null)}),n.a.createElement(m.a,{exact:!0,path:"/master-dsr",element:n.a.createElement(Kl,null)}),n.a.createElement(m.a,{exact:!0,path:"/flm-report",element:n.a.createElement(wn,null)}),n.a.createElement(m.a,{exact:!0,path:"/fx-document",element:n.a.createElement(Rn,null)}),n.a.createElement(m.a,{exact:!0,path:"/evtm-surrender",element:n.a.createElement(Hn,null)}),n.a.createElement(m.a,{exact:!0,path:"/commission-module",element:n.a.createElement(Qn,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-module-payment",element:n.a.createElement(Tr,null)}),n.a.createElement(m.a,{exact:!0,path:"/agent-linking",element:n.a.createElement(on,null)}),n.a.createElement(m.a,{exact:!0,path:"/bill-wise-detail-payable",element:n.a.createElement(pn,null)}),n.a.createElement(m.a,{exact:!0,path:"/commission-tds",element:n.a.createElement(An,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-payment-report",element:n.a.createElement(Tn,null)}),n.a.createElement(m.a,{exact:!0,path:"/conveyance-module",element:n.a.createElement(jr,null)}),n.a.createElement(m.a,{exact:!0,path:"/activity-log-report",element:n.a.createElement(_n,null)}),n.a.createElement(m.a,{exact:!0,path:"/additional-limit",element:n.a.createElement(Nr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rate-card",element:n.a.createElement(dn,null)}),n.a.createElement(m.a,{exact:!0,path:"/commission-status",element:n.a.createElement(En,null)}),n.a.createElement(m.a,{exact:!0,path:"/transaction-modification",element:n.a.createElement(Pn,null)}),n.a.createElement(m.a,{exact:!0,path:"/modification-commission",element:n.a.createElement(Fn,null)}),n.a.createElement(m.a,{exact:!0,path:"/modification-date",element:n.a.createElement(Gn,null)}),n.a.createElement(m.a,{exact:!0,path:"/sale-invoice",element:n.a.createElement(dr,null)}),n.a.createElement(m.a,{exact:!0,path:"/payment-modification",element:n.a.createElement(Jn,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-settlement-report-global",element:n.a.createElement(jn,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-settlement-report-local",element:n.a.createElement(jn,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-utilization",element:n.a.createElement(kn,null)}),n.a.createElement(m.a,{exact:!0,path:"/cheque-utilization",element:n.a.createElement(vn,null)}),n.a.createElement(m.a,{exact:!0,path:"/outstanding-cmrp",element:n.a.createElement(Cn,null)}),n.a.createElement(m.a,{exact:!0,path:"/vtm-activation",element:n.a.createElement(Sr,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran-cross-knockoff",element:n.a.createElement(wr,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran_knockoff_view",element:n.a.createElement(Rr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-vtm-profitability-local",element:n.a.createElement(Gr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-vtm-profitability-global",element:n.a.createElement(Gr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-valuation-local",element:n.a.createElement(Fr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-valuation-global",element:n.a.createElement(Fr,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran_tt_settlement",element:n.a.createElement(qr,null)}),n.a.createElement(m.a,{exact:!0,path:"/tran_tt_settlement1",element:n.a.createElement(Vr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep_vtm_profitability",element:n.a.createElement(Gr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep_valuation",element:n.a.createElement(Fr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-rbi-purchase-statement",element:n.a.createElement(Jr,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-rbi-turnover",element:n.a.createElement(Br,null)}),n.a.createElement(m.a,{exact:!0,path:"/rep-gst",element:n.a.createElement(Pr,null)})),n.a.createElement("div",{style:zr},n.a.createElement("div",{style:{fontSize:"12px",textAlign:"center"}},"Copyright \xa9 2025 Zenith. All rights reserved.")))};var Ur=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,278)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:r,getTTFB:c}=a;t(e),l(e),n(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,null,n.a.createElement(Qr,null)))),Ur()}},[[166,1,2]]]);